(self.webpackChunkMERCv3=self.webpackChunkMERCv3||[]).push([[179],{2011:(d,p,g)=>{"use strict";g.d(p,{Dh:()=>j,GT:()=>L,cc:()=>X,hO:()=>W,on:()=>x,pX:()=>F,xv:()=>Q});var s=g(4650),y=g(127),b=g(5813);d=g.hmd(d);const A=["ngOnDestroy"],F=(P,q,Y,J={})=>new Proxy(P,{get:(ee,fe)=>Y.runOutsideAngular(()=>{var we;if(P[fe])return!(null===(we=J?.spy)||void 0===we)&&we.get&&J.spy.get(fe,P[fe]),P[fe];if(A.indexOf(fe)>-1)return()=>{};const le=q.toPromise().then(pe=>{const ye=pe&&pe[fe];return"function"==typeof ye?ye.bind(pe):ye&&ye.then?ye.then(me=>Y.run(()=>me)):Y.run(()=>ye)});return new Proxy(()=>{},{get:(pe,ye)=>le[ye],apply:(pe,ye,me)=>le.then(de=>{var ie;const te=de&&de(...me);return!(null===(ie=J?.spy)||void 0===ie)&&ie.apply&&J.spy.apply(fe,me,te),te})})})}),L=(P,q)=>{q.forEach(Y=>{Object.getOwnPropertyNames(Y.prototype||Y).forEach(J=>{Object.defineProperty(P.prototype,J,Object.getOwnPropertyDescriptor(Y.prototype||Y,J))})})};class H{constructor(q){return q}}const j=new s.OlP("angularfire2.app.options"),Q=new s.OlP("angularfire2.app.name");function x(P,q,Y){const ee="object"==typeof Y&&Y||{};ee.name=ee.name||"string"==typeof Y&&Y||"[DEFAULT]";const we=y.Z.apps.filter(le=>le&&le.name===ee.name)[0]||q.runOutsideAngular(()=>y.Z.initializeApp(P,ee));try{JSON.stringify(P)!==JSON.stringify(we.options)&&V("error",`${we.name} Firebase App already initialized with different options${d.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new H(we)}const V=(P,...q)=>{(0,s.X6Q)()&&typeof console<"u"&&console[P](...q)},G={provide:H,useFactory:x,deps:[j,s.R0b,[new s.FiY,Q]]};let W=(()=>{class P{constructor(Y){y.Z.registerVersion("angularfire",b.q4.full,"core"),y.Z.registerVersion("angularfire",b.q4.full,"app-compat"),y.Z.registerVersion("angular",s.q4F.full,Y.toString())}static initializeApp(Y,J){return{ngModule:P,providers:[{provide:j,useValue:Y},{provide:Q,useValue:J}]}}}return P.\u0275fac=function(Y){return new(Y||P)(s.LFG(s.Lbi))},P.\u0275mod=s.oAB({type:P}),P.\u0275inj=s.cJS({providers:[G]}),P})();function X(P,q,Y,J,ee){const[,fe,we]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===P)||[];if(fe)return function O(P,q){try{return P.toString()===q.toString()}catch{return P===q}}(ee,we)||(N("error",`${q} was already initialized on the ${Y} Firebase App with different settings.${U?" You may need to reload as Firebase is not HMR aware.":""}`),N("warn",{is:ee,was:we})),fe;{const le=J();return globalThis.\u0275AngularfireInstanceCache.push([P,le,ee]),le}}const U=!!d.hot,N=(P,...q)=>{(0,s.X6Q)()&&typeof console<"u"&&console[P](...q)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(d,p,g)=>{"use strict";g.d(p,{q4:()=>ho,iC:()=>Fc,fc:()=>Ff,HU:()=>Wo,vb:()=>Gu,JM:()=>xi,u3:()=>Fl});var s=g(4650),y=g(5867),b=g(5861),A=g(9681),F=g(2090),L=g(4859),H=g(1877),j=g(8766);const Q="@firebase/installations",x="0.5.11",G=`w:${x}`,W="FIS_v2",q=new F.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Y(B){return B instanceof F.ZR&&B.code.includes("request-failed")}function J({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function ee(B){return{token:B.token,requestStatus:2,expiresIn:de(B.expiresIn),creationTime:Date.now()}}function fe(B,$){return we.apply(this,arguments)}function we(){return(we=(0,b.Z)(function*(B,$){const _e=(yield $.json()).error;return q.create("request-failed",{requestName:B,serverCode:_e.code,serverMessage:_e.message,serverStatus:_e.status})})).apply(this,arguments)}function le({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function pe(B,{refreshToken:$}){const oe=le(B);return oe.append("Authorization",function ie(B){return`${W} ${B}`}($)),oe}function ye(B){return me.apply(this,arguments)}function me(){return(me=(0,b.Z)(function*(B){const $=yield B();return $.status>=500&&$.status<600?B():$})).apply(this,arguments)}function de(B){return Number(B.replace("s","000"))}function te(B,$){return Z.apply(this,arguments)}function Z(){return(Z=(0,b.Z)(function*({appConfig:B,heartbeatServiceProvider:$},{fid:oe}){const _e=J(B),Ae=le(B),Fe=$.getImmediate({optional:!0});if(Fe){const Zt=yield Fe.getHeartbeatsHeader();Zt&&Ae.append("x-firebase-client",Zt)}const at={method:"POST",headers:Ae,body:JSON.stringify({fid:oe,authVersion:W,appId:B.appId,sdkVersion:G})},Mt=yield ye(()=>fetch(_e,at));if(Mt.ok){const Zt=yield Mt.json();return{fid:Zt.fid||oe,registrationStatus:2,refreshToken:Zt.refreshToken,authToken:ee(Zt.authToken)}}throw yield fe("Create Installation",Mt)})).apply(this,arguments)}function ae(B){return new Promise($=>{setTimeout($,B)})}const De=/^[cdef][\w-]{21}$/;function Be(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const oe=function ot(B){return function Ne(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return De.test(oe)?oe:""}catch{return""}}function Ot(B){return`${B.appName}!${B.appId}`}const ct=new Map;function yt(B,$){const oe=Ot(B);Ht(oe,$),function sn(B,$){const oe=function qe(){return!Rt&&"BroadcastChannel"in self&&(Rt=new BroadcastChannel("[Firebase] FID Change"),Rt.onmessage=B=>{Ht(B.data.key,B.data.fid)}),Rt}();oe&&oe.postMessage({key:B,fid:$}),function jt(){0===ct.size&&Rt&&(Rt.close(),Rt=null)}()}(oe,$)}function Ht(B,$){const oe=ct.get(B);if(oe)for(const _e of oe)_e($)}let Rt=null;const In="firebase-installations-store";let hi=null;function bt(){return hi||(hi=(0,j.X3)("firebase-installations-database",1,{upgrade:(B,$)=>{0===$&&B.createObjectStore(In)}})),hi}function Wn(B,$){return ln.apply(this,arguments)}function ln(){return(ln=(0,b.Z)(function*(B,$){const oe=Ot(B),Ae=(yield bt()).transaction(In,"readwrite"),Fe=Ae.objectStore(In),Ve=yield Fe.get(oe);return yield Fe.put($,oe),yield Ae.done,(!Ve||Ve.fid!==$.fid)&&yt(B,$.fid),$})).apply(this,arguments)}function Yt(B){return jn.apply(this,arguments)}function jn(){return(jn=(0,b.Z)(function*(B){const $=Ot(B),_e=(yield bt()).transaction(In,"readwrite");yield _e.objectStore(In).delete($),yield _e.done})).apply(this,arguments)}function An(B,$){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,b.Z)(function*(B,$){const oe=Ot(B),Ae=(yield bt()).transaction(In,"readwrite"),Fe=Ae.objectStore(In),Ve=yield Fe.get(oe),at=$(Ve);return void 0===at?yield Fe.delete(oe):yield Fe.put(at,oe),yield Ae.done,at&&(!Ve||Ve.fid!==at.fid)&&yt(B,at.fid),at})).apply(this,arguments)}function dn(B){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,b.Z)(function*(B){let $;const oe=yield An(B.appConfig,_e=>{const Ae=mr(_e),Fe=Xt(B,Ae);return $=Fe.registrationPromise,Fe.installationEntry});return""===oe.fid?{installationEntry:yield $}:{installationEntry:oe,registrationPromise:$}})).apply(this,arguments)}function mr(B){return ar(B||{fid:Be(),registrationStatus:0})}function Xt(B,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(q.create("app-offline"))};const oe={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},_e=function ut(B,$){return St.apply(this,arguments)}(B,oe);return{installationEntry:oe,registrationPromise:_e}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Yr(B)}:{installationEntry:$}}function St(){return(St=(0,b.Z)(function*(B,$){try{const oe=yield te(B,$);return Wn(B.appConfig,oe)}catch(oe){throw Y(oe)&&409===oe.customData.serverCode?yield Yt(B.appConfig):yield Wn(B.appConfig,{fid:$.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function Yr(B){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,b.Z)(function*(B){let $=yield qt(B.appConfig);for(;1===$.registrationStatus;)yield ae(100),$=yield qt(B.appConfig);if(0===$.registrationStatus){const{installationEntry:oe,registrationPromise:_e}=yield dn(B);return _e||oe}return $})).apply(this,arguments)}function qt(B){return An(B,$=>{if(!$)throw q.create("installation-not-found");return ar($)})}function ar(B){return function ei(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function $n(B,$){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,b.Z)(function*({appConfig:B,heartbeatServiceProvider:$},oe){const _e=Ie(B,oe),Ae=pe(B,oe),Fe=$.getImmediate({optional:!0});if(Fe){const Zt=yield Fe.getHeartbeatsHeader();Zt&&Ae.append("x-firebase-client",Zt)}const at={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:G,appId:B.appId}})},Mt=yield ye(()=>fetch(_e,at));if(Mt.ok)return ee(yield Mt.json());throw yield fe("Generate Auth Token",Mt)})).apply(this,arguments)}function Ie(B,{fid:$}){return`${J(B)}/${$}/authTokens:generate`}function be(B){return Me.apply(this,arguments)}function Me(){return(Me=(0,b.Z)(function*(B,$=!1){let oe;const _e=yield An(B.appConfig,Fe=>{if(!en(Fe))throw q.create("not-registered");const Ve=Fe.authToken;if(!$&&vn(Ve))return Fe;if(1===Ve.requestStatus)return oe=Pe(B,$),Fe;{if(!navigator.onLine)throw q.create("app-offline");const at=un(Fe);return oe=rt(B,at),at}});return oe?yield oe:_e.authToken})).apply(this,arguments)}function Pe(B,$){return ve.apply(this,arguments)}function ve(){return(ve=(0,b.Z)(function*(B,$){let oe=yield je(B.appConfig);for(;1===oe.authToken.requestStatus;)yield ae(100),oe=yield je(B.appConfig);const _e=oe.authToken;return 0===_e.requestStatus?be(B,$):_e})).apply(this,arguments)}function je(B){return An(B,$=>{if(!en($))throw q.create("not-registered");return function Re(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function rt(B,$){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,b.Z)(function*(B,$){try{const oe=yield $n(B,$),_e=Object.assign(Object.assign({},$),{authToken:oe});return yield Wn(B.appConfig,_e),oe}catch(oe){if(!Y(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const _e=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield Wn(B.appConfig,_e)}else yield Yt(B.appConfig);throw oe}})).apply(this,arguments)}function en(B){return void 0!==B&&2===B.registrationStatus}function vn(B){return 2===B.requestStatus&&!function kn(B){const $=Date.now();return $<B.creationTime||B.creationTime+B.expiresIn<$+36e5}(B)}function un(B){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:$})}function Te(){return(Te=(0,b.Z)(function*(B){const $=B,{installationEntry:oe,registrationPromise:_e}=yield dn($);return _e?_e.catch(console.error):be($).catch(console.error),oe.fid})).apply(this,arguments)}function st(){return(st=(0,b.Z)(function*(B,$=!1){const oe=B;return yield Ft(oe),(yield be(oe,$)).token})).apply(this,arguments)}function Ft(B){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,b.Z)(function*(B){const{registrationPromise:$}=yield dn(B);$&&(yield $)})).apply(this,arguments)}function cs(B){return q.create("missing-app-config-values",{valueName:B})}const tn="installations",Mo=B=>{const $=B.getProvider("app").getImmediate(),oe=function ya(B){if(!B||!B.options)throw cs("App Configuration");if(!B.name)throw cs("App Name");const $=["projectId","apiKey","appId"];for(const oe of $)if(!B.options[oe])throw cs(oe);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}($);return{app:$,appConfig:oe,heartbeatServiceProvider:(0,A._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},pl=B=>{const $=B.getProvider("app").getImmediate(),oe=(0,A._getProvider)($,tn).getImmediate();return{getId:()=>function Ee(B){return Te.apply(this,arguments)}(oe),getToken:Ae=>function $e(B){return st.apply(this,arguments)}(oe,Ae)}};(function Xs(){(0,A._registerComponent)(new L.wA(tn,Mo,"PUBLIC")),(0,A._registerComponent)(new L.wA("installations-internal",pl,"PRIVATE"))})(),(0,A.registerVersion)(Q,x),(0,A.registerVersion)(Q,x,"esm2017");const Li="@firebase/remote-config",Wi=new F.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mu{constructor($,oe,_e,Ae){this.client=$,this.storage=oe,this.storageCache=_e,this.logger=Ae}isCachedDataFresh($,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-oe,Ae=_e<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${Ae}.`),Ae}fetch($){var oe=this;return(0,b.Z)(function*(){const[_e,Ae]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(Ae&&oe.isCachedDataFresh($.cacheMaxAgeMillis,_e))return Ae;$.eTag=Ae&&Ae.eTag;const Fe=yield oe.client.fetch($),Ve=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&Ve.push(oe.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(Ve),Fe})()}}function ba(B=navigator){return B.languages&&B.languages[0]||B.language}class _r{constructor($,oe,_e,Ae,Fe,Ve){this.firebaseInstallations=$,this.sdkVersion=oe,this.namespace=_e,this.projectId=Ae,this.apiKey=Fe,this.appId=Ve}fetch($){var oe=this;return(0,b.Z)(function*(){var _e,Ae,Fe;const[Ve,at]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),Zt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},mt={sdk_version:oe.sdkVersion,app_instance_id:Ve,app_instance_id_token:at,app_id:oe.appId,language_code:ba()},Mi={method:"POST",headers:Qt,body:JSON.stringify(mt)},ir=fetch(Zt,Mi),Yi=new Promise((ci,Zo)=>{$.signal.addEventListener(()=>{const Ko=new Error("The operation was aborted.");Ko.name="AbortError",Zo(Ko)})});let ns;try{yield Promise.race([ir,Yi]),ns=yield ir}catch(ci){let Zo="fetch-client-network";throw"AbortError"===(null===(_e=ci)||void 0===_e?void 0:_e.name)&&(Zo="fetch-timeout"),Wi.create(Zo,{originalErrorMessage:null===(Ae=ci)||void 0===Ae?void 0:Ae.message})}let Ls=ns.status;const Wd=ns.headers.get("ETag")||void 0;let zu,Kn;if(200===ns.status){let ci;try{ci=yield ns.json()}catch(Zo){throw Wi.create("fetch-client-parse",{originalErrorMessage:null===(Fe=Zo)||void 0===Fe?void 0:Fe.message})}zu=ci.entries,Kn=ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Kn?Ls=500:"NO_CHANGE"===Kn?Ls=304:("NO_TEMPLATE"===Kn||"EMPTY_CONFIG"===Kn)&&(zu={}),304!==Ls&&200!==Ls)throw Wi.create("fetch-status",{httpStatus:Ls});return{status:Ls,eTag:Wd,config:zu}})()}}class Ds{constructor($,oe){this.client=$,this.storage=oe}fetch($){var oe=this;return(0,b.Z)(function*(){const _e=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch($,_e)})()}attemptFetch($,{throttleEndTimeMillis:oe,backoffCount:_e}){var Ae=this;return(0,b.Z)(function*(){yield function Ef(B,$){return new Promise((oe,_e)=>{const Ae=Math.max($-Date.now(),0),Fe=setTimeout(oe,Ae);B.addEventListener(()=>{clearTimeout(Fe),_e(Wi.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,oe);try{const Fe=yield Ae.client.fetch($);return yield Ae.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function ds(B){if(!(B instanceof F.ZR&&B.customData))return!1;const $=Number(B.customData.httpStatus);return 429===$||500===$||503===$||504===$}(Fe))throw Fe;const Ve={throttleEndTimeMillis:Date.now()+(0,F.$s)(_e),backoffCount:_e+1};return yield Ae.storage.setThrottleMetadata(Ve),Ae.attemptFetch($,Ve)}})()}}class Vg{constructor($,oe,_e,Ae,Fe){this.app=$,this._client=oe,this._storageCache=_e,this._storage=Ae,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gl(B,$){var oe;const _e=B.target.error||void 0;return Wi.create($,{originalErrorMessage:_e&&(null===(oe=_e)||void 0===oe?void 0:oe.message)})}const Ca="app_namespace_store";class Ld{constructor($,oe,_e,Ae=function Ug(){return new Promise((B,$)=>{var oe;try{const _e=indexedDB.open("firebase_remote_config",1);_e.onerror=Ae=>{$(gl(Ae,"storage-open"))},_e.onsuccess=Ae=>{B(Ae.target.result)},_e.onupgradeneeded=Ae=>{0===Ae.oldVersion&&Ae.target.result.createObjectStore(Ca,{keyPath:"compositeKey"})}}catch(_e){$(Wi.create("storage-open",{originalErrorMessage:null===(oe=_e)||void 0===oe?void 0:oe.message}))}})}()){this.appId=$,this.appName=oe,this.namespace=_e,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var oe=this;return(0,b.Z)(function*(){const _e=yield oe.openDbPromise;return new Promise((Ae,Fe)=>{var Ve;const Mt=_e.transaction([Ca],"readonly").objectStore(Ca),Zt=oe.createCompositeKey($);try{const Qt=Mt.get(Zt);Qt.onerror=mt=>{Fe(gl(mt,"storage-get"))},Qt.onsuccess=mt=>{const Mi=mt.target.result;Ae(Mi?Mi.value:void 0)}}catch(Qt){Fe(Wi.create("storage-get",{originalErrorMessage:null===(Ve=Qt)||void 0===Ve?void 0:Ve.message}))}})})()}set($,oe){var _e=this;return(0,b.Z)(function*(){const Ae=yield _e.openDbPromise;return new Promise((Fe,Ve)=>{var at;const Zt=Ae.transaction([Ca],"readwrite").objectStore(Ca),Qt=_e.createCompositeKey($);try{const mt=Zt.put({compositeKey:Qt,value:oe});mt.onerror=Mi=>{Ve(gl(Mi,"storage-set"))},mt.onsuccess=()=>{Fe()}}catch(mt){Ve(Wi.create("storage-set",{originalErrorMessage:null===(at=mt)||void 0===at?void 0:at.message}))}})})()}delete($){var oe=this;return(0,b.Z)(function*(){const _e=yield oe.openDbPromise;return new Promise((Ae,Fe)=>{var Ve;const Mt=_e.transaction([Ca],"readwrite").objectStore(Ca),Zt=oe.createCompositeKey($);try{const Qt=Mt.delete(Zt);Qt.onerror=mt=>{Fe(gl(mt,"storage-delete"))},Qt.onsuccess=()=>{Ae()}}catch(Qt){Fe(Wi.create("storage-delete",{originalErrorMessage:null===(Ve=Qt)||void 0===Ve?void 0:Ve.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class io{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,b.Z)(function*(){const oe=$.storage.getLastFetchStatus(),_e=$.storage.getLastSuccessfulFetchTimestampMillis(),Ae=$.storage.getActiveConfig(),Fe=yield oe;Fe&&($.lastFetchStatus=Fe);const Ve=yield _e;Ve&&($.lastSuccessfulFetchTimestampMillis=Ve);const at=yield Ae;at&&($.activeConfig=at)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function rv(){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(){if(!(0,F.hl)())return!1;try{return yield(0,F.eu)()}catch{return!1}})).apply(this,arguments)}!function _u(){(0,A._registerComponent)(new L.wA("remote-config",function B($,{instanceIdentifier:oe}){const _e=$.getProvider("app").getImmediate(),Ae=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wi.create("registration-window");if(!(0,F.hl)())throw Wi.create("indexed-db-unavailable");const{projectId:Fe,apiKey:Ve,appId:at}=_e.options;if(!Fe)throw Wi.create("registration-project-id");if(!Ve)throw Wi.create("registration-api-key");if(!at)throw Wi.create("registration-app-id");const Mt=new Ld(at,_e.name,oe=oe||"firebase"),Zt=new io(Mt),Qt=new H.Yd(Li);Qt.logLevel=H.in.ERROR;const mt=new _r(Ae,A.SDK_VERSION,oe,Fe,Ve,at),Mi=new Ds(mt,Mt),ir=new mu(Mi,Mt,Zt,Qt),Yi=new Vg(_e,ir,Zt,Mt,Qt);return function pu(B){const $=(0,F.m9)(B);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(Yi),Yi},"PUBLIC").setMultipleInstances(!0)),(0,A.registerVersion)(Li,"0.3.10"),(0,A.registerVersion)(Li,"0.3.10","esm2017")}();const As="/firebase-messaging-sw.js",xs="/firebase-cloud-messaging-push-scope",Oo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vd="google.c.a.c_id",vc="google.c.a.c_l",bc="google.c.a.ts",Ea="google.c.a.e";var Mn=(()=>{return(B=Mn||(Mn={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",Mn;var B})();function fi(B){const $=new Uint8Array(B);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cc(B){const oe=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(oe),Ae=new Uint8Array(_e.length);for(let Fe=0;Fe<_e.length;++Fe)Ae[Fe]=_e.charCodeAt(Fe);return Ae}const ml="fcm_token_details_db",_l="fcm_token_object_Store";function yu(B){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,b.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(ml))return null;let $=null;return(yield(0,j.X3)(ml,5,{upgrade:(_e=(0,b.Z)(function*(Ae,Fe,Ve,at){var Mt;if(Fe<2||!Ae.objectStoreNames.contains(_l))return;const Zt=at.objectStore(_l),Qt=yield Zt.index("fcmSenderId").get(B);if(yield Zt.clear(),Qt)if(2===Fe){const mt=Qt;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;$={token:mt.fcmToken,createTime:null!==(Mt=mt.createTime)&&void 0!==Mt?Mt:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:fi(mt.vapidKey)}}}else if(3===Fe){const mt=Qt;$={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:fi(mt.auth),p256dh:fi(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:fi(mt.vapidKey)}}}else if(4===Fe){const mt=Qt;$={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:fi(mt.auth),p256dh:fi(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:fi(mt.vapidKey)}}}}),function(Fe,Ve,at,Mt){return _e.apply(this,arguments)})})).close(),yield(0,j.Lj)(ml),yield(0,j.Lj)("fcm_vapid_details_db"),yield(0,j.Lj)("undefined"),vu($)?$:null;var _e}),Ta.apply(this,arguments)}function vu(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:$}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}const On="firebase-messaging-store";let Ro=null;function yl(){return Ro||(Ro=(0,j.X3)("firebase-messaging-database",1,{upgrade:(B,$)=>{0===$&&B.createObjectStore(On)}})),Ro}function wc(B){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,b.Z)(function*(B){const $=Si(B),_e=yield(yield yl()).transaction(On).objectStore(On).get($);if(_e)return _e;{const Ae=yield yu(B.appConfig.senderId);if(Ae)return yield qn(B,Ae),Ae}})).apply(this,arguments)}function qn(B,$){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,b.Z)(function*(B,$){const oe=Si(B),Ae=(yield yl()).transaction(On,"readwrite");return yield Ae.objectStore(On).put($,oe),yield Ae.done,$})).apply(this,arguments)}function Ia(B){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,b.Z)(function*(B){const $=Si(B),_e=(yield yl()).transaction(On,"readwrite");yield _e.objectStore(On).delete($),yield _e.done})).apply(this,arguments)}function Si({appConfig:B}){return B.appId}const ri=new F.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vo(B,$){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,b.Z)(function*(B,$){var oe;const _e=yield ro(B),Ae=Da($),Fe={method:"POST",headers:_e,body:JSON.stringify(Ae)};let Ve;try{Ve=yield(yield fetch(bl(B.appConfig),Fe)).json()}catch(at){throw ri.create("token-subscribe-failed",{errorInfo:null===(oe=at)||void 0===oe?void 0:oe.toString()})}if(Ve.error)throw ri.create("token-subscribe-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw ri.create("token-subscribe-no-token");return Ve.token})).apply(this,arguments)}function Cu(B,$){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,b.Z)(function*(B,$){var oe;const _e=yield ro(B),Ae=Da($.subscriptionOptions),Fe={method:"PATCH",headers:_e,body:JSON.stringify(Ae)};let Ve;try{Ve=yield(yield fetch(`${bl(B.appConfig)}/${$.token}`,Fe)).json()}catch(at){throw ri.create("token-update-failed",{errorInfo:null===(oe=at)||void 0===oe?void 0:oe.toString()})}if(Ve.error)throw ri.create("token-update-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw ri.create("token-update-no-token");return Ve.token})).apply(this,arguments)}function vl(B,$){return ur.apply(this,arguments)}function ur(){return(ur=(0,b.Z)(function*(B,$){var oe;const Ae={method:"DELETE",headers:yield ro(B)};try{const Ve=yield(yield fetch(`${bl(B.appConfig)}/${$}`,Ae)).json();if(Ve.error)throw ri.create("token-unsubscribe-failed",{errorInfo:Ve.error.message})}catch(Fe){throw ri.create("token-unsubscribe-failed",{errorInfo:null===(oe=Fe)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function bl({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function ro(B){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,b.Z)(function*({appConfig:B,installations:$}){const oe=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function Da({p256dh:B,auth:$,endpoint:oe,vapidKey:_e}){const Ae={web:{endpoint:oe,auth:$,p256dh:B}};return _e!==Oo&&(Ae.web.applicationPubKey=_e),Ae}const Cl=6048e5;function wu(B){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,b.Z)(function*(B){const $=yield Tu(B.swRegistration,B.vapidKey),oe={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:$.endpoint,auth:fi($.getKey("auth")),p256dh:fi($.getKey("p256dh"))},_e=yield wc(B.firebaseDependencies);if(_e){if(si(_e.subscriptionOptions,oe))return Date.now()>=_e.createTime+Cl?Df(B,{token:_e.token,createTime:Date.now(),subscriptionOptions:oe}):_e.token;try{yield vl(B.firebaseDependencies,_e.token)}catch(Ae){console.warn(Ae)}return Je(B.firebaseDependencies,oe)}return Je(B.firebaseDependencies,oe)})).apply(this,arguments)}function Eu(B){return xa.apply(this,arguments)}function xa(){return(xa=(0,b.Z)(function*(B){const $=yield wc(B.firebaseDependencies);$&&(yield vl(B.firebaseDependencies,$.token),yield Ia(B.firebaseDependencies));const oe=yield B.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function Df(B,$){return wl.apply(this,arguments)}function wl(){return(wl=(0,b.Z)(function*(B,$){try{const oe=yield Cu(B.firebaseDependencies,$),_e=Object.assign(Object.assign({},$),{token:oe,createTime:Date.now()});return yield qn(B.firebaseDependencies,_e),oe}catch(oe){throw yield Eu(B),oe}})).apply(this,arguments)}function Je(B,$){return on.apply(this,arguments)}function on(){return(on=(0,b.Z)(function*(B,$){const _e={token:yield Vo(B,$),createTime:Date.now(),subscriptionOptions:$};return yield qn(B,_e),_e.token})).apply(this,arguments)}function Tu(B,$){return El.apply(this,arguments)}function El(){return(El=(0,b.Z)(function*(B,$){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cc($)})})).apply(this,arguments)}function si(B,$){return $.vapidKey===B.vapidKey&&$.endpoint===B.endpoint&&$.auth===B.auth&&$.p256dh===B.p256dh}function Uo(B){const $={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Tl(B,$){if(!$.notification)return;B.notification={};const oe=$.notification.title;oe&&(B.notification.title=oe);const _e=$.notification.body;_e&&(B.notification.body=_e);const Ae=$.notification.image;Ae&&(B.notification.image=Ae)}($,B),function Jr(B,$){!$.data||(B.data=$.data)}($,B),function Ma(B,$){var oe,_e,Ae,Fe,Ve;if(!($.fcmOptions||null!==(oe=$.notification)&&void 0!==oe&&oe.click_action))return;B.fcmOptions={};const at=null!==(Ae=null===(_e=$.fcmOptions)||void 0===_e?void 0:_e.link)&&void 0!==Ae?Ae:null===(Fe=$.notification)||void 0===Fe?void 0:Fe.click_action;at&&(B.fcmOptions.link=at);const Mt=null===(Ve=$.fcmOptions)||void 0===Ve?void 0:Ve.analytics_label;Mt&&(B.fcmOptions.analyticsLabel=Mt)}($,B),$}function Su(B){return"object"==typeof B&&!!B&&Vd in B}function Af(B,$){const oe=[];for(let _e=0;_e<B.length;_e++)oe.push(B.charAt(_e)),_e<$.length&&oe.push($.charAt(_e));return oe.join("")}function Du(B){return ri.create("missing-app-config-values",{valueName:B})}Af("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Af("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pa{constructor($,oe,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function Iu(B){if(!B||!B.options)throw Du("App Configuration Object");if(!B.name)throw Du("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=B;for(const _e of $)if(!oe[_e])throw Du(_e);return{appName:B.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:Ae,installations:oe,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function nr(B){return vr.apply(this,arguments)}function vr(){return(vr=(0,b.Z)(function*(B){var $;try{B.swRegistration=yield navigator.serviceWorker.register(As,{scope:xs}),B.swRegistration.update().catch(()=>{})}catch(oe){throw ri.create("failed-service-worker-registration",{browserErrorMessage:null===($=oe)||void 0===$?void 0:$.message})}})).apply(this,arguments)}function Bd(B,$){return hs.apply(this,arguments)}function hs(){return(hs=(0,b.Z)(function*(B,$){if(!$&&!B.swRegistration&&(yield nr(B)),$||!B.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw ri.create("invalid-sw-registration");B.swRegistration=$}})).apply(this,arguments)}function Ms(B,$){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,b.Z)(function*(B,$){$?B.vapidKey=$:B.vapidKey||(B.vapidKey=Oo)})).apply(this,arguments)}function Tc(){return(Tc=(0,b.Z)(function*(B,$){if(!navigator)throw ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ri.create("permission-blocked");return yield Ms(B,$?.vapidKey),yield Bd(B,$?.serviceWorkerRegistration),wu(B)})).apply(this,arguments)}function xf(B,$,oe){return Go.apply(this,arguments)}function Go(){return(Go=(0,b.Z)(function*(B,$,oe){const _e=Au($);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:oe[Vd],message_name:oe[vc],message_time:oe[bc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Au(B){switch(B){case Mn.NOTIFICATION_CLICKED:return"notification_open";case Mn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Na(){return(Na=(0,b.Z)(function*(B,$){const oe=$.data;if(!oe.isFirebaseMessaging)return;B.onMessageHandler&&oe.messageType===Mn.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Uo(oe)):B.onMessageHandler.next(Uo(oe)));const _e=oe.data;Su(_e)&&"1"===_e[Ea]&&(yield xf(B,oe.messageType,_e))})).apply(this,arguments)}const Sl="@firebase/messaging",fs=B=>{const $=new Pa(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function xu(B,$){return Na.apply(this,arguments)}($,oe)),$},Ic=B=>{const $=B.getProvider("messaging").getImmediate();return{getToken:_e=>function Ud(B,$){return Tc.apply(this,arguments)}($,_e)}};function Mu(){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,b.Z)(function*(){try{yield(0,F.eu)()}catch{return!1}return typeof window<"u"&&(0,F.hl)()&&(0,F.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mf(){(0,A._registerComponent)(new L.wA("messaging",fs,"PUBLIC")),(0,A._registerComponent)(new L.wA("messaging-internal",Ic,"PRIVATE")),(0,A.registerVersion)(Sl,"0.9.15"),(0,A.registerVersion)(Sl,"0.9.15","esm2017")}();const xc="analytics",Gg="firebase_id",Al="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mc="https://www.googletagmanager.com/gtag/js",Ii=new H.Yd("@firebase/analytics");function Pc(B){return Promise.all(B.map($=>$.catch(oe=>oe)))}function Nf(B,$){const oe=document.createElement("script");oe.src=`${Mc}?l=${B}&id=${$}`,oe.async=!0,document.head.appendChild(oe)}function Ps(B,$,oe,_e,Ae,Fe){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,b.Z)(function*(B,$,oe,_e,Ae,Fe){const Ve=_e[Ae];try{if(Ve)yield $[Ve];else{const Mt=(yield Pc(oe)).find(Zt=>Zt.measurementId===Ae);Mt&&(yield $[Mt.appId])}}catch(at){Ii.error(at)}B("config",Ae,Fe)})).apply(this,arguments)}function ku(B,$,oe,_e,Ae){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,b.Z)(function*(B,$,oe,_e,Ae){try{let Fe=[];if(Ae&&Ae.send_to){let Ve=Ae.send_to;Array.isArray(Ve)||(Ve=[Ve]);const at=yield Pc(oe);for(const Mt of Ve){const Zt=at.find(mt=>mt.measurementId===Mt),Qt=Zt&&$[Zt.appId];if(!Qt){Fe=[];break}Fe.push(Qt)}}0===Fe.length&&(Fe=Object.values($)),yield Promise.all(Fe),B("event",_e,Ae||{})}catch(Fe){Ii.error(Fe)}})).apply(this,arguments)}function jg(){const B=window.document.getElementsByTagName("script");for(const $ of Object.values(B))if($.src&&$.src.includes(Mc))return $;return null}const Fr=new F.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oc=new class kf{constructor($={},oe=1e3){this.throttleMetadata=$,this.intervalMillis=oe}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,oe){this.throttleMetadata[$]=oe}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function jo(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Zn(B){return ni.apply(this,arguments)}function ni(){return(ni=(0,b.Z)(function*(B){var $;const{appId:oe,apiKey:_e}=B,Ae={method:"GET",headers:jo(_e)},Fe=Al.replace("{app-id}",oe),Ve=yield fetch(Fe,Ae);if(200!==Ve.status&&304!==Ve.status){let at="";try{const Mt=yield Ve.json();null!==($=Mt.error)&&void 0!==$&&$.message&&(at=Mt.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:at})}return Ve.json()})).apply(this,arguments)}function pi(B){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,b.Z)(function*(B,$=Oc,oe){const{appId:_e,apiKey:Ae,measurementId:Fe}=B.options;if(!_e)throw Fr.create("no-app-id");if(!Ae){if(Fe)return{measurementId:Fe,appId:_e};throw Fr.create("no-api-key")}const Ve=$.getThrottleMetadata(_e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new Gd;return setTimeout((0,b.Z)(function*(){at.abort()}),void 0!==oe?oe:6e4),Fa({appId:_e,apiKey:Ae,measurementId:Fe},Ve,at,$)})).apply(this,arguments)}function Fa(B,$,oe){return La.apply(this,arguments)}function La(){return(La=(0,b.Z)(function*(B,{throttleEndTimeMillis:$,backoffCount:oe},_e,Ae=Oc){var Fe,Ve;const{appId:at,measurementId:Mt}=B;try{yield Ou(_e,$)}catch(Zt){if(Mt)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${null===(Fe=Zt)||void 0===Fe?void 0:Fe.message}]`),{appId:at,measurementId:Mt};throw Zt}try{const Zt=yield Zn(B);return Ae.deleteThrottleMetadata(at),Zt}catch(Zt){const Qt=Zt;if(!ov(Qt)){if(Ae.deleteThrottleMetadata(at),Mt)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${Qt?.message}]`),{appId:at,measurementId:Mt};throw Zt}const mt=503===Number(null===(Ve=Qt?.customData)||void 0===Ve?void 0:Ve.httpStatus)?(0,F.$s)(oe,Ae.intervalMillis,30):(0,F.$s)(oe,Ae.intervalMillis),Mi={throttleEndTimeMillis:Date.now()+mt,backoffCount:oe+1};return Ae.setThrottleMetadata(at,Mi),Ii.debug(`Calling attemptFetch again in ${mt} millis`),Fa(B,Mi,_e,Ae)}})).apply(this,arguments)}function Ou(B,$){return new Promise((oe,_e)=>{const Ae=Math.max($-Date.now(),0),Fe=setTimeout(oe,Ae);B.addEventListener(()=>{clearTimeout(Fe),_e(Fr.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}function ov(B){if(!(B instanceof F.ZR&&B.customData))return!1;const $=Number(B.customData.httpStatus);return 429===$||500===$||503===$||504===$}class Gd{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}function Of(){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,b.Z)(function*(){var B;if(!(0,F.hl)())return Ii.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,F.eu)()}catch($){return Ii.warn(Fr.create("indexeddb-unavailable",{errorInfo:null===(B=$)||void 0===B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function Va(){return(Va=(0,b.Z)(function*(B,$,oe,_e,Ae,Fe,Ve){var at;const Mt=pi(B);Mt.then(ir=>{oe[ir.measurementId]=ir.appId,B.options.measurementId&&ir.measurementId!==B.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>Ii.error(ir)),$.push(Mt);const Zt=Of().then(ir=>{if(ir)return _e.getId()}),[Qt,mt]=yield Promise.all([Mt,Zt]);jg()||Nf(Fe,Qt.measurementId),Ae("js",new Date);const Mi=null!==(at=Ve?.config)&&void 0!==at?at:{};return Mi.origin="firebase",Mi.update=!0,null!=mt&&(Mi[Gg]=mt),Ae("config",Qt.measurementId,Mi),Qt.measurementId})).apply(this,arguments)}class oo{constructor($){this.app=$}_delete(){return delete Xr[this.app.options.appId],Promise.resolve()}}let Xr={},$o=[];const ao={};let Lr,Dt,lo="dataLayer",gi=!1;function Pl(B,$,oe){!function $g(){const B=[];if((0,F.ru)()&&B.push("This is a browser extension environment."),(0,F.zI)()||B.push("Cookies are not available."),B.length>0){const $=B.map((_e,Ae)=>`(${Ae+1}) ${_e}`).join(" "),oe=Fr.create("invalid-analytics-context",{errorInfo:$});Ii.warn(oe.message)}}();const _e=B.options.appId;if(!_e)throw Fr.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Fr.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xr[_e])throw Fr.create("already-exists",{id:_e});if(!gi){!function Nu(B){let $=[];Array.isArray(window[B])?$=window[B]:window[B]=$}(lo);const{wrappedGtag:Fe,gtagCore:Ve}=function Hd(B,$,oe,_e,Ae){let Fe=function(...Ve){window[_e].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(Fe=window[Ae]),window[Ae]=function kc(B,$,oe,_e){function Fe(){return(Fe=(0,b.Z)(function*(Ve,at,Mt){try{"event"===Ve?yield ku(B,$,oe,at,Mt):"config"===Ve?yield Ps(B,$,oe,_e,at,Mt):B("set",at)}catch(Zt){Ii.error(Zt)}})).apply(this,arguments)}return function Ae(Ve,at,Mt){return Fe.apply(this,arguments)}}(Fe,B,$,oe),{gtagCore:Fe,wrappedGtag:window[Ae]}}(Xr,$o,ao,lo,"gtag");Dt=Fe,Lr=Ve,gi=!0}return Xr[_e]=function ps(B,$,oe,_e,Ae,Fe,Ve){return Va.apply(this,arguments)}(B,$o,ao,$,Lr,lo,oe),new oo(B)}function Ru(){return(Ru=(0,b.Z)(function*(B,$,oe,_e,Ae){if(Ae&&Ae.global)B("event",oe,_e);else{const Fe=yield $;B("event",oe,Object.assign(Object.assign({},_e),{send_to:Fe}))}})).apply(this,arguments)}function Ns(){return gs.apply(this,arguments)}function gs(){return(gs=(0,b.Z)(function*(){if((0,F.ru)()||!(0,F.zI)()||!(0,F.hl)())return!1;try{return yield(0,F.eu)()}catch{return!1}})).apply(this,arguments)}const bn="@firebase/analytics";!function Rc(){(0,A._registerComponent)(new L.wA(xc,($,{options:oe})=>Pl($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,A._registerComponent)(new L.wA("analytics-internal",function B($){try{const oe=$.getProvider(xc).getImmediate();return{logEvent:(_e,Ae,Fe)=>function Ol(B,$,oe,_e){B=(0,F.m9)(B),function Nl(B,$,oe,_e,Ae){return Ru.apply(this,arguments)}(Dt,Xr[B.app.options.appId],$,oe,_e).catch(Ae=>Ii.error(Ae))}(oe,_e,Ae,Fe)}}catch(oe){throw Fr.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,A.registerVersion)(bn,"0.7.11"),(0,A.registerVersion)(bn,"0.7.11","esm2017")}();var Os=g(4408),zo=g(7565);const Ki=new class Uu extends zo.v{}(class Bu extends Os.o{constructor($,oe){super($,oe),this.scheduler=$,this.work=oe}schedule($,oe=0){return oe>0?super.schedule($,oe):(this.delay=oe,this.state=$,this.scheduler.flush(this),this)}execute($,oe){return oe>0||this.closed?super.execute($,oe):this._execute($,oe)}requestAsyncId($,oe,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId($,oe,_e):$.flush(this)}});var Rf=g(4986),ai=g(8306),hn=g(8505),Ir=g(5363),Ha=g(9468);const ho=new s.GfV("7.4.1"),Ai="__angularfire_symbol__analyticsIsSupportedValue",Vn="__angularfire_symbol__analyticsIsSupported",Pn="__angularfire_symbol__remoteConfigIsSupportedValue",Rs="__angularfire_symbol__remoteConfigIsSupported",fo="__angularfire_symbol__messagingIsSupportedValue",po="__angularfire_symbol__messagingIsSupported";function xi(B,$,oe){if($){if(1===$.length)return $[0];const Fe=$.filter(Ve=>Ve.app===oe);if(1===Fe.length)return Fe[0]}return oe.container.getProvider(B).getImmediate({optional:!0})}globalThis[Vn]||(globalThis[Vn]=Ns().then(B=>globalThis[Ai]=B).catch(()=>globalThis[Ai]=!1)),globalThis[po]||(globalThis[po]=Mu().then(B=>globalThis[fo]=B).catch(()=>globalThis[fo]=!1)),globalThis[Rs]||(globalThis[Rs]=rv().then(B=>globalThis[Pn]=B).catch(()=>globalThis[Pn]=!1));const Gu=(B,$)=>{const oe=$?[$]:(0,y.C6)(),_e=[];return oe.forEach(Ae=>{Ae.container.getProvider(B).instances.forEach(Ve=>{_e.includes(Ve)||_e.push(Ve)})}),_e};function li(){}class Vr{constructor($,oe=Ki){this.zone=$,this.delegate=oe}now(){return this.delegate.now()}schedule($,oe,_e){const Ae=this.zone;return this.delegate.schedule(function(Ve){Ae.runGuarded(()=>{$.apply(this,[Ve])})},oe,_e)}}class ms{constructor($){this.zone=$,this.task=null}call($,oe){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li)),oe.pipe((0,hn.b)({next:_e,complete:_e,error:_e})).subscribe($).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wo=(()=>{class B{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new Vr(Zone.current)),this.insideAngular=oe.run(()=>new Vr(Zone.current,Rf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(oe){return new(oe||B)(s.LFG(s.R0b))},B.\u0275prov=s.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Fs(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Rl(B){return Fs().ngZone.runOutsideAngular(()=>B())}function qo(B){return Fs().ngZone.run(()=>B())}function Ff(B){return B.pipe((0,Ir.Q)(Fs().outsideAngular))}function Fc(B){return Fs(),function ju(B){return function(oe){return(oe=oe.lift(new ms(B.ngZone))).pipe((0,Ha.R)(B.outsideAngular),(0,Ir.Q)(B.insideAngular))}}(Fs())(B)}const $u=(B,$)=>function(){const _e=arguments;return $&&setTimeout(()=>{"scheduled"===$.state&&$.invoke()},10),qo(()=>B.apply(void 0,_e))},Fl=(B,$)=>function(){let oe;const _e=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof _e[Fe]&&($&&(oe||(oe=qo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li)))),_e[Fe]=$u(_e[Fe],oe));const Ae=Rl(()=>B.apply(this,_e));if(!$){if(Ae instanceof ai.y){const Fe=Fs();return Ae.pipe((0,Ha.R)(Fe.outsideAngular),(0,Ir.Q)(Fe.insideAngular))}return qo(()=>Ae)}return Ae instanceof ai.y?Ae.pipe(Fc):Ae instanceof Promise?qo(()=>new Promise((Fe,Ve)=>Ae.then(at=>qo(()=>Fe(at)),at=>qo(()=>Ve(at))))):"function"==typeof Ae&&oe?function(){return setTimeout(()=>{oe&&"scheduled"===oe.state&&oe.invoke()},10),Ae.apply(this,arguments)}:qo(()=>Ae)}},3673:(d,p,g)=>{"use strict";g.d(p,{$:()=>bl,A:()=>V,B:()=>X,G:()=>pl,H:()=>Ei,J:()=>Ds,L:()=>vn,M:()=>Qr,N:()=>Tf,P:()=>Ai,Q:()=>Vd,R:()=>Rc,T:()=>vc,U:()=>Oo,V:()=>Mn,W:()=>fi,X:()=>yu,Y:()=>Ec,Z:()=>Vo,_:()=>Cu,a:()=>xl,a0:()=>wu,a1:()=>Eu,a2:()=>Df,a3:()=>Je,a4:()=>Tu,a5:()=>si,a6:()=>Tl,a7:()=>Jr,a8:()=>Su,a9:()=>Af,aA:()=>zu,aB:()=>ir,aC:()=>Fl,aD:()=>$u,aE:()=>wi,aI:()=>jo,aL:()=>Ea,aa:()=>nr,ab:()=>Bd,ac:()=>Ms,af:()=>xf,ag:()=>Au,ah:()=>xu,ak:()=>On,al:()=>Ac,an:()=>Mc,ao:()=>Oa,ap:()=>xn,aq:()=>ye,ar:()=>Gt,as:()=>Ft,at:()=>Y,au:()=>Ku,av:()=>Ko,aw:()=>J,ax:()=>le,ay:()=>de,az:()=>kn,b:()=>Fr,c:()=>ja,d:()=>Vr,e:()=>Gu,f:()=>oe,g:()=>Mt,h:()=>Fe,i:()=>Pl,j:()=>mt,k:()=>Bf,l:()=>Ki,m:()=>Uf,n:()=>Ju,o:()=>j,q:()=>br,r:()=>Rf,s:()=>zo,u:()=>Ha});var s=g(5861),y=g(2090),b=g(9681),A=g(655),F=g(1877),L=g(4859);const j={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const X=function G(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},O=function W(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},U=new y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),P=new F.Yd("@firebase/auth");function q(I,...C){P.logLevel<=F.in.ERROR&&P.error(`Auth (${b.SDK_VERSION}): ${I}`,...C)}function Y(I,...C){throw we(I,...C)}function J(I,...C){return we(I,...C)}function ee(I,C,E){const M=Object.assign(Object.assign({},O()),{[C]:E});return new y.LL("auth","Firebase",M).create(C,{appName:I.name})}function fe(I,C,E){if(!(C instanceof E))throw E.name!==C.constructor.name&&Y(I,"argument-error"),ee(I,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function we(I,...C){if("string"!=typeof I){const E=C[0],M=[...C.slice(1)];return M[0]&&(M[0].appName=I.name),I._errorFactory.create(E,...M)}return U.create(I,...C)}function le(I,C,...E){if(!I)throw we(C,...E)}function pe(I){const C="INTERNAL ASSERTION FAILED: "+I;throw q(C),new Error(C)}function ye(I,C){I||pe(C)}const me=new Map;function de(I){ye(I instanceof Function,"Expected a class definition");let C=me.get(I);return C?(ye(C instanceof I,"Instance stored in cache mismatched with class"),C):(C=new I,me.set(I,C),C)}function Z(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function ae(){return"http:"===Ne()||"https:"===Ne()}function Ne(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Be{constructor(C,E){this.shortDelay=C,this.longDelay=E,ye(E>C,"Short delay should be less than long delay!"),this.isMobile=(0,y.uI)()||(0,y.b$)()}get(){return function De(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(I,C){ye(I.emulator,"Emulator should always be set here");const{url:E}=I.emulator;return C?`${E}${C.startsWith("/")?C.slice(1):C}`:E}class Ot{static initialize(C,E,M){this.fetchImpl=C,E&&(this.headersImpl=E),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yt=new Be(3e4,6e4);function Ct(I,C){return I.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:I.tenantId}):C}function kt(I,C,E,M){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,s.Z)(function*(I,C,E,M,re={}){return sn(I,re,(0,s.Z)(function*(){let he={},Oe={};M&&("GET"===C?Oe=M:he={body:JSON.stringify(M)});const Ke=(0,y.xO)(Object.assign({key:I.config.apiKey},Oe)).slice(1),gt=yield I._getAdditionalHeaders();return gt["Content-Type"]="application/json",I.languageCode&&(gt["X-Firebase-Locale"]=I.languageCode),Ot.fetch()(Sn(I,I.config.apiHost,E,Ke),Object.assign({method:C,headers:gt,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function sn(I,C,E){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(I,C,E){I._canInitEmulator=!1;const M=Object.assign(Object.assign({},ct),C);try{const re=new Jn(I),he=yield Promise.race([E(),re.promise]);re.clearNetworkTimeout();const Oe=yield he.json();if("needConfirmation"in Oe)throw In(I,"account-exists-with-different-credential",Oe);if(he.ok&&!("errorMessage"in Oe))return Oe;{const Ke=he.ok?Oe.errorMessage:Oe.error.message,[gt,Vt]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw In(I,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===gt)throw In(I,"email-already-in-use",Oe);if("USER_DISABLED"===gt)throw In(I,"user-disabled",Oe);const nn=M[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(Vt)throw ee(I,nn,Vt);Y(I,nn)}}catch(re){if(re instanceof y.ZR)throw re;Y(I,"network-request-failed")}})).apply(this,arguments)}function qe(I,C,E,M){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(I,C,E,M,re={}){const he=yield kt(I,C,E,M,re);return"mfaPendingCredential"in he&&Y(I,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function Sn(I,C,E,M){const re=`${C}${E}?${M}`;return I.config.emulator?ot(I.config,re):`${I.config.apiScheme}://${re}`}class Jn{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((E,M)=>{this.timer=setTimeout(()=>M(J(this.auth,"network-request-failed")),yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(I,C,E){const M={appName:I.name};E.email&&(M.email=E.email),E.phoneNumber&&(M.phoneNumber=E.phoneNumber);const re=J(I,C,M);return re.customData._tokenResponse=E,re}function bt(){return(bt=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function Wn(I,C){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Yt(I,C){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function An(I){if(I)try{const C=new Date(Number(I));if(!isNaN(C.getTime()))return C.toUTCString()}catch{}}function Bn(){return(Bn=(0,s.Z)(function*(I,C=!1){const E=(0,y.m9)(I),M=yield E.getIdToken(C),re=Xt(M);le(re&&re.exp&&re.auth_time&&re.iat,E.auth,"internal-error");const he="object"==typeof re.firebase?re.firebase:void 0,Oe=he?.sign_in_provider;return{claims:re,token:M,authTime:An(mr(re.auth_time)),issuedAtTime:An(mr(re.iat)),expirationTime:An(mr(re.exp)),signInProvider:Oe||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function mr(I){return 1e3*Number(I)}function Xt(I){var C;const[E,M,re]=I.split(".");if(void 0===E||void 0===M||void 0===re)return q("JWT malformed, contained fewer than 3 sections"),null;try{const he=(0,y.tV)(M);return he?JSON.parse(he):(q("Failed to decode base64 JWT payload"),null)}catch(he){return q("Caught error parsing JWT payload as JSON",null===(C=he)||void 0===C?void 0:C.toString()),null}}function St(I,C){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(I,C,E=!1){if(E)return C;try{return yield C}catch(M){throw M instanceof y.ZR&&Ri(M)&&I.auth.currentUser===I&&(yield I.auth.signOut()),M}})).apply(this,arguments)}function Ri({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class qt{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var E;if(C){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const re=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(C=!1){var E=this;if(!this.isRunning)return;const M=this.getInterval(C);this.timerId=setTimeout((0,s.Z)(function*(){yield E.iteration()}),M)}iteration(){var C=this;return(0,s.Z)(function*(){var E;try{yield C.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null===(E=M)||void 0===E?void 0:E.code)&&C.schedule(!0))}C.schedule()})()}}class ar{constructor(C,E){this.createdAt=C,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ei(I){return $n.apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(I){var C;const E=I.auth,M=yield I.getIdToken(),re=yield St(I,Yt(E,{idToken:M}));le(re?.users.length,E,"internal-error");const he=re.users[0];I._notifyReloadListener(he);const Oe=null!==(C=he.providerUserInfo)&&void 0!==C&&C.length?Me(he.providerUserInfo):[],Ke=be(I.providerData,Oe),nn=!!I.isAnonymous&&!(I.email&&he.passwordHash||Ke?.length),mi={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:Ke,metadata:new ar(he.createdAt,he.lastLoginAt),isAnonymous:nn};Object.assign(I,mi)})).apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(I){const C=(0,y.m9)(I);yield ei(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function be(I,C){return[...I.filter(M=>!C.some(re=>re.providerId===M.providerId)),...C]}function Me(I){return I.map(C=>{var{providerId:E}=C,M=(0,A._T)(C,["providerId"]);return{providerId:E,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function ve(){return(ve=(0,s.Z)(function*(I,C){const E=yield sn(I,{},(0,s.Z)(function*(){const M=(0,y.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:re,apiKey:he}=I.config,Oe=Sn(I,re,"/v1/token",`key=${he}`),Ke=yield I._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",Ot.fetch()(Oe,{method:"POST",headers:Ke,body:M})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){le(C.idToken,"internal-error"),le(typeof C.idToken<"u","internal-error"),le(typeof C.refreshToken<"u","internal-error");const E="expiresIn"in C&&typeof C.expiresIn<"u"?Number(C.expiresIn):function ut(I){const C=Xt(I);return le(C,"internal-error"),le(typeof C.exp<"u","internal-error"),le(typeof C.iat<"u","internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,E)}getToken(C,E=!1){var M=this;return(0,s.Z)(function*(){return le(!M.accessToken||M.refreshToken,C,"user-token-expired"),E||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(C,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,E){var M=this;return(0,s.Z)(function*(){const{accessToken:re,refreshToken:he,expiresIn:Oe}=yield function Pe(I,C){return ve.apply(this,arguments)}(C,E);M.updateTokensAndExpiration(re,he,Number(Oe))})()}updateTokensAndExpiration(C,E,M){this.refreshToken=E||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(C,E){const{refreshToken:M,accessToken:re,expirationTime:he}=E,Oe=new je;return M&&(le("string"==typeof M,"internal-error",{appName:C}),Oe.refreshToken=M),re&&(le("string"==typeof re,"internal-error",{appName:C}),Oe.accessToken=re),he&&(le("number"==typeof he,"internal-error",{appName:C}),Oe.expirationTime=he),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new je,this.toJSON())}_performRefresh(){return pe("not implemented")}}function rt(I,C){le("string"==typeof I||typeof I>"u","internal-error",{appName:C})}class Tt{constructor(C){var{uid:E,auth:M,stsTokenManager:re}=C,he=(0,A._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=M,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new ar(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(C){var E=this;return(0,s.Z)(function*(){const M=yield St(E,E.stsTokenManager.getToken(E.auth,C));return le(M,E.auth,"internal-error"),E.accessToken!==M&&(E.accessToken=M,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),M})()}getIdTokenResult(C){return function dn(I){return Bn.apply(this,arguments)}(this,C)}reload(){return function Dn(I){return Ie.apply(this,arguments)}(this)}_assign(C){this!==C&&(le(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(E=>Object.assign({},E)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){return new Tt(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(C){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,E=!1){var M=this;return(0,s.Z)(function*(){let re=!1;C.idToken&&C.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(C),re=!0),E&&(yield ei(M)),yield M.auth._persistUserIfCurrent(M),re&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var C=this;return(0,s.Z)(function*(){const E=yield C.getIdToken();return yield St(C,function hi(I,C){return bt.apply(this,arguments)}(C.auth,{idToken:E})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,E){var M,re,he,Oe,Ke,gt,Vt,nn;const mi=null!==(M=E.displayName)&&void 0!==M?M:void 0,_o=null!==(re=E.email)&&void 0!==re?re:void 0,Bs=null!==(he=E.phoneNumber)&&void 0!==he?he:void 0,za=null!==(Oe=E.photoURL)&&void 0!==Oe?Oe:void 0,Dr=null!==(Ke=E.tenantId)&&void 0!==Ke?Ke:void 0,Qo=null!==(gt=E._redirectEventId)&&void 0!==gt?gt:void 0,eh=null!==(Vt=E.createdAt)&&void 0!==Vt?Vt:void 0,th=null!==(nn=E.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:nh,emailVerified:Hf,isAnonymous:dv,providerData:tm,stsTokenManager:ih}=E;le(nh&&ih,C,"internal-error");const rh=je.fromJSON(this.name,ih);le("string"==typeof nh,C,"internal-error"),rt(mi,C.name),rt(_o,C.name),le("boolean"==typeof Hf,C,"internal-error"),le("boolean"==typeof dv,C,"internal-error"),rt(Bs,C.name),rt(za,C.name),rt(Dr,C.name),rt(Qo,C.name),rt(eh,C.name),rt(th,C.name);const Wa=new Tt({uid:nh,auth:C,email:_o,emailVerified:Hf,displayName:mi,isAnonymous:dv,photoURL:za,phoneNumber:Bs,tenantId:Dr,stsTokenManager:rh,createdAt:eh,lastLoginAt:th});return tm&&Array.isArray(tm)&&(Wa.providerData=tm.map(ew=>Object.assign({},ew))),Qo&&(Wa._redirectEventId=Qo),Wa}static _fromIdTokenResponse(C,E,M=!1){return(0,s.Z)(function*(){const re=new je;re.updateFromServerResponse(E);const he=new Tt({uid:E.localId,auth:C,stsTokenManager:re,isAnonymous:M});return yield ei(he),he})()}}const vn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(E,M){var re=this;return(0,s.Z)(function*(){re.storage[E]=M})()}_get(E){var M=this;return(0,s.Z)(function*(){const re=M.storage[E];return void 0===re?null:re})()}_remove(E){var M=this;return(0,s.Z)(function*(){delete M.storage[E]})()}_addListener(E,M){}_removeListener(E,M){}}return I.type="NONE",I})();function kn(I,C,E){return`firebase:${I}:${C}:${E}`}class un{constructor(C,E,M){this.persistence=C,this.auth=E,this.userKey=M;const{config:re,name:he}=this.auth;this.fullUserKey=kn(this.userKey,re.apiKey,he),this.fullPersistenceKey=kn("persistence",re.apiKey,he),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,s.Z)(function*(){const E=yield C.persistence._get(C.fullUserKey);return E?Tt._fromJSON(C.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var E=this;return(0,s.Z)(function*(){if(E.persistence===C)return;const M=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=C,M?E.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,E,M="authUser"){return(0,s.Z)(function*(){if(!E.length)return new un(de(vn),C,M);const re=(yield Promise.all(E.map(function(){var Vt=(0,s.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Vt.apply(this,arguments)}}()))).filter(Vt=>Vt);let he=re[0]||de(vn);const Oe=kn(M,C.config.apiKey,C.name);let Ke=null;for(const Vt of E)try{const nn=yield Vt._get(Oe);if(nn){const mi=Tt._fromJSON(C,nn);Vt!==he&&(Ke=mi),he=Vt;break}}catch{}const gt=re.filter(Vt=>Vt._shouldAllowMigration);return he._shouldAllowMigration&&gt.length?(he=gt[0],Ke&&(yield he._set(Oe,Ke.toJSON())),yield Promise.all(E.map(function(){var Vt=(0,s.Z)(function*(nn){if(nn!==he)try{yield nn._remove(Oe)}catch{}});return function(nn){return Vt.apply(this,arguments)}}())),new un(he,C,M)):new un(he,C,M)})()}}function Re(I){const C=I.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(st(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(Ee(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(Ye(C))return"Blackberry";if(pt(C))return"Webos";if(Te(C))return"Safari";if((C.includes("chrome/")||$e(C))&&!C.includes("edge/"))return"Chrome";if(Ft(C))return"Android";{const M=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Ee(I=(0,y.z$)()){return/firefox\//i.test(I)}function Te(I=(0,y.z$)()){const C=I.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function $e(I=(0,y.z$)()){return/crios\//i.test(I)}function st(I=(0,y.z$)()){return/iemobile/i.test(I)}function Ft(I=(0,y.z$)()){return/android/i.test(I)}function Ye(I=(0,y.z$)()){return/blackberry/i.test(I)}function pt(I=(0,y.z$)()){return/webos/i.test(I)}function Gt(I=(0,y.z$)()){return/iphone|ipad|ipod/i.test(I)}function xn(I=(0,y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Fi(I=(0,y.z$)()){return Gt(I)||Ft(I)||pt(I)||Ye(I)||/windows phone/i.test(I)||st(I)}function ya(I,C=[]){let E;switch(I){case"Browser":E=Re((0,y.z$)());break;case"Worker":E=`${Re((0,y.z$)())}-${I}`;break;default:E=I}const M=C.length?C.join(","):"FirebaseCore-web";return`${E}/JsCore/${b.SDK_VERSION}/${M}`}class cs{constructor(C){this.auth=C,this.queue=[]}pushCallback(C,E){const M=he=>new Promise((Oe,Ke)=>{try{Oe(C(he))}catch(gt){Ke(gt)}});M.onAbort=E,this.queue.push(M);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(C){var E=this;return(0,s.Z)(function*(){var M;if(E.auth.currentUser===C)return;const re=[];try{for(const he of E.queue)yield he(C),he.onAbort&&re.push(he.onAbort)}catch(he){re.reverse();for(const Oe of re)try{Oe()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:null===(M=he)||void 0===M?void 0:M.message})}})()}}class tn{constructor(C,E,M){this.app=C,this.heartbeatServiceProvider=E,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mo(this),this.idTokenSubscription=new Mo(this),this.beforeStateQueue=new cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(C,E){var M=this;return E&&(this._popupRedirectResolver=de(E)),this._initializationPromise=this.queue((0,s.Z)(function*(){var re,he;if(!M._deleted&&(M.persistenceManager=yield un.create(M,C),!M._deleted)){if(null!==(re=M._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(E),M.lastNotifiedUid=(null===(he=M.currentUser)||void 0===he?void 0:he.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,s.Z)(function*(){if(C._deleted)return;const E=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||E){if(C.currentUser&&E&&C.currentUser.uid===E.uid)return C._currentUser._assign(E),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(E,!0)}})()}initializeCurrentUser(C){var E=this;return(0,s.Z)(function*(){var M;const re=yield E.assertedPersistence.getCurrentUser();let he=re,Oe=!1;if(C&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Ke=null===(M=E.redirectUser)||void 0===M?void 0:M._redirectEventId,gt=he?._redirectEventId,Vt=yield E.tryRedirectSignIn(C);(!Ke||Ke===gt)&&Vt?.user&&(he=Vt.user,Oe=!0)}if(!he)return E.directlySetCurrentUser(null);if(!he._redirectEventId){if(Oe)try{yield E.beforeStateQueue.runMiddleware(he)}catch(Ke){he=re,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(Ke))}return he?E.reloadAndSetCurrentUserOrClear(he):E.directlySetCurrentUser(null)}return le(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===he._redirectEventId?E.directlySetCurrentUser(he):E.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(C){var E=this;return(0,s.Z)(function*(){let M=null;try{M=yield E._popupRedirectResolver._completeRedirectFn(E,C,!0)}catch{yield E._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(C){var E=this;return(0,s.Z)(function*(){var M;try{yield ei(C)}catch(re){if("auth/network-request-failed"!==(null===(M=re)||void 0===M?void 0:M.code))return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var C=this;return(0,s.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var E=this;return(0,s.Z)(function*(){const M=C?(0,y.m9)(C):null;return M&&le(M.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(M&&M._clone(E))})()}_updateCurrentUser(C,E=!1){var M=this;return(0,s.Z)(function*(){if(!M._deleted)return C&&le(M.tenantId===C.tenantId,M,"tenant-id-mismatch"),E||(yield M.beforeStateQueue.runMiddleware(C)),M.queue((0,s.Z)(function*(){yield M.directlySetCurrentUser(C),M.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,s.Z)(function*(){return yield C.beforeStateQueue.runMiddleware(null),(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null,!0)})()}setPersistence(C){var E=this;return this.queue((0,s.Z)(function*(){yield E.assertedPersistence.setPersistence(de(C))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new y.LL("auth","Firebase",C())}onAuthStateChanged(C,E,M){return this.registerStateListener(this.authStateSubscription,C,E,M)}beforeAuthStateChanged(C,E){return this.beforeStateQueue.pushCallback(C,E)}onIdTokenChanged(C,E,M){return this.registerStateListener(this.idTokenSubscription,C,E,M)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,E){var M=this;return(0,s.Z)(function*(){const re=yield M.getOrInitRedirectPersistenceManager(E);return null===C?re.removeCurrentUser():re.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var E=this;return(0,s.Z)(function*(){if(!E.redirectPersistenceManager){const M=C&&de(C)||E._popupRedirectResolver;le(M,E,"argument-error"),E.redirectPersistenceManager=yield un.create(E,[de(M._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(C){var E=this;return(0,s.Z)(function*(){var M,re;return E._isInitialized&&(yield E.queue((0,s.Z)(function*(){}))),(null===(M=E._currentUser)||void 0===M?void 0:M._redirectEventId)===C?E._currentUser:(null===(re=E.redirectUser)||void 0===re?void 0:re._redirectEventId)===C?E.redirectUser:null})()}_persistUserIfCurrent(C){var E=this;return(0,s.Z)(function*(){if(C===E.currentUser)return E.queue((0,s.Z)(function*(){return E.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(E=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,E,M,re){if(this._deleted)return()=>{};const he="function"==typeof E?E:E.next.bind(E),Oe=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Oe,this,"internal-error"),Oe.then(()=>he(this.currentUser)),"function"==typeof E?C.addObserver(E,M,re):C.addObserver(E)}directlySetCurrentUser(C){var E=this;return(0,s.Z)(function*(){E.currentUser&&E.currentUser!==C&&(E._currentUser._stopProactiveRefresh(),C&&E.isProactiveRefreshEnabled&&C._startProactiveRefresh()),E.currentUser=C,C?yield E.assertedPersistence.setCurrentUser(C):yield E.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=ya(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,s.Z)(function*(){var E;const M={"X-Client-Version":C.clientVersion};C.app.options.appId&&(M["X-Firebase-gmpid"]=C.app.options.appId);const re=yield null===(E=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return re&&(M["X-Firebase-Client"]=re),M})()}}function wi(I){return(0,y.m9)(I)}class Mo{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,y.ne)(E=>this.observer=E)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pl(I,C,E){const M=wi(I);le(M._canInitEmulator,M,"emulator-config-failed"),le(/^https?:\/\//.test(C),M,"invalid-emulator-scheme");const re=!!E?.disableWarnings,he=Xs(C),{host:Oe,port:Ke}=function Li(I){const C=Xs(I),E=/(\/\/)?([^?#/]+)/.exec(I.substr(C.length));if(!E)return{host:"",port:null};const M=E[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(M);if(re){const he=re[1];return{host:he,port:Po(M.substr(he.length+1))}}{const[he,Oe]=M.split(":");return{host:he,port:Po(Oe)}}}(C);M.config.emulator={url:`${he}//${Oe}${null===Ke?"":`:${Ke}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Oe,port:Ke,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function eo(){function I(){const C=document.createElement("p"),E=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Xs(I){const C=I.indexOf(":");return C<0?"":I.substr(0,C+1)}function Po(I){if(!I)return null;const C=Number(I);return isNaN(C)?null:C}class Ei{constructor(C,E){this.providerId=C,this.signInMethod=E}toJSON(){return pe("not implemented")}_getIdTokenResponse(C){return pe("not implemented")}_linkToIdToken(C,E){return pe("not implemented")}_getReauthenticationResolver(C){return pe("not implemented")}}function to(I,C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:resetPassword",Ct(I,C))})).apply(this,arguments)}function Hn(I,C){return gc.apply(this,arguments)}function gc(){return(gc=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function mc(I,C){return No.apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:update",Ct(I,C))})).apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signInWithPassword",Ct(I,C))})).apply(this,arguments)}function va(I,C){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:sendOobCode",Ct(I,C))})).apply(this,arguments)}function Ti(I,C){return pu.apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(I,C){return va(I,C)})).apply(this,arguments)}function ti(I,C){return lr.apply(this,arguments)}function lr(){return(lr=(0,s.Z)(function*(I,C){return va(I,C)})).apply(this,arguments)}function gu(I,C){return ko.apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(I,C){return va(I,C)})).apply(this,arguments)}function no(I,C){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.Z)(function*(I,C){return va(I,C)})).apply(this,arguments)}function Fg(){return(Fg=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signInWithEmailLink",Ct(I,C))})).apply(this,arguments)}function mu(){return(mu=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signInWithEmailLink",Ct(I,C))})).apply(this,arguments)}class ba extends Ei{constructor(C,E,M,re=null){super("password",M),this._email=C,this._password=E,this._tenantId=re}static _fromEmailAndPassword(C,E){return new ba(C,E,"password")}static _fromEmailAndCode(C,E,M=null){return new ba(C,E,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(C){var E=this;return(0,s.Z)(function*(){switch(E.signInMethod){case"password":return function _c(I,C){return us.apply(this,arguments)}(C,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function yc(I,C){return Fg.apply(this,arguments)}(C,{email:E._email,oobCode:E._password});default:Y(C,"internal-error")}})()}_linkToIdToken(C,E){var M=this;return(0,s.Z)(function*(){switch(M.signInMethod){case"password":return Hn(C,{idToken:E,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Od(I,C){return mu.apply(this,arguments)}(C,{idToken:E,email:M._email,oobCode:M._password});default:Y(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function _r(I,C){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signInWithIdp",Ct(I,C))})).apply(this,arguments)}class Ds extends Ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const E=new Ds(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(E.idToken=C.idToken),C.accessToken&&(E.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(E.nonce=C.nonce),C.pendingToken&&(E.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(E.accessToken=C.oauthToken,E.secret=C.oauthTokenSecret):Y("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C,{providerId:M,signInMethod:re}=E,he=(0,A._T)(E,["providerId","signInMethod"]);if(!M||!re)return null;const Oe=new Ds(M,re);return Oe.idToken=he.idToken||void 0,Oe.accessToken=he.accessToken||void 0,Oe.secret=he.secret,Oe.nonce=he.nonce,Oe.pendingToken=he.pendingToken||null,Oe}_getIdTokenResponse(C){return _r(C,this.buildRequest())}_linkToIdToken(C,E){const M=this.buildRequest();return M.idToken=E,_r(C,M)}_getReauthenticationResolver(C){const E=this.buildRequest();return E.autoCreate=!1,_r(C,E)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),C.postBody=(0,y.xO)(E)}return C}}function Lg(I,C){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:sendVerificationCode",Ct(I,C))})).apply(this,arguments)}function gl(){return(gl=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signInWithPhoneNumber",Ct(I,C))})).apply(this,arguments)}function Fd(){return(Fd=(0,s.Z)(function*(I,C){const E=yield qe(I,"POST","/v1/accounts:signInWithPhoneNumber",Ct(I,C));if(E.temporaryProof)throw In(I,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Bg={USER_NOT_FOUND:"user-not-found"};function Ld(){return(Ld=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signInWithPhoneNumber",Ct(I,Object.assign(Object.assign({},C),{operation:"REAUTH"})),Bg)})).apply(this,arguments)}class io extends Ei{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,E){return new io({verificationId:C,verificationCode:E})}static _fromTokenResponse(C,E){return new io({phoneNumber:C,temporaryProof:E})}_getIdTokenResponse(C){return function Vg(I,C){return gl.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,E){return function Ca(I,C){return Fd.apply(this,arguments)}(C,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function Ug(I,C){return Ld.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:E,verificationId:M,verificationCode:re}=this.params;return C&&E?{temporaryProof:C,phoneNumber:E}:{sessionInfo:M,code:re}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:E,verificationCode:M,phoneNumber:re,temporaryProof:he}=C;return M||E||re||he?new io({verificationId:E,verificationCode:M,phoneNumber:re,temporaryProof:he}):null}}class wa{constructor(C){var E,M,re,he,Oe,Ke;const gt=(0,y.zd)((0,y.pd)(C)),Vt=null!==(E=gt.apiKey)&&void 0!==E?E:null,nn=null!==(M=gt.oobCode)&&void 0!==M?M:null,mi=function _u(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=gt.mode)&&void 0!==re?re:null);le(Vt&&nn&&mi,"argument-error"),this.apiKey=Vt,this.operation=mi,this.code=nn,this.continueUrl=null!==(he=gt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Oe=gt.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(Ke=gt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(C){const E=function iv(I){const C=(0,y.zd)((0,y.pd)(I)).link,E=C?(0,y.zd)((0,y.pd)(C)).deep_link_id:null,M=(0,y.zd)((0,y.pd)(I)).deep_link_id;return(M?(0,y.zd)((0,y.pd)(M)).link:null)||M||E||C||I}(C);try{return new wa(E)}catch{return null}}}let Qr=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(E,M){return ba._fromEmailAndPassword(E,M)}static credentialWithLink(E,M){const re=wa.parseLink(M);return le(re,"argument-error"),ba._fromEmailAndCode(E,re.code,re.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class As{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class xs extends As{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class Oo extends xs{static credentialFromJSON(C){const E="string"==typeof C?JSON.parse(C):C;return le("providerId"in E&&"signInMethod"in E,"argument-error"),Ds._fromParams(E)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return le(C.idToken||C.accessToken,"argument-error"),Ds._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return Oo.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return Oo.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:E,oauthAccessToken:M,oauthTokenSecret:re,pendingToken:he,nonce:Oe,providerId:Ke}=C;if(!M&&!re&&!E&&!he||!Ke)return null;try{return new Oo(Ke)._credential({idToken:E,accessToken:M,nonce:Oe,pendingToken:he})}catch{return null}}}let Tf=(()=>{class I extends xs{constructor(){super("facebook.com")}static credential(E){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return I.credential(E.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Vd=(()=>{class I extends xs{constructor(){super("google.com"),this.addScope("profile")}static credential(E,M){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:M})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:M,oauthAccessToken:re}=E;if(!M&&!re)return null;try{return I.credential(M,re)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),vc=(()=>{class I extends xs{constructor(){super("github.com")}static credential(E){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return I.credential(E.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ea extends Ei{constructor(C,E){super(C,C),this.pendingToken=E}_getIdTokenResponse(C){return _r(C,this.buildRequest())}_linkToIdToken(C,E){const M=this.buildRequest();return M.idToken=E,_r(C,M)}_getReauthenticationResolver(C){const E=this.buildRequest();return E.autoCreate=!1,_r(C,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const E="string"==typeof C?JSON.parse(C):C,{providerId:M,signInMethod:re,pendingToken:he}=E;return M&&re&&he&&M===re?new Ea(M,he):null}static _create(C,E){return new Ea(C,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mn extends As{constructor(C){le(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return Mn.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return Mn.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const E=Ea.fromJSON(C);return le(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:E,providerId:M}=C;if(!E||!M)return null;try{return Ea._create(M,E)}catch{return null}}}let fi=(()=>{class I extends xs{constructor(){super("twitter.com")}static credential(E,M){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:M})}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:M,oauthTokenSecret:re}=E;if(!M||!re)return null;try{return I.credential(M,re)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Cc(I,C){return ml.apply(this,arguments)}function ml(){return(ml=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signUp",Ct(I,C))})).apply(this,arguments)}class yr{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,E,M,re=!1){return(0,s.Z)(function*(){const he=yield Tt._fromIdTokenResponse(C,M,re),Oe=_l(M);return new yr({user:he,providerId:Oe,_tokenResponse:M,operationType:E})})()}static _forOperation(C,E,M){return(0,s.Z)(function*(){yield C._updateTokensIfNecessary(M,!0);const re=_l(M);return new yr({user:C,providerId:re,_tokenResponse:M,operationType:E})})()}}function _l(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function yu(I){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,s.Z)(function*(I){var C;const E=wi(I);if(yield E._initializationPromise,null!==(C=E.currentUser)&&void 0!==C&&C.isAnonymous)return new yr({user:E.currentUser,providerId:null,operationType:"signIn"});const M=yield Cc(E,{returnSecureToken:!0}),re=yield yr._fromIdTokenResponse(E,"signIn",M,!0);return yield E._updateCurrentUser(re.user),re})).apply(this,arguments)}class vu extends y.ZR{constructor(C,E,M,re){var he;super(E.code,E.message),this.operationType=M,this.user=re,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:C.name,tenantId:null!==(he=C.tenantId)&&void 0!==he?he:void 0,_serverResponse:E.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(C,E,M,re){return new vu(C,E,M,re)}}function bu(I,C,E,M){return("reauthenticate"===C?E._getReauthenticationResolver(I):E._getIdTokenResponse(I)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?vu._fromErrorAndOperation(I,he,C,M):he})}function If(I){return new Set(I.map(({providerId:C})=>C).filter(C=>!!C))}function On(I,C){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(I,C){const E=(0,y.m9)(I);yield Fo(!0,E,C);const{providerUserInfo:M}=yield Wn(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[C]}),re=If(M||[]);return E.providerData=E.providerData.filter(he=>re.has(he.providerId)),re.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function yl(I,C){return wc.apply(this,arguments)}function wc(){return(wc=(0,s.Z)(function*(I,C,E=!1){const M=yield St(I,C._linkToIdToken(I.auth,yield I.getIdToken()),E);return yr._forOperation(I,"link",M)})).apply(this,arguments)}function Fo(I,C,E){return qn.apply(this,arguments)}function qn(){return(qn=(0,s.Z)(function*(I,C,E){yield ei(C);const re=!1===I?"provider-already-linked":"no-such-provider";le(If(C.providerData).has(E)===I,C.auth,re)})).apply(this,arguments)}function Sa(I,C){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,s.Z)(function*(I,C,E=!1){var M;const{auth:re}=I,he="reauthenticate";try{const Oe=yield St(I,bu(re,he,C,I),E);le(Oe.idToken,re,"internal-error");const Ke=Xt(Oe.idToken);le(Ke,re,"internal-error");const{sub:gt}=Ke;return le(I.uid===gt,re,"user-mismatch"),yr._forOperation(I,he,Oe)}catch(Oe){throw"auth/user-not-found"===(null===(M=Oe)||void 0===M?void 0:M.code)&&Y(re,"user-mismatch"),Oe}})).apply(this,arguments)}function Lo(I,C){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(I,C,E=!1){const M="signIn",re=yield bu(I,M,C),he=yield yr._fromIdTokenResponse(I,M,re);return E||(yield I._updateCurrentUser(he.user)),he})).apply(this,arguments)}function Ec(I,C){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(I,C){return Lo(wi(I),C)})).apply(this,arguments)}function Vo(I,C){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(I,C){const E=(0,y.m9)(I);return yield Fo(!1,E,C.providerId),yl(E,C)})).apply(this,arguments)}function Cu(I,C){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(I,C){return Sa((0,y.m9)(I),C)})).apply(this,arguments)}function vl(I,C){return ur.apply(this,arguments)}function ur(){return(ur=(0,s.Z)(function*(I,C){return qe(I,"POST","/v1/accounts:signInWithCustomToken",Ct(I,C))})).apply(this,arguments)}function bl(I,C){return ro.apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(I,C){const E=wi(I),M=yield vl(E,{token:C,returnSecureToken:!0}),re=yield yr._fromIdTokenResponse(E,"signIn",M);return yield E._updateCurrentUser(re.user),re})).apply(this,arguments)}class Lt{constructor(C,E){this.factorId=C,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(C,E){return"phoneInfo"in E?Da._fromServerResponse(C,E):Y(C,"internal-error")}}class Da extends Lt{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,E){return new Da(E)}}function Cl(I,C,E){var M;le((null===(M=E.url)||void 0===M?void 0:M.length)>0,I,"invalid-continue-uri"),le(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),C.continueUrl=E.url,C.dynamicLinkDomain=E.dynamicLinkDomain,C.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(le(E.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),C.iOSBundleId=E.iOS.bundleId),E.android&&(le(E.android.packageName.length>0,I,"missing-android-pkg-name"),C.androidInstallApp=E.android.installApp,C.androidMinimumVersionCode=E.android.minimumVersion,C.androidPackageName=E.android.packageName)}function wu(I,C,E){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I),re={requestType:"PASSWORD_RESET",email:C};E&&Cl(M,re,E),yield ti(M,re)})).apply(this,arguments)}function Eu(I,C,E){return xa.apply(this,arguments)}function xa(){return(xa=(0,s.Z)(function*(I,C,E){yield to((0,y.m9)(I),{oobCode:C,newPassword:E})})).apply(this,arguments)}function Df(I,C){return wl.apply(this,arguments)}function wl(){return(wl=(0,s.Z)(function*(I,C){yield mc((0,y.m9)(I),{oobCode:C})})).apply(this,arguments)}function Je(I,C){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(I,C){const E=(0,y.m9)(I),M=yield to(E,{oobCode:C}),re=M.requestType;switch(le(re,E,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(M.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(M.mfaInfo,E,"internal-error");default:le(M.email,E,"internal-error")}let he=null;return M.mfaInfo&&(he=Lt._fromServerResponse(wi(E),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:he},operation:re}})).apply(this,arguments)}function Tu(I,C){return El.apply(this,arguments)}function El(){return(El=(0,s.Z)(function*(I,C){const{data:E}=yield Je((0,y.m9)(I),C);return E.email})).apply(this,arguments)}function si(I,C,E){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(I,C,E){const M=wi(I),re=yield Cc(M,{returnSecureToken:!0,email:C,password:E}),he=yield yr._fromIdTokenResponse(M,"signIn",re);return yield M._updateCurrentUser(he.user),he})).apply(this,arguments)}function Tl(I,C,E){return Ec((0,y.m9)(I),Qr.credential(C,E))}function Jr(I,C,E){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I),re={requestType:"EMAIL_SIGNIN",email:C};le(E.handleCodeInApp,M,"argument-error"),E&&Cl(M,re,E),yield gu(M,re)})).apply(this,arguments)}function Su(I,C){return"EMAIL_SIGNIN"===wa.parseLink(C)?.operation}function Af(I,C,E){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I),re=Qr.credentialWithLink(C,E||Z());return le(re._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Ec(M,re)})).apply(this,arguments)}function Du(I,C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:createAuthUri",Ct(I,C))})).apply(this,arguments)}function nr(I,C){return vr.apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(I,C){const M={identifier:C,continueUri:ae()?Z():"http://localhost"},{signinMethods:re}=yield Du((0,y.m9)(I),M);return re||[]})).apply(this,arguments)}function Bd(I,C){return hs.apply(this,arguments)}function hs(){return(hs=(0,s.Z)(function*(I,C){const E=(0,y.m9)(I),re={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};C&&Cl(E.auth,re,C);const{email:he}=yield Ti(E.auth,re);he!==I.email&&(yield I.reload())})).apply(this,arguments)}function Ms(I,C,E){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:C};E&&Cl(M.auth,he,E);const{email:Oe}=yield no(M.auth,he);Oe!==I.email&&(yield I.reload())})).apply(this,arguments)}function Ud(I,C){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,s.Z)(function*(I,C){return kt(I,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function xf(I,C){return Go.apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(I,{displayName:C,photoURL:E}){if(void 0===C&&void 0===E)return;const M=(0,y.m9)(I),he={idToken:yield M.getIdToken(),displayName:C,photoUrl:E,returnSecureToken:!0},Oe=yield St(M,Ud(M.auth,he));M.displayName=Oe.displayName||null,M.photoURL=Oe.photoUrl||null;const Ke=M.providerData.find(({providerId:gt})=>"password"===gt);Ke&&(Ke.displayName=M.displayName,Ke.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Oe)})).apply(this,arguments)}function Au(I,C){return Na((0,y.m9)(I),C,null)}function xu(I,C){return Na((0,y.m9)(I),null,C)}function Na(I,C,E){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.Z)(function*(I,C,E){const{auth:M}=I,he={idToken:yield I.getIdToken(),returnSecureToken:!0};C&&(he.email=C),E&&(he.password=E);const Oe=yield St(I,Hn(M,he));yield I._updateTokensIfNecessary(Oe,!0)})).apply(this,arguments)}class fs{constructor(C,E,M={}){this.isNewUser=C,this.providerId=E,this.profile=M}}class Ic extends fs{constructor(C,E,M,re){super(C,E,M),this.username=re}}class Mf extends fs{constructor(C,E){super(C,"facebook.com",E)}}class Mu extends Ic{constructor(C,E){super(C,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class Pu extends fs{constructor(C,E){super(C,"google.com",E)}}class Dc extends Ic{constructor(C,E,M){super(C,"twitter.com",E,M)}}function Ac(I){const{user:C,_tokenResponse:E}=I;return C.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Sc(I){var C,E;if(!I)return null;const{providerId:M}=I,re=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},he=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!M&&I?.idToken){const Oe=null===(E=null===(C=Xt(I.idToken))||void 0===C?void 0:C.firebase)||void 0===E?void 0:E.sign_in_provider;if(Oe)return new fs(he,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!M)return null;switch(M){case"facebook.com":return new Mf(he,re);case"github.com":return new Mu(he,re);case"google.com":return new Pu(he,re);case"twitter.com":return new Dc(he,re,I.screenName||null);case"custom":case"anonymous":return new fs(he,null);default:return new fs(he,M,re)}}(E)}function br(I,C,E,M){return(0,y.m9)(I).onIdTokenChanged(C,E,M)}class so{constructor(C,E){this.type=C,this.credential=E}static _fromIdtoken(C){return new so("enroll",C)}static _fromMfaPendingCredential(C){return new so("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var E,M;if(C?.multiFactorSession){if(null!==(E=C.multiFactorSession)&&void 0!==E&&E.pendingCredential)return so._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null!==(M=C.multiFactorSession)&&void 0!==M&&M.idToken)return so._fromIdtoken(C.multiFactorSession.idToken)}return null}}class Al{constructor(C,E,M){this.session=C,this.hints=E,this.signInResolver=M}static _fromError(C,E){const M=wi(C),re=E.customData._serverResponse,he=(re.mfaInfo||[]).map(Ke=>Lt._fromServerResponse(M,Ke));le(re.mfaPendingCredential,M,"internal-error");const Oe=so._fromMfaPendingCredential(re.mfaPendingCredential);return new Al(Oe,he,function(){var Ke=(0,s.Z)(function*(gt){const Vt=yield gt._process(M,Oe);delete re.mfaInfo,delete re.mfaPendingCredential;const nn=Object.assign(Object.assign({},re),{idToken:Vt.idToken,refreshToken:Vt.refreshToken});switch(E.operationType){case"signIn":const mi=yield yr._fromIdTokenResponse(M,E.operationType,nn);return yield M._updateCurrentUser(mi.user),mi;case"reauthenticate":return le(E.user,M,"internal-error"),yr._forOperation(E.user,E.operationType,nn);default:Y(M,"internal-error")}});return function(gt){return Ke.apply(this,arguments)}}())}resolveSignIn(C){var E=this;return(0,s.Z)(function*(){return E.signInResolver(C)})()}}function Mc(I,C){var E;const M=(0,y.m9)(I),re=C;return le(C.customData.operationType,M,"argument-error"),le(null===(E=re.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,M,"argument-error"),Al._fromError(M,re)}function Ii(I,C){return kt(I,"POST","/v2/accounts/mfaEnrollment:start",Ct(I,C))}class Nu{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(M=>Lt._fromServerResponse(C.auth,M)))})}static _fromUser(C){return new Nu(C)}getSession(){var C=this;return(0,s.Z)(function*(){return so._fromIdtoken(yield C.user.getIdToken())})()}enroll(C,E){var M=this;return(0,s.Z)(function*(){const re=C,he=yield M.getSession(),Oe=yield St(M.user,re._process(M.user.auth,he,E));return yield M.user._updateTokensIfNecessary(Oe),M.user.reload()})()}unenroll(C){var E=this;return(0,s.Z)(function*(){var M;const re="string"==typeof C?C:C.uid,he=yield E.user.getIdToken(),Oe=yield St(E.user,function Nf(I,C){return kt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(I,C))}(E.user.auth,{idToken:he,mfaEnrollmentId:re}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Ke})=>Ke!==re),yield E.user._updateTokensIfNecessary(Oe);try{yield E.user.reload()}catch(Ke){if("auth/user-token-expired"!==(null===(M=Ke)||void 0===M?void 0:M.code))throw Ke}})()}}const Ps=new WeakMap;function Oa(I){const C=(0,y.m9)(I);return Ps.has(C)||Ps.set(C,Nu._fromUser(C)),Ps.get(C)}const ku="__sak";class Nc{constructor(C,E){this.storageRetriever=C,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(C,E){return this.storage.setItem(C,JSON.stringify(E)),Promise.resolve()}_get(C){const E=this.storage.getItem(C);return Promise.resolve(E?JSON.parse(E):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fr=(()=>{class I extends Nc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,M)=>this.onStorageEvent(E,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kc(){const I=(0,y.z$)();return Te(I)||Gt(I)}()&&function Un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Fi(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const M of Object.keys(this.listeners)){const re=this.storage.getItem(M),he=this.localCache[M];re!==he&&E(M,he,re)}}onStorageEvent(E,M=!1){if(!E.key)return void this.forAllChangedKeys((Ke,gt,Vt)=>{this.notifyListeners(Ke,Vt)});const re=E.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(re);if(E.newValue!==Ke)null!==E.newValue?this.storage.setItem(re,E.newValue):this.storage.removeItem(re);else if(this.localCache[re]===E.newValue&&!M)return}const he=()=>{const Ke=this.storage.getItem(re);!M&&this.localCache[re]===Ke||this.notifyListeners(re,Ke)},Oe=this.storage.getItem(re);!function Bt(){return(0,y.w1)()&&10===document.documentMode}()||Oe===E.newValue||E.newValue===E.oldValue?he():setTimeout(he,10)}notifyListeners(E,M){this.localCache[E]=M;const re=this.listeners[E];if(re)for(const he of Array.from(re))he(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,M,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:M,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(M)}_removeListener(E,M){this.listeners[E]&&(this.listeners[E].delete(M),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,M){var re=()=>super._set,he=this;return(0,s.Z)(function*(){yield re().call(he,E,M),he.localCache[E]=JSON.stringify(M)})()}_get(E){var M=()=>super._get,re=this;return(0,s.Z)(function*(){const he=yield M().call(re,E);return re.localCache[E]=JSON.stringify(he),he})()}_remove(E){var M=()=>super._remove,re=this;return(0,s.Z)(function*(){yield M().call(re,E),delete re.localCache[E]})()}}return I.type="LOCAL",I})(),xl=(()=>{class I extends Nc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,M){}_removeListener(E,M){}}return I.type="SESSION",I})();let Oc=(()=>{class I{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const M=this.receivers.find(he=>he.isListeningto(E));if(M)return M;const re=new I(E);return this.receivers.push(re),re}isListeningto(E){return this.eventTarget===E}handleEvent(E){var M=this;return(0,s.Z)(function*(){const re=E,{eventId:he,eventType:Oe,data:Ke}=re.data,gt=M.handlersMap[Oe];if(!gt?.size)return;re.ports[0].postMessage({status:"ack",eventId:he,eventType:Oe});const Vt=Array.from(gt).map(function(){var mi=(0,s.Z)(function*(_o){return _o(re.origin,Ke)});return function(_o){return mi.apply(this,arguments)}}()),nn=yield function kf(I){return Promise.all(I.map(function(){var C=(0,s.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(M){return{fulfilled:!1,reason:M}}});return function(E){return C.apply(this,arguments)}}()))}(Vt);re.ports[0].postMessage({status:"done",eventId:he,eventType:Oe,response:nn})})()}_subscribe(E,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(M)}_unsubscribe(E,M){this.handlersMap[E]&&M&&this.handlersMap[E].delete(M),(!M||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function jo(I="",C=10){let E="";for(let M=0;M<C;M++)E+=Math.floor(10*Math.random());return I+E}class Zn{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,E,M=50){var re=this;return(0,s.Z)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Oe,Ke;return new Promise((gt,Vt)=>{const nn=jo("",20);he.port1.start();const mi=setTimeout(()=>{Vt(new Error("unsupported_event"))},M);Ke={messageChannel:he,onMessage(_o){const Bs=_o;if(Bs.data.eventId===nn)switch(Bs.data.status){case"ack":clearTimeout(mi),Oe=setTimeout(()=>{Vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),gt(Bs.data.response);break;default:clearTimeout(mi),clearTimeout(Oe),Vt(new Error("invalid_response"))}}},re.handlers.add(Ke),he.port1.addEventListener("message",Ke.onMessage),re.target.postMessage({eventType:C,eventId:nn,data:E},[he.port2])}).finally(()=>{Ke&&re.removeMessageHandler(Ke)})})()}}function ni(){return window}function Ra(){return typeof ni().WorkerGlobalScope<"u"&&"function"==typeof ni().importScripts}function La(){return(La=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gd="firebaseLocalStorageDb",Ml="firebaseLocalStorage",ps="fbase_key";class Va{constructor(C){this.request=C}toPromise(){return new Promise((C,E)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function oo(I,C){return I.transaction([Ml],C?"readwrite":"readonly").objectStore(Ml)}function $o(){const I=indexedDB.open(Gd,1);return new Promise((C,E)=>{I.addEventListener("error",()=>{E(I.error)}),I.addEventListener("upgradeneeded",()=>{const M=I.result;try{M.createObjectStore(Ml,{keyPath:ps})}catch(re){E(re)}}),I.addEventListener("success",(0,s.Z)(function*(){const M=I.result;M.objectStoreNames.contains(Ml)?C(M):(M.close(),yield function Xr(){const I=indexedDB.deleteDatabase(Gd);return new Va(I).toPromise()}(),C(yield $o()))}))})}function ao(I,C,E){return lo.apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(I,C,E){const M=oo(I,!0).put({[ps]:C,value:E});return new Va(M).toPromise()})).apply(this,arguments)}function Lr(){return(Lr=(0,s.Z)(function*(I,C){const E=oo(I,!1).get(C),M=yield new Va(E).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Dt(I,C){const E=oo(I,!0).delete(C);return new Va(E).toPromise()}const Pl=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,s.Z)(function*(){return E.db||(E.db=yield $o()),E.db})()}_withRetries(E){var M=this;return(0,s.Z)(function*(){let re=0;for(;;)try{const he=yield M._openDb();return yield E(he)}catch(he){if(re++>3)throw he;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,s.Z)(function*(){return Ra()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,s.Z)(function*(){E.receiver=Oc._getInstance(function ov(){return Ra()?self:null}()),E.receiver._subscribe("keyChanged",function(){var M=(0,s.Z)(function*(re,he){return{keyProcessed:(yield E._poll()).includes(he.key)}});return function(re,he){return M.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var M=(0,s.Z)(function*(re,he){return["keyChanged"]});return function(re,he){return M.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,s.Z)(function*(){var M,re;if(E.activeServiceWorker=yield function Fa(){return La.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Zn(E.activeServiceWorker);const he=yield E.sender._send("ping",{},800);!he||(null===(M=he[0])||void 0===M?void 0:M.fulfilled)&&(null===(re=he[0])||void 0===re?void 0:re.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var M=this;return(0,s.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Ou(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:E},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const E=yield $o();return yield ao(E,ku,"1"),yield Dt(E,ku),!0}catch{}return!1})()}_withPendingWrite(E){var M=this;return(0,s.Z)(function*(){M.pendingWrites++;try{yield E()}finally{M.pendingWrites--}})()}_set(E,M){var re=this;return(0,s.Z)(function*(){return re._withPendingWrite((0,s.Z)(function*(){return yield re._withRetries(he=>ao(he,E,M)),re.localCache[E]=M,re.notifyServiceWorker(E)}))})()}_get(E){var M=this;return(0,s.Z)(function*(){const re=yield M._withRetries(he=>function Rn(I,C){return Lr.apply(this,arguments)}(he,E));return M.localCache[E]=re,re})()}_remove(E){var M=this;return(0,s.Z)(function*(){return M._withPendingWrite((0,s.Z)(function*(){return yield M._withRetries(re=>Dt(re,E)),delete M.localCache[E],M.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,s.Z)(function*(){const M=yield E._withRetries(Oe=>{const Ke=oo(Oe,!1).getAll();return new Va(Ke).toPromise()});if(!M)return[];if(0!==E.pendingWrites)return[];const re=[],he=new Set;for(const{fbase_key:Oe,value:Ke}of M)he.add(Oe),JSON.stringify(E.localCache[Oe])!==JSON.stringify(Ke)&&(E.notifyListeners(Oe,Ke),re.push(Oe));for(const Oe of Object.keys(E.localCache))E.localCache[Oe]&&!he.has(Oe)&&(E.notifyListeners(Oe,null),re.push(Oe));return re})()}notifyListeners(E,M){this.localCache[E]=M;const re=this.listeners[E];if(re)for(const he of Array.from(re))he(M)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(M)}_removeListener(E,M){this.listeners[E]&&(this.listeners[E].delete(M),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Nl(I,C){return kt(I,"POST","/v2/accounts/mfaSignIn:start",Ct(I,C))}function Ba(){return(Ba=(0,s.Z)(function*(I){return(yield kt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function At(I){return new Promise((C,E)=>{const M=document.createElement("script");M.setAttribute("src",I),M.onload=C,M.onerror=re=>{const he=J("internal-error");he.customData=re,E(he)},M.type="text/javascript",M.charset="UTF-8",function es(){var I,C;return null!==(C=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==C?C:document}().appendChild(M)})}function Lu(I){return`__${I}${Math.floor(1e6*Math.random())}`}const co=1e12;class ii{constructor(C){this.auth=C,this.counter=co,this._widgets=new Map}render(C,E){const M=this.counter;return this._widgets.set(M,new Ua(C,this.auth.name,E||{})),this.counter++,M}reset(C){var E;const M=C||co;null===(E=this._widgets.get(M))||void 0===E||E.delete(),this._widgets.delete(M)}getResponse(C){var E;return(null===(E=this._widgets.get(C||co))||void 0===E?void 0:E.getResponse())||""}execute(C){var E=this;return(0,s.Z)(function*(){var M;return null===(M=E._widgets.get(C||co))||void 0===M||M.execute(),""})()}}class Ua{constructor(C,E,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof C?document.getElementById(C):C;le(re,"argument-error",{appName:E}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ns(I){const C=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<I;M++)C.push(E.charAt(Math.floor(Math.random()*E.length)));return C.join("")}(50);const{callback:C,"expired-callback":E}=this.params;if(C)try{C(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gs=Lu("rcb"),jd=new Be(3e4,6e4);class ks{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ni().grecaptcha}load(C,E=""){return le(function av(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(E),C,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(ni().grecaptcha):new Promise((M,re)=>{const he=ni().setTimeout(()=>{re(J(C,"network-request-failed"))},jd.get());ni()[gs]=()=>{ni().clearTimeout(he),delete ni()[gs];const Ke=ni().grecaptcha;if(!Ke)return void re(J(C,"internal-error"));const gt=Ke.render;Ke.render=(Vt,nn)=>{const mi=gt(Vt,nn);return this.counter++,mi},this.hostLanguage=E,M(Ke)},At(`https://www.google.com/recaptcha/api.js??${(0,y.xO)({onload:gs,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(he),re(J(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){return!!ni().grecaptcha&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ol{load(C){return(0,s.Z)(function*(){return new ii(C)})()}clearedOneInstance(){}}const bn="recaptcha",$d={theme:"light",type:"image"};class Rc{constructor(C,E=Object.assign({},$d),M){this.parameters=E,this.type=bn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wi(M),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof C?document.getElementById(C):C;le(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ol:new ks,this.validateStartingState()}verify(){var C=this;return(0,s.Z)(function*(){C.assertNotDestroyed();const E=yield C.render(),M=C.getAssertedRecaptcha();return M.getResponse(E)||new Promise(he=>{const Oe=Ke=>{!Ke||(C.tokenChangeListeners.delete(Oe),he(Ke))};C.tokenChangeListeners.add(Oe),C.isInvisible&&M.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return E=>{if(this.tokenChangeListeners.forEach(M=>M(E)),"function"==typeof C)C(E);else if("string"==typeof C){const M=ni()[C];"function"==typeof M&&M(E)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,s.Z)(function*(){if(yield C.init(),!C.widgetId){let E=C.container;if(!C.isInvisible){const M=document.createElement("div");E.appendChild(M),E=M}C.widgetId=C.getAssertedRecaptcha().render(E,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,s.Z)(function*(){le(ae()&&!Ra(),C.auth,"internal-error"),yield function Os(){let I=null;return new Promise(C=>{"complete"!==document.readyState?(I=()=>C(),window.addEventListener("load",I)):C()}).catch(C=>{throw I&&window.removeEventListener("load",I),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const E=yield function Fu(I){return Ba.apply(this,arguments)}(C.auth);le(E,C.auth,"internal-error"),C.parameters.sitekey=E})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bu{constructor(C,E){this.verificationId=C,this.onConfirmation=E}confirm(C){const E=io._fromVerification(this.verificationId,C);return this.onConfirmation(E)}}function zo(I,C,E){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,s.Z)(function*(I,C,E){const M=wi(I),re=yield hn(M,C,(0,y.m9)(E));return new Bu(re,he=>Ec(M,he))})).apply(this,arguments)}function Ki(I,C,E){return uo.apply(this,arguments)}function uo(){return(uo=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I);yield Fo(!1,M,"phone");const re=yield hn(M.auth,C,(0,y.m9)(E));return new Bu(re,he=>Vo(M,he))})).apply(this,arguments)}function Rf(I,C,E){return ai.apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I),re=yield hn(M.auth,C,(0,y.m9)(E));return new Bu(re,he=>Cu(M,he))})).apply(this,arguments)}function hn(I,C,E){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,s.Z)(function*(I,C,E){var M;const re=yield E.verify();try{let he;if(le("string"==typeof re,I,"argument-error"),le(E.type===bn,I,"argument-error"),he="string"==typeof C?{phoneNumber:C}:C,"session"in he){const Oe=he.session;if("phoneNumber"in he)return le("enroll"===Oe.type,I,"internal-error"),(yield Ii(I,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{le("signin"===Oe.type,I,"internal-error");const Ke=(null===(M=he.multiFactorHint)||void 0===M?void 0:M.uid)||he.multiFactorUid;return le(Ke,I,"missing-multi-factor-info"),(yield Nl(I,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield Lg(I,{phoneNumber:he.phoneNumber,recaptchaToken:re});return Oe}}finally{E._reset()}})).apply(this,arguments)}function Ha(I,C){return ho.apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(I,C){yield yl((0,y.m9)(I),C)})).apply(this,arguments)}let Ai=(()=>{class I{constructor(E){this.providerId=I.PROVIDER_ID,this.auth=wi(E)}verifyPhoneNumber(E,M){return hn(this.auth,E,(0,y.m9)(M))}static credential(E,M){return io._fromVerification(E,M)}static credentialFromResult(E){return I.credentialFromTaggedObject(E)}static credentialFromError(E){return I.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:M,temporaryProof:re}=E;return M&&re?io._fromTokenResponse(M,re):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Vn(I,C){return C?de(C):(le(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Pn extends Ei{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return _r(C,this._buildIdpRequest())}_linkToIdToken(C,E){return _r(C,this._buildIdpRequest(E))}_getReauthenticationResolver(C){return _r(C,this._buildIdpRequest())}_buildIdpRequest(C){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(E.idToken=C),E}}function Rs(I){return Lo(I.auth,new Pn(I),I.bypassAuthState)}function fo(I){const{auth:C,user:E}=I;return le(E,C,"internal-error"),Sa(E,new Pn(I),I.bypassAuthState)}function po(I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(I){const{auth:C,user:E}=I;return le(E,C,"internal-error"),yl(E,new Pn(I),I.bypassAuthState)})).apply(this,arguments)}class Hu{constructor(C,E,M,re,he=!1){this.auth=C,this.resolver=M,this.user=re,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var C=this;return new Promise(function(){var E=(0,s.Z)(function*(M,re){C.pendingPromise={resolve:M,reject:re};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(he){C.reject(he)}});return function(M,re){return E.apply(this,arguments)}}())}onAuthEvent(C){var E=this;return(0,s.Z)(function*(){const{urlResponse:M,sessionId:re,postBody:he,tenantId:Oe,error:Ke,type:gt}=C;if(Ke)return void E.reject(Ke);const Vt={auth:E.auth,requestUri:M,sessionId:re,tenantId:Oe||void 0,postBody:he||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(gt)(Vt))}catch(nn){E.reject(nn)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return Rs;case"linkViaPopup":case"linkViaRedirect":return po;case"reauthViaPopup":case"reauthViaRedirect":return fo;default:Y(this.auth,"internal-error")}}resolve(C){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zg=new Be(2e3,1e4);function ja(I,C,E){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(I,C,E){const M=wi(I);fe(I,C,As);const re=Vn(M,E);return new Wo(M,"signInViaPopup",C,re).executeNotNull()})).apply(this,arguments)}function Gu(I,C,E){return li.apply(this,arguments)}function li(){return(li=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I);fe(M.auth,C,As);const re=Vn(M.auth,E);return new Wo(M.auth,"reauthViaPopup",C,re,M).executeNotNull()})).apply(this,arguments)}function Vr(I,C,E){return ms.apply(this,arguments)}function ms(){return(ms=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I);fe(M.auth,C,As);const re=Vn(M.auth,E);return new Wo(M.auth,"linkViaPopup",C,re,M).executeNotNull()})).apply(this,arguments)}let Wo=(()=>{class I extends Hu{constructor(E,M,re,he,Oe){super(E,M,he,Oe),this.provider=re,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var E=this;return(0,s.Z)(function*(){const M=yield E.execute();return le(M,E.auth,"internal-error"),M})()}onExecution(){var E=this;return(0,s.Z)(function*(){ye(1===E.filter.length,"Popup operations only handle one event");const M=jo();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],M),E.authWindow.associatedEvent=M,E.resolver._originValidation(E.auth).catch(re=>{E.reject(re)}),E.resolver._isIframeWebStorageSupported(E.auth,re=>{re||E.reject(J(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(J(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const E=()=>{var M,re;this.pollId=null!==(re=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==re&&re.closed?window.setTimeout(()=>{this.pollId=null,this.reject(J(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,zg.get())};E()}}return I.currentPopupAction=null,I})();const Rl=new Map;class qo extends Hu{constructor(C,E,M=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,M),this.eventId=null}execute(){var C=()=>super.execute,E=this;return(0,s.Z)(function*(){let M=Rl.get(E.auth._key());if(!M){try{const he=(yield function Ff(I,C){return zd.apply(this,arguments)}(E.resolver,E.auth))?yield C().call(E):null;M=()=>Promise.resolve(he)}catch(re){M=()=>Promise.reject(re)}Rl.set(E.auth._key(),M)}return E.bypassAuthState||Rl.set(E.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(C){var E=()=>super.onAuthEvent,M=this;return(0,s.Z)(function*(){if("signInViaRedirect"===C.type)return E().call(M,C);if("unknown"!==C.type){if(C.eventId){const re=yield M.auth._redirectUserForId(C.eventId);if(re)return M.user=re,E().call(M,C);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function zd(){return(zd=(0,s.Z)(function*(I,C){const E=$(C),M=B(I);if(!(yield M._isAvailable()))return!1;const re="true"===(yield M._get(E));return yield M._remove(E),re})).apply(this,arguments)}function Fc(I,C){return ju.apply(this,arguments)}function ju(){return(ju=(0,s.Z)(function*(I,C){return B(I)._set($(C),"true")})).apply(this,arguments)}function $u(){Rl.clear()}function Fl(I,C){Rl.set(I._key(),C)}function B(I){return de(I._redirectPersistence)}function $(I){return kn("pendingRedirect",I.config.apiKey,I.name)}function oe(I,C,E){return function _e(I,C,E){return Ae.apply(this,arguments)}(I,C,E)}function Ae(){return(Ae=(0,s.Z)(function*(I,C,E){const M=wi(I);fe(I,C,As);const re=Vn(M,E);return yield Fc(re,M),re._openRedirect(M,C,"signInViaRedirect")})).apply(this,arguments)}function Fe(I,C,E){return function Ve(I,C,E){return at.apply(this,arguments)}(I,C,E)}function at(){return(at=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I);fe(M.auth,C,As);const re=Vn(M.auth,E);yield Fc(re,M.auth);const he=yield ns(M);return re._openRedirect(M.auth,C,"reauthViaRedirect",he)})).apply(this,arguments)}function Mt(I,C,E){return function Zt(I,C,E){return Qt.apply(this,arguments)}(I,C,E)}function Qt(){return(Qt=(0,s.Z)(function*(I,C,E){const M=(0,y.m9)(I);fe(M.auth,C,As);const re=Vn(M.auth,E);yield Fo(!1,M,C.providerId),yield Fc(re,M.auth);const he=yield ns(M);return re._openRedirect(M.auth,C,"linkViaRedirect",he)})).apply(this,arguments)}function mt(I,C){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(I,C){return yield wi(I)._initializationPromise,ir(I,C,!1)})).apply(this,arguments)}function ir(I,C){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,s.Z)(function*(I,C,E=!1){const M=wi(I),re=Vn(M,C),Oe=yield new qo(M,re,E).execute();return Oe&&!E&&(delete Oe.user._redirectEventId,yield M._persistUserIfCurrent(Oe.user),yield M._setRedirectUser(null,C)),Oe})).apply(this,arguments)}function ns(I){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,s.Z)(function*(I){const C=jo(`${I.uid}:::`);return I._redirectEventId=C,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),C})).apply(this,arguments)}class zu{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let E=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(C,M)&&(E=!0,this.sendToConsumer(C,M),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function Zo(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ci(I);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=C,E=!0)),E}sendToConsumer(C,E){var M;if(C.error&&!ci(C)){const re=(null===(M=C.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";E.onError(J(this.auth,re))}else E.onAuthEvent(C)}isEventForConsumer(C,E){const M=null===E.eventId||!!C.eventId&&C.eventId===E.eventId;return E.filter.includes(C.type)&&M}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kn(C))}saveEventToCache(C){this.cachedEventUids.add(Kn(C)),this.lastProcessedEventTime=Date.now()}}function Kn(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(C=>C).join("-")}function ci({type:I,error:C}){return"unknown"===I&&"auth/no-auth-event"===C?.code}function Ko(I){return qd.apply(this,arguments)}function qd(){return(qd=(0,s.Z)(function*(I,C={}){return kt(I,"GET","/v1/projects",C)})).apply(this,arguments)}const Lf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wu=/^https?/;function Zd(){return(Zd=(0,s.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:C}=yield Ko(I);for(const E of C)try{if(Wg(E))return}catch{}Y(I,"unauthorized-domain")})).apply(this,arguments)}function Wg(I){const C=Z(),{protocol:E,hostname:M}=new URL(C);if(I.startsWith("chrome-extension://")){const Oe=new URL(I);return""===Oe.hostname&&""===M?"chrome-extension:"===E&&I.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===E&&Oe.hostname===M}if(!Wu.test(E))return!1;if(Lf.test(I))return M===I;const re=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(M)}const qg=new Be(3e4,6e4);function go(){const I=ni().___jsl;if(I?.H)for(const C of Object.keys(I.H))if(I.H[C].r=I.H[C].r||[],I.H[C].L=I.H[C].L||[],I.H[C].r=[...I.H[C].L],I.CP)for(let E=0;E<I.CP.length;E++)I.CP[E]=null}let fn=null;function Kd(I){return fn=fn||function Vs(I){return new Promise((C,E)=>{var M,re,he;function Oe(){go(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{go(),E(J(I,"network-request-failed"))},timeout:qg.get()})}if(null!==(re=null===(M=ni().gapi)||void 0===M?void 0:M.iframes)&&void 0!==re&&re.Iframe)C(gapi.iframes.getContext());else{if(null===(he=ni().gapi)||void 0===he||!he.load){const Ke=Lu("iframefcb");return ni()[Ke]=()=>{gapi.load?Oe():E(J(I,"network-request-failed"))},At(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(gt=>E(gt))}Oe()}}).catch(C=>{throw fn=null,C})}(I),fn}const Zg=new Be(5e3,15e3),Kg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lv(I){const C=I.config;le(C.authDomain,I,"auth-domain-config-required");const E=C.emulator?ot(C,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,M={apiKey:C.apiKey,appName:I.name,v:b.SDK_VERSION},re=Yg.get(I.config.apiHost);re&&(M.eid=re);const he=I._getFrameworks();return he.length&&(M.fw=he.join(",")),`${E}?${(0,y.xO)(M).slice(1)}`}function $a(){return $a=(0,s.Z)(function*(I){const C=yield Kd(I),E=ni().gapi;return le(E,I,"internal-error"),C.open({where:document.body,url:lv(I),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kg,dontclear:!0},M=>new Promise(function(){var re=(0,s.Z)(function*(he,Oe){yield M.restyle({setHideOnLeave:!1});const Ke=J(I,"network-request-failed"),gt=ni().setTimeout(()=>{Oe(Ke)},Zg.get());function Vt(){ni().clearTimeout(gt),he(M)}M.ping(Vt).then(Vt,()=>{Oe(Ke)})});return function(he,Oe){return re.apply(this,arguments)}}()))}),$a.apply(this,arguments)}const Qg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lc{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ku(I,C,E,M,re,he){le(I.config.authDomain,I,"auth-domain-config-required"),le(I.config.apiKey,I,"invalid-api-key");const Oe={apiKey:I.config.apiKey,appName:I.name,authType:E,redirectUrl:M,v:b.SDK_VERSION,eventId:re};if(C instanceof As){C.setDefaultLanguage(I.languageCode),Oe.providerId=C.providerId||"",(0,y.xb)(C.getCustomParameters())||(Oe.customParameters=JSON.stringify(C.getCustomParameters()));for(const[gt,Vt]of Object.entries(he||{}))Oe[gt]=Vt}if(C instanceof xs){const gt=C.getScopes().filter(Vt=>""!==Vt);gt.length>0&&(Oe.scopes=gt.join(","))}I.tenantId&&(Oe.tid=I.tenantId);const Ke=Oe;for(const gt of Object.keys(Ke))void 0===Ke[gt]&&delete Ke[gt];return`${function Jd({config:I}){return I.emulator?ot(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,y.xO)(Ke).slice(1)}`}const Yu="webStorageSupport",Bf=class Jg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xl,this._completeRedirectFn=ir,this._overrideRedirectResult=Fl}_openPopup(C,E,M,re){var he=this;return(0,s.Z)(function*(){var Oe;ye(null===(Oe=he.eventManagers[C._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const Ke=Ku(C,E,M,Z(),re);return function Qd(I,C,E,M=500,re=600){const he=Math.max((window.screen.availHeight-re)/2,0).toString(),Oe=Math.max((window.screen.availWidth-M)/2,0).toString();let Ke="";const gt=Object.assign(Object.assign({},Qg),{width:M.toString(),height:re.toString(),top:he,left:Oe}),Vt=(0,y.z$)().toLowerCase();E&&(Ke=$e(Vt)?"_blank":E),Ee(Vt)&&(C=C||"http://localhost",gt.scrollbars="yes");const nn=Object.entries(gt).reduce((_o,[Bs,za])=>`${_o}${Bs}=${za},`,"");if(function zi(I=(0,y.z$)()){var C;return Gt(I)&&!(null===(C=window.navigator)||void 0===C||!C.standalone)}(Vt)&&"_self"!==Ke)return function Vc(I,C){const E=document.createElement("a");E.href=I,E.target=C;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(M)}(C||"",Ke),new Lc(null);const mi=window.open(C||"",Ke,nn);le(mi,I,"popup-blocked");try{mi.focus()}catch{}return new Lc(mi)}(C,Ke,jo())})()}_openRedirect(C,E,M,re){var he=this;return(0,s.Z)(function*(){return yield he._originValidation(C),function pi(I){ni().location.href=I}(Ku(C,E,M,Z(),re)),new Promise(()=>{})})()}_initialize(C){const E=C._key();if(this.eventManagers[E]){const{manager:re,promise:he}=this.eventManagers[E];return re?Promise.resolve(re):(ye(he,"If manager is not set, promise should be"),he)}const M=this.initAndGetManager(C);return this.eventManagers[E]={promise:M},M.catch(()=>{delete this.eventManagers[E]}),M}initAndGetManager(C){var E=this;return(0,s.Z)(function*(){const M=yield function Vl(I){return $a.apply(this,arguments)}(C),re=new zu(C);return M.register("authEvent",he=>(le(he?.authEvent,C,"invalid-auth-event"),{status:re.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[C._key()]={manager:re},E.iframes[C._key()]=M,re})()}_isIframeWebStorageSupported(C,E){this.iframes[C._key()].send(Yu,{type:Yu},re=>{var he;const Oe=null===(he=re?.[0])||void 0===he?void 0:he[Yu];void 0!==Oe&&E(!!Oe),Y(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const E=C._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function qu(I){return Zd.apply(this,arguments)}(C)),this.originValidationPromises[E]}get _shouldInitProactively(){return Fi()||Te()||Gt()}};class Qu extends class Xg{constructor(C){this.factorId=C}_process(C,E,M){switch(E.type){case"enroll":return this._finalizeEnroll(C,E.credential,M);case"signin":return this._finalizeSignIn(C,E.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Qu(C)}_finalizeEnroll(C,E,M){return function Pc(I,C){return kt(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(I,C))}(C,{idToken:E,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,E){return function Ru(I,C){return kt(I,"POST","/v2/accounts/mfaSignIn:finalize",Ct(I,C))}(C,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uf=(()=>{class I{constructor(){}static assertion(E){return Qu._fromCredential(E)}}return I.FACTOR_ID="phone",I})();var Xd="@firebase/auth";class Bc{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var E=this;return(0,s.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const E=this.auth.onIdTokenChanged(M=>{var re;C((null===(re=M)||void 0===re?void 0:re.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,E),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const E=this.internalListeners.get(C);!E||(this.internalListeners.delete(C),E(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ju(I=(0,b.getApp)()){const C=(0,b._getProvider)(I,"auth");return C.isInitialized()?C.getImmediate():function ie(I,C){const E=(0,b._getProvider)(I,"auth");if(E.isInitialized()){const re=E.getImmediate(),he=E.getOptions();if((0,y.vZ)(he,C??{}))return re;Y(re,"already-initialized")}return E.initialize({options:C})}(I,{popupRedirectResolver:Bf,persistence:[Pl,Fr,xl]})}!function Yo(I){(0,b._registerComponent)(new L.wA("auth",(C,{options:E})=>{const M=C.getProvider("app").getImmediate(),re=C.getProvider("heartbeat"),{apiKey:he,authDomain:Oe}=M.options;return((Ke,gt)=>{le(he&&!he.includes(":"),"invalid-api-key",{appName:Ke.name}),le(!Oe?.includes(":"),"argument-error",{appName:Ke.name});const Vt={apiKey:he,authDomain:Oe,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ya(I)},nn=new tn(Ke,gt,Vt);return function te(I,C){const E=C?.persistence||[],M=(Array.isArray(E)?E:[E]).map(de);C?.errorMap&&I._updateErrorMap(C.errorMap),I._initializeWithPersistence(M,C?.popupRedirectResolver)}(nn,E),nn})(M,re)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,E,M)=>{C.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new L.wA("auth-internal",C=>{const E=wi(C.getProvider("auth").getImmediate());return new Bc(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Xd,"0.20.4",function em(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,b.registerVersion)(Xd,"0.20.4","esm2017")}("Browser")},2090:(d,p,g)=>{"use strict";g.d(p,{$s:()=>ar,BH:()=>W,DV:()=>kt,Dv:()=>jn,G6:()=>le,GJ:()=>yt,L:()=>j,LL:()=>Z,Mn:()=>fe,Pz:()=>Ze,Sg:()=>X,UG:()=>N,UI:()=>sn,US:()=>L,Wj:()=>dn,Yr:()=>we,ZB:()=>V,ZR:()=>te,b$:()=>Y,cI:()=>De,d:()=>J,dS:()=>mr,eu:()=>ye,g5:()=>b,gK:()=>An,gQ:()=>In,h$:()=>H,hl:()=>pe,hu:()=>y,jU:()=>P,lb:()=>Bn,m9:()=>Dn,ne:()=>hi,p$:()=>x,pd:()=>Jn,r3:()=>Ct,ru:()=>q,tV:()=>Q,uI:()=>U,ug:()=>Xt,vZ:()=>Rt,w1:()=>ee,w9:()=>ct,xO:()=>jt,xb:()=>Ht,z$:()=>O,zI:()=>me,zd:()=>Sn});const y=function(Ie,be){if(!Ie)throw b(be)},b=function(Ie){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ie)},A=function(Ie){const be=[];let Me=0;for(let Pe=0;Pe<Ie.length;Pe++){let ve=Ie.charCodeAt(Pe);ve<128?be[Me++]=ve:ve<2048?(be[Me++]=ve>>6|192,be[Me++]=63&ve|128):55296==(64512&ve)&&Pe+1<Ie.length&&56320==(64512&Ie.charCodeAt(Pe+1))?(ve=65536+((1023&ve)<<10)+(1023&Ie.charCodeAt(++Pe)),be[Me++]=ve>>18|240,be[Me++]=ve>>12&63|128,be[Me++]=ve>>6&63|128,be[Me++]=63&ve|128):(be[Me++]=ve>>12|224,be[Me++]=ve>>6&63|128,be[Me++]=63&ve|128)}return be},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,be){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let ve=0;ve<Ie.length;ve+=3){const je=Ie[ve],rt=ve+1<Ie.length,Tt=rt?Ie[ve+1]:0,en=ve+2<Ie.length,vn=en?Ie[ve+2]:0;let Re=(15&Tt)<<2|vn>>6,Ee=63&vn;en||(Ee=64,rt||(Re=64)),Pe.push(Me[je>>2],Me[(3&je)<<4|Tt>>4],Me[Re],Me[Ee])}return Pe.join("")},encodeString(Ie,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Ie):this.encodeByteArray(A(Ie),be)},decodeString(Ie,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Ie):function(Ie){const be=[];let Me=0,Pe=0;for(;Me<Ie.length;){const ve=Ie[Me++];if(ve<128)be[Pe++]=String.fromCharCode(ve);else if(ve>191&&ve<224){const je=Ie[Me++];be[Pe++]=String.fromCharCode((31&ve)<<6|63&je)}else if(ve>239&&ve<365){const en=((7&ve)<<18|(63&Ie[Me++])<<12|(63&Ie[Me++])<<6|63&Ie[Me++])-65536;be[Pe++]=String.fromCharCode(55296+(en>>10)),be[Pe++]=String.fromCharCode(56320+(1023&en))}else{const je=Ie[Me++],rt=Ie[Me++];be[Pe++]=String.fromCharCode((15&ve)<<12|(63&je)<<6|63&rt)}}return be.join("")}(this.decodeStringToByteArray(Ie,be))},decodeStringToByteArray(Ie,be){this.init_();const Me=be?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let ve=0;ve<Ie.length;){const je=Me[Ie.charAt(ve++)],Tt=ve<Ie.length?Me[Ie.charAt(ve)]:0;++ve;const vn=ve<Ie.length?Me[Ie.charAt(ve)]:64;++ve;const un=ve<Ie.length?Me[Ie.charAt(ve)]:64;if(++ve,null==je||null==Tt||null==vn||null==un)throw Error();Pe.push(je<<2|Tt>>4),64!==vn&&(Pe.push(Tt<<4&240|vn>>2),64!==un&&Pe.push(vn<<6&192|un))}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}},H=function(Ie){const be=A(Ie);return L.encodeByteArray(be,!0)},j=function(Ie){return H(Ie).replace(/\./g,"")},Q=function(Ie){try{return L.decodeString(Ie,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function x(Ie){return V(void 0,Ie)}function V(Ie,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return be}for(const Me in be)!be.hasOwnProperty(Me)||!G(Me)||(Ie[Me]=V(Ie[Me],be[Me]));return Ie}function G(Ie){return"__proto__"!==Ie}class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Me)=>{this.resolve=be,this.reject=Me})}wrapCallback(be){return(Me,Pe)=>{Me?this.reject(Me):this.resolve(Pe),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Me):be(Me,Pe))}}}function X(Ie,be){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pe=be||"demo-project",ve=Ie.iat||0,je=Ie.sub||Ie.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:ve,exp:ve+3600,auth_time:ve,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(rt)),""].join(".")}function O(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function U(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function N(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function P(){return"object"==typeof self&&self.self===self}function q(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function Y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function J(){return O().indexOf("Electron/")>=0}function ee(){const Ie=O();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function fe(){return O().indexOf("MSAppHost/")>=0}function we(){return!1}function le(){return!N()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){return"object"==typeof indexedDB}function ye(){return new Promise((Ie,be)=>{try{let Me=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",ve=self.indexedDB.open(Pe);ve.onsuccess=()=>{ve.result.close(),Me||self.indexedDB.deleteDatabase(Pe),Ie(!0)},ve.onupgradeneeded=()=>{Me=!1},ve.onerror=()=>{var je;be((null===(je=ve.error)||void 0===je?void 0:je.message)||"")}}catch(Me){be(Me)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class te extends Error{constructor(be,Me,Pe){super(Me),this.code=be,this.customData=Pe,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(be,Me,Pe){this.service=be,this.serviceName=Me,this.errors=Pe}create(be,...Me){const Pe=Me[0]||{},ve=`${this.service}/${be}`,je=this.errors[be],rt=je?function ae(Ie,be){return Ie.replace(Ne,(Me,Pe)=>{const ve=be[Pe];return null!=ve?String(ve):`<${Pe}?>`})}(je,Pe):"Error";return new te(ve,`${this.serviceName}: ${rt} (${ve}).`,Pe)}}const Ne=/\{\$([^}]+)}/g;function De(Ie){return JSON.parse(Ie)}function Ze(Ie){return JSON.stringify(Ie)}const Be=function(Ie){let be={},Me={},Pe={},ve="";try{const je=Ie.split(".");be=De(Q(je[0])||""),Me=De(Q(je[1])||""),ve=je[2],Pe=Me.d||{},delete Me.d}catch{}return{header:be,claims:Me,data:Pe,signature:ve}},ct=function(Ie){const Me=Be(Ie).claims;return!!Me&&"object"==typeof Me&&Me.hasOwnProperty("iat")},yt=function(Ie){const be=Be(Ie).claims;return"object"==typeof be&&!0===be.admin};function Ct(Ie,be){return Object.prototype.hasOwnProperty.call(Ie,be)}function kt(Ie,be){if(Object.prototype.hasOwnProperty.call(Ie,be))return Ie[be]}function Ht(Ie){for(const be in Ie)if(Object.prototype.hasOwnProperty.call(Ie,be))return!1;return!0}function sn(Ie,be,Me){const Pe={};for(const ve in Ie)Object.prototype.hasOwnProperty.call(Ie,ve)&&(Pe[ve]=be.call(Me,Ie[ve],ve,Ie));return Pe}function Rt(Ie,be){if(Ie===be)return!0;const Me=Object.keys(Ie),Pe=Object.keys(be);for(const ve of Me){if(!Pe.includes(ve))return!1;const je=Ie[ve],rt=be[ve];if(qe(je)&&qe(rt)){if(!Rt(je,rt))return!1}else if(je!==rt)return!1}for(const ve of Pe)if(!Me.includes(ve))return!1;return!0}function qe(Ie){return null!==Ie&&"object"==typeof Ie}function jt(Ie){const be=[];for(const[Me,Pe]of Object.entries(Ie))Array.isArray(Pe)?Pe.forEach(ve=>{be.push(encodeURIComponent(Me)+"="+encodeURIComponent(ve))}):be.push(encodeURIComponent(Me)+"="+encodeURIComponent(Pe));return be.length?"&"+be.join("&"):""}function Sn(Ie){const be={};return Ie.replace(/^\?/,"").split("&").forEach(Pe=>{if(Pe){const[ve,je]=Pe.split("=");be[decodeURIComponent(ve)]=decodeURIComponent(je)}}),be}function Jn(Ie){const be=Ie.indexOf("?");if(!be)return"";const Me=Ie.indexOf("#",be);return Ie.substring(be,Me>0?Me:void 0)}class In{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(be,Me){Me||(Me=0);const Pe=this.W_;if("string"==typeof be)for(let un=0;un<16;un++)Pe[un]=be.charCodeAt(Me)<<24|be.charCodeAt(Me+1)<<16|be.charCodeAt(Me+2)<<8|be.charCodeAt(Me+3),Me+=4;else for(let un=0;un<16;un++)Pe[un]=be[Me]<<24|be[Me+1]<<16|be[Me+2]<<8|be[Me+3],Me+=4;for(let un=16;un<80;un++){const Re=Pe[un-3]^Pe[un-8]^Pe[un-14]^Pe[un-16];Pe[un]=4294967295&(Re<<1|Re>>>31)}let vn,kn,ve=this.chain_[0],je=this.chain_[1],rt=this.chain_[2],Tt=this.chain_[3],en=this.chain_[4];for(let un=0;un<80;un++){un<40?un<20?(vn=Tt^je&(rt^Tt),kn=1518500249):(vn=je^rt^Tt,kn=1859775393):un<60?(vn=je&rt|Tt&(je|rt),kn=2400959708):(vn=je^rt^Tt,kn=3395469782);const Re=(ve<<5|ve>>>27)+vn+en+kn+Pe[un]&4294967295;en=Tt,Tt=rt,rt=4294967295&(je<<30|je>>>2),je=ve,ve=Re}this.chain_[0]=this.chain_[0]+ve&4294967295,this.chain_[1]=this.chain_[1]+je&4294967295,this.chain_[2]=this.chain_[2]+rt&4294967295,this.chain_[3]=this.chain_[3]+Tt&4294967295,this.chain_[4]=this.chain_[4]+en&4294967295}update(be,Me){if(null==be)return;void 0===Me&&(Me=be.length);const Pe=Me-this.blockSize;let ve=0;const je=this.buf_;let rt=this.inbuf_;for(;ve<Me;){if(0===rt)for(;ve<=Pe;)this.compress_(be,ve),ve+=this.blockSize;if("string"==typeof be){for(;ve<Me;)if(je[rt]=be.charCodeAt(ve),++rt,++ve,rt===this.blockSize){this.compress_(je),rt=0;break}}else for(;ve<Me;)if(je[rt]=be[ve],++rt,++ve,rt===this.blockSize){this.compress_(je),rt=0;break}}this.inbuf_=rt,this.total_+=Me}digest(){const be=[];let Me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ve=this.blockSize-1;ve>=56;ve--)this.buf_[ve]=255&Me,Me/=256;this.compress_(this.buf_);let Pe=0;for(let ve=0;ve<5;ve++)for(let je=24;je>=0;je-=8)be[Pe]=this.chain_[ve]>>je&255,++Pe;return be}}function hi(Ie,be){const Me=new bt(Ie,be);return Me.subscribe.bind(Me)}class bt{constructor(be,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{be(this)}).catch(Pe=>{this.error(Pe)})}next(be){this.forEachObserver(Me=>{Me.next(be)})}error(be){this.forEachObserver(Me=>{Me.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Me,Pe){let ve;if(void 0===be&&void 0===Me&&void 0===Pe)throw new Error("Missing Observer.");ve=function ln(Ie,be){if("object"!=typeof Ie||null===Ie)return!1;for(const Me of be)if(Me in Ie&&"function"==typeof Ie[Me])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Me,complete:Pe},void 0===ve.next&&(ve.next=Yt),void 0===ve.error&&(ve.error=Yt),void 0===ve.complete&&(ve.complete=Yt);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ve.error(this.finalError):ve.complete()}catch{}}),this.observers.push(ve),je}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,be)}sendOne(be,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Me(this.observers[be])}catch(Pe){typeof console<"u"&&console.error&&console.error(Pe)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yt(){}const jn=function(Ie,be,Me,Pe){let ve;if(Pe<be?ve="at least "+be:Pe>Me&&(ve=0===Me?"none":"no more than "+Me),ve)throw new Error(Ie+" failed: Was called with "+Pe+(1===Pe?" argument.":" arguments.")+" Expects "+ve+".")};function An(Ie,be){return`${Ie} failed: ${be} argument `}function dn(Ie,be,Me,Pe){if((!Pe||Me)&&"function"!=typeof Me)throw new Error(An(Ie,be)+"must be a valid function.")}function Bn(Ie,be,Me,Pe){if((!Pe||Me)&&("object"!=typeof Me||null===Me))throw new Error(An(Ie,be)+"must be a valid context object.")}const mr=function(Ie){const be=[];let Me=0;for(let Pe=0;Pe<Ie.length;Pe++){let ve=Ie.charCodeAt(Pe);if(ve>=55296&&ve<=56319){const je=ve-55296;Pe++,y(Pe<Ie.length,"Surrogate pair missing trail surrogate."),ve=65536+(je<<10)+(Ie.charCodeAt(Pe)-56320)}ve<128?be[Me++]=ve:ve<2048?(be[Me++]=ve>>6|192,be[Me++]=63&ve|128):ve<65536?(be[Me++]=ve>>12|224,be[Me++]=ve>>6&63|128,be[Me++]=63&ve|128):(be[Me++]=ve>>18|240,be[Me++]=ve>>12&63|128,be[Me++]=ve>>6&63|128,be[Me++]=63&ve|128)}return be},Xt=function(Ie){let be=0;for(let Me=0;Me<Ie.length;Me++){const Pe=Ie.charCodeAt(Me);Pe<128?be++:Pe<2048?be+=2:Pe>=55296&&Pe<=56319?(be+=4,Me++):be+=3}return be};function ar(Ie,be=1e3,Me=2){const Pe=be*Math.pow(Me,Ie),ve=Math.round(.5*Pe*(Math.random()-.5)*2);return Math.min(144e5,Pe+ve)}function Dn(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},9257:(d,p,g)=>{"use strict";var s=g(4650);let y=null;function b(){return y}const H=new s.OlP("DocumentToken");let j=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Q(){return(0,s.LFG)(V)}()},providedIn:"platform"}),n})();const x=new s.OlP("Location Initialized");let V=(()=>{class n extends j{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(t){const i=b().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=b().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){G()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){G()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function W(){return new V((0,s.LFG)(H))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function X(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function O(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function U(n){return n&&"?"!==n[0]?"?"+n:n}let N=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function P(){const n=(0,s.LFG)(H).location;return new Y((0,s.LFG)(j),n&&n.origin||"")}()},providedIn:"root"}),n})();const q=new s.OlP("appBaseHref");let Y=(()=>{class n extends N{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return X(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+U(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const c=this.prepareExternalUrl(r+U(o));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){const c=this.prepareExternalUrl(r+U(o));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(j),s.LFG(q,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),J=(()=>{class n extends N{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=X(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let c=this.prepareExternalUrl(r+U(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,o){let c=this.prepareExternalUrl(r+U(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(j),s.LFG(q,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ee=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=O(le(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+U(i))}normalize(t){return n.stripTrailingSlash(function we(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,le(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+U(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+U(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=U,n.joinWithSlash=X,n.stripTrailingSlash=O,n.\u0275fac=function(t){return new(t||n)(s.LFG(N))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function fe(){return new ee((0,s.LFG)(N))}()},providedIn:"root"}),n})();function le(n){return n.replace(/\/index.html$/,"")}function gc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}let mc=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class va{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new va(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),Ti(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ti(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ti(n,e){n.context.$implicit=e.item}let ti=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new lr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class lr{constructor(){this.$implicit=null,this.ngIf=null}}function gu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}class ko{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let no=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),cr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new ko(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(no,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ba=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),c=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),_r=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[s.TTD]}),n})(),Mn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const fi="browser";function _l(n){return n===fi}function yu(n){return"server"===n}let If=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new On((0,s.LFG)(H),window)}),n})();class On{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yl(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ro(this.window.history)||Ro(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ro(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fo{}class Sa extends class qn extends class L{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function F(n){y||(y=n)}(new Sa)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Lo(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}();return null==t?null:function Ec(n){Si=Si||document.createElement("a"),Si.setAttribute("href",n);const e=Si.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gc(document.cookie,e)}}let Si,Ia=null;const ri=new s.OlP("TRANSITION_ID"),Zi=[{provide:s.ip1,useFactory:function Vo(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const i=b(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[ri,H,s.zs3],multi:!0}];let Bo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const vl=new s.OlP("EventManagerPlugins");let ur=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class bl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=b().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let ro=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Lt=(()=>{class n extends ro{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Da),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Da))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Da(n){b().remove(n)}const Cl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wu=/%COMP%/g;function on(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?on(n,r,t):(r=r.replace(wu,n),t.push(r))}return t}function Tu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let si=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Uo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Su(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case s.ifc.ShadowDom:return new Af(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=on(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ur),s.LFG(Lt),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Cl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ma(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ma(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Cl[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Cl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,i,r&s.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Tu(i)):this.eventManager.addEventListener(e,t,Tu(i))}}function Ma(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Su extends Uo{constructor(e,t,i,r){super(e),this.component=i;const o=on(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function wl(n){return"_ngcontent-%COMP%".replace(wu,n)}(r+"-"+i.id),this.hostAttr=function Je(n){return"_nghost-%COMP%".replace(wu,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Af extends Uo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=on(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Iu=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Du=["alt","control","meta","shift"],nr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hs=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>b().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="";if(Du.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),c+=_+".")}),c+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(t){let i="",r=function Ms(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&vr.hasOwnProperty(e)&&(e=vr[e]))}return nr[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Du.forEach(o=>{o!=r&&Bd[o](t)&&(i+=o+".")}),i+=r,i}static eventCallback(t,i,r){return o=>{n.getEventFullKey(o)===t&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Na=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:fi},{provide:s.g9A,useValue:function xf(){Sa.makeCurrent()},multi:!0},{provide:H,useFactory:function Au(){return(0,s.RDi)(document),document},deps:[]}]),Sl=new s.OlP(""),Sc=[{provide:s.rWj,useClass:class Cu{addToWindow(e){s.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(_){c=c||_,o--,0==o&&i(c)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?b().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],fs=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Go(){return new s.qLn},deps:[]},{provide:vl,useClass:Iu,multi:!0,deps:[H,s.R0b,s.Lbi]},{provide:vl,useClass:hs,multi:!0,deps:[H]},{provide:si,useClass:si,deps:[ur,Lt,s.AFp]},{provide:s.FYo,useExisting:si},{provide:ro,useExisting:Lt},{provide:Lt,useClass:Lt,deps:[H]},{provide:ur,useClass:ur,deps:[vl,s.R0b]},{provide:Fo,useClass:Bo,deps:[]},[]];let Ic=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:ri,useExisting:s.AFp},Zi]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Sl,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...fs,...Sc],imports:[Mn,s.hGG]}),n})(),Ac=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Dc(){return new Ac((0,s.LFG)(H))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var Zn=g(7579);const ni=["*"];let pi=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Ra=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[pi.STARTS_WITH,pi.CONTAINS,pi.NOT_CONTAINS,pi.ENDS_WITH,pi.EQUALS,pi.NOT_EQUALS],numeric:[pi.EQUALS,pi.NOT_EQUALS,pi.LESS_THAN,pi.LESS_THAN_OR_EQUAL_TO,pi.GREATER_THAN,pi.GREATER_THAN_OR_EQUAL_TO],date:[pi.DATE_IS,pi.DATE_IS_NOT,pi.DATE_BEFORE,pi.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Zn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:ni,decls:1,vars:0,template:function(t,i){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:ni,decls:1,vars:0,template:function(t,i){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),$o=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();var Rn=g(8996),Lr=g(3269);function Dt(...n){const e=(0,Lr.yG)(n);return(0,Rn.D)(n,e)}class gi extends Zn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var Di=g(8306);const{isArray:$g}=Array,{getPrototypeOf:Pl,prototype:Nl,keys:Ru}=Object;function Fu(n){if(1===n.length){const e=n[0];if($g(e))return{args:e,keys:null};if(function Ba(n){return n&&"object"==typeof n&&Pl(n)===Nl}(e)){const t=Ru(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var es=g(4671),At=g(4004);const{isArray:Lu}=Array;function Vu(n){return(0,At.U)(e=>function kl(n,e){return Lu(e)?n(...e):n(e)}(n,e))}function co(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var ii=g(5403),Ua=g(9672);function Ns(...n){const e=(0,Lr.yG)(n),t=(0,Lr.jO)(n),{args:i,keys:r}=Fu(n);if(0===i.length)return(0,Rn.D)([],e);const o=new Di.y(function gs(n,e,t=es.y){return i=>{jd(e,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let _=0;_<r;_++)jd(e,()=>{const w=(0,Rn.D)(n[_],e);let S=!1;w.subscribe((0,ii.x)(i,k=>{o[_]=k,S||(S=!0,h--),h||i.next(t(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>co(r,c):es.y));return t?o.pipe(Vu(t)):o}function jd(n,e,t){n?(0,Ua.f)(t,n,e):e()}var ts=g(576);function ks(n,e){const t=(0,ts.m)(n)?n:()=>n,i=r=>r.error(t());return new Di.y(e?r=>e.schedule(i,0,r):i)}const Ol=(0,g(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bn=g(8189);function Rc(...n){return function $d(){return(0,bn.J)(1)}()((0,Rn.D)(n,(0,Lr.yG)(n)))}var Os=g(8421);function Bu(n){return new Di.y(e=>{(0,Os.Xf)(n()).subscribe(e)})}var zo=g(515),Uu=g(727),Ki=g(4482);function uo(){return(0,Ki.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ii.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Rf extends Di.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ki.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ii.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uu.w0.EMPTY)}return e}refCount(){return uo()(this)}}function ai(n,e){return(0,Ki.e)((t,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,ii.x)(i,_=>{r?.unsubscribe();let w=0;const S=o++;(0,Os.Xf)(n(_,S)).subscribe(r=(0,ii.x)(i,k=>i.next(e?e(_,k,S,w++):k),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var hn=g(5698);function Ir(...n){const e=(0,Lr.yG)(n);return(0,Ki.e)((t,i)=>{(e?Rc(n,t,e):Rc(n,t)).subscribe(i)})}function Ha(n,e,t,i,r){return(o,c)=>{let h=t,_=e,w=0;o.subscribe((0,ii.x)(c,S=>{const k=w++;_=h?n(_,S,k):(h=!0,S),i&&c.next(_)},r&&(()=>{h&&c.next(_),c.complete()})))}}function ho(n,e){return(0,Ki.e)(Ha(n,e,arguments.length>=2,!0))}function Ai(n,e){return(0,Ki.e)((t,i)=>{let r=0;t.subscribe((0,ii.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Vn(n){return(0,Ki.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,ii.x)(t,void 0,void 0,c=>{o=(0,Os.Xf)(n(c,Vn(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}var Pn=g(5577);function Rs(n,e){return(0,ts.m)(e)?(0,Pn.z)(n,e,1):(0,Pn.z)(n,1)}function fo(n){return n<=0?()=>zo.E:(0,Ki.e)((e,t)=>{let i=[];e.subscribe((0,ii.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function po(n=Ga){return(0,Ki.e)((e,t)=>{let i=!1;e.subscribe((0,ii.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Ga(){return new Ol}function Hu(n){return(0,Ki.e)((e,t)=>{let i=!1;e.subscribe((0,ii.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ja(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ai((r,o)=>n(r,o,i)):es.y,(0,hn.q)(1),t?Hu(e):po(()=>new Ol))}var xi=g(8505);function li(n){return(0,Ki.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Vr{constructor(e,t){this.id=e,this.url=t}}class ms extends Vr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wo extends Vr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fs extends Vr{constructor(e,t,i){super(e,t),this.reason=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rl extends Vr{constructor(e,t,i){super(e,t),this.error=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qo extends Vr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ff extends Vr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zd extends Vr{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fc extends Vr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ju extends Vr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $u{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fl{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class B{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ${constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _e{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ae{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class at{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Mt(n){return new at(n)}const Zt="ngNavigationCancelingError";function Qt(n){const e=Error("NavigationCancelingError: "+n);return e[Zt]=!0,e}function Mi(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Yi(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!ns(n[r],e[r]))return!1;return!0}function ns(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Ls(n){return Array.prototype.concat.apply([],n)}function Wd(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ci(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):Dt(n)}const Ko={exact:function qu(n,e,t){if(!Ll(n.segments,e.segments)||!go(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!qu(n.children[i],e.children[i],t))return!1;return!0},subset:Wg},qd={exact:function Wu(n,e){return Yi(n,e)},subset:function Zd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ns(n[t],e[t]))},ignored:()=>!0};function Lf(n,e,t){return Ko[t.paths](n.root,e.root,t.matrixParams)&&qd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Wg(n,e,t){return qg(n,e,e.segments,t)}function qg(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ll(r,t)||e.hasChildren()||!go(r,t,i))}if(n.segments.length===t.length){if(!Ll(n.segments,t)||!go(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Wg(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ll(n.segments,r)&&go(n.segments,r,i)&&n.children[Ve])&&qg(n.children[Ve],e,o,i)}}function go(n,e,t){return e.every((i,r)=>qd[t](n[r].parameters,i.parameters))}class Vs{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mt(this.queryParams)),this._queryParamMap}toString(){return lv.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vl(this)}}class Kd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Mt(this.parameters)),this._parameterMap}toString(){return Qd(this)}}function Ll(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Kg{}class Yg{parse(e){const t=new Xg(e);return new Vs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$a(e.root,!0)}`,i=function cv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Zu(t)}=${Zu(r)}`).join("&"):`${Zu(t)}=${Zu(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function XC(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lv=new Yg;function Vl(n){return n.segments.map(e=>Qd(e)).join("/")}function $a(n,e){if(!n.hasChildren())return Vl(n);if(e){const t=n.children[Ve]?$a(n.children[Ve],!1):"",i=[];return Kn(n.children,(r,o)=>{o!==Ve&&i.push(`${o}:${$a(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function JC(n,e){let t=[];return Kn(n.children,(i,r)=>{r===Ve&&(t=t.concat(e(i,r)))}),Kn(n.children,(i,r)=>{r!==Ve&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ve?[$a(n.children[Ve],!1)]:[`${r}:${$a(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ve]?`${Vl(n)}/${t[0]}`:`${Vl(n)}/(${t.join("//")})`}}function Qg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(n){return Qg(n).replace(/%3B/gi,";")}function Yd(n){return Qg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vf(n){return decodeURIComponent(n)}function Lc(n){return Vf(n.replace(/\+/g,"%20"))}function Qd(n){return`${Yd(n.path)}${function Vc(n){return Object.keys(n).map(e=>`;${Yd(e)}=${Yd(n[e])}`).join("")}(n.parameters)}`}const uv=/^[^\/()?;=#]+/;function Ku(n){const e=n.match(uv);return e?e[0]:""}const Jd=/^[^=?&#]+/,Jg=/^[^&#]+/;class Xg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ve]=new fn(e,t)),i}parseSegment(){const e=Ku(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Kd(Vf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ku(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ku(this.remaining);r&&(i=r,this.capture(i))}e[Vf(t)]=Vf(i)}parseQueryParam(e){const t=function Yu(n){const e=n.match(Jd);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Bf(n){const e=n.match(Jg);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Lc(t),o=Lc(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ku(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ve);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[Ve]:new fn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Qu{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Uf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Uf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Xd(e,this._root).map(t=>t.value)}}function Uf(n,e){if(n===e.value)return e;for(const t of e.children){const i=Uf(n,t);if(i)return i}return null}function Xd(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Xd(n,t);if(i.length)return i.unshift(e),i}return[]}class mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class em extends Qu{constructor(e,t){super(e),this.snapshot=t,he(this,e)}toString(){return this.snapshot.toString()}}function Yo(n,e){const t=function Ju(n,e){const c=new M([],{},{},"",{},Ve,e,null,n.root,-1,{});return new re("",new mo(c,[]))}(n,e),i=new gi([new Kd("",{})]),r=new gi({}),o=new gi({}),c=new gi({}),h=new gi(""),_=new I(i,r,c,h,o,Ve,e,t.root);return _.snapshot=t.root,new em(new mo(_,[]),t)}class I{constructor(e,t,i,r,o,c,h,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>Mt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>Mt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function C(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function E(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class M{constructor(e,t,i,r,o,c,h,_,w,S,k,K){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=S,this._correctedLastPathIndex=K??S,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class re extends Qu{constructor(e,t){super(t),this.url=e,he(this,t)}toString(){return Oe(this._root)}}function he(n,e){e.value._routerState=n,e.children.forEach(t=>he(n,t))}function Oe(n){const e=n.children.length>0?` { ${n.children.map(Oe).join(", ")} } `:"";return`${n.value}${e}`}function Ke(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yi(e.params,t.params)||n.params.next(t.params),function ir(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gt(n,e){const t=Yi(n.params,e.params)&&function Zg(n,e){return Ll(n,e)&&n.every((t,i)=>Yi(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gt(n.parent,e.parent))}function nn(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function mi(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return nn(n,i,r);return nn(n,i)})}(n,e,t);return new mo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>nn(n,h)),c}}const i=function _o(n){return new I(new gi(n.url),new gi(n.params),new gi(n.queryParams),new gi(n.fragment),new gi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>nn(n,o));return new mo(i,r)}}function za(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dr(n){return"object"==typeof n&&null!=n&&n.outlets}function Qo(n,e,t,i,r){let o={};if(i&&Kn(i,(h,_)=>{o[_]=Array.isArray(h)?h.map(w=>`${w}`):`${h}`}),n===e)return new Vs(t,o,r);const c=eh(n,e,t);return new Vs(c,o,r)}function eh(n,e,t){const i={};return Kn(n.children,(r,o)=>{i[o]=r===e?t:eh(r,e,t)}),new fn(n.segments,i)}class th{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&za(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Dr);if(r&&r!==Wd(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hf{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function rh(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Wa(n,e,t);const i=function ew(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const c=n.segments[r],h=t[i];if(Dr(h))break;const _=`${h}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!rw(_,w,c))return o;i+=2}else{if(!rw(_,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new fn(n.segments.slice(0,i.pathIndex),{});return o.children[Ve]=new fn(n.segments.slice(i.pathIndex),n.children),Wa(o,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?tw(n,e,t):i.match?Wa(n,0,r):tw(n,e,t)}function Wa(n,e,t){if(0===t.length)return new fn(n.segments,{});{const i=function ih(n){return Dr(n[0])?n[0].outlets:{[Ve]:n}}(t),r={};return Kn(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=rh(n.children[c],e,o))}),Kn(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new fn(n.segments,r)}}function tw(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Dr(o)){const _=nw(o.outlets);return new fn(i,_)}if(0===r&&za(t[0])){i.push(new Kd(n.segments[e].path,iw(t[0]))),r++;continue}const c=Dr(o)?o.outlets[Ve]:`${o}`,h=r<t.length-1?t[r+1]:null;c&&h&&za(h)?(i.push(new Kd(c,iw(h))),r+=2):(i.push(new Kd(c,{})),r++)}return new fn(i,{})}function nw(n){const e={};return Kn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=tw(new fn([],{}),0,t))}),e}function iw(n){const e={};return Kn(n,(t,i)=>e[i]=`${t}`),e}function rw(n,e,t){return n==t.path&&Yi(e,t.parameters)}class cA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gf,this.attachRef=null}}class Gf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new cA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let nm=(()=>{class n{constructor(t,i,r,o,c){this.parentContexts=t,this.location=i,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||Ve,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new im(t,h,r.injector);if(i&&function uA(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(c);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(c,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Gf),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class im{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===I?this.route:e===Gf?this.childContexts:this.parent.get(e,t)}}let rm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&s._UZ(0,"router-outlet")},dependencies:[nm],encapsulation:2}),n})();function sw(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hv(n){const e=n.children&&n.children.map(hv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ve&&(t.component=rm),t}function yo(n){return n.outlet||Ve}function pA(n,e){const t=n.filter(i=>yo(i)===e);return t.push(...n.filter(i=>yo(i)!==e)),t}function gA(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fv{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ke(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Bc(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),Kn(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Bc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Bc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Bc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _e(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(Ke(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Ke(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=gA(r.snapshot),_=h?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=_,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}function Uc(n){return"function"==typeof n}function Jo(n){return n instanceof Vs}const $f=Symbol("INITIAL_VALUE");function zf(){return ai(n=>Ns(n.map(e=>e.pipe((0,hn.q)(1),Ir($f)))).pipe(ho((e,t)=>{let i=!1;return t.reduce((r,o,c)=>r!==$f?r:(o===$f&&(i=!0),i||!1!==o&&c!==t.length-1&&!Jo(o)?r:o),e)},$f),Ai(e=>e!==$f),(0,At.U)(e=>Jo(e)?e:!0===e),(0,hn.q)(1)))}const lw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function om(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...lw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Mi)(t,n,e);if(!r)return{...lw};const o={};Kn(r.posParams,(h,_)=>{o[_]=h.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function sh(n,e,t,i,r="corrected"){if(t.length>0&&function CA(n,e,t){return t.some(i=>am(n,e,i)&&yo(i)!==Ve)}(n,t,i)){const c=new fn(e,function bA(n,e,t,i){const r={};r[Ve]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&yo(o)!==Ve){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[yo(o)]=c}return r}(n,e,i,new fn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function cw(n,e,t){return t.some(i=>am(n,e,i))}(n,t,i)){const c=new fn(n.segments,function vA(n,e,t,i,r,o){const c={};for(const h of i)if(am(n,t,h)&&!r[yo(h)]){const _=new fn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:e.length,c[yo(h)]=_}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const o=new fn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function am(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function uw(n,e,t,i){return!!(yo(n)===i||i!==Ve&&am(e,t,n))&&("**"===n.path||om(e,n,t).matched)}function Br(n,e,t){return 0===e.length&&!n.children[t]}class oh{constructor(e){this.segmentGroup=e||null}}class gv{constructor(e){this.urlTree=e}}function Xu(n){return ks(new oh(n))}function Ar(n){return ks(new gv(n))}class EA{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=sh(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ve).pipe((0,At.U)(o=>this.createUrlTree(_v(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vn(o=>{if(o instanceof gv)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof oh?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ve).pipe((0,At.U)(r=>this.createUrlTree(_v(r),e.queryParams,e.fragment))).pipe(Vn(r=>{throw r instanceof oh?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new fn([],{[Ve]:e}):e;return new Vs(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,At.U)(o=>new fn([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Rn.D)(r).pipe(Rs(o=>{const c=i.children[o],h=pA(t,o);return this.expandSegmentGroup(e,h,c,o).pipe((0,At.U)(_=>({segment:_,outlet:o})))}),ho((o,c)=>(o[c.outlet]=c.segment,o),{}),function zg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ai((r,o)=>n(r,o,i)):es.y,fo(1),t?Hu(e):po(()=>new Ol))}())}expandSegment(e,t,i,r,o,c){return(0,Rn.D)(i).pipe(Rs(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,o,c).pipe(Vn(w=>{if(w instanceof oh)return Dt(null);throw w}))),ja(h=>!!h),Vn((h,_)=>{if(h instanceof Ol||"EmptyError"===h.name)return Br(t,r,o)?Dt(new fn([],{})):Xu(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,o,c,h){return uw(r,t,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c):Xu(t):Xu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ar(o):this.lineralizeSegments(i,o).pipe((0,Pn.z)(c=>{const h=new fn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,c){const{matched:h,consumedSegments:_,remainingSegments:w,positionalParamSegments:S}=om(t,r,o);if(!h)return Xu(t);const k=this.applyRedirectCommands(_,r.redirectTo,S);return r.redirectTo.startsWith("/")?Ar(k):this.lineralizeSegments(r,k).pipe((0,Pn.z)(K=>this.expandSegment(e,t,i,K.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){if("**"===i.path)return e=sw(i,e),i.loadChildren?(i._loadedRoutes?Dt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,At.U)(k=>(i._loadedRoutes=k.routes,i._loadedInjector=k.injector,new fn(r,{})))):Dt(new fn(r,{}));const{matched:c,consumedSegments:h,remainingSegments:_}=om(t,i,r);return c?(e=sw(i,e),this.getChildConfig(e,i,r).pipe((0,Pn.z)(S=>{const k=S.injector??e,K=S.routes,{segmentGroup:ne,slicedSegments:ue}=sh(t,h,_,K),Ce=new fn(ne.segments,ne.children);if(0===ue.length&&Ce.hasChildren())return this.expandChildren(k,K,Ce).pipe((0,At.U)(et=>new fn(h,et)));if(0===K.length&&0===ue.length)return Dt(new fn(h,{}));const xe=yo(i)===o;return this.expandSegment(k,Ce,K,ue,xe?Ve:o,!0).pipe((0,At.U)(We=>new fn(h.concat(We.segments),We.children)))}))):Xu(t)}getChildConfig(e,t,i){return t.children?Dt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Dt({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,i).pipe((0,Pn.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,xi.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function mv(n){return ks(Qt(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Dt({routes:[],injector:e})}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?Dt(r.map(c=>{const h=e.get(c);let _;if(function mA(n){return n&&Uc(n.canLoad)}(h))_=h.canLoad(t,i);else{if(!Uc(h))throw new Error("Invalid CanLoad guard");_=h(t,i)}return ci(_)})).pipe(zf(),(0,xi.b)(c=>{if(!Jo(c))return;const h=Qt(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,At.U)(c=>!0===c)):Dt(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Dt(i);if(r.numberOfChildren>1||!r.children[Ve])return ks(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Ve]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Vs(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Kn(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let c={};return Kn(t.children,(h,_)=>{c[_]=this.createSegmentGroup(e,h,i,r)}),new fn(o,c)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function _v(n){const e={};for(const i of Object.keys(n.children)){const o=_v(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function dw(n){if(1===n.numberOfChildren&&n.children[Ve]){const e=n.children[Ve];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}class fw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qf{constructor(e,t){this.component=e,this.route=t}}function TA(n,e,t){const i=n._root;return Zf(i,e?e._root:null,t,[i.value])}function lm(n,e,t){return(gA(e)??t).get(n)}function Zf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bc(e);return n.children.forEach(c=>{(function IA(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const _=function DA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ll(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ll(n.url,e.url)||!Yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gt(n,e)||!Yi(n.queryParams,e.queryParams);default:return!gt(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new fw(i)):(o.data=c.data,o._resolvedData=c._resolvedData),Zf(n,e,o.component?h?h.children:null:t,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new qf(h.outlet.component,c))}else c&&qa(e,h,r),r.canActivateChecks.push(new fw(i)),Zf(n,null,o.component?h?h.children:null:t,i,r)})(c,o[c.value.outlet],t,i.concat([c.value]),r),delete o[c.value.outlet]}),Kn(o,(c,h)=>qa(c,t.getContext(h),r)),r}function qa(n,e,t){const i=Bc(n),r=n.value;Kn(i,(o,c)=>{qa(o,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new qf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class xA{}function vv(n){return new Di.y(e=>e.error(n))}class gw{constructor(e,t,i,r,o,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=c}recognize(){const e=sh(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ve);if(null===t)return null;const i=new M([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mo(i,t),o=new re(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,i=C(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const o of Object.keys(t.children)){const c=t.children[o],h=pA(e,o),_=this.processSegmentGroup(h,c,o);if(null===_)return null;i.push(..._)}const r=wv(i);return function mw(n){n.sort((e,t)=>e.value.outlet===Ve?-1:t.value.outlet===Ve?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const o of e){const c=this.processSegmentAgainstRoute(o,t,i,r);if(null!==c)return c}return Br(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!uw(e,t,i,r))return null;let o,c=[],h=[];if("**"===e.path){const ne=i.length>0?Wd(i).parameters:{},ue=um(t)+i.length;o=new M(i,ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_w(e),yo(e),e.component??e._loadedComponent??null,e,ed(t),ue,dm(e),ue)}else{const ne=om(t,e,i);if(!ne.matched)return null;c=ne.consumedSegments,h=ne.remainingSegments;const ue=um(t)+c.length;o=new M(c,ne.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_w(e),yo(e),e.component??e._loadedComponent??null,e,ed(t),ue,dm(e),ue)}const _=function bv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:w,slicedSegments:S}=sh(t,c,h,_.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===S.length&&w.hasChildren()){const ne=this.processChildren(_,w);return null===ne?null:[new mo(o,ne)]}if(0===_.length&&0===S.length)return[new mo(o,[])];const k=yo(e)===r,K=this.processSegment(_,w,S,k?Ve:r);return null===K?null:[new mo(o,K)]}}function Cv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wv(n){const e=[],t=new Set;for(const i of n){if(!Cv(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=wv(i.children);e.push(new mo(i.value,r))}return e.filter(i=>!t.has(i))}function ed(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function um(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function _w(n){return n.data||{}}function dm(n){return n.resolve||{}}const Tv=Symbol("RouteTitle");function PA(n,e){return(0,Pn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Dt(t);let o=0;return(0,Rn.D)(r).pipe(Rs(c=>function NA(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!hm(r)&&(o[Tv]=r.title),function kA(n,e,t,i){const r=function OA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Dt({});const o={};return(0,Rn.D)(r).pipe((0,Pn.z)(c=>function yw(n,e,t,i){const r=lm(n,e,i);return ci(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe(ja(),(0,xi.b)(h=>{o[c]=h}))),fo(1),function Gu(n){return(0,At.U)(()=>n)}(o),Vn(c=>c instanceof Ol?zo.E:ks(c)))}(o,n,e,i).pipe((0,At.U)(c=>(n._resolvedData=c,n.data=C(n,t).resolve,r&&hm(r)&&(n.data[Tv]=r.title),null)))}(c.route,i,n,e)),(0,xi.b)(()=>o++),fo(1),(0,Pn.z)(c=>o===r.length?Dt(t):zo.E))})}function hm(n){return"string"==typeof n.title||null===n.title}function fm(n){return ai(e=>{const t=n(e);return t?(0,Rn.D)(t).pipe((0,At.U)(()=>e)):Dt(e)})}class FA extends class RA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pm=new s.OlP("ROUTES");let Ul=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ci(t.loadComponent()).pipe((0,xi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),li(()=>{this.componentLoaders.delete(t)})),r=new Rf(i,()=>new Zn.x).pipe(uo());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Dt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,At.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,S=!1;Array.isArray(h)?w=h:(_=h.create(t).injector,w=Ls(_.get(pm,[],s.XFs.Self|s.XFs.Optional)));return{routes:w.map(hv),injector:_}}),li(()=>{this.childrenLoaders.delete(i)})),c=new Rf(o,()=>new Zn.x).pipe(uo());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return ci(t()).pipe((0,Pn.z)(i=>i instanceof s.YKP||Array.isArray(i)?Dt(i):(0,Rn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class bw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Cw(n){throw n}function gm(n,e,t){return e.parse("/")}const VA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ww={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ui=(()=>{class n{constructor(t,i,r,o,c,h,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zn.x,this.errorHandler=Cw,this.malformedUriErrorHandler=gm,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Dt(void 0),this.urlHandlingStrategy=new bw,this.routeReuseStrategy=new FA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Ul),this.configLoader.onLoadEndListener=K=>this.triggerEvent(new Fl(K)),this.configLoader.onLoadStartListener=K=>this.triggerEvent(new $u(K)),this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const k=c.get(s.R0b);this.isNgZoneEnabled=k instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Zo(){return new Vs(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yo(this.currentUrlTree,this.rootComponentType),this.transitions=new gi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ai(r=>0!==r.id),(0,At.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ai(r=>{let o=!1,c=!1;return Dt(r).pipe((0,xi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ai(h=>{const _=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return mm(h.source)&&(this.browserUrlTree=h.extractedUrl),Dt(h).pipe(ai(k=>{const K=this.transitions.getValue();return i.next(new ms(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),K!==this.transitions.getValue()?zo.E:Promise.resolve(k)}),function hw(n,e,t,i){return ai(r=>function wA(n,e,t,i,r){return new EA(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,At.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xi.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects}}),function MA(n,e,t,i,r){return(0,Pn.z)(o=>function Kf(n,e,t,i,r="emptyOnly",o="legacy"){try{const c=new gw(n,e,t,i,r,o).recognize();return null===c?vv(new xA):Dt(c)}catch(c){return vv(c)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),i,r).pipe((0,At.U)(c=>({...o,targetSnapshot:c}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xi.b)(k=>{if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(ne,k)}this.browserUrlTree=k.urlAfterRedirects}const K=new qo(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);i.next(K)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:K,extractedUrl:ne,source:ue,restoredState:Ce,extras:xe}=h,He=new ms(K,this.serializeUrl(ne),ue,Ce);i.next(He);const We=Yo(ne,this.rootComponentType).snapshot;return Dt({...h,targetSnapshot:We,urlAfterRedirects:ne,extras:{...xe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),zo.E}),(0,xi.b)(h=>{const _=new Ff(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,At.U)(h=>({...h,guards:TA(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function Bl(n,e){return(0,Pn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?Dt({...t,guardsResult:!0}):function AA(n,e,t,i){return(0,Rn.D)(n).pipe((0,Pn.z)(r=>function yv(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Dt(o.map(h=>{const _=lm(h,e,r);let w;if(function aw(n){return n&&Uc(n.canDeactivate)}(_))w=ci(_.canDeactivate(n,e,t,i));else{if(!Uc(_))throw new Error("Invalid CanDeactivate guard");w=ci(_(n,e,t,i))}return w.pipe(ja())})).pipe(zf()):Dt(!0)}(r.component,r.route,t,e,i)),ja(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Pn.z)(h=>h&&function pv(n){return"boolean"==typeof n}(h)?function zF(n,e,t,i){return(0,Rn.D)(e).pipe(Rs(r=>Rc(function pw(n,e){return null!==n&&e&&e(new B(n)),Dt(!0)}(r.route.parent,i),function WF(n,e){return null!==n&&e&&e(new oe(n)),Dt(!0)}(r.route,i),function Za(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function SA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Bu(()=>Dt(c.guards.map(_=>{const w=lm(_,c.node,t);let S;if(function yA(n){return n&&Uc(n.canActivateChild)}(w))S=ci(w.canActivateChild(i,n));else{if(!Uc(w))throw new Error("Invalid CanActivateChild guard");S=ci(w(i,n))}return S.pipe(ja())})).pipe(zf())));return Dt(o).pipe(zf())}(n,r.path,t),function qF(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Dt(!0);const r=i.map(o=>Bu(()=>{const c=lm(o,e,t);let h;if(function _A(n){return n&&Uc(n.canActivate)}(c))h=ci(c.canActivate(e,n));else{if(!Uc(c))throw new Error("Invalid CanActivate guard");h=ci(c(e,n))}return h.pipe(ja())}));return Dt(r).pipe(zf())}(n,r.route,t))),ja(r=>!0!==r,!0))}(i,o,n,e):Dt(h)),(0,At.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,xi.b)(h=>{if(Jo(h.guardsResult)){const w=Qt(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw w.url=h.guardsResult,w}const _=new zd(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),Ai(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),fm(h=>{if(h.guards.canActivateChecks.length)return Dt(h).pipe((0,xi.b)(_=>{const w=new Fc(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),ai(_=>{let w=!1;return Dt(_).pipe(PA(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xi.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,xi.b)(_=>{const w=new ju(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),fm(()=>this.afterPreactivation()),fm(h=>{const _=w=>{const S=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,xi.b)(k=>{w.component=k}),(0,At.U)(()=>{})));for(const k of w.children)S.push(..._(k));return S};return Ns(_(h.targetSnapshot.root)).pipe(Hu(),(0,hn.q)(1))}),(0,At.U)(h=>{const _=function Vt(n,e,t){const i=nn(n,e._root,t?t._root:void 0);return new em(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return{...h,targetRouterState:_}}),(0,xi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(i=>(new fv(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,xi.b)({next(){o=!0},complete(){o=!0}}),li(()=>{o||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Vn(h=>{if(c=!0,function mt(n){return n&&n[Zt]}(h)){const _=Jo(h.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const w=new Fs(r.id,this.serializeUrl(r.extractedUrl),h.message);if(i.next(w),_){const S=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),k={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mm(r.source)};this.scheduleNavigation(S,"imperative",null,k,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Rl(r.id,this.serializeUrl(r.extractedUrl),h);i.next(_);try{r.resolve(this.errorHandler(h))}catch(w){r.reject(w)}}return zo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(hv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:_}=i,w=r||this.routerState.root,S=_?this.currentUrlTree.fragment:c;let k=null;switch(h){case"merge":k={...this.currentUrlTree.queryParams,...o};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=o||null}return null!==k&&(k=this.removeEmptyProps(k)),function Bs(n,e,t,i,r){if(0===t.length)return Qo(e.root,e.root,e.root,i,r);const o=function nh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new th(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Kn(o.outlets,(_,w)=>{h[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new th(t,e,i)}(t);return o.toRoot()?Qo(e.root,e.root,new fn([],{}),i,r):function c(_){const w=function dv(n,e,t,i){return n.isAbsolute?new Hf(e.root,!0,0):-1===i?new Hf(t,t===e.root,0):function tm(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Hf(i,!1,r-o)}(t,i+(za(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,_),S=w.processChildren?Wa(w.segmentGroup,w.index,o.commands):rh(w.segmentGroup,w.index,o.commands);return Qo(e.root,w.segmentGroup,S,i,r)}(n.snapshot?._lastPathIndex)}(w,this.currentUrlTree,t,k,S??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Jo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Ew(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...VA}:!1===i?{...ww}:i,Jo(t))return Lf(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Lf(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Wo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let h,_,w;c?(h=c.resolve,_=c.reject,w=c.promise):w=new Promise((K,ne)=>{h=K,_=ne});const S=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),k=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:S,targetPageId:k,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:h,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(K=>Promise.reject(K))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Fs(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function mm(n){return"imperative"!==n}let _m=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.commands=null,this.onChanges=new Zn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui),s.Y36(I),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),Hc=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Zn.x,this.subscription=t.events.subscribe(o=>{o instanceof Wo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,c){if(0!==t||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui),s.Y36(I),s.Y36(N))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),Yf=(()=>{class n{constructor(t,i,r,o,c,h){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Wo&&this.update()})}ngAfterContentInit(){Dt(this.links.changes,this.linksWithHrefs.changes,Dt(null)).pipe((0,bn.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Rn.D)(t).pipe((0,bn.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function Tw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(_m,8),s.Y36(Hc,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(s.Suo(r,_m,5),s.Suo(r,Hc,5)),2&t){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class ym{buildTitle(e){let t,i=e.root;for(;void 0!==i;)t=this.getResolvedTitleForRoute(i)??t,i=i.children.find(r=>r.outlet===Ve);return t}getResolvedTitleForRoute(e){return e.data[Tv]}}let Sw=(()=>{class n extends ym{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ac))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vm{}let Dv=(()=>{class n{constructor(t,i,r,o,c){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof Wo),Rs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,Rn.D)(r).pipe((0,bn.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Dt(null);const o=r.pipe((0,Pn.z)(c=>null===c?Dt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,Rn.D)([o,c]).pipe((0,bn.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ui),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(vm),s.LFG(Ul))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Iw=new s.OlP("");let BA=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ms?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ae&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Ae(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Cm=new s.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),UA=new s.OlP("ROUTER_FORROOT_GUARD"),Av=new s.OlP(""),HA=[ee,{provide:Kg,useClass:Yg},{provide:ui,useFactory:function $A(n,e,t,i,r,o,c={},h,_,w,S){const k=new ui(null,n,e,t,i,r,Ls(o));return w&&(k.urlHandlingStrategy=w),S&&(k.routeReuseStrategy=S),k.titleStrategy=_??h,function zA(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,k),k},deps:[Kg,Gf,ee,s.zs3,s.Sil,pm,Cm,Sw,[ym,new s.FiY],[class vw{},new s.FiY],[class Sv{},new s.FiY]]},Gf,{provide:I,useFactory:function WA(n){return n.routerState.root},deps:[ui]},Ul];function Aw(){return new s.PXZ("Router",ui)}let xw=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[HA,[],Pw(t),{provide:UA,useFactory:Mw,deps:[[ui,new s.FiY,new s.tp0]]},{provide:Cm,useValue:i||{}},i?.useHash?{provide:N,useClass:J}:{provide:N,useClass:Y},{provide:Iw,useFactory:()=>{const n=(0,s.f3M)(ui),e=(0,s.f3M)(If),t=(0,s.f3M)(Cm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new BA(n,e,t)}},i?.preloadingStrategy?YA(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:Aw},i?.initialNavigation?qA(i):[],[{provide:kw,useFactory:Nw},{provide:s.tb,multi:!0,useExisting:kw}]]}}static forChild(t){return{ngModule:n,providers:[Pw(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(UA,8),s.LFG(ui,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Mw(n){return"guarded"}function Pw(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:pm,multi:!0,useValue:n}]}function Nw(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const i=n.get(ui),r=n.get(an);null===n.get(wm,null,s.XFs.Optional)&&i.initialNavigation(),n.get(Av,null,s.XFs.Optional)?.setUpPreloading(),n.get(Iw,null,s.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const kw=new s.OlP("");function qA(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(ui);return()=>{n.setUpLocationChangeListener()}}},{provide:wm,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:wm,useValue:"enabledBlocking"},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const e=n.get(x,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const r=n.get(ui),o=n.get(an);r.afterPreactivation=()=>t?Dt(void 0):(t=!0,i(!0),o),r.initialNavigation()}))}}]:[]]}const an=new s.OlP("",{factory:()=>new Zn.x}),wm=new s.OlP("");function YA(n){return[Dv,{provide:Av,useExisting:Dv},{provide:vm,useExisting:n}]}let JA=(()=>{class n{constructor(t){this.primengConfig=t,this.title="MERCv3"}ngOnInit(){this.primengConfig.ripple=!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ra))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&s._UZ(0,"router-outlet")},dependencies:[nm]}),n})(),Lw=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),td=(()=>{class n extends Lw{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Us=new s.OlP("NgValueAccessor"),XA={provide:Us,useExisting:(0,s.Gpc)(()=>nd),multi:!0},Bw=new s.OlP("CompositionEventMode");let nd=(()=>{class n extends Lw{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vw(){const n=b()?b().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Bw,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([XA]),s.qOj]}),n})();const xr=new s.OlP("NgValidators"),Hl=new s.OlP("NgAsyncValidators");function Sm(n){return function Gc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Jf(n){return null}function Am(n){return null!=n}function Hw(n){return(0,s.QGY)(n)?(0,Rn.D)(n):n}function Gw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Nv(n,e){return e.map(t=>t(n))}function jw(n){return n.map(e=>function ah(n){return!n.validate}(e)?e:t=>e.validate(t))}function kv(n){return null!=n?function $w(n){if(!n)return null;const e=n.filter(Am);return 0==e.length?null:function(t){return Gw(Nv(t,e))}}(jw(n)):null}function Xf(n){return null!=n?function zw(n){if(!n)return null;const e=n.filter(Am);return 0==e.length?null:function(t){return function Fw(...n){const e=(0,Lr.jO)(n),{args:t,keys:i}=Fu(n),r=new Di.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let _=c,w=c;for(let S=0;S<c;S++){let k=!1;(0,Os.Xf)(t[S]).subscribe((0,ii.x)(o,K=>{k||(k=!0,w--),h[S]=K},()=>_--,void 0,()=>{(!_||!k)&&(w||o.next(i?co(i,h):h),o.complete())}))}});return e?r.pipe(Vu(e)):r}(Nv(t,e).map(Hw)).pipe((0,At.U)(Gw))}}(jw(n)):null}function Ov(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Fv(n){return n?Array.isArray(n)?n:[n]:[]}function lh(n,e){return Array.isArray(n)?n.includes(e):n===e}function xm(n,e){const t=Fv(e);return Fv(n).forEach(r=>{lh(t,r)||t.push(r)}),t}function Ww(n,e){return Fv(e).filter(t=>!lh(n,t))}class ex{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _s extends ex{get formDirective(){return null}get path(){return null}}class sd extends ex{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Lv=(()=>{class n extends qw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(sd,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Ya=(()=>{class n extends qw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(_s,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Pm="VALID",Gl="INVALID",od="PENDING",tp="DISABLED";function $v(n){return(ch(n)?n.validators:n)||null}function Nm(n){return Array.isArray(n)?kv(n):n||null}function Yw(n,e){return(ch(e)?e.asyncValidators:n)||null}function ix(n){return Array.isArray(n)?Xf(n):n||null}function ch(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ox{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Nm(this._rawValidators),this._composedAsyncValidatorFn=ix(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pm}get invalid(){return this.status===Gl}get pending(){return this.status==od}get disabled(){return this.status===tp}get enabled(){return this.status!==tp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Nm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ix(e)}addValidators(e){this.setValidators(xm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ww(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ww(e,this._rawAsyncValidators))}hasValidator(e){return lh(this._rawValidators,e)}hasAsyncValidator(e){return lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=od,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pm,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pm||this.status===od)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tp:Pm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=od,this._hasOwnPendingAsyncValidator=!0;const t=Hw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?tp:this.errors?Gl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(od)?od:this._anyControlsHaveStatus(Gl)?Gl:Pm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ch(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Qw extends ox{constructor(e,t,i){super($v(t),Yw(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function sx(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function rx(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function uh(n,e){Om(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Wv(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Fm(n,e)})}(n,e),function Jw(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jl(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Fm(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ta(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ad(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Om(n,e){const t=function Rv(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Ov(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function ea(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Ov(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ad(e._rawValidators,r),ad(e._rawAsyncValidators,r)}function Fm(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const dx={provide:_s,useExisting:(0,s.Gpc)(()=>jc)},sp=(()=>Promise.resolve(null))();let jc=(()=>{class n extends _s{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new Qw({},kv(t),Xf(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),uh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sp.then(()=>{const i=this._findContainer(t.path),r=new Qw({});(function Lm(n,e){Om(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){sp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Vm(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xr,10),s.Y36(Hl,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([dx]),s.qOj]}),n})();function hx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fx=class extends ox{constructor(e=null,t,i){super($v(t),Yw(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ch(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},lL={provide:sd,useExisting:(0,s.Gpc)(()=>Kv)},mx=(()=>Promise.resolve(null))();let Kv=(()=>{class n extends sd{constructor(t,i,r,o,c){super(),this._changeDetectorRef=c,this.control=new fx,this._registered=!1,this.update=new s.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Xw(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===nd?t=o:function Zv(n){return Object.getPrototypeOf(n.constructor)===td}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function rp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){uh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);mx.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function km(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(_s,9),s.Y36(xr,10),s.Y36(Hl,10),s.Y36(Us,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([lL]),s.qOj,s.TTD]}),n})(),Bm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),$c=(()=>{class n{constructor(){this._validator=Jf}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Hs={provide:xr,useExisting:(0,s.Gpc)(()=>ap),multi:!0};let ap=(()=>{class n extends $c{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=t=>Sm}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([Hs]),s.qOj]}),n})(),_E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Qv]}),n})(),d0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_E]}),n})();class vE{}class jm{}class Wl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Wl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Wl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Wl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ax{encodeKey(e){return zm(e)}encodeValue(e){return zm(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const h0=/%(\d[a-f0-9])/gi,xx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zm(n){return encodeURIComponent(n).replace(h0,(e,t)=>xx[t]??e)}function dh(n){return`${n}`}class ql{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ax,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $m(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],_=t.get(c)||[];_.push(h),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(dh):[dh(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ql({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(dh(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class yL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Mx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bE(n){return typeof Blob<"u"&&n instanceof Blob}function p0(n){return typeof FormData<"u"&&n instanceof FormData}class hh{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function f0(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Wl),this.context||(this.context=new yL),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new ql,this.urlWithParams=t}serializeBody(){return null===this.body?null:Mx(this.body)||bE(this.body)||p0(this.body)||function CE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ql?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||p0(this.body)?null:bE(this.body)?this.body.type||null:Mx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ql?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((k,K)=>k.set(K,e.setHeaders[K]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((k,K)=>k.set(K,e.setParams[K]),w)),new hh(t,i,o,{params:w,headers:_,context:S,reportProgress:h,responseType:r,withCredentials:c})}}var Qi=(()=>((Qi=Qi||{})[Qi.Sent=0]="Sent",Qi[Qi.UploadProgress=1]="UploadProgress",Qi[Qi.ResponseHeader=2]="ResponseHeader",Qi[Qi.DownloadProgress=3]="DownloadProgress",Qi[Qi.Response=4]="Response",Qi[Qi.User=5]="User",Qi))();class Wm{constructor(e,t=200,i="OK"){this.headers=e.headers||new Wl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class na extends Wm{constructor(e={}){super(e),this.type=Qi.ResponseHeader}clone(e={}){return new na({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hd extends Wm{constructor(e={}){super(e),this.type=Qi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wE extends Wm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function g0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let EE=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof hh)o=t;else{let _,w;_=r.headers instanceof Wl?r.headers:new Wl(r.headers),r.params&&(w=r.params instanceof ql?r.params:new ql({fromObject:r.params})),o=new hh(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Dt(o).pipe(Rs(_=>this.handler.handle(_)));if(t instanceof hh||"events"===r.observe)return c;const h=c.pipe(Ai(_=>_ instanceof hd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,At.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,At.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,At.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,At.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ql).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,g0(r,i))}post(t,i,r={}){return this.request("POST",t,g0(r,i))}put(t,i,r={}){return this.request("PUT",t,g0(r,i))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class qm{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const m0=new s.OlP("HTTP_INTERCEPTORS");let TE=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Rx=/^\)\]\}',?\n/;let Lx=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Di.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((ne,ue)=>r.setRequestHeader(ne,ue.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ne=t.detectContentTypeHeader();null!==ne&&r.setRequestHeader("Content-Type",ne)}if(t.responseType){const ne=t.responseType.toLowerCase();r.responseType="json"!==ne?ne:"text"}const o=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const ne=r.statusText||"OK",ue=new Wl(r.getAllResponseHeaders()),Ce=function Fx(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new na({headers:ue,status:r.status,statusText:ne,url:Ce}),c},_=()=>{let{headers:ne,status:ue,statusText:Ce,url:xe}=h(),He=null;204!==ue&&(He=typeof r.response>"u"?r.responseText:r.response),0===ue&&(ue=He?200:0);let We=ue>=200&&ue<300;if("json"===t.responseType&&"string"==typeof He){const et=He;He=He.replace(Rx,"");try{He=""!==He?JSON.parse(He):null}catch(Qe){He=et,We&&(We=!1,He={error:Qe,text:He})}}We?(i.next(new hd({body:He,headers:ne,status:ue,statusText:Ce,url:xe||void 0})),i.complete()):i.error(new wE({error:He,headers:ne,status:ue,statusText:Ce,url:xe||void 0}))},w=ne=>{const{url:ue}=h(),Ce=new wE({error:ne,status:r.status||0,statusText:r.statusText||"Unknown Error",url:ue||void 0});i.error(Ce)};let S=!1;const k=ne=>{S||(i.next(h()),S=!0);let ue={type:Qi.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(ue.total=ne.total),"text"===t.responseType&&!!r.responseText&&(ue.partialText=r.responseText),i.next(ue)},K=ne=>{let ue={type:Qi.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(ue.total=ne.total),i.next(ue)};return r.addEventListener("load",_),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),t.reportProgress&&(r.addEventListener("progress",k),null!==o&&r.upload&&r.upload.addEventListener("progress",K)),r.send(o),i.next({type:Qi.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",_),r.removeEventListener("timeout",w),t.reportProgress&&(r.removeEventListener("progress",k),null!==o&&r.upload&&r.upload.removeEventListener("progress",K)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fo))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const SE=new s.OlP("XSRF_COOKIE_NAME"),_0=new s.OlP("XSRF_HEADER_NAME");class IE{}let DE=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=gc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(s.Lbi),s.LFG(SE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Zm=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(IE),s.LFG(_0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),EL=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(m0,[]);this.chain=i.reduceRight((r,o)=>new qm(r,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(jm),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),TL=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Zm,useClass:TE}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:SE,useValue:t.cookieName}:[],t.headerName?{provide:_0,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Zm,{provide:m0,useExisting:Zm,multi:!0},{provide:IE,useClass:DE},{provide:SE,useValue:"XSRF-TOKEN"},{provide:_0,useValue:"X-XSRF-TOKEN"}]}),n})(),AE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[EE,{provide:vE,useClass:EL},Lx,{provide:jm,useExisting:Lx}],imports:[TL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();class xE{}const Xa="*";function NE(n,e=null){return{type:2,steps:n,options:e}}function kE(n){return{type:6,styles:n,offset:null}}function OE(n){Promise.resolve(null).then(n)}class lp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){OE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ym{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?OE(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function ph(n){return new s.vHH(3e3,!1)}function I0(){return typeof window<"u"&&typeof window.document<"u"}function e_(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function el(n){switch(n.length){case 0:return new lp;case 1:return n[0];default:return new Ym(n)}}function D0(n,e,t,i,r=new Map,o=new Map){const c=[],h=[];let _=-1,w=null;if(i.forEach(S=>{const k=S.get("offset"),K=k==_,ne=K&&w||new Map;S.forEach((ue,Ce)=>{let xe=Ce,He=ue;if("offset"!==Ce)switch(xe=e.normalizePropertyName(xe,c),He){case"!":He=r.get(Ce);break;case Xa:He=o.get(Ce);break;default:He=e.normalizeStyleValue(Ce,xe,He,c)}ne.set(xe,He)}),K||h.push(ne),w=ne,_=k}),c.length)throw function Ux(n){return new s.vHH(3502,!1)}();return h}function t_(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&up(t,"start",n)));break;case"done":n.onDone(()=>i(t&&up(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&up(t,"destroy",n)))}}function up(n,e,t){const o=n_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function n_(n,e,t,i,r="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Gs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function A0(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let i_=(n,e)=>!1,r_=(n,e,t)=>[],x0=null;function M0(n){const e=n.parentNode||n.host;return e===x0?null:e}(e_()||typeof Element<"u")&&(I0()?(x0=(()=>document.documentElement)(),i_=(n,e)=>{for(;e;){if(e===n)return!0;e=M0(e)}return!1}):i_=(n,e)=>n.contains(e),r_=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Kl=null,dp=!1;const P0=i_,N0=r_;let k0=(()=>{class n{validateStyleProperty(t){return function qE(n){Kl||(Kl=function ZE(){return typeof document<"u"?document.body:null}()||{},dp=!!Kl.style&&"WebkitAppearance"in Kl.style);let e=!0;return Kl.style&&!function WE(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Kl.style,!e&&dp&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Kl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return P0(t,i)}getParentElement(t){return M0(t)}query(t,i,r){return N0(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,c,h=[],_){return new lp(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),s_=(()=>{class n{}return n.NOOP=new k0,n})();const o_="ng-enter",a_="ng-leave",Vi="ng-trigger",Eh=".ng-trigger",YE="ng-animating",O0=".ng-animating";function Yl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:R0(parseFloat(e[1]),e[2])}function R0(n,e){return"s"===e?1e3*n:n}function hp(n,e,t){return n.hasOwnProperty("duration")?n:function QE(n,e,t){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(ph()),{duration:0,delay:0,easing:""};r=R0(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=R0(parseFloat(_),h[4]));const w=h[5];w&&(c=w)}else r=n;if(!t){let h=!1,_=e.length;r<0&&(e.push(function Ur(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function fd(){return new s.vHH(3101,!1)}()),h=!0),h&&e.splice(_,0,ph())}return{duration:r,delay:o,easing:c}}(n,e,t)}function tl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function JE(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function zc(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function L0(n,e,t){return t?e+":"+t+";":""}function Zx(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=L0(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=L0(0,Yx(t),n.style[t]));n.setAttribute("style",e)}function bo(n,e,t){n.style&&(e.forEach((i,r)=>{const o=c_(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),e_()&&Zx(n))}function Ql(n,e){n.style&&(e.forEach((t,i)=>{const r=c_(i);n.style[r]=""}),e_()&&Zx(n))}function ys(n){return Array.isArray(n)?1==n.length?n[0]:NE(n):n}const l_=new RegExp("{{\\s*(.+?)\\s*}}","g");function ia(n){let e=[];if("string"==typeof n){let t;for(;t=l_.exec(n);)e.push(t[1]);l_.lastIndex=0}return e}function vs(n,e,t){const i=n.toString(),r=i.replace(l_,(o,c)=>{let h=e[c];return null==h&&(t.push(function vo(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function bs(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const XE=/-+([a-z0-9])/g;function c_(n){return n.replace(XE,(...e)=>e[1].toUpperCase())}function Yx(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function js(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function b0(n){return new s.vHH(3004,!1)}()}}function u_(n,e){return window.getComputedStyle(n)[e]}function nT(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function B0(n,e,t){if(":"==n[0]){const _=function h_(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function UE(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function BE(n){return new s.vHH(3015,!1)}()),e;const r=i[1],o=i[2],c=i[3];e.push(U0(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&e.push(U0(c,r))}(i,t,e)):t.push(n),t}const pp=new Set(["true","1"]),gp=new Set(["false","0"]);function U0(n,e){const t=pp.has(n)||gp.has(n),i=pp.has(e)||gp.has(e);return(r,o)=>{let c="*"==n||n==r,h="*"==e||e==o;return!c&&t&&"boolean"==typeof r&&(c=r?pp.has(n):gp.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?pp.has(e):gp.has(e)),c&&h}}const iT=new RegExp("s*:selfs*,?","g");function f_(n,e,t,i){return new rT(n).build(e,t,i)}class rT{constructor(e){this._driver=e}build(e,t,i){const r=new iM(t);return this._resetContextStyleTimingState(r),js(this,ys(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function mh(){return new s.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const _=h,w=_.name;w.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,o.push(this.visitState(_,t))}),_.name=w}else if(1==h.type){const _=this.visitTransition(h,t);i+=_.queryCount,r+=_.depCount,c.push(_)}else t.errors.push(function _h(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{ia(_).forEach(w=>{c.hasOwnProperty(w)||o.add(w)})})}),o.size&&(bs(o.values()),t.errors.push(function yh(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=js(this,ys(e.animation),t);return{type:1,matchers:nT(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:pd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>js(this,i,t)),options:pd(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(c=>{t.currentTime=i;const h=js(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:pd(e.options)}}visitAnimate(e,t){const i=function sM(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return j0(hp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=j0(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=hp(t,e);return j0(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:kE({});if(5==o.type)r=this.visitKeyframes(o,t);else{let c=e.styles,h=!1;if(!c){h=!0;const w={};i.easing&&(w.easing=i.easing),c=kE(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(c,t);_.isEmptyStep=h,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Xa?i.push(h):t.errors.push(new s.vHH(3002,!1)):i.push(JE(h));let o=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),S=w.get(_);let k=!0;S&&(o!=r&&o>=S.startTime&&r<=S.endTime&&(t.errors.push(function bh(n,e,t,i,r){return new s.vHH(3010,!1)}()),k=!1),o=S.startTime),k&&w.set(_,{startTime:o,endTime:r}),t.options&&function Kx(n,e,t){const i=e.params||{},r=ia(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Qm(n){return new s.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ch(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let h=!1,_=!1,w=0;const S=e.steps.map(He=>{const We=this._makeStyleAst(He,t);let et=null!=We.offset?We.offset:function rM(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(We.styles),Qe=0;return null!=et&&(o++,Qe=We.offset=et),_=_||Qe<0||Qe>1,h=h||Qe<w,w=Qe,c.push(Qe),We});_&&t.errors.push(function wh(){return new s.vHH(3012,!1)}()),h&&t.errors.push(function RE(){return new s.vHH(3200,!1)}());const k=e.steps.length;let K=0;o>0&&o<k?t.errors.push(function FE(){return new s.vHH(3202,!1)}()):0==o&&(K=1/(k-1));const ne=k-1,ue=t.currentTime,Ce=t.currentAnimateTimings,xe=Ce.duration;return S.forEach((He,We)=>{const et=K>0?We==ne?1:K*We:c[We],Qe=et*xe;t.currentTime=ue+Ce.delay+Qe,Ce.duration=Qe,this._validateStyleAst(He,t),He.offset=et,i.styles.push(He)}),i}visitReference(e,t){return{type:8,animation:js(this,ys(e.animation),t),options:pd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:pd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:pd(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function tM(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(iT,"")),n=n.replace(/@\*/g,Eh).replace(/@\w+/g,t=>Eh+"-"+t.slice(1)).replace(/:animating/g,O0),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Gs(t.collectedStyles,t.currentQuerySelector,new Map);const h=js(this,ys(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:pd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function LE(){return new s.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:hp(e.timings,t.errors,!0);return{type:12,animation:js(this,ys(e.animation),t),timings:i,options:null}}}class iM{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function pd(n){return n?(n=tl(n)).params&&(n.params=function nM(n){return n?tl(n):null}(n.params)):n={},n}function j0(n,e,t){return{duration:n,delay:e,easing:t}}function $0(n,e,t,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class p_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lM=new RegExp(":enter","g"),uM=new RegExp(":leave","g");function z0(n,e,t,i,r,o=new Map,c=new Map,h,_,w=[]){return(new dM).buildKeyframes(n,e,t,i,r,o,c,h,_,w)}class dM{buildKeyframes(e,t,i,r,o,c,h,_,w,S=[]){w=w||new p_;const k=new W0(e,t,w,r,o,S,[]);k.options=_;const K=_.delay?Yl(_.delay):0;k.currentTimeline.delayNextStep(K),k.currentTimeline.setStyles([c],null,k.errors,_),js(this,i,k);const ne=k.timelines.filter(ue=>ue.containsAnimation());if(ne.length&&h.size){let ue;for(let Ce=ne.length-1;Ce>=0;Ce--){const xe=ne[Ce];if(xe.element===t){ue=xe;break}}ue&&!ue.allowOnlyTimelineStyles()&&ue.setStyles([h],null,k.errors,_)}return ne.length?ne.map(ue=>ue.buildKeyframes()):[$0(t,[],[],[],0,K,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const c=null!=i.duration?Yl(i.duration):null,h=null!=i.delay?Yl(i.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,h);o=Math.max(o,w.duration+w.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),js(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=g_);const c=Yl(o.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>js(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Yl(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),js(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return hp(t.params?vs(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Yl(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=g_);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let _=null;h.forEach((w,S)=>{t.currentQueryIndex=S;const k=t.createSubContext(e.options,w);o&&k.delayNextStep(o),w===t.element&&(_=k.currentTimeline),js(this,e.animation,k),k.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,k.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),h=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const k=S.currentTime;js(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-k+(r.startTime-i.currentTimeline.startTime)}}const g_={};class W0{constructor(e,t,i,r,o,c,h,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=g_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new mp(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Yl(i.duration)),null!=i.delay&&(r.delay=Yl(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=vs(o[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new W0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=g_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new sT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(lM,"."+this._enterClassName)).replace(uM,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!o&&0==h.length&&c.push(function VE(n){return new s.vHH(3014,!1)}()),h}}class mp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new mp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Xa),this._currentKeyframe.set(t,Xa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},c=function oT(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Xa)}else zc(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,_]of c){const w=vs(_,o,i);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)||Xa),this._updateStyle(h,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const w=zc(h,new Map,this._backFill);w.forEach((S,k)=>{"!"===S?e.add(k):S===Xa&&t.add(k)}),i||w.set("offset",_/this.duration),r.push(w)});const o=e.size?bs(e.values()):[],c=t.size?bs(t.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return $0(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class sT extends mp{constructor(e,t,i,r,o,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=i+t,h=t/c,_=zc(e[0]);_.set("offset",0),o.push(_);const w=zc(e[0]);w.set("offset",q0(h)),o.push(w);const S=e.length-1;for(let k=1;k<=S;k++){let K=zc(e[k]);const ne=K.get("offset");K.set("offset",q0((t+ne*i)/c)),o.push(K)}i=c,t=0,r="",e=o}return $0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function q0(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class m_{}const aT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class lT extends m_{normalizePropertyName(e,t){return c_(e)}normalizeStyleValue(e,t,i,r){let o="";const c=i.toString().trim();if(aT.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function gh(n,e){return new s.vHH(3005,!1)}())}return c+o}}function __(n,e,t,i,r,o,c,h,_,w,S,k,K){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:_,preStyleProps:w,postStyleProps:S,totalTime:k,errors:K}}const y_={};class qc{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function pM(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,c,h,_,w,S){const k=[],K=this.ast.options&&this.ast.options.params||y_,ue=this.buildStyles(i,h&&h.params||y_,k),Ce=_&&_.params||y_,xe=this.buildStyles(r,Ce,k),He=new Set,We=new Map,et=new Map,Qe="void"===r,lt={params:gM(Ce,K),delay:this.ast.options?.delay},dt=S?[]:z0(e,t,this.ast.animation,o,c,ue,xe,lt,w,k);let xt=0;if(dt.forEach(zn=>{xt=Math.max(zn.duration+zn.delay,xt)}),k.length)return __(t,this._triggerName,i,r,Qe,ue,xe,[],[],We,et,xt,k);dt.forEach(zn=>{const yi=zn.element,Oi=Gs(We,yi,new Set);zn.preStyleProps.forEach(pr=>Oi.add(pr));const ls=Gs(et,yi,new Set);zn.postStyleProps.forEach(pr=>ls.add(pr)),yi!==t&&He.add(yi)});const Kt=bs(He.values());return __(t,this._triggerName,i,r,Qe,ue,xe,dt,Kt,We,et,xt)}}function gM(n,e){const t=tl(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Th{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=tl(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=vs(c,r,t));const _=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,_,c,t),i.set(_,c)})}),i}}class Z0{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Th(r.style,r.options&&r.options.params||{},i))}),K0(this.states,"true","1"),K0(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new qc(e,r,this.states))}),this.fallbackTransition=function RL(n,e,t){return new qc(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function K0(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const cT=new p_;class FL{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=f_(this._driver,t,i,[]);if(i.length)throw function $E(n){return new s.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=D0(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let c;const h=new Map;if(o?(c=z0(this._driver,t,o,o_,a_,new Map,new Map,i,cT,r),c.forEach(S=>{const k=Gs(h,S.element,new Map);S.postStyleProps.forEach(K=>k.set(K,null))})):(r.push(function Hx(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function zE(n){return new s.vHH(3504,!1)}();h.forEach((S,k)=>{S.forEach((K,ne)=>{S.set(ne,this._driver.computeStyle(k,ne,Xa))})});const w=el(c.map(S=>{const k=h.get(S.element);return this._buildPlayer(S,new Map,k)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function C0(n){return new s.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=n_(t,"","","");return t_(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const $t="ng-animate-queued",Y0="ng-animate-disabled",v_=[],_p={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ra="__ng_removed";class b_{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function vM(n){return n??null}(i?e.value:e),i){const o=tl(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Ih="void",Q0=new b_(Ih);class uT{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Co(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function w0(n,e){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function Gx(n){return new s.vHH(3303,!1)}();if(!function bM(n){return"start"==n||"done"==n}(i))throw function Jm(n,e){return new s.vHH(3400,!1)}();const o=Gs(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};o.push(c);const h=Gs(this._engine.statesByElement,e,new Map);return h.has(t)||(Co(e,Vi),Co(e,Vi+"-"+t),h.set(t,Q0)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(c);_>=0&&o.splice(_,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Xm(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),c=new C_(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Co(e,Vi),Co(e,Vi+"-"+t),this._engine.statesByElement.set(e,h=new Map));let _=h.get(t);const w=new b_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),h.set(t,w),_||(_=Q0),w.value!==Ih&&_.value===w.value){if(!function CM(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(_.params,w.params)){const Ce=[],xe=o.matchStyles(_.value,_.params,Ce),He=o.matchStyles(w.value,w.params,Ce);Ce.length?this._engine.reportError(Ce):this._engine.afterFlush(()=>{Ql(e,xe),bo(e,He)})}return}const K=Gs(this._engine.playersByElement,e,[]);K.forEach(Ce=>{Ce.namespaceId==this.id&&Ce.triggerName==t&&Ce.queued&&Ce.destroy()});let ne=o.matchTransition(_.value,w.value,e,w.params),ue=!1;if(!ne){if(!r)return;ne=o.fallbackTransition,ue=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ne,fromState:_,toState:w,player:c,isFallbackTransition:ue}),ue||(Co(e,$t),c.onStart(()=>{Jl(e,$t)})),c.onDone(()=>{let Ce=this.players.indexOf(c);Ce>=0&&this.players.splice(Ce,1);const xe=this._engine.playersByElement.get(e);if(xe){let He=xe.indexOf(c);He>=0&&xe.splice(He,1)}}),this.players.push(c),K.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Eh,!0),r=e.shadowRoot?this._engine.driver.query(e.shadowRoot,Eh,!0):[];[...i,...r].forEach(o=>{if(o[ra])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const h=[];if(o.forEach((_,w)=>{if(c.set(w,_.value),this._triggers.has(w)){const S=this.trigger(e,w,Ih,r);S&&h.push(S)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&el(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const _=this._triggers.get(c).fallbackTransition,w=i.get(c)||Q0,S=new b_(Ih),k=new C_(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:S,player:k,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if((!!e.childElementCount||!(!e.shadowRoot||!e.shadowRoot.childElementCount))&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let c=!1;if(i.totalAnimations){const h=i.players.length?i.playersByQueriedElement.get(e):[];if(h&&h.length)c=!0;else{let _=e;for(;_=_.parentNode;)if(i.statesByElement.get(_)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(e),c)i.markElementAsRemoved(this.id,e,!1,t);else{const h=e[ra];(!h||h===_p)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Co(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const _=n_(o,i.triggerName,i.fromState.value,i.toState.value);_._data=e,t_(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class dT{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new uT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const _=r.get(h);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(w_(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!w_(t))return;const o=t[ra];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Co(e,Y0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jl(e,Y0))}removeNode(e,t,i,r){if(w_(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ra]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return w_(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Eh,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,O0,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return el(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ra];if(t&&t.setForRemoval){if(e[ra]=_p,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Y0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Co(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?el(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function E0(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new p_,r=[],o=new Map,c=[],h=new Map,_=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(_t=>{S.add(_t);const Nt=this.driver.query(_t,".ng-animate-queued",!0);for(let Wt=0;Wt<Nt.length;Wt++)S.add(Nt[Wt])});const k=this.bodyNode,K=Array.from(this.statesByElement.keys()),ne=pT(K,this.collectedEnterElements),ue=new Map;let Ce=0;ne.forEach((_t,Nt)=>{const Wt=o_+Ce++;ue.set(Nt,Wt),_t.forEach(yn=>Co(yn,Wt))});const xe=[],He=new Set,We=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Nt=this.collectedLeaveElements[_t],Wt=Nt[ra];Wt&&Wt.setForRemoval&&(xe.push(Nt),He.add(Nt),Wt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(yn=>He.add(yn)):We.add(Nt))}const et=new Map,Qe=pT(K,Array.from(He));Qe.forEach((_t,Nt)=>{const Wt=a_+Ce++;et.set(Nt,Wt),_t.forEach(yn=>Co(yn,Wt))}),e.push(()=>{ne.forEach((_t,Nt)=>{const Wt=ue.get(Nt);_t.forEach(yn=>Jl(yn,Wt))}),Qe.forEach((_t,Nt)=>{const Wt=et.get(Nt);_t.forEach(yn=>Jl(yn,Wt))}),xe.forEach(_t=>{this.processLeaveNode(_t)})});const lt=[],dt=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(Wt=>{const yn=Wt.player,tr=Wt.element;if(lt.push(yn),this.collectedEnterElements.length){const gr=tr[ra];if(gr&&gr.setForMove){if(gr.previousTriggersValues&&gr.previousTriggersValues.has(Wt.triggerName)){const Js=gr.previousTriggersValues.get(Wt.triggerName),Is=this.statesByElement.get(Wt.element);if(Is&&Is.has(Wt.triggerName)){const nv=Is.get(Wt.triggerName);nv.value=Js,Is.set(Wt.triggerName,nv)}}return void yn.destroy()}}const xo=!k||!this.driver.containsElement(k,tr),Rr=et.get(tr),_a=ue.get(tr),Qn=this._buildInstruction(Wt,i,_a,Rr,xo);if(Qn.errors&&Qn.errors.length)return void dt.push(Qn);if(xo)return yn.onStart(()=>Ql(tr,Qn.fromStyles)),yn.onDestroy(()=>bo(tr,Qn.toStyles)),void r.push(yn);if(Wt.isFallbackTransition)return yn.onStart(()=>Ql(tr,Qn.fromStyles)),yn.onDestroy(()=>bo(tr,Qn.toStyles)),void r.push(yn);const pc=[];Qn.timelines.forEach(gr=>{gr.stretchStartingKeyframe=!0,this.disabledNodes.has(gr.element)||pc.push(gr)}),Qn.timelines=pc,i.append(tr,Qn.timelines),c.push({instruction:Qn,player:yn,element:tr}),Qn.queriedElements.forEach(gr=>Gs(h,gr,[]).push(yn)),Qn.preStyleProps.forEach((gr,Js)=>{if(gr.size){let Is=_.get(Js);Is||_.set(Js,Is=new Set),gr.forEach((nv,Og)=>Is.add(Og))}}),Qn.postStyleProps.forEach((gr,Js)=>{let Is=w.get(Js);Is||w.set(Js,Is=new Set),gr.forEach((nv,Og)=>Is.add(Og))})});if(dt.length){const _t=[];dt.forEach(Nt=>{_t.push(function T0(n,e){return new s.vHH(3505,!1)}())}),lt.forEach(Nt=>Nt.destroy()),this.reportError(_t)}const xt=new Map,Kt=new Map;c.forEach(_t=>{const Nt=_t.element;i.has(Nt)&&(Kt.set(Nt,Nt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,xt))}),r.forEach(_t=>{const Nt=_t.element;this._getPreviousPlayers(Nt,!1,_t.namespaceId,_t.triggerName,null).forEach(yn=>{Gs(xt,Nt,[]).push(yn),yn.destroy()})});const zn=xe.filter(_t=>Ah(_t,_,w)),yi=new Map;fT(yi,this.driver,We,w,Xa).forEach(_t=>{Ah(_t,_,w)&&zn.push(_t)});const ls=new Map;ne.forEach((_t,Nt)=>{fT(ls,this.driver,new Set(_t),_,"!")}),zn.forEach(_t=>{const Nt=yi.get(_t),Wt=ls.get(_t);yi.set(_t,new Map([...Array.from(Nt?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const pr=[],Cf=[],wf={};c.forEach(_t=>{const{element:Nt,player:Wt,instruction:yn}=_t;if(i.has(Nt)){if(S.has(Nt))return Wt.onDestroy(()=>bo(Nt,yn.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(yn.totalTime),void r.push(Wt);let tr=wf;if(Kt.size>1){let Rr=Nt;const _a=[];for(;Rr=Rr.parentNode;){const Qn=Kt.get(Rr);if(Qn){tr=Qn;break}_a.push(Rr)}_a.forEach(Qn=>Kt.set(Qn,tr))}const xo=this._buildAnimation(Wt.namespaceId,yn,xt,o,ls,yi);if(Wt.setRealPlayer(xo),tr===wf)pr.push(Wt);else{const Rr=this.playersByElement.get(tr);Rr&&Rr.length&&(Wt.parentPlayer=el(Rr)),r.push(Wt)}}else Ql(Nt,yn.fromStyles),Wt.onDestroy(()=>bo(Nt,yn.toStyles)),Cf.push(Wt),S.has(Nt)&&r.push(Wt)}),Cf.forEach(_t=>{const Nt=o.get(_t.element);if(Nt&&Nt.length){const Wt=el(Nt);_t.setRealPlayer(Wt)}}),r.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<xe.length;_t++){const Nt=xe[_t],Wt=Nt[ra];if(Jl(Nt,a_),Wt&&Wt.hasAnimation)continue;let yn=[];if(h.size){let xo=h.get(Nt);xo&&xo.length&&yn.push(...xo);let Rr=this.driver.query(Nt,O0,!0);for(let _a=0;_a<Rr.length;_a++){let Qn=h.get(Rr[_a]);Qn&&Qn.length&&yn.push(...Qn)}}const tr=yn.filter(xo=>!xo.destroyed);tr.length?gT(this,Nt,tr):this.processLeaveNode(Nt)}return xe.length=0,pr.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Nt=this.players.indexOf(_t);this.players.splice(Nt,1)}),_t.play()}),pr}elementContainsData(e,t){let i=!1;const r=t[ra];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const _=!o||o==Ih;h.forEach(w=>{w.queued||!_&&w.triggerName!=r||c.push(w)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const o=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,S=w!==o,k=Gs(i,w,[]);this._getPreviousPlayers(w,S,c,h,t.toState).forEach(ne=>{const ue=ne.getRealPlayer();ue.beforeDestroy&&ue.beforeDestroy(),ne.destroy(),k.push(ne)})}Ql(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,c){const h=t.triggerName,_=t.element,w=[],S=new Set,k=new Set,K=t.timelines.map(ue=>{const Ce=ue.element;S.add(Ce);const xe=Ce[ra];if(xe&&xe.removedBeforeQueried)return new lp(ue.duration,ue.delay);const He=Ce!==_,We=function mT(n){const e=[];return J0(n,e),e}((i.get(Ce)||v_).map(xt=>xt.getRealPlayer())).filter(xt=>!!xt.element&&xt.element===Ce),et=o.get(Ce),Qe=c.get(Ce),lt=D0(0,this._normalizer,0,ue.keyframes,et,Qe),dt=this._buildPlayer(ue,lt,We);if(ue.subTimeline&&r&&k.add(Ce),He){const xt=new C_(e,h,Ce);xt.setRealPlayer(dt),w.push(xt)}return dt});w.forEach(ue=>{Gs(this.playersByQueriedElement,ue.element,[]).push(ue),ue.onDone(()=>function hT(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ue.element,ue))}),S.forEach(ue=>Co(ue,YE));const ne=el(K);return ne.onDestroy(()=>{S.forEach(ue=>Jl(ue,YE)),bo(_,t.toStyles)}),k.forEach(ue=>{Gs(r,ue,[]).push(ne)}),ne}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new lp(e.duration,e.delay)}}class C_{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new lp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>t_(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function w_(n){return n&&1===n.nodeType}function Dh(n,e){const t=n.style.display;return n.style.display=e??"none",t}function fT(n,e,t,i,r){const o=[];t.forEach(_=>o.push(Dh(_)));const c=[];i.forEach((_,w)=>{const S=new Map;_.forEach(k=>{const K=e.computeStyle(w,k,r);S.set(k,K),(!K||0==K.length)&&(w[ra]=Bi,c.push(w))}),n.set(w,S)});let h=0;return t.forEach(_=>Dh(_,o[h++])),c}function pT(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),o=new Map;function c(h){if(!h)return 1;let _=o.get(h);if(_)return _;const w=h.parentNode;return _=t.has(w)?w:r.has(w)?1:c(w),o.set(h,_),_}return e.forEach(h=>{const _=c(h);1!==_&&t.get(_).push(h)}),t}function Co(n,e){n.classList?.add(e)}function Jl(n,e){n.classList?.remove(e)}function gT(n,e,t){el(t).onDone(()=>n.processLeaveNode(e))}function J0(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Ym?J0(i.players,e):e.push(i)}}function Ah(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Zc{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new dT(e,t,i),this._timelineEngine=new FL(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const _=[],S=f_(this._driver,o,_,[]);if(_.length)throw function jE(n,e){return new s.vHH(3404,!1)}();h=function OL(n,e,t){return new Z0(n,e,t)}(r,S,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,c]=A0(i);this._timelineEngine.command(o,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[c,h]=A0(i);return this._timelineEngine.listen(c,t,h,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let EM=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bo(this._element,this._initialStyles),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ql(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ql(this._element,this._endStyles),this._endStyles=null),bo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function X0(n){let e=null;return n.forEach((t,i)=>{(function _T(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class eb{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:u_(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class yT{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return P0(e,t)}getParentElement(e){return M0(e)}query(e,t,i){return N0(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,c=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const w=new Map,S=c.filter(ne=>ne instanceof eb);(function Qx(n,e){return 0===n||0===e})(i,r)&&S.forEach(ne=>{ne.currentSnapshot.forEach((ue,Ce)=>w.set(Ce,ue))});let k=function qx(n){return n.length?n[0]instanceof Map?n:n.map(e=>JE(e)):[]}(t).map(ne=>zc(ne));k=function Jx(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<e.length;o++){let c=e[o];r.forEach(h=>c.set(h,u_(n,h)))}}return e}(e,k,w);const K=function wM(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=X0(e[0]),e.length>1&&(i=X0(e[e.length-1]))):e instanceof Map&&(t=X0(e)),t||i?new EM(n,t,i):null}(e,k);return new eb(e,k,_,K)}}let TM=(()=>{class n extends xE{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?NE(t):t;return bT(this._renderer,null,i,"register",[r]),new vT(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class vT extends class SL{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new SM(this._id,e,t||{},this._renderer)}}class SM{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return bT(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bT(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const IM="@.disabled";let LL=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let S=this._rendererCache.get(o);return S||(S=new DM("",o,this.engine),this._rendererCache.set(o,S)),S}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,h,t,S.name,S)};return i.data.animation.forEach(_),new CT(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(Zc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class DM{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==IM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class CT extends DM{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==IM?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function E_(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function AM(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let xM=(()=>{class n extends Zc{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(s_),s.LFG(m_),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ET=[{provide:xE,useClass:TM},{provide:m_,useFactory:function wT(){return new lT}},{provide:Zc,useClass:xM},{provide:s.FYo,useFactory:function yp(n,e,t){return new LL(n,e,t)},deps:[si,Zc,s.R0b]}],TT=[{provide:s_,useFactory:()=>new yT},{provide:s.QbO,useValue:"BrowserAnimations"},...ET],MM=[{provide:s_,useClass:k0},{provide:s.QbO,useValue:"NoopAnimations"},...ET];let PM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MM:TT}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:TT,imports:[Ic]}),n})();var Ji=g(2011),nb=g(6451),T_=g(5363),xh=g(6063);class NM extends Zn.x{constructor(e=1/0,t=1/0,i=xh.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;t||(i.push(e),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!e.closed;c+=i?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=t.now();let h=0;for(let _=1;_<i.length&&i[_]<=c;_+=2)h=_;h&&i.splice(0,h+1)}}}var ib=g(3099);function ST(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,ib.B)({connector:()=>new NM(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function rb(n,e){return(0,ts.m)(e)?ai(()=>n,e):ai(()=>n)}var sb=g(9468),zt=g(5813),Xl=g(5867);class ec{constructor(e){return e}}class S_{constructor(){return(0,Xl.C6)()}}const ab=new s.OlP("angularfire2._apps"),OM={provide:ec,useFactory:function IT(n){return n&&1===n.length?n[0]:new ec((0,Xl.Mq)())},deps:[[new s.FiY,ab]]},RM={provide:S_,deps:[[new s.FiY,ab]]};function lb(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ec(i)}}let FM=(()=>{class n{constructor(t){(0,Xl.KN)("angularfire",zt.q4.full,"core"),(0,Xl.KN)("angularfire",zt.q4.full,"app"),(0,Xl.KN)("angular",s.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[OM,RM]}),n})();function DT(n,...e){return{ngModule:FM,providers:[{provide:ab,useFactory:lb(n),multi:!0,deps:[s.R0b,s.zs3,zt.HU,...e]}]}}const LM=(0,zt.u3)(Xl.ZF,!0);var Ge=g(5861),rr=g(9681),wo=g(4859),ce=g(2090),sa=g(1877);const I_=new Map,AT={activated:!1,tokenObservers:[]},VM={initialized:!1,enabled:!1};function Cr(n){return I_.get(n)||AT}function $s(n,e){I_.set(n,e)}function Mh(){return VM}class xT{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ge.Z)(function*(){t.stop();try{t.pending=new ce.BH,yield function GM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ce.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Cs=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ph(n){if(!Cr(n).activated)throw Cs.create("use-before-activation",{appName:n.name})}function ub(n,e){return M_.apply(this,arguments)}function M_(){return(M_=(0,Ge.Z)(function*({url:n,body:e},t){var i,r;const o={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const ne=yield c.getHeartbeatsHeader();ne&&(o["X-Firebase-Client"]=ne)}const h={method:"POST",body:JSON.stringify(e),headers:o};let _,w;try{_=yield fetch(n,h)}catch(ne){throw Cs.create("fetch-network-error",{originalErrorMessage:null===(i=ne)||void 0===i?void 0:i.message})}if(200!==_.status)throw Cs.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(ne){throw Cs.create("fetch-parse-error",{originalErrorMessage:null===(r=ne)||void 0===r?void 0:r.message})}const S=w.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const k=1e3*Number(S[1]),K=Date.now();return{token:w.token,expireTimeMillis:K+k,issuedAtTimeMillis:K}})).apply(this,arguments)}function bp(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const kh="firebase-app-check-store";let P_=null;function NT(){return P_||(P_=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;e(Cs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(kh,{keyPath:"compositeKey"})}}catch(i){e(Cs.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),P_)}function gd(){return(gd=(0,Ge.Z)(function*(n,e){const i=(yield NT()).transaction(kh,"readwrite"),o=i.objectStore(kh).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=_=>{c()},i.onerror=_=>{var w;h(Cs.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Ep=new sa.Yd("@firebase/app-check");function FT(n,e){return(0,ce.hl)()?function kT(n,e){return function Cp(n,e){return gd.apply(this,arguments)}(function hb(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ep.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function LT(){return Mh().enabled}function pb(){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,Ge.Z)(function*(){const n=Mh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gb={error:"UNKNOWN_ERROR"};function ZM(n){return ce.US.encodeString(JSON.stringify(n),!1)}function N_(n){return mb.apply(this,arguments)}function mb(){return(mb=(0,Ge.Z)(function*(n,e=!1){const t=n.app;Ph(t);const i=Cr(t);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&O_(_)&&(r=_)}if(!e&&r&&O_(r))return{token:r.token};let h,c=!1;if(LT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ub(bp(t,yield pb()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),c=!0);const _=yield i.exchangeTokenPromise;return yield FT(t,_),$s(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ep.warn(_.message):Ep.error(_),o=_}return r?(h={token:r.token},$s(t,Object.assign(Object.assign({},i),{token:r})),yield FT(t,r)):h=KM(o),c&&BT(t,h),h})).apply(this,arguments)}function k_(n,e){const t=Cr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$s(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function yb(n){const{app:e}=n,t=Cr(e);let i=t.tokenRefresher;i||(i=function VT(n){const{app:e}=n;return new xT((0,Ge.Z)(function*(){let i;if(i=Cr(e).token?yield N_(n,!0):yield N_(n),i.error)throw i.error}),()=>!0,()=>{const t=Cr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),$s(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function BT(n,e){const t=Cr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function O_(n){return n.expireTimeMillis-Date.now()>0}function KM(n){return{token:ZM(gb),error:n}}class YM{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Cr(this.app);for(const t of e)k_(this.app,t.next);return Promise.resolve()}}const Dp="app-check-internal";!function iP(){(0,rr._registerComponent)(new wo.wA("app-check",n=>function QM(n,e){return new YM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Dp).initialize()})),(0,rr._registerComponent)(new wo.wA(Dp,n=>function JM(n){return{getToken:e=>N_(n,e),addTokenListener:e=>function _b(n,e,t,i){const{app:r}=n,o=Cr(r),c={next:t,error:i,type:e};if($s(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&O_(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),yb(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yb(n))}(n,"INTERNAL",e),removeTokenListener:e=>k_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,rr.registerVersion)("@firebase/app-check","0.5.10")}();class nc{constructor(){return(0,zt.vb)("app-check")}}typeof window<"u"&&window;var Rh=g(127);const H_=new s.OlP("angularfire2.auth.use-emulator"),G_=new s.OlP("angularfire2.auth.settings"),j_=new s.OlP("angularfire2.auth.tenant-id"),Sb=new s.OlP("angularfire2.auth.langugage-code"),$_=new s.OlP("angularfire2.auth.use-device-language"),z_=new s.OlP("angularfire.auth.persistence"),Ib=(n,e,t,i,r,o,c,h)=>(0,Ji.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),c)for(const[w,S]of Object.entries(c))_.settings[w]=S;return h&&_.setPersistence(h),_},[t,i,r,o,c,h]);let Fh=(()=>{class n{constructor(t,i,r,o,c,h,_,w,S,k,K,ne){const ue=new Zn.x,Ce=Dt(void 0).pipe((0,T_.Q)(c.outsideAngular),ai(()=>o.runOutsideAngular(()=>Promise.resolve().then(g.bind(g,5881)))),(0,At.U)(()=>(0,Ji.on)(t,o,i)),(0,At.U)(xe=>Ib(xe,o,h,w,S,k,_,K)),ST({bufferSize:1,refCount:!1}));if(yu(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Dt(null);else{Ce.pipe(ja()).subscribe();const He=Ce.pipe(ai(Qe=>Qe.getRedirectResult().then(lt=>lt,()=>null)),zt.iC,ST({bufferSize:1,refCount:!1})),We=Ce.pipe(ai(Qe=>new Di.y(lt=>({unsubscribe:o.runOutsideAngular(()=>Qe.onAuthStateChanged(dt=>lt.next(dt),dt=>lt.error(dt),()=>lt.complete()))})))),et=Ce.pipe(ai(Qe=>new Di.y(lt=>({unsubscribe:o.runOutsideAngular(()=>Qe.onIdTokenChanged(dt=>lt.next(dt),dt=>lt.error(dt),()=>lt.complete()))}))));this.authState=He.pipe(rb(We),(0,sb.R)(c.outsideAngular),(0,T_.Q)(c.insideAngular)),this.user=He.pipe(rb(et),(0,sb.R)(c.outsideAngular),(0,T_.Q)(c.insideAngular)),this.idToken=this.user.pipe(ai(Qe=>Qe?(0,Rn.D)(Qe.getIdToken()):Dt(null))),this.idTokenResult=this.user.pipe(ai(Qe=>Qe?(0,Rn.D)(Qe.getIdTokenResult()):Dt(null))),this.credential=(0,nb.T)(He,ue,this.authState.pipe(Ai(Qe=>!Qe))).pipe((0,At.U)(Qe=>Qe?.user?Qe:null),(0,sb.R)(c.outsideAngular),(0,T_.Q)(c.insideAngular))}return(0,Ji.pX)(this,Ce,o,{spy:{apply:(xe,He,We)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&We.then(et=>ue.next(et))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ji.Dh),s.LFG(Ji.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zt.HU),s.LFG(H_,8),s.LFG(G_,8),s.LFG(j_,8),s.LFG(Sb,8),s.LFG($_,8),s.LFG(z_,8),s.LFG(nc,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JT=(()=>{class n{constructor(){Rh.Z.registerVersion("angularfire",zt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Fh]}),n})();var hr=g(4986),Db=g(3942);const XT="firebasestorage.googleapis.com",aP="storageBucket";class Pi extends ce.ZR{constructor(e,t){super(md(e),`Firebase Storage: ${t} (${md(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}_codeEquals(e){return md(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function md(n){return"storage/"+n}function Ab(){return new Pi("unknown","An unknown error occurred, please check the error payload for server response.")}function nS(){return new Pi("canceled","User canceled the upload/download.")}function Ap(){return new Pi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _d(n){return new Pi("invalid-argument",n)}function sS(){return new Pi("app-deleted","The Firebase app was deleted.")}function Nb(n){return new Pi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nl(n,e){return new Pi("invalid-format","String does not match format '"+n+"': "+e)}function xp(n){throw new Pi("internal-error","Internal error: "+n)}class Mr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Mr.makeFromUrl(e,t)}catch{return new Mr(e,"")}if(""===i.path)return i;throw function iS(n){return new Pi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function w(Qe){Qe.path_=decodeURIComponent(Qe.path)}const k=t.replace(/[.]/g,"\\."),et=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Qe){"/"===Qe.path.charAt(Qe.path.length-1)&&(Qe.path_=Qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===XT?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let Qe=0;Qe<et.length;Qe++){const lt=et[Qe],dt=lt.regex.exec(e);if(dt){let Kt=dt[lt.indices.path];Kt||(Kt=""),i=new Mr(dt[lt.indices.bucket],Kt),lt.postModify(i);break}}if(null==i)throw function Mb(n){return new Pi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class kb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function W_(n){return"string"==typeof n||n instanceof String}function Ob(n){return q_()&&n instanceof Blob}function q_(){return typeof Blob<"u"}function Rb(n,e,t,i){if(i<e)throw _d(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw _d(`Invalid value for '${n}'. Expected ${t} or less.`)}function il(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Fb(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Kc=(()=>{return(n=Kc||(Kc={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Kc;var n})();class pP{constructor(e,t,i,r,o,c,h,_,w,S,k){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=S,this.connectionFactory_=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,ne)=>{this.resolve_=K,this.reject_=ne,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function s2(n){return void 0!==n}(_)?o():o(_)}catch(_){c(_)}else if(null!==h){const _=Ab();_.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,_):_)}else c(r.canceled?this.appDelete_?sS():nS():function Vh(){return new Pi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Mp(!1,null,!0)):this.backoffId_=function r2(n,e,t){let i=1,r=null,o=null,c=!1,h=0;function _(){return 2===h}let w=!1;function S(...xe){w||(w=!0,e.apply(null,xe))}function k(xe){r=setTimeout(()=>{r=null,n(ne,_())},xe)}function K(){o&&clearTimeout(o)}function ne(xe,...He){if(w)return void K();if(xe)return K(),void S.call(null,xe,...He);if(_()||c)return K(),void S.call(null,xe,...He);let et;i<64&&(i*=2),1===h?(h=2,et=0):et=1e3*(i+Math.random()),k(et)}let ue=!1;function Ce(xe){ue||(ue=!0,K(),!w&&(null!==r?(xe||(h=2),clearTimeout(r),k(0)):xe||(h=1)))}return k(0),o=setTimeout(()=>{c=!0,Ce(!0)},t),Ce}((i,r)=>{if(r)return void i(!1,new Mp(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Kc.NO_ERROR,_=o.getStatus();if(!h||this.isRetryStatusCode_(_)){const S=o.getErrorCode()===Kc.ABORT;return void i(!1,new Mp(!1,null,S))}const w=-1!==this.successCodes_.indexOf(_);i(!0,new Mp(w,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function dP(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||o}}class Mp{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function _P(...n){const e=function mP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(q_())return new Blob(n);throw new Pi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dS{constructor(e,t){this.data=e,this.contentType=t||null}}function hS(n,e){switch(n){case Eo.RAW:return new dS(yP(e));case Eo.BASE64:case Eo.BASE64URL:return new dS(vP(n,e));case Eo.DATA_URL:return new dS(function l2(n){const e=new bP(n);return e.base64?vP(Eo.BASE64,e.rest):function a2(n){let e;try{e=decodeURIComponent(n)}catch{throw nl(Eo.DATA_URL,"Malformed data URL.")}return yP(e)}(e.rest)}(e),function Z_(n){return new bP(n).contentType}(e))}throw Ab()}function yP(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function vP(n,e){switch(n){case Eo.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw nl(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Eo.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw nl(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function uS(n){return atob(n)}(e)}catch{throw nl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class bP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw nl(Eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function c2(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class aa{constructor(e,t){let i=0,r="";Ob(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ob(this.data_)){const r=function o2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new aa(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new aa(i,!0)}}static getBlob(...e){if(q_()){const t=e.map(i=>i instanceof aa?i.data_:i);return new aa(_P.apply(null,t))}{const t=e.map(c=>W_(c)?hS(Eo.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[o++]=c[h]}),new aa(r,!0)}}uploadData(){return this.data_}}function Bh(n){let e;try{e=JSON.parse(n)}catch{return null}return function fP(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function CP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Lb(n,e){return e}class Hr{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Lb}}let K_=null;function Y_(){if(K_)return K_;const n=[];n.push(new Hr("bucket")),n.push(new Hr("generation")),n.push(new Hr("metageneration")),n.push(new Hr("name","fullPath",!0));const t=new Hr("name");t.xform=function e(o,c){return function gS(n){return!W_(n)||n.length<2?n:CP(n)}(c)},n.push(t);const r=new Hr("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Hr("timeCreated")),n.push(new Hr("updated")),n.push(new Hr("md5Hash",null,!0)),n.push(new Hr("cacheControl",null,!0)),n.push(new Hr("contentDisposition",null,!0)),n.push(new Hr("contentEncoding",null,!0)),n.push(new Hr("contentLanguage",null,!0)),n.push(new Hr("contentType",null,!0)),n.push(new Hr("metadata","customMetadata",!0)),K_=n,K_}function mS(n,e,t){const i=Bh(e);return null===i?null:function EP(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const c=t[o];i[c.local]=c.xform(i,e[c.server])}return function wP(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Mr(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}function Vb(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const TP="prefixes";class rl{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sl(n){if(!n)throw Ab()}function Bb(n,e){return function t(i,r){const o=mS(n,r,e);return sl(null!==o),o}}function Uh(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function cP(){return new Pi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function tS(){return new Pi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function lP(n){return new Pi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function uP(n){return new Pi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Pr(n){const e=Uh(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function xb(n){return new Pi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function _S(n,e,t){const r=il(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new rl(r,"GET",Bb(n,t),c);return h.errorHandler=Pr(e),h}function Hb(n,e,t,i,r){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=il(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,S=new rl(h,"GET",function DP(n,e){return function t(i,r){const o=function IP(n,e,t){const i=Bh(t);return null===i?null:function u2(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[TP])for(const r of t[TP]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new Mr(e,o));i.prefixes.push(c)}if(t.items)for(const r of t.items){const o=n._makeStorageReference(new Mr(e,r.name));i.items.push(o)}return i}(n,e,i)}(n,e,r);return sl(null!==o),o}}(n,e.bucket),w);return S.urlParams=o,S.errorHandler=Uh(e),S}function CS(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function bS(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class Pp{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function $b(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{sl(!1)}return sl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const ES={STATE_CHANGED:"state_changed"},Nr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function la(n){switch(n){case"running":case"pausing":case"canceling":return Nr.RUNNING;case"paused":return Nr.PAUSED;case"success":return Nr.SUCCESS;case"canceled":return Nr.CANCELED;default:return Nr.ERROR}}class MP{constructor(e,t,i){if(function hP(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Np(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class NP extends class PP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw xp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ca(){return new NP}class zb{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Y_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function wS(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),c=CS(e,i,r),h={name:c.fullPath},_=il(o,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},k=Vb(c,t),ue=new rl(_,"POST",function ne(Ce){let xe;$b(Ce);try{xe=Ce.getResponseHeader("X-Goog-Upload-URL")}catch{sl(!1)}return sl(W_(xe)),xe},n.maxUploadRetryTime);return ue.urlParams=h,ue.headers=S,ue.body=k,ue.errorHandler=Uh(e),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ca,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function xP(n,e,t,i){const _=new rl(t,"POST",function o(w){const S=$b(w,["active","final"]);let k=null;try{k=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{sl(!1)}k||sl(!1);const K=Number(k);return sl(!isNaN(K)),new Pp(K,i.size(),"final"===S)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Uh(e),_}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,ca,t,i);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Pp(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function Yc(n,e,t,i,r,o,c,h){const _=new Pp(0,0);if(c?(_.current=c.current,_.total=c.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function Pb(){return new Pi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=_.total-_.current;let S=w;r>0&&(S=Math.min(S,r));const k=_.current,ue={"X-Goog-Upload-Command":S===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},Ce=i.slice(k,k+S);if(null===Ce)throw Ap();const et=new rl(t,"POST",function xe(Qe,lt){const dt=$b(Qe,["active","final"]),xt=_.current+S,Kt=i.size();let zn;return zn="final"===dt?Bb(e,o)(Qe,lt):null,new Pp(xt,Kt,"final"===dt,zn)},e.maxUploadRetryTime);return et.headers=ue,et.body=Ce.uploadData(),et.progressCallback=h||null,et.errorHandler=Uh(n),et}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(c,ca,r,o);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=_S(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ca,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function jb(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let et="";for(let Qe=0;Qe<2;Qe++)et+=Math.random().toString().slice(2);return et}();c["Content-Type"]="multipart/related; boundary="+_;const w=CS(e,i,r),S=Vb(w,t),ne=aa.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===ne)throw Ap();const ue={name:w.fullPath},Ce=il(o,n.host,n._protocol),He=n.maxUploadRetryTime,We=new rl(Ce,"POST",Bb(n,t),He);return We.urlParams=ue,We.headers=c,We.body=ne.uploadData(),We.errorHandler=Uh(e),We}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ca,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nS(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=la(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const o=new MP(t||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(la(this._state)){case Nr.SUCCESS:Np(this._resolve.bind(null,this.snapshot))();break;case Nr.CANCELED:case Nr.ERROR:Np(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(la(this._state)){case Nr.RUNNING:case Nr.PAUSED:e.next&&Np(e.next.bind(e,this.snapshot))();break;case Nr.SUCCESS:e.complete&&Np(e.complete.bind(e))();break;default:e.error&&Np(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Hh{constructor(e,t){this._service=e,this._location=t instanceof Mr?t:Mr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hh(e,t)}get root(){const e=new Mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CP(this._location.path)}get storage(){return this._service}get parent(){const e=function fS(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Mr(this._location.bucket,e);return new Hh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Nb(e)}}function kp(n,e,t){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,Ge.Z)(function*(n,e,t){const r=yield Zb(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield kp(n,e,r.nextPageToken))})).apply(this,arguments)}function Zb(n,e){null!=e&&"number"==typeof e.maxResults&&Rb("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Hb(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,ca)}function PS(n){n._throwIfRoot("getDownloadURL");const e=function AP(n,e,t){const r=il(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new rl(r,"GET",function Ub(n,e){return function t(i,r){const o=mS(n,r,e);return sl(null!==o),function Q_(n,e,t,i){const r=Bh(e);if(null===r||!W_(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(w=>{const k=n.fullPath;return il("/b/"+c(n.bucket)+"/o/"+c(k),t,i)+Fb({alt:"media",token:w})})[0]}(o,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=Pr(e),h}(n.storage,n._location,Y_());return n.storage.makeRequestWithTokens(e,ca).then(t=>{if(null===t)throw function n2(){return new Pi("no-download-url","The given file does not have any download URLs.")}();return t})}function NS(n,e){const t=function pS(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Mr(n._location.bucket,t);return new Hh(n.storage,i)}function Kb(n,e){if(n instanceof OS){const t=n;if(null==t._bucket)throw function rS(){return new Pi("no-default-bucket","No default bucket found. Did you set the '"+aP+"' property when initializing the app?")}();const i=new Hh(t,t._bucket);return null!=e?Kb(i,e):i}return void 0!==e?NS(n,e):n}function LP(n,e){if(e&&function h2(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof OS)return function f2(n,e){return new Hh(n,e)}(n,e);throw _d("To use ref(service, url), the first argument must be a Storage instance.")}return Kb(n,e)}function kS(n,e){const t=e?.[aP];return null==t?null:Mr.makeFromBucketSpec(t,n)}class OS{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=XT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Mr.makeFromBucketSpec(r,this._host):kS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Mr.makeFromBucketSpec(this._url,e):kS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ge.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ge.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hh(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new kb(sS());{const o=function cS(n,e,t,i,r,o){const c=Fb(n.urlParams),h=n.url+c,_=Object.assign({},n.headers);return function aS(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function gP(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function oS(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,o),function lS(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new pP(h,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var i=this;return(0,Ge.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const BP="@firebase/storage";function LS(n,e){return LP(n=(0,ce.m9)(n),e)}function g2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new OS(t,i,r,e,rr.SDK_VERSION)}!function m2(){(0,rr._registerComponent)(new wo.wA("storage",g2,"PUBLIC").setMultipleInstances(!0)),(0,rr.registerVersion)(BP,"0.9.8",""),(0,rr.registerVersion)(BP,"0.9.8","esm2017")}();class Op{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class BS{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Op(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Op(i,this,this._ref))},t)}on(e,t,i,r){let o;return t&&(o="function"==typeof t?c=>t(new Op(c,this,this._ref)):{next:t.next?c=>t.next(new Op(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}}class US{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ic(e,this._service))}get items(){return this._delegate.items.map(e=>new ic(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ic{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Xb(n,e){return NS(n,e)}(this._delegate,e);return new ic(t,this.storage)}get root(){return new ic(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ic(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new BS(function GP(n,e,t){return function OP(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new zb(n,new aa(e),t)}(n=(0,ce.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Eo.RAW,i){this._throwIfRoot("putString");const r=hS(t,e),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new BS(new zb(this._delegate,new aa(r.data,!0),o),this)}listAll(){return function FS(n){return function xS(n){const e={prefixes:[],items:[]};return kp(n,e).then(()=>e)}(n=(0,ce.m9)(n))}(this._delegate).then(e=>new US(e,this.storage))}list(e){return function yd(n,e){return Zb(n=(0,ce.m9)(n),e)}(this._delegate,e||void 0).then(t=>new US(t,this.storage))}getMetadata(){return function jP(n){return function RP(n){n._throwIfRoot("getMetadata");const e=_S(n.storage,n._location,Y_());return n.storage.makeRequestWithTokens(e,ca)}(n=(0,ce.m9)(n))}(this._delegate)}updateMetadata(e){return function RS(n,e){return function MS(n,e){n._throwIfRoot("updateMetadata");const t=function Gb(n,e,t,i){const o=il(e.fullServerUrl(),n.host,n._protocol),h=Vb(t,i),w=n.maxOperationRetryTime,S=new rl(o,"PATCH",Bb(n,i),w);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=h,S.errorHandler=Pr(e),S}(n.storage,n._location,e,Y_());return n.storage.makeRequestWithTokens(t,ca)}(n=(0,ce.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Qb(n){return PS(n=(0,ce.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Jb(n){return function FP(n){n._throwIfRoot("deleteObject");const e=function vS(n,e){const i=il(e.fullServerUrl(),n.host,n._protocol),h=new rl(i,"DELETE",function c(_,w){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Pr(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ca)}(n=(0,ce.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Nb(e)}}class HS{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(e1(e))throw _d("ref() expected a child path but got a URL, use refFromURL instead.");return new ic(LS(this._delegate,e),this)}refFromURL(e){if(!e1(e))throw _d("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Mr.makeFromUrl(e,this._delegate.host)}catch{throw _d("refFromUrl() expected a valid full URL but got an invalid one.")}return new ic(LS(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function X_(n,e,t,i={}){!function VP(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ce.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function e1(n){return/^[A-Za-z]+:\/\//.test(n)}function zP(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new HS(t,i)}function WP(n){const e=function t1(n){return new Di.y(e=>{const t=c=>e.next(c);t(n.snapshot);const o=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){o()}}).pipe(function Lh(n,e=hr.z){return(0,Ki.e)((t,i)=>{let r=null,o=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=o;o=null,i.next(w)}};function _(){const w=c+n,S=e.now();if(S<w)return r=this.schedule(void 0,w-S),void i.add(r);h()}t.subscribe((0,ii.x)(i,w=>{o=w,c=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,At.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Rp(n){return{getDownloadURL:()=>Dt(void 0).pipe(zt.fc,ai(()=>n.getDownloadURL()),zt.iC),getMetadata:()=>Dt(void 0).pipe(zt.fc,ai(()=>n.getMetadata()),zt.iC),delete:()=>(0,Rn.D)(n.delete()),child:e=>Rp(n.child(e)),updateMetadata:e=>(0,Rn.D)(n.updateMetadata(e)),put:(e,t)=>WP(n.put(e,t)),putString:(e,t,i)=>WP(n.putString(e,t,i)),list:e=>(0,Rn.D)(n.list(e)),listAll:()=>(0,Rn.D)(n.listAll())}}!function $S(n){const e={TaskState:Nr,TaskEvent:ES,StringFormat:Eo,Storage:HS,Reference:ic};n.INTERNAL.registerComponent(new wo.wA("storage-compat",zP,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.16")}(Db.Z);const n1=new s.OlP("angularfire2.storageBucket"),qP=new s.OlP("angularfire2.storage.maxUploadRetryTime"),ZP=new s.OlP("angularfire2.storage.maxOperationRetryTime"),_2=new s.OlP("angularfire2.storage.use-emulator");let y2=(()=>{class n{constructor(t,i,r,o,c,h,_,w,S,k){const K=(0,Ji.on)(t,c,i);this.storage=(0,Ji.cc)(`${K.name}.storage.${r}`,"AngularFireStorage",K.name,()=>{const ne=c.runOutsideAngular(()=>K.storage(r||void 0)),ue=S;return ue&&ne.useEmulator(...ue),_&&ne.setMaxUploadRetryTime(_),w&&ne.setMaxOperationRetryTime(w),ne},[_,w])}ref(t){return Rp(this.storage.ref(t))}refFromURL(t){return Rp(this.storage.refFromURL(t))}upload(t,i,r){return Rp(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ji.Dh),s.LFG(Ji.xv,8),s.LFG(n1,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zt.HU),s.LFG(qP,8),s.LFG(ZP,8),s.LFG(_2,8),s.LFG(nc,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),YP=(()=>{class n{constructor(){Rh.Z.registerVersion("angularfire",zt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[y2],imports:[KP]}),n})();function zS(){return(0,Ki.e)((n,e)=>{let t,i=!1;n.subscribe((0,ii.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}function ey(n,e=es.y){return n=n??b2,(0,Ki.e)((t,i)=>{let r,o=!0;t.subscribe((0,ii.x)(i,c=>{const h=e(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function b2(n,e){return n===e}g(5881);var It,C2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rc={},WS=WS||{},cn=C2||self;function r1(){}function a(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function l(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(n,e,t){return n.call.apply(n.bind,arguments)}function T(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function D(n,e,t){return(D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:T).apply(null,arguments)}function R(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function z(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function se(){this.s=this.s,this.o=this.o}var Se={};se.prototype.s=!1,se.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function u(n){return Object.prototype.hasOwnProperty.call(n,f)&&n[f]||(n[f]=++m)}(this);delete Se[n]}},se.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ke=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},ze=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&e.call(t,r[o],o,n)};function ht(n){return Array.prototype.concat.apply([],arguments)}function Et(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Ut(n){return/^[\s\xa0]*$/.test(n)}var mn,Xe=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function wt(n,e){return-1!=n.indexOf(e)}function En(n,e){return n<e?-1:n>e?1:0}e:{var Qc=cn.navigator;if(Qc){var ty=Qc.userAgent;if(ty){mn=ty;break e}}mn=""}function Fp(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ny(n){const e={};for(const t in n)e[t]=n[t];return e}var iy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ry(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<iy.length;o++)t=iy[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Lp(n){return Lp[" "](n),n}Lp[" "]=r1;var qS,n,o1=wt(mn,"Opera"),Jc=wt(mn,"Trident")||wt(mn,"MSIE"),w2=wt(mn,"Edge"),QP=w2||Jc,E2=wt(mn,"Gecko")&&!(wt(mn.toLowerCase(),"webkit")&&!wt(mn,"Edge"))&&!(wt(mn,"Trident")||wt(mn,"MSIE"))&&!wt(mn,"Edge"),N6=wt(mn.toLowerCase(),"webkit")&&!wt(mn,"Edge");function T2(){var n=cn.document;return n?n.documentMode:void 0}e:{var JP="",XP=(n=mn,E2?/rv:([^\);]+)(\)|;)/.exec(n):w2?/Edge\/([\d\.]+)/.exec(n):Jc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):N6?/WebKit\/(\S+)/.exec(n):o1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(XP&&(JP=XP?XP[1]:""),Jc){var eN=T2();if(null!=eN&&eN>parseFloat(JP)){qS=String(eN);break e}}qS=JP}var k6={};var R6=cn.document&&Jc&&(T2()||parseInt(qS,10))||void 0,F6=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{cn.addEventListener("test",r1,e),cn.removeEventListener("test",r1,e)}catch{}return n}();function ws(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function a1(n,e){if(ws.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(E2){e:{try{Lp(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:L6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&a1.Z.h.call(this)}}ws.prototype.h=function(){this.defaultPrevented=!0},z(a1,ws);var L6={2:"touch",3:"pen",4:"mouse"};a1.prototype.h=function(){a1.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var l1="closure_listenable_"+(1e6*Math.random()|0),V6=0;function B6(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++V6,this.ca=this.fa=!1}function ZS(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function KS(n){this.src=n,this.g={},this.h=0}function nN(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=ke(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ZS(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function iN(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==e&&o.capture==!!t&&o.ia==i)return r}return-1}KS.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=iN(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new B6(e,this.src,o,!!i,r)).fa=t,n.push(e)),e};var rN="closure_lm_"+(1e6*Math.random()|0),sN={};function I2(n,e,t,i,r){if(i&&i.once)return A2(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)I2(n,e[o],t,i,r);return null}return t=cN(t),n&&n[l1]?n.N(e,t,l(i)?!!i.capture:!!i,r):D2(n,e,t,!1,i,r)}function D2(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var c=l(r)?!!r.capture:!!r,h=aN(n);if(h||(n[rN]=h=new KS(n)),(t=h.add(e,t,i,c,o)).proxy)return t;if(i=function U6(){var e=H6;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)F6||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(M2(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function A2(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)A2(n,e[o],t,i,r);return null}return t=cN(t),n&&n[l1]?n.O(e,t,l(i)?!!i.capture:!!i,r):D2(n,e,t,!0,i,r)}function x2(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)x2(n,e[o],t,i,r);else i=l(i)?!!i.capture:!!i,t=cN(t),n&&n[l1]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=iN(o=n.g[e],t,i,r))&&(ZS(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=aN(n))&&(e=n.g[e.toString()],n=-1,e&&(n=iN(e,t,i,r)),(t=-1<n?e[n]:null)&&oN(t))}function oN(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[l1])nN(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(M2(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=aN(e))?(nN(t,n),0==t.h&&(t.src=null,e[rN]=null)):ZS(n)}}}function M2(n){return n in sN?sN[n]:sN[n]="on"+n}function H6(n,e){if(n.ca)n=!0;else{e=new a1(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&oN(n),n=t.call(i,e)}return n}function aN(n){return(n=n[rN])instanceof KS?n:null}var lN="__closure_events_fn_"+(1e9*Math.random()>>>0);function cN(n){return"function"==typeof n?n:(n[lN]||(n[lN]=function(e){return n.handleEvent(e)}),n[lN])}function Gr(){se.call(this),this.i=new KS(this),this.P=this,this.I=null}function is(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new ws(e,n);else if(e instanceof ws)e.target=e.target||n;else{var r=e;ry(e=new ws(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];r=YS(c,i,!0,e)&&r}if(r=YS(c=e.g=n,i,!0,e)&&r,r=YS(c,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=YS(c=e.g=t[o],i,!1,e)&&r}function YS(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.ca&&c.capture==t){var h=c.listener,_=c.ia||c.src;c.fa&&nN(n.i,c),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}z(Gr,se),Gr.prototype[l1]=!0,Gr.prototype.removeEventListener=function(n,e,t,i){x2(this,n,e,t,i)},Gr.prototype.M=function(){if(Gr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ZS(t[i]);delete n.g[e],n.h--}}this.I=null},Gr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Gr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var uN=cn.JSON.stringify;function G6(){var n=N2;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hN,P2=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $6,n=>n.reset());class $6{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function z6(n){cn.setTimeout(()=>{throw n},0)}function dN(n,e){hN||function W6(){var n=cn.Promise.resolve(void 0);hN=function(){n.then(q6)}}(),fN||(hN(),fN=!0),N2.add(n,e)}var fN=!1,N2=new class j6{constructor(){this.h=this.g=null}add(e,t){const i=P2.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function q6(){for(var n;n=G6();){try{n.h.call(n.g)}catch(t){z6(t)}var e=P2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}fN=!1}function QS(n,e){Gr.call(this),this.h=n||1,this.g=e||cn,this.j=D(this.kb,this),this.l=Date.now()}function pN(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function gN(n,e,t){if("function"==typeof n)t&&(n=D(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=D(n.handleEvent,n)}return 2147483647<Number(e)?-1:cn.setTimeout(n,e||0)}function k2(n){n.g=gN(()=>{n.g=null,n.i&&(n.i=!1,k2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}z(QS,Gr),(It=QS.prototype).da=!1,It.S=null,It.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),is(this,"tick"),this.da&&(pN(this),this.start()))}},It.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){QS.Z.M.call(this),pN(this),delete this.g};class Z6 extends se{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:k2(this)}M(){super.M(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function c1(n){se.call(this),this.h=n,this.g={}}z(c1,se);var O2=[];function R2(n,e,t,i){Array.isArray(t)||(t&&(O2[0]=t.toString()),t=O2);for(var r=0;r<t.length;r++){var o=I2(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function F2(n){Fp(n.g,function(e,t){this.g.hasOwnProperty(t)&&oN(e)},n),n.g={}}function JS(){this.g=!0}function sy(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function J6(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return uN(t)}catch{return e}}(n,t)+(i?" "+i:"")})}c1.prototype.M=function(){c1.Z.M.call(this),F2(this)},c1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},JS.prototype.Aa=function(){this.g=!1},JS.prototype.info=function(){};var Vp={},L2=null;function XS(){return L2=L2||new Gr}function V2(n){ws.call(this,Vp.Ma,n)}function u1(n){const e=XS();is(e,new V2(e,n))}function B2(n,e){ws.call(this,Vp.STAT_EVENT,n),this.stat=e}function zs(n){const e=XS();is(e,new B2(e,n))}function U2(n,e){ws.call(this,Vp.Na,n),this.size=e}function d1(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return cn.setTimeout(function(){n()},e)}Vp.Ma="serverreachability",z(V2,ws),Vp.STAT_EVENT="statevent",z(B2,ws),Vp.Na="timingevent",z(U2,ws);var eI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},H2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mN(){}function j2(){}mN.prototype.h=null;var vN,h1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _N(){ws.call(this,"d")}function yN(){ws.call(this,"c")}function tI(){}function f1(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new c1(this),this.P=X6,this.W=new QS(n=QP?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $2}function $2(){this.i=null,this.g="",this.h=!1}z(_N,ws),z(yN,ws),z(tI,mN),tI.prototype.g=function(){return new XMLHttpRequest},tI.prototype.i=function(){return{}},vN=new tI;var X6=45e3,bN={},nI={};function CN(n,e,t){n.K=1,n.v=aI(vd(e)),n.s=t,n.U=!0,z2(n,null)}function z2(n,e){n.F=Date.now(),p1(n),n.A=vd(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),eV(t.h,"t",i),n.C=0,t=n.l.H,n.h=new $2,n.g=EV(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Z6(D(n.Ia,n,n.g),n.O)),R2(n.V,n.g,"readystatechange",n.gb),e=n.H?ny(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),u1(1),function K6(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),_=0;_<h.length;_++){var w=h[_].split("=");if(1<w.length){var S=w[0];w=w[1];var k=S.split("_");c=2<=k.length&&"type"==k[1]?c+(S+"=")+w+"&":c+(S+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function W2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function q2(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=e5(n,t),r==nI){4==e&&(n.o=4,zs(14),i=!1),sy(n.j,n.m,null,"[Incomplete Response]");break}if(r==bN){n.o=4,zs(15),sy(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}sy(n.j,n.m,r,null),wN(n,r)}W2(n)&&r!=nI&&r!=bN&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,zs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),kN(e),e.L=!0,zs(11))):(sy(n.j,n.m,t,"[Invalid Chunked Response]"),Bp(n),g1(n))}function e5(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?nI:(t=Number(e.substring(t,i)),isNaN(t)?bN:(i+=1)+t>e.length?nI:(e=e.substr(i,t),n.C=i+t,e))}function p1(n){n.Y=Date.now()+n.P,Z2(n,n.P)}function Z2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=d1(D(n.eb,n),e)}function iI(n){n.B&&(cn.clearTimeout(n.B),n.B=null)}function g1(n){0==n.l.G||n.I||vV(n.l,n)}function Bp(n){iI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,pN(n.W),F2(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function wN(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||SN(t.i,n)))if(t.I=n.N,!n.J&&SN(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;fI(t),dI(t)}NN(t),zs(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=d1(D(t.ab,t),6e3));if(1>=iV(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Gp(t,11)}else if((n.J||t.g==n)&&fI(t),!Ut(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const k=w[4];null!=k&&(t.za=k,t.h.info("SVER="+t.za));const K=w[5];null!=K&&"number"==typeof K&&0<K&&(t.K=i=1.5*K,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const ne=n.g;if(ne){const ue=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var o=i.i;!o.g&&(wt(ue,"spdy")||wt(ue,"quic")||wt(ue,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(IN(o,o.h),o.h=null))}if(i.D){const Ce=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(i.sa=Ce,Ui(i.F,i.D,Ce))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=wV(i,i.H?i.la:null,i.W),c.J){rV(i.i,c);var h=c,_=i.K;_&&h.setTimeout(_),h.B&&(iI(h),p1(h)),i.g=c}else _V(i);0<t.l.length&&hI(t)}else"stop"!=w[0]&&"close"!=w[0]||Gp(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Gp(t,7):MN(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}u1(4)}catch{}}function EN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(a(n)||"string"==typeof n)ze(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(a(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function t5(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(a(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}}function oy(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof oy)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function TN(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Up(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Up(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Up(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(It=f1.prototype).setTimeout=function(n){this.P=n},It.gb=function(n){n=n.target;const e=this.L;e&&3==bd(n)?e.l():this.Ia(n)},It.Ia=function(n){try{if(n==this.g)e:{const S=bd(this.g);var e=this.g.Da();const k=this.g.ba();if(!(3>S)&&(3!=S||QP||this.g&&(this.h.h||this.g.ga()||hV(this.g)))){this.I||4!=S||7==e||u1(8==e||0>=k?3:2),iI(this);var t=this.g.ba();this.N=t;t:if(W2(this)){var i=hV(this.g);n="";var r=i.length,o=4==bd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bp(this),g1(this);var c="";break t}this.h.i=new cn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Y6(n,e,t,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ut(h)){var w=h;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,zs(12),Bp(this),g1(this);break e}sy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wN(this,t)}this.U?(q2(this,S,c),QP&&this.i&&3==S&&(R2(this.V,this.W,"tick",this.fb),this.W.start())):(sy(this.j,this.m,c,null),wN(this,c)),4==S&&Bp(this),this.i&&!this.I&&(4==S?vV(this.l,this):(this.i=!1,p1(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,zs(12)):(this.o=0,zs(13)),Bp(this),g1(this)}}}catch{}},It.fb=function(){if(this.g){var n=bd(this.g),e=this.g.ga();this.C<e.length&&(iI(this),q2(this,n,e),this.i&&4!=n&&p1(this))}},It.cancel=function(){this.I=!0,Bp(this)},It.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Q6(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(u1(3),zs(17)),Bp(this),this.o=2,g1(this)):Z2(this,this.Y-n)},(It=oy.prototype).R=function(){TN(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},It.T=function(){return TN(this),this.g.concat()},It.get=function(n,e){return Up(this.h,n)?this.h[n]:e},It.set=function(n,e){Up(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},It.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],o=this.get(r);n.call(e,o,r,this)}};var K2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Hp){this.g=void 0!==e?e:n.g,rI(this,n.j),this.s=n.s,sI(this,n.i),oI(this,n.m),this.l=n.l,e=n.h;var t=new y1;t.i=e.i,e.g&&(t.g=new oy(e.g),t.h=e.h),Y2(this,t),this.o=n.o}else n&&(t=String(n).match(K2))?(this.g=!!e,rI(this,t[1]||"",!0),this.s=m1(t[2]||""),sI(this,t[3]||"",!0),oI(this,t[4]),this.l=m1(t[5]||"",!0),Y2(this,t[6]||"",!0),this.o=m1(t[7]||"")):(this.g=!!e,this.h=new y1(null,this.g))}function vd(n){return new Hp(n)}function rI(n,e,t){n.j=t?m1(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sI(n,e,t){n.i=t?m1(e,!0):e}function oI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Y2(n,e,t){e instanceof y1?(n.h=e,function u5(n,e){e&&!n.j&&(jh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(J2(this,i),eV(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=_1(e,l5)),n.h=new y1(e,n.g))}function Ui(n,e,t){n.h.set(e,t)}function aI(n){return Ui(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function m1(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _1(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,s5),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function s5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_1(e,Q2,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_1(e,Q2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(_1(t,"/"==t.charAt(0)?a5:o5,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_1(t,c5)),n.join("")};var Q2=/[#\/\?@]/g,o5=/[#\?:]/g,a5=/[#\?]/g,l5=/[#\?@]/g,c5=/#/g;function y1(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function jh(n){n.g||(n.g=new oy,n.h=0,n.i&&function n5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function J2(n,e){jh(n),e=ay(n,e),Up(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Up((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&TN(n)))}function X2(n,e){return jh(n),e=ay(n,e),Up(n.g.h,e)}function eV(n,e,t){J2(n,e),0<t.length&&(n.i=null,n.g.set(ay(n,e),Et(t)),n.h+=t.length)}function ay(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function tV(n){this.l=n||h5,n=cn.PerformanceNavigationTiming?0<(n=cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(cn.g&&cn.g.Ea&&cn.g.Ea()&&cn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=y1.prototype).add=function(n,e){jh(this),this.i=null,n=ay(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){jh(this),this.g.forEach(function(t,i){ze(t,function(r){n.call(e,r,i,this)},this)},this)},It.T=function(){jh(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],o=0;o<r.length;o++)t.push(e[i]);return t},It.R=function(n){jh(this);var e=[];if("string"==typeof n)X2(this,n)&&(e=ht(e,this.g.get(ay(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=ht(e,n[t])}return e},It.set=function(n,e){return jh(this),this.i=null,X2(this,n=ay(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var c=r;""!==i[o]&&(c+="="+encodeURIComponent(String(i[o]))),n.push(c)}}return this.i=n.join("&")};var h5=10;function nV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iV(n){return n.h?1:n.g?n.g.size:0}function SN(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function IN(n,e){n.g?n.g.add(e):n.h=e}function rV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function sV(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Et(n.i)}function DN(){}function f5(){this.g=new DN}function p5(n,e,t){const i=t||"";try{EN(n,function(r,o){let c=r;l(r)&&(c=uN(r)),e.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function lI(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function v1(n){this.l=n.$b||null,this.j=n.ib||!1}function cI(n,e){Gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=AN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tV.prototype.cancel=function(){if(this.i=sV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},DN.prototype.stringify=function(n){return cn.JSON.stringify(n,void 0)},DN.prototype.parse=function(n){return cn.JSON.parse(n,void 0)},z(v1,mN),v1.prototype.g=function(){return new cI(this.l,this.j)},v1.prototype.i=function(n){return function(){return n}}({}),z(cI,Gr);var AN=0;function oV(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function b1(n){n.readyState=4,n.l=null,n.j=null,n.A=null,C1(n)}function C1(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=cI.prototype).open=function(n,e){if(this.readyState!=AN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,C1(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||cn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b1(this)),this.readyState=AN},It.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,C1(this)),this.g&&(this.readyState=3,C1(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oV(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},It.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?b1(this):C1(this),3==this.readyState&&oV(this)}},It.Ua=function(n){this.g&&(this.response=this.responseText=n,b1(this))},It.Ta=function(n){this.g&&(this.response=n,b1(this))},It.ha=function(){this.g&&b1(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var m5=cn.JSON.parse;function wr(n){Gr.call(this),this.headers=new oy,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aV,this.K=this.L=!1}z(wr,Gr);var aV="",_5=/^https?$/i,y5=["POST","PUT"];function b5(n){return"content-type"==n.toLowerCase()}function lV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cV(n),uI(n)}function cV(n){n.D||(n.D=!0,is(n,"complete"),is(n,"error"))}function uV(n){if(n.h&&typeof WS<"u"&&(!n.C[1]||4!=bd(n)||2!=n.ba()))if(n.v&&4==bd(n))gN(n.Fa,0,n);else if(is(n,"readystatechange"),4==bd(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(K2)[1]||null;if(!r&&cn.self&&cn.self.location){var o=cn.self.location.protocol;r=o.substr(0,o.length-1)}i=!_5.test(r?r.toLowerCase():"")}t=i}if(t)is(n,"complete"),is(n,"success");else{n.m=6;try{var c=2<bd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",cV(n)}}finally{uI(n)}}}function uI(n,e){if(n.g){dV(n);const t=n.g,i=n.C[0]?r1:null;n.g=null,n.C=null,e||is(n,"ready");try{t.onreadystatechange=i}catch{}}}function dV(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(cn.clearTimeout(n.A),n.A=null)}function bd(n){return n.g?n.g.readyState:0}function hV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case aV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xN(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function C5(n){let e="";return Fp(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ui(n,e,t))}function w1(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fV(n){this.za=0,this.l=[],this.h=new JS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=w1("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=w1("baseRetryDelayMs",5e3,n),this.$a=w1("retryDelaySeedMs",1e4,n),this.Ya=w1("forwardChannelMaxRetries",2,n),this.ra=w1("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new tV(n&&n.concurrentRequestLimit),this.Ca=new f5,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function MN(n){if(pV(n),3==n.G){var e=n.V++,t=vd(n.F);Ui(t,"SID",n.J),Ui(t,"RID",e),Ui(t,"TYPE","terminate"),E1(n,t),(e=new f1(n,n.h,e,void 0)).K=2,e.v=aI(vd(t)),t=!1,cn.navigator&&cn.navigator.sendBeacon&&(t=cn.navigator.sendBeacon(e.v.toString(),"")),!t&&cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=EV(e.l,null),e.g.ea(e.v)),e.F=Date.now(),p1(e)}CV(n)}function dI(n){n.g&&(kN(n),n.g.cancel(),n.g=null)}function pV(n){dI(n),n.u&&(cn.clearTimeout(n.u),n.u=null),fI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&cn.clearTimeout(n.m),n.m=null)}function PN(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hI(n)}function hI(n){nV(n.i)||n.m||(n.m=!0,dN(n.Ha,n),n.C=0)}function gV(n,e){var t;t=e?e.m:n.V++;const i=vd(n.F);Ui(i,"SID",n.J),Ui(i,"RID",t),Ui(i,"AID",n.U),E1(n,i),n.o&&n.s&&xN(i,n.o,n.s),t=new f1(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=mV(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),IN(n.i,t),CN(t,i,e)}function E1(n,e){n.j&&EN({},function(t,i){Ui(e,i,t)})}function mV(n,e,t){t=Math.min(n.l.length,t);var i=n.j?D(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let _=0;_<t;_++){let w=r[_].h;const S=r[_].g;if(w-=o,0>w)o=Math.max(0,r[_].h-100),h=!1;else try{p5(S,c,"req"+w+"_")}catch{i&&i(S)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function _V(n){n.g||n.u||(n.Y=1,dN(n.Ga,n),n.A=0)}function NN(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=d1(D(n.Ga,n),bV(n,n.A)),n.A++,0))}function kN(n){null!=n.B&&(cn.clearTimeout(n.B),n.B=null)}function yV(n){n.g=new f1(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=vd(n.oa);Ui(e,"RID","rpc"),Ui(e,"SID",n.J),Ui(e,"CI",n.N?"0":"1"),Ui(e,"AID",n.U),E1(n,e),Ui(e,"TYPE","xmlhttp"),n.o&&n.s&&xN(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=aI(vd(e)),t.s=null,t.U=!0,z2(t,n)}function fI(n){null!=n.v&&(cn.clearTimeout(n.v),n.v=null)}function vV(n,e){var t=null;if(n.g==e){fI(n),kN(n),n.g=null;var i=2}else{if(!SN(n.i,e))return;t=e.D,rV(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;is(i=XS(),new U2(i,t,e,r)),hI(n)}else _V(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function w5(n,e){return!(iV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=d1(D(n.Ha,n,e),bV(n,n.C)),n.C++,0)))}(n,e)||2==i&&NN(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Gp(n,5);break;case 4:Gp(n,10);break;case 3:Gp(n,6);break;default:Gp(n,2)}}function bV(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Gp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=D(n.jb,n);t||(t=new Hp("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||rI(t,"https"),aI(t)),function g5(n,e){const t=new JS;if(cn.Image){const i=new Image;i.onload=R(lI,t,i,"TestLoadImage: loaded",!0,e),i.onerror=R(lI,t,i,"TestLoadImage: error",!1,e),i.onabort=R(lI,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=R(lI,t,i,"TestLoadImage: timeout",!1,e),cn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else zs(2);n.G=0,n.j&&n.j.va(e),CV(n),pV(n)}function CV(n){n.G=0,n.I=-1,n.j&&((0!=sV(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Et(n.l),n.l.length=0),n.j.ua())}function wV(n,e,t){let i=function i5(n){return n instanceof Hp?vd(n):new Hp(n,void 0)}(t);if(""!=i.i)e&&sI(i,e+"."+i.i),oI(i,i.m);else{const r=cn.location;i=function r5(n,e,t,i){var r=new Hp(null,void 0);return n&&rI(r,n),e&&sI(r,e),t&&oI(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Fp(n.aa,function(r,o){Ui(i,o,r)}),t=n.sa,(e=n.D)&&t&&Ui(i,e,t),Ui(i,"VER",n.ma),E1(n,i),i}function EV(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Ba&&!n.qa?new v1({ib:!0}):n.qa)).L=n.H,e}function TV(){}function pI(){if(Jc&&!(10<=Number(R6)))throw Error("Environmental error: no available transport.")}function ua(n,e){Gr.call(this),this.g=new fV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ut(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ut(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ly(this)}function SV(n){_N.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function IV(){yN.call(this),this.status=1}function ly(n){this.g=n}(It=wr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vN.g(),this.C=function G2(n){return n.h||(n.h=n.i())}(this.u?this.u:vN),this.g.onreadystatechange=D(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void lV(this,o)}n=t||"";const r=new oy(this.headers);i&&EN(i,function(o,c){r.set(c,o)}),i=function nt(n){e:{var e=b5;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=cn.FormData&&n instanceof cn.FormData,!(0<=ke(y5,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dV(this),0<this.B&&((this.K=function v5(n){return Jc&&function O6(){return function s1(n){var e=k6;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Xe(String(qS)).split("."),t=Xe("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",o=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=En(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||En(0==r[2].length,0==o[2].length)||En(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=D(this.pa,this)):this.A=gN(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){lV(this,o)}},It.pa=function(){typeof WS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,is(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,is(this,"complete"),is(this,"abort"),uI(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uI(this,!0)),wr.Z.M.call(this)},It.Fa=function(){this.s||(this.F||this.v||this.l?uV(this):this.cb())},It.cb=function(){uV(this)},It.ba=function(){try{return 2<bd(this)?this.g.status:-1}catch{return-1}},It.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),m5(e)}},It.Da=function(){return this.m},It.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=fV.prototype).ma=8,It.G=1,It.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},It.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new f1(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=ny(o),ry(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mV(this,r,e),Ui(t=vd(this.F),"RID",n),Ui(t,"CVER",22),this.D&&Ui(t,"X-HTTP-Session-Id",this.D),E1(this,t),this.o&&o&&xN(t,this.o,o),IN(this.i,r),this.Ra&&Ui(t,"TYPE","init"),this.ja?(Ui(t,"$req",e),Ui(t,"SID","null"),r.$=!0,CN(r,t,null)):CN(r,t,e),this.G=2}}else 3==this.G&&(n?gV(this,n):0==this.l.length||nV(this.i)||gV(this))},It.Ga=function(){if(this.u=null,yV(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=d1(D(this.bb,this),n)}},It.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zs(10),dI(this),yV(this))},It.ab=function(){null!=this.v&&(this.v=null,dI(this),NN(this),zs(19))},It.jb=function(n){n?(this.h.info("Successfully pinged google.com"),zs(2)):(this.h.info("Failed to ping google.com"),zs(1))},(It=TV.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Oa=function(){},pI.prototype.g=function(n,e){return new ua(n,e)},z(ua,Gr),ua.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),dN(D(n.hb,n,e))),zs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=wV(n,null,n.W),hI(n)},ua.prototype.close=function(){MN(this.g)},ua.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,PN(this.g,e)}else this.v?((e={}).__data__=uN(n),PN(this.g,e)):PN(this.g,n)},ua.prototype.M=function(){this.g.j=null,delete this.j,MN(this.g),delete this.g,ua.Z.M.call(this)},z(SV,_N),z(IV,yN),z(ly,TV),ly.prototype.xa=function(){is(this.g,"a")},ly.prototype.wa=function(n){is(this.g,new SV(n))},ly.prototype.va=function(n){is(this.g,new IV(n))},ly.prototype.ua=function(){is(this.g,"b")},pI.prototype.createWebChannel=pI.prototype.g,ua.prototype.send=ua.prototype.u,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,eI.NO_ERROR=0,eI.TIMEOUT=8,eI.HTTP_ERROR=6,H2.COMPLETE="complete",j2.EventType=h1,h1.OPEN="a",h1.CLOSE="b",h1.ERROR="c",h1.MESSAGE="d",Gr.prototype.listen=Gr.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var E5=rc.createWebChannelTransport=function(){return new pI},T5=rc.getStatEventTarget=function(){return XS()},ON=rc.ErrorCode=eI,S5=rc.EventType=H2,I5=rc.Event=Vp,DV=rc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},D5=rc.FetchXmlHttpFactory=v1,gI=rc.WebChannel=j2,A5=rc.XhrIo=wr;const AV="@firebase/firestore";class jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let cy="9.8.4";const $h=new sa.Yd("@firebase/firestore");function RN(){return $h.logLevel}function it(n,...e){if($h.logLevel<=sa.in.DEBUG){const t=e.map(FN);$h.debug(`Firestore (${cy}): ${n}`,...t)}}function Er(n,...e){if($h.logLevel<=sa.in.ERROR){const t=e.map(FN);$h.error(`Firestore (${cy}): ${n}`,...t)}}function T1(n,...e){if($h.logLevel<=sa.in.WARN){const t=e.map(FN);$h.warn(`Firestore (${cy}): ${n}`,...t)}}function FN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Pt(n="Unexpected state"){const e=`FIRESTORE (${cy}) INTERNAL ASSERTION FAILED: `+n;throw Er(e),new Error(e)}function rn(n,e){n||Pt()}function vt(n,e){return n}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends ce.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class N5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k5{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const w=c;e.enqueueRetryable((0,Ge.Z)(function*(){yield w.promise,yield o(i.currentUser)}))},_=w=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rn("string"==typeof i.accessToken),new xV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(null===e||"string"==typeof e),new jr(e)}}class O5{constructor(e,t,i){this.type="FirstParty",this.user=jr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class R5{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new O5(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F5{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=o=>{null!=o.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,it("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rn("string"==typeof t.token),this.p=t.token,new MV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function L5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class PV{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=L5(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function gn(n,e){return n<e?-1:n>e?1:0}function uy(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function NV(n){return n+"\0"}class Hi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hi.fromMillis(Date.now())}static fromDate(e){return Hi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Hi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new Hi(0,0))}static max(){return new Jt(new Hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class S1{constructor(e,t,i){void 0===t?t=0:t>e.length&&Pt(),void 0===i?i=e.length-t:i>e.length-t&&Pt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===S1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof S1?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),c=t.get(r);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fn extends S1{construct(e,t,i){return new Fn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new tt(Ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Fn(t)}static emptyPath(){return new Fn([])}}const V5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends S1{construct(e,t,i){return new fr(e,t,i)}static isValidIdentifier(e){return V5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new tt(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new tt(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new tt(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new tt(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Fn.fromString(e))}static fromName(e){return new ft(Fn.fromString(e).popFirst(5))}static empty(){return new ft(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Fn(e.slice()))}}class mI{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function LN(n){return n.fields.find(e=>2===e.kind)}function jp(n){return n.fields.filter(e=>2!==e.kind)}mI.UNKNOWN_ID=-1;class _I{constructor(e,t){this.fieldPath=e,this.kind=t}}class I1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new I1(0,da.min())}}function kV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Jt.fromTimestamp(1e9===i?new Hi(t+1,0):new Hi(t,i));return new da(r,ft.empty(),e)}function OV(n){return new da(n.readTime,n.key,-1)}class da{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new da(Jt.min(),ft.empty(),-1)}static max(){return new da(Jt.max(),ft.empty(),-1)}}function VN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ft.comparator(n.documentKey,e.documentKey),0!==t?t:gn(n.largestBatchId,e.largestBatchId))}const RV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zh(n){return BN.apply(this,arguments)}function BN(){return BN=(0,Ge.Z)(function*(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==RV)throw n;it("LocalStore","Unexpectedly lost primary lease")}),BN.apply(this,arguments)}class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Le((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Le?t:Le.resolve(t)}catch(t){return Le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.reject(t)}static resolve(e){return new Le((t,i)=>{t(e)})}static reject(e){return new Le((t,i)=>{i(e)})}static waitFor(e){return new Le((t,i)=>{let r=0,o=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&t()},_=>i(_))}),c=!0,o===r&&t()})}static or(e){let t=Le.resolve(!1);for(const i of e)t=t.next(r=>r?Le.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new Le((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let _=0;_<o;_++){const w=_;t(e[w]).next(S=>{c[w]=S,++h,h===o&&i(c)},S=>r(S))}})}static doWhile(e,t){return new Le((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class yI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new $r,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new D1(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=UN(i.target.error);this.T.reject(new D1(e,r))}}static open(e,t,i,r){try{return new yI(t,e.transaction(r,i))}catch(o){throw new D1(t,o)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(it("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new U5(t)}}class sc{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===sc.v((0,ce.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return it("SimpleDb","Removing database:",e),$p(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,ce.hl)())return!1;if(sc.S())return!0;const e=(0,ce.z$)(),t=sc.v(e),i=0<t&&t<10,r=sc.D(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,Ge.Z)(function*(){return t.db||(it("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new D1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new tt(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new tt(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new D1(e,h))},o.onupgradeneeded=c=>{it("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{it("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=i=>t.M(i)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,Ge.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.k(e);const _=yI.open(o.db,e,c?"readonly":"readwrite",i),w=r(_).next(S=>(_.R(),S)).catch(S=>(_.abort(S),Le.reject(S))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,S="FirebaseError"!==w.name&&h<3;if(it("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),o.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class B5{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return $p(this.$.delete())}}class D1 extends tt{constructor(e,t){super(Ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wh(n){return"IndexedDbTransactionError"===n.name}class U5{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(it("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(it("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),$p(i)}add(e){return it("SimpleDb","ADD",this.store.name,e,e),$p(this.store.add(e))}get(e){return $p(this.store.get(e)).next(t=>(void 0===t&&(t=null),it("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return it("SimpleDb","DELETE",this.store.name,e),$p(this.store.delete(e))}count(){return it("SimpleDb","COUNT",this.store.name),$p(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Le((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Le((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}W(e,t){it("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(o,c,h)=>h.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new Le((i,r)=>{t.onerror=o=>{const c=UN(o.target.error);r(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}G(e,t){const i=[];return new Le((r,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const _=new B5(h),w=t(h.primaryKey,h.value,_);if(w instanceof Le){const S=w.catch(k=>(_.done(),Le.reject(k)));i.push(S)}_.isDone?r():null===_.U?h.continue():h.continue(_.U)}}).next(()=>Le.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $p(n){return new Le((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=UN(i.target.error);t(r)}})}let LV=!1;function UN(n){const e=sc.v((0,ce.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LV||(LV=!0,setTimeout(()=>{throw i},0)),i}}return n}class H5{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;it("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ge.Z)(function*(){t.task=null;try{it("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){Wh(i)?it("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield zh(i)}yield t.Z(1)}))}}class G5{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,o=!0;return Le.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return it("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,r).next(h=>{r-=h,i.add(c)});o=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(r,o)).next(h=>(it("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}st(e,t){let i=e;return t.changes.forEach((r,o)=>{const c=OV(o);VN(c,i)>0&&(i=c)}),new da(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class To{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function VV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}To.ot=-1;class sr{constructor(e,t){this.comparator=e,this.root=t||rs.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vI(this.root,e,this.comparator,!1)}getReverseIterator(){return new vI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vI(this.root,e,this.comparator,!0)}}class vI{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rs{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??rs.RED,this.left=r??rs.EMPTY,this.right=o??rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new rs(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1,rs.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new rs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UV(this.data.getIterator())}getIteratorFrom(e){return new UV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class UV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dy(n){return n.hasNext()?n.getNext():void 0}class ha{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new ha([])}unionWith(e){let t=new di(fr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ha(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uy(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new kr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const $5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qh(n){if(rn(!!n),"string"==typeof n){let e=0;const t=$5.exec(n);if(rn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:or(n.seconds),nanos:or(n.nanos)}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wp(n){return"string"==typeof n?kr.fromBase64String(n):kr.fromUint8Array(n)}function HN(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HV(n){const e=n.mapValue.fields.__previous_value__;return HN(e)?HV(e):e}function A1(n){const e=qh(n.mapValue.fields.__local_write_time__.timestampValue);return new Hi(e.seconds,e.nanos)}class z5{constructor(e,t,i,r,o,c,h,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Cd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}function x1(n){return null==n}function M1(n){return 0===n&&1/n==-1/0}function GV(n){return"number"==typeof n&&Number.isInteger(n)&&!M1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bI={nullValue:"NULL_VALUE"};function qp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HN(n)?4:WV(n)?9007199254740991:10:Pt()}function Xc(n,e){if(n===e)return!0;const t=qp(n);if(t!==qp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return A1(n).isEqual(A1(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=qh(i.timestampValue),c=qh(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Wp(n.bytesValue).isEqual(Wp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return or(i.geoPointValue.latitude)===or(r.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return or(i.integerValue)===or(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=or(i.doubleValue),c=or(r.doubleValue);return o===c?M1(o)===M1(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return uy(n.arrayValue.values||[],e.arrayValue.values||[],Xc);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(VV(o)!==VV(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Xc(o[h],c[h])))return!1;return!0}(n,e);default:return Pt()}var r}function P1(n,e){return void 0!==(n.values||[]).find(t=>Xc(t,e))}function Kh(n,e){if(n===e)return 0;const t=qp(n),i=qp(e);if(t!==i)return gn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,e.booleanValue);case 2:return function(r,o){const c=or(r.integerValue||r.doubleValue),h=or(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return jV(n.timestampValue,e.timestampValue);case 4:return jV(A1(n),A1(e));case 5:return gn(n.stringValue,e.stringValue);case 6:return function(r,o){const c=Wp(r),h=Wp(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let _=0;_<c.length&&_<h.length;_++){const w=gn(c[_],h[_]);if(0!==w)return w}return gn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const c=gn(or(r.latitude),or(o.latitude));return 0!==c?c:gn(or(r.longitude),or(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let _=0;_<c.length&&_<h.length;++_){const w=Kh(c[_],h[_]);if(w)return w}return gn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Zh.mapValue&&o===Zh.mapValue)return 0;if(r===Zh.mapValue)return 1;if(o===Zh.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),_=o.fields||{},w=Object.keys(_);h.sort(),w.sort();for(let S=0;S<h.length&&S<w.length;++S){const k=gn(h[S],w[S]);if(0!==k)return k;const K=Kh(c[h[S]],_[w[S]]);if(0!==K)return K}return gn(h.length,w.length)}(n.mapValue,e.mapValue);default:throw Pt()}}function jV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return gn(n,e);const t=qh(n),i=qh(e),r=gn(t.seconds,i.seconds);return 0!==r?r:gn(t.nanos,i.nanos)}function hy(n){return GN(n)}function GN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=qh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wp(n.bytesValue).toBase64():"referenceValue"in n?ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=GN(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${GN(i.fields[h])}`;return o+"}"}(n.mapValue):Pt();var e}function Zp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jN(n){return!!n&&"integerValue"in n}function N1(n){return!!n&&"arrayValue"in n}function $V(n){return!!n&&"nullValue"in n}function zV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function CI(n){return!!n&&"mapValue"in n}function k1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=k1(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=k1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function W5(n){return"nullValue"in n?bI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zp(Cd.empty(),ft.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Pt()}function q5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zp(Cd.empty(),ft.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zh:Pt()}function qV(n,e){const t=Kh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ZV(n,e){const t=Kh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!CI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=k1(t)}setAll(e){let t=fr.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=k1(c):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());CI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];CI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){zp(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new ss(k1(this.value))}}function KV(n){const e=[];return zp(n.fields,(t,i)=>{const r=new fr([t]);if(CI(i)){const o=KV(i.mapValue).fields;if(0===o.length)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new ha(e)}class vi{constructor(e,t,i,r,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new vi(e,0,Jt.min(),Jt.min(),ss.empty(),0)}static newFoundDocument(e,t,i){return new vi(e,1,t,Jt.min(),i,0)}static newNoDocument(e,t){return new vi(e,2,t,Jt.min(),ss.empty(),0)}static newUnknownDocument(e,t){return new vi(e,3,t,Jt.min(),ss.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Z5{constructor(e,t=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.ut=null}}function YV(n,e=null,t=[],i=[],r=null,o=null,c=null){return new Z5(n,e,t,i,r,o,c)}function Kp(n){const e=vt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+hy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),x1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>hy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>hy(i)).join(",")),e.ut=t}return e.ut}function O1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!iz(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Xc(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tB(n.startAt,e.startAt)&&tB(n.endAt,e.endAt)}function wI(n){return ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function EI(n,e){return n.filters.filter(t=>t instanceof os&&t.field.isEqual(e))}function QV(n,e,t){let i=bI,r=!0;for(const o of EI(n,e)){let c=bI,h=!0;switch(o.op){case"<":case"<=":c=W5(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=bI}qV({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];qV({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function JV(n,e,t){let i=Zh,r=!0;for(const o of EI(n,e)){let c=Zh,h=!0;switch(o.op){case">=":case">":c=q5(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Zh}ZV({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];ZV({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class os extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new Y5(e,t,i):"array-contains"===t?new X5(e,i):"in"===t?new ez(e,i):"not-in"===t?new tz(e,i):"array-contains-any"===t?new nz(e,i):new os(e,t,i)}static ct(e,t,i){return"in"===t?new Q5(e,i):new J5(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Kh(t,this.value)):null!==t&&qp(this.value)===qp(t)&&this.at(Kh(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Y5 extends os{constructor(e,t,i){super(e,t,i),this.key=ft.fromName(i.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.at(t)}}class Q5 extends os{constructor(e,t){super(e,"in",t),this.keys=XV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class J5 extends os{constructor(e,t){super(e,"not-in",t),this.keys=XV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ft.fromName(i.referenceValue))}class X5 extends os{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return N1(t)&&P1(t.arrayValue,this.value)}}class ez extends os{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&P1(this.value.arrayValue,t)}}class tz extends os{constructor(e,t){super(e,"not-in",t)}matches(e){if(P1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!P1(this.value.arrayValue,t)}}class nz extends os{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!N1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>P1(this.value.arrayValue,i))}}class Yh{constructor(e,t){this.position=e,this.inclusive=t}}class fy{constructor(e,t="asc"){this.field=e,this.dir=t}}function iz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function eB(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],c=n.position[r];if(i=o.field.isKeyField()?ft.comparator(ft.fromName(c.referenceValue),t.key):Kh(c,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function tB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xc(n.position[t],e.position[t]))return!1;return!0}class wd{constructor(e,t=null,i=[],r=[],o=null,c="F",h=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=_,this.lt=null,this.ft=null}}function nB(n,e,t,i,r,o,c,h){return new wd(n,e,t,i,r,o,c,h)}function py(n){return new wd(n)}function $N(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zN(n){for(const e of n.filters)if(e.ht())return e.field;return null}function WN(n){return null!==n.collectionGroup}function gy(n){const e=vt(n);if(null===e.lt){e.lt=[];const t=zN(e),i=$N(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new fy(t)),e.lt.push(new fy(fr.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new fy(fr.keyField(),o))}}}return e.lt}function ol(n){const e=vt(n);if(!e.ft)if("F"===e.limitType)e.ft=YV(e.path,e.collectionGroup,gy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of gy(e))t.push(new fy(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Yh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Yh(e.startAt.position,e.startAt.inclusive):null;e.ft=YV(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function iB(n,e,t){return new wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function R1(n,e){return O1(ol(n),ol(e))&&n.limitType===e.limitType}function rB(n){return`${Kp(ol(n))}|lt:${n.limitType}`}function qN(n){return`Query(target=${function K5(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${hy(i.value)}`;var i}).join(", ")}]`),x1(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>hy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>hy(t)).join(",")),`Target(${e})`}(ol(n))}; limitType=${n.limitType})`}function ZN(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ft.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,c){const h=eB(r,o,c);return r.inclusive?h<=0:h<0}(t.startAt,gy(t),i)||t.endAt&&!function(r,o,c){const h=eB(r,o,c);return r.inclusive?h>=0:h>0}(t.endAt,gy(t),i)));var t,i}function sB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oB(n){return(e,t)=>{let i=!1;for(const r of gy(n)){const o=sz(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function sz(n,e,t){const i=n.field.isKeyField()?ft.comparator(e.key,t.key):function(r,o,c){const h=o.data.field(r),_=c.data.field(r);return null!==h&&null!==_?Kh(h,_):Pt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pt()}}function aB(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:M1(e)?"-0":e}}function lB(n){return{integerValue:""+n}}function cB(n,e){return GV(e)?lB(e):aB(n,e)}class TI{constructor(){this._=void 0}}function oz(n,e,t){return n instanceof my?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Yp?dB(n,e):n instanceof Qp?hB(n,e):function(i,r){const o=uB(i,r),c=fB(o)+fB(i._t);return jN(o)&&jN(i._t)?lB(c):aB(i.wt,c)}(n,e)}function az(n,e,t){return n instanceof Yp?dB(n,e):n instanceof Qp?hB(n,e):t}function uB(n,e){return n instanceof _y?jN(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class my extends TI{}class Yp extends TI{constructor(e){super(),this.elements=e}}function dB(n,e){const t=pB(e);for(const i of n.elements)t.some(r=>Xc(r,i))||t.push(i);return{arrayValue:{values:t}}}class Qp extends TI{constructor(e){super(),this.elements=e}}function hB(n,e){let t=pB(e);for(const i of n.elements)t=t.filter(r=>!Xc(r,i));return{arrayValue:{values:t}}}class _y extends TI{constructor(e,t){super(),this.wt=e,this._t=t}}function fB(n){return or(n.integerValue||n.doubleValue)}function pB(n){return N1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class F1{constructor(e,t){this.field=e,this.transform=t}}class cz{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function SI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class II{}function gB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vy(n.key,Xi.none()):new yy(n.key,n.data,Xi.none());{const t=n.data,i=ss.empty();let r=new di(fr.comparator);for(let o of e.fields)if(!r.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new Ed(n.key,i,new ha(r.toArray()),Xi.none())}}function uz(n,e,t){n instanceof yy?function(i,r,o){const c=i.value.clone(),h=yB(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ed?function(i,r,o){if(!SI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=yB(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(_B(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function L1(n,e,t,i){return n instanceof yy?function(r,o,c,h){if(!SI(r.precondition,o))return c;const _=r.value.clone(),w=vB(r.fieldTransforms,h,o);return _.setAll(w),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ed?function(r,o,c,h){if(!SI(r.precondition,o))return c;const _=vB(r.fieldTransforms,h,o),w=o.data;return w.setAll(_B(r)),w.setAll(_),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(S=>S.field))}(n,e,t,i):(c=t,SI(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function dz(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=uB(i.transform,r||null);null!=o&&(null===t&&(t=ss.empty()),t.set(i.field,o))}return t||null}function mB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&uy(t,i,(r,o)=>function lz(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yp&&i instanceof Yp||t instanceof Qp&&i instanceof Qp?uy(t.elements,i.elements,Xc):t instanceof _y&&i instanceof _y?Xc(t._t,i._t):t instanceof my&&i instanceof my);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class yy extends II{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ed extends II{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _B(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function yB(n,e,t){const i=new Map;rn(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,az(c,h,t[r]))}return i}function vB(n,e,t){const i=new Map;for(const r of n){const o=r.transform,c=t.data.field(r.field);i.set(r.field,oz(o,c,e))}return i}class vy extends II{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KN extends II{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hz{constructor(e){this.count=e}}var Tr,Ln;function bB(n){switch(n){default:return Pt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function CB(n){if(void 0===n)return Er("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case Tr.OK:return Ue.OK;case Tr.CANCELLED:return Ue.CANCELLED;case Tr.UNKNOWN:return Ue.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return Ue.INTERNAL;case Tr.UNAVAILABLE:return Ue.UNAVAILABLE;case Tr.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Tr.NOT_FOUND:return Ue.NOT_FOUND;case Tr.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Tr.ABORTED:return Ue.ABORTED;case Tr.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Tr.DATA_LOSS:return Ue.DATA_LOSS;default:return Pt()}}(Ln=Tr||(Tr={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";class Qh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zp(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return BV(this.inner)}size(){return this.innerSize}}const fz=new sr(ft.comparator);function So(){return fz}const wB=new sr(ft.comparator);function V1(...n){let e=wB;for(const t of n)e=e.insert(t.key,t);return e}function EB(n){let e=wB;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function eu(){return B1()}function TB(){return B1()}function B1(){return new Qh(n=>n.toString(),(n,e)=>n.isEqual(e))}const pz=new sr(ft.comparator),gz=new di(ft.comparator);function _n(...n){let e=gz;for(const t of n)e=e.add(t);return e}const mz=new di(gn);function DI(){return mz}class U1{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,H1.createSynthesizedTargetChangeForCurrentChange(e,t)),new U1(Jt.min(),i,DI(),So(),_n())}}class H1{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t){return new H1(kr.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class AI{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class SB{constructor(e,t){this.targetId=e,this.It=t}}class IB{constructor(e,t,i=kr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class DB{constructor(){this.Tt=0,this.Et=xB(),this.At=kr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=_n(),t=_n(),i=_n();return this.Et.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Pt()}}),new H1(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=xB()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class _z{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=So(),this.Bt=AB(),this.Lt=new di(gn)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Ot(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:Pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const o=r.target;if(wI(o))if(0===i){const c=new ft(o.path);this.Kt(t,c,vi.newNoDocument(c,Jt.min()))}else rn(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((o,c)=>{const h=this.Ht(c);if(h){if(o.current&&wI(h.target)){const _=new ft(h.target.path);null!==this.$t.get(_)||this.Xt(c,_)||this.Kt(c,_,vi.newNoDocument(_,e))}o.vt&&(t.set(c,o.St()),o.Dt())}});let i=_n();this.Bt.forEach((o,c)=>{let h=!0;c.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.$t.forEach((o,c)=>c.setReadTime(e));const r=new U1(e,t,this.Lt,this.$t,i);return this.$t=So(),this.Bt=AB(),this.Lt=new di(gn),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new DB,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new di(gn),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||it("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new DB),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function AB(){return new sr(ft.comparator)}function xB(){return new sr(ft.comparator)}const yz={asc:"ASCENDING",desc:"DESCENDING"},vz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bz{constructor(e,t){this.databaseId=e,this.dt=t}}function G1(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MB(n,e){return n.dt?e.toBase64():e.toUint8Array()}function Cz(n,e){return G1(n,e.toTimestamp())}function zr(n){return rn(!!n),Jt.fromTimestamp(function(e){const t=qh(e);return new Hi(t.seconds,t.nanos)}(n))}function YN(n,e){return(t=n,new Fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function PB(n){const e=Fn.fromString(n);return rn(UB(e)),e}function j1(n,e){return YN(n.databaseId,e.path)}function tu(n,e){const t=PB(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ft(kB(t))}function QN(n,e){return YN(n.databaseId,e)}function NB(n){const e=PB(n);return 4===e.length?Fn.emptyPath():kB(e)}function $1(n){return new Fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kB(n){return rn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OB(n,e,t){return{name:j1(n,e),fields:t.value.mapValue.fields}}function RB(n,e,t){const i=tu(n,e.name),r=zr(e.updateTime),o=new ss({mapValue:{fields:e.fields}}),c=vi.newFoundDocument(i,r,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function z1(n,e){let t;if(e instanceof yy)t={update:OB(n,e.key,e.value)};else if(e instanceof vy)t={delete:j1(n,e.key)};else if(e instanceof Ed)t={update:OB(n,e.key,e.data),updateMask:Mz(e.fieldMask)};else{if(!(e instanceof KN))return Pt();t={verify:j1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof my)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _y)return{fieldPath:o.field.canonicalString(),increment:c._t};throw Pt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Cz(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Pt()),t;var r}function JN(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Xi.updateTime(zr(r.updateTime)):void 0!==r.exists?Xi.exists(r.exists):Xi.none():Xi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(rn("REQUEST_TIME"===c.setToServerValue),h=new my):"appendMissingElements"in c?h=new Yp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Qp(c.removeAllFromArray.values||[]):"increment"in c?h=new _y(o,c.increment):Pt();const _=fr.fromServerFormat(c.fieldPath);return new F1(_,h)}(n,r)):[];var r;if(e.update){const r=tu(n,e.update.name),o=new ss({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ha((e.updateMask.fieldPaths||[]).map(w=>fr.fromServerFormat(w)));return new Ed(r,o,c,t,i)}return new yy(r,o,t,i)}if(e.delete){const r=tu(n,e.delete);return new vy(r,t)}if(e.verify){const r=tu(n,e.verify);return new KN(r,t)}return Pt()}function FB(n,e){return{documents:[QN(n,e.path)]}}function LB(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=QN(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=QN(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(S=>function(k){if("=="===k.op){if(zV(k.value))return{unaryFilter:{field:by(k.field),op:"IS_NAN"}};if($V(k.value))return{unaryFilter:{field:by(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(zV(k.value))return{unaryFilter:{field:by(k.field),op:"IS_NOT_NAN"}};if($V(k.value))return{unaryFilter:{field:by(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:by(k.field),op:Dz(k.op),value:k.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);r&&(t.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(w=>{return{field:by((S=w).field),direction:Iz(S.dir)};var S})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=(w=e.limit,n.dt||x1(w)?w:{value:w});var w,h,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function VB(n){let e=NB(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){rn(1===i);const S=t.from[0];S.allDescendants?r=S.collectionId:e=e.child(S.collectionId)}let o=[];t.where&&(o=BB(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new fy(Cy((k=S).field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let h=null;t.limit&&(h=function(S){let k;return k="object"==typeof S?S.value:S,x1(k)?null:k}(t.limit));let _=null;var S;t.startAt&&(_=new Yh((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new Yh(S.values||[],!S.before)}(t.endAt)),nB(e,r,c,o,h,"F",_,w)}function BB(n){return n?void 0!==n.unaryFilter?[xz(n)]:void 0!==n.fieldFilter?[Az(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>BB(e)).reduce((e,t)=>e.concat(t)):Pt():[]}function Iz(n){return yz[n]}function Dz(n){return vz[n]}function by(n){return{fieldPath:n.canonicalString()}}function Cy(n){return fr.fromServerFormat(n.fieldPath)}function Az(n){return os.create(Cy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function xz(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Cy(n.unaryFilter.field);return os.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Cy(n.unaryFilter.field);return os.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cy(n.unaryFilter.field);return os.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Cy(n.unaryFilter.field);return os.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}function Mz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ws(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HB(e)),e=Pz(n.get(t),e);return HB(e)}function Pz(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function HB(n){return n+"\x01\x01"}function nu(n){const e=n.length;if(rn(e>=2),2===e)return rn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Fn.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&Pt(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:Pt()}o=c+2}return new Fn(i)}const GB=["userId","batchId"];function xI(n,e){return[n,Ws(e)]}function jB(n,e,t){return[n,Ws(e),t]}const Nz={},kz=["prefixPath","collectionGroup","readTime","documentId"],Oz=["prefixPath","collectionGroup","documentId"],Rz=["collectionGroup","readTime","prefixPath","documentId"],Fz=["canonicalId","targetId"],Lz=["targetId","path"],Vz=["path","targetId"],Bz=["collectionId","parent"],Uz=["indexId","uid"],Hz=["uid","sequenceNumber"],Gz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jz=["indexId","uid","orderedDocumentKey"],$z=["userId","collectionPath","documentId"],zz=["userId","collectionPath","largestBatchId"],Wz=["userId","collectionGroup","largestBatchId"],$B=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qz=[...$B,"documentOverlays"],zB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WB=zB,Zz=[...WB,"indexConfiguration","indexState","indexEntries"];class XN extends FV{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Wr(n,e){const t=vt(n);return sc.N(t.ee,e)}class ek{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&uz(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=L1(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=L1(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=TB();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(r.key)?null:h;const _=gB(c,h);null!==_&&i.set(r.key,_),c.isValidDocument()||c.convertToNoDocument(Jt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&uy(this.mutations,e.mutations,(t,i)=>mB(t,i))&&uy(this.baseMutations,e.baseMutations,(t,i)=>mB(t,i))}}class tk{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){rn(e.mutations.length===i.length);let r=pz;const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new tk(e,t,i,r)}}class nk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jh{constructor(e,t,i,r,o=Jt.min(),c=Jt.min(),h=kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new Jh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qB{constructor(e){this.ne=e}}function ZB(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:MI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:j1(r=n.ne,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:G1(r,o.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Jp(e.version)};else{if(!e.isUnknownDocument())return Pt();i.unknownDocument={path:t.path.toArray(),version:Jp(e.version)}}var r,o;return i}function MI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Jp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(n){const e=new Hi(n.seconds,n.nanoseconds);return Jt.fromTimestamp(e)}function eg(n,e){const t=(e.baseMutations||[]).map(o=>JN(n.ne,o));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(c.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const i=e.mutations.map(o=>JN(n.ne,o)),r=Hi.fromMillis(e.localWriteTimeMs);return new ek(e.batchId,r,t,i)}function W1(n){const e=Xp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):Jt.min();let i;var r;return void 0!==n.query.documents?(rn(1===(r=n.query).documents.length),i=ol(py(NB(r.documents[0])))):i=ol(VB(n.query)),new Jh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,kr.fromBase64String(n.resumeToken))}function KB(n,e){const t=Jp(e.snapshotVersion),i=Jp(e.lastLimboFreeSnapshotVersion);let r;r=wI(e.target)?FB(n.ne,e.target):LB(n.ne,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kp(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ik(n){const e=VB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iB(e,e.limit,"L"):e}function rk(n,e){return new nk(e.largestBatchId,JN(n.ne,e.overlayMutation))}function YB(n,e){const t=e.path.lastSegment();return[n,Ws(e.path.popLast()),t]}function QB(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Jp(i.readTime),documentKey:Ws(i.documentKey.path),largestBatchId:i.largestBatchId}}class Yz{getBundleMetadata(e,t){return JB(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return JB(e).put({bundleId:(i=t).id,createTime:Jp(zr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return XB(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:ik(r.bundledQuery),readTime:Xp(r.readTime)};var r})}saveNamedQuery(e,t){return XB(e).put({name:(i=t).name,readTime:Jp(zr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function JB(n){return Wr(n,"bundles")}function XB(n){return Wr(n,"namedQueries")}class PI{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new PI(e,t.uid||"")}getOverlay(e,t){return q1(e).get(YB(this.userId,t)).next(i=>i?rk(this.wt,i):null)}getOverlays(e,t){const i=eu();return Le.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,c)=>{const h=new nk(t,c);r.push(this.ie(e,h))}),Le.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Ws(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(q1(e).W("collectionPathOverlayIndex",h))}),Le.waitFor(o)}getOverlaysForCollection(e,t,i){const r=eu(),o=Ws(t),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return q1(e).K("collectionPathOverlayIndex",c).next(h=>{for(const _ of h){const w=rk(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=eu();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return q1(e).J({index:"collectionGroupOverlayIndex",range:h},(_,w,S)=>{const k=rk(this.wt,w);o.size()<r||k.largestBatchId===c?(o.set(k.getKey(),k),c=k.largestBatchId):S.done()}).next(()=>o)}ie(e,t){return q1(e).put(function(i,r,o){const[c,h,_]=YB(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:z1(i.ne,o.mutation)}}(this.wt,this.userId,t))}}function q1(n){return Wr(n,"documentOverlays")}class tg{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(or(e.integerValue));else if("doubleValue"in e){const i=or(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),M1(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Wp(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?WV(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Pt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),ft.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Qz(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function e3(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=Qz(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}tg.ye=new tg;class Jz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=e3(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=e3(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Xz{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class e4{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Z1{constructor(){this.Me=new Jz,this.Fe=new Xz(this.Me),this.$e=new e4(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class ng{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ng(this.indexId,this.documentKey,this.arrayValue,i)}}function ig(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=t3(n.arrayValue,e.arrayValue),0!==t?t:(t=t3(n.directionalValue,e.directionalValue),0!==t?t:ft.comparator(n.documentKey,e.documentKey)))}function t3(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class t4{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=LN(e);if(void 0!==t&&!this.Qe(t))return!1;const i=jp(e);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const c=i[r];if(!this.je(this.Ke,c)||!this.We(this.Ue[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class n4{constructor(){this.ze=new sk}addToCollectionParentIndex(e,t){return this.ze.add(t),Le.resolve()}getCollectionParents(e,t){return Le.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Le.resolve()}deleteFieldIndex(e,t){return Le.resolve()}getDocumentsMatchingTarget(e,t){return Le.resolve(null)}getIndexType(e,t){return Le.resolve(0)}getFieldIndexes(e,t){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,t){return Le.resolve(da.min())}getMinOffsetFromCollectionGroup(e,t){return Le.resolve(da.min())}updateCollectionGroup(e,t,i){return Le.resolve()}updateIndexEntries(e,t){return Le.resolve()}}class sk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new di(Fn.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new di(Fn.comparator)).toArray()}}const NI=new Uint8Array(0);class i4{constructor(e,t){this.user=e,this.databaseId=t,this.He=new sk,this.Je=new Qh(i=>Kp(i),(i,r)=>O1(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const o={collectionId:i,parent:Ws(r)};return n3(e).put(o)}return Le.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[NV(t),""],!1,!0);return n3(e).K(r).next(o=>{for(const c of o){if(c.collectionId!==t)break;i.push(nu(c.parent))}return i})}addFieldIndex(e,t){const i=kI(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const o=i.add(r);if(t.indexState){const c=Y1(e);return o.next(h=>{c.put(QB(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=kI(e),r=Y1(e),o=K1(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=K1(e);let r=!0;const o=new Map;return Le.forEach(this.Ye(t),c=>this.Xe(e,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=_n();const h=[];return Le.forEach(o,(_,w)=>{var S;it("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${Kp(t)}`);const k=function(et,Qe){const lt=LN(Qe);if(void 0===lt)return null;for(const dt of EI(et,lt.fieldPath))switch(dt.op){case"array-contains-any":return dt.value.arrayValue.values||[];case"array-contains":return[dt.value]}return null}(w,_),K=function(et,Qe){const lt=new Map;for(const dt of jp(Qe))for(const xt of EI(et,dt.fieldPath))switch(xt.op){case"==":case"in":lt.set(dt.fieldPath.canonicalString(),xt.value);break;case"not-in":case"!=":return lt.set(dt.fieldPath.canonicalString(),xt.value),Array.from(lt.values())}return null}(w,_),ne=function(et,Qe){const lt=[];let dt=!0;for(const xt of jp(Qe)){const Kt=0===xt.kind?QV(et,xt.fieldPath,et.startAt):JV(et,xt.fieldPath,et.startAt);lt.push(Kt.value),dt&&(dt=Kt.inclusive)}return new Yh(lt,dt)}(w,_),ue=function(et,Qe){const lt=[];let dt=!0;for(const xt of jp(Qe)){const Kt=0===xt.kind?JV(et,xt.fieldPath,et.endAt):QV(et,xt.fieldPath,et.endAt);lt.push(Kt.value),dt&&(dt=Kt.inclusive)}return new Yh(lt,dt)}(w,_),Ce=this.Ze(_,w,ne),xe=this.Ze(_,w,ue),He=this.tn(_,w,K),We=this.en(_.indexId,k,Ce,ne.inclusive,xe,ue.inclusive,He);return Le.forEach(We,et=>i.j(et,t.limit).next(Qe=>{Qe.forEach(lt=>{const dt=ft.fromSegments(lt.documentKey);c.has(dt)||(c=c.add(dt),h.push(dt))})}))}).next(()=>h)}return Le.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,o,c,h){const _=(null!=t?t.length:1)*Math.max(i.length,o.length),w=_/(null!=t?t.length:1),S=[];for(let k=0;k<_;++k){const K=t?this.nn(t[k/w]):NI,ne=this.sn(e,K,i[k%w],r),ue=this.rn(e,K,o[k%w],c),Ce=h.map(xe=>this.sn(e,K,xe,!0));S.push(...this.createRange(ne,ue,Ce))}return S}sn(e,t,i,r){const o=new ng(e,ft.empty(),t,i);return r?o:o.Le()}rn(e,t,i,r){const o=new ng(e,ft.empty(),t,i);return r?o.Le():o}Xe(e,t){const i=new t4(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let c=null;for(const h of o)i.Ge(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;return Le.forEach(this.Ye(t),r=>this.Xe(e,r).next(o=>{o?0!==i&&o.fields.length<function(c){let h=new di(fr.comparator),_=!1;for(const w of c.filters){const S=w;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?_=!0:h=h.add(S.field))}for(const w of c.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new Z1;for(const r of jp(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const c=i.Be(r.kind);tg.ye.re(o,c)}return i.Oe()}nn(e){const t=new Z1;return tg.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const i=new Z1;return tg.ye.re(Zp(this.databaseId,t),i.Be(function(r){const o=jp(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Oe()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new Z1);let o=0;for(const c of jp(e)){const h=i[o++];for(const _ of r)if(this.cn(t,c.fieldPath)&&N1(h))r=this.an(r,c,h);else{const w=_.Be(c.kind);tg.ye.re(h,w)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Oe();return t}an(e,t,i){const r=[...e],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const _=new Z1;_.seed(h.Oe()),tg.ye.re(c,_.Be(t.kind)),o.push(_)}return o}cn(e,t){return!!e.filters.find(i=>i instanceof os&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=kI(e),r=Y1(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(o=>{const c=[];return Le.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{c.push(function(w,S){const k=S?new I1(S.sequenceNumber,new da(Xp(S.readTime),new ft(nu(S.documentKey)),S.largestBatchId)):I1.empty(),K=w.fields.map(([ne,ue])=>new _I(fr.fromServerFormat(ne),ue));return new mI(w.indexId,w.collectionGroup,K,k)}(h,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:gn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=kI(e),o=Y1(e);return this.ln(e).next(c=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Le.forEach(h,_=>o.put(QB(_.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return Le.forEach(t,(r,o)=>{const c=i.get(r.collectionGroup);return(c?Le.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),Le.forEach(h,_=>this.fn(e,r,_).next(w=>{const S=this.dn(o,_);return w.isEqual(S)?Le.resolve():this._n(e,o,_,w,S)}))))})}wn(e,t,i,r){return K1(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return K1(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=K1(e);let o=new di(ig);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(c,h)=>{o=o.add(new ng(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}dn(e,t){let i=new di(ig);const r=this.on(t,e);if(null==r)return i;const o=LN(t);if(null!=o){const c=e.data.field(o.fieldPath);if(N1(c))for(const h of c.arrayValue.values||[])i=i.add(new ng(t.indexId,e.key,this.nn(h),r))}else i=i.add(new ng(t.indexId,e.key,NI,r));return i}_n(e,t,i,r,o){it("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,_,w,S,k){const K=h.getIterator(),ne=_.getIterator();let ue=dy(K),Ce=dy(ne);for(;ue||Ce;){let xe=!1,He=!1;if(ue&&Ce){const We=w(ue,Ce);We<0?He=!0:We>0&&(xe=!0)}else null!=ue?He=!0:xe=!0;xe?(S(Ce),Ce=dy(ne)):He?(k(ue),ue=dy(K)):(ue=dy(K),Ce=dy(ne))}}(r,o,ig,h=>{c.push(this.wn(e,t,i,h))},h=>{c.push(this.mn(e,t,i,h))}),Le.waitFor(c)}ln(e){let t=1;return Y1(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>ig(c,h)).filter((c,h,_)=>!h||0!==ig(c,_[h-1]));const r=[];r.push(e);for(const c of i){const h=ig(c,e),_=ig(c,t);if(0===h)r[0]=e.Le();else if(h>0&&_<0)r.push(c),r.push(c.Le());else if(_>0)break}r.push(t);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,NI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,NI,[]]));return o}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(r3)}getMinOffset(e,t){return Le.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||Pt())).next(r3)}}function n3(n){return Wr(n,"collectionParents")}function K1(n){return Wr(n,"indexEntries")}function kI(n){return Wr(n,"indexConfiguration")}function Y1(n){return Wr(n,"indexState")}function r3(n){rn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;VN(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new da(e.readTime,e.documentKey,t)}const s3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Io(e,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function o3(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const _=i.J({range:c},(S,k,K)=>(h++,K.delete()));o.push(_.next(()=>{rn(1===h)}));const w=[];for(const S of t.mutations){const k=jB(e,S.key.path,t.batchId);o.push(r.delete(k)),w.push(S.key)}return Le.waitFor(o).next(()=>w)}function OI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Pt();e=n.noDocument}return JSON.stringify(e).length}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class RI{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){rn(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new RI(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xh(e).J({index:"userMutationsIndex",range:i},(r,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=wy(e),c=Xh(e);return c.add({}).next(h=>{rn("number"==typeof h);const _=new ek(h,t,i,r),w=function(K,ne,ue){const Ce=ue.baseMutations.map(He=>z1(K.ne,He)),xe=ue.mutations.map(He=>z1(K.ne,He));return{userId:ne,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:Ce,mutations:xe}}(this.wt,this.userId,_),S=[];let k=new di((K,ne)=>gn(K.canonicalString(),ne.canonicalString()));for(const K of r){const ne=jB(this.userId,K.key.path,h);k=k.add(K.key.path.popLast()),S.push(c.put(w)),S.push(o.put(ne,Nz))}return k.forEach(K=>{S.push(this.indexManager.addToCollectionParentIndex(e,K))}),e.addOnCommittedListener(()=>{this.gn[h]=_.keys()}),Le.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Xh(e).get(t).next(i=>i?(rn(i.userId===this.userId),eg(this.wt,i)):null)}yn(e,t){return this.gn[t]?Le.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Xh(e).J({index:"userMutationsIndex",range:r},(c,h,_)=>{h.userId===this.userId&&(rn(h.batchId>=i),o=eg(this.wt,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xh(e).K("userMutationsIndex",t).next(i=>i.map(r=>eg(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=xI(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return wy(e).J({range:r},(c,h,_)=>{const[w,S,k]=c,K=nu(S);if(w===this.userId&&t.path.isEqual(K))return Xh(e).get(k).next(ne=>{if(!ne)throw Pt();rn(ne.userId===this.userId),o.push(eg(this.wt,ne))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new di(gn);const r=[];return t.forEach(o=>{const c=xI(this.userId,o.path),h=IDBKeyRange.lowerBound(c),_=wy(e).J({range:h},(w,S,k)=>{const[K,ne,ue]=w,Ce=nu(ne);K===this.userId&&o.path.isEqual(Ce)?i=i.add(ue):k.done()});r.push(_)}),Le.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=xI(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new di(gn);return wy(e).J({range:c},(_,w,S)=>{const[k,K,ne]=_,ue=nu(K);k===this.userId&&i.isPrefixOf(ue)?ue.length===r&&(h=h.add(ne)):S.done()}).next(()=>this.pn(e,h))}pn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Xh(e).get(o).next(c=>{if(null===c)throw Pt();rn(c.userId===this.userId),i.push(eg(this.wt,c))}))}),Le.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return o3(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Le.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Le.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return wy(e).J({range:i},(o,c,h)=>{if(o[0]===this.userId){const _=nu(o[1]);r.push(_)}else h.done()}).next(()=>{rn(0===r.length)})})}containsKey(e,t){return a3(e,this.userId,t)}Tn(e){return l3(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function a3(n,e,t){const i=xI(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return wy(n).J({range:o,H:!0},(h,_,w)=>{const[S,k,K]=h;S===e&&k===r&&(c=!0),w.done()}).next(()=>c)}function Xh(n){return Wr(n,"mutations")}function wy(n){return Wr(n,"documentMutations")}function l3(n){return Wr(n,"mutationQueues")}class rg{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new rg(0)}static Rn(){return new rg(-1)}}class r4{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new rg(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Jt.fromTimestamp(new Hi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ey(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(rn(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Ey(e).J((c,h)=>{const _=W1(h);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(e,_)))}).next(()=>Le.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Ey(e).J((i,r)=>{const o=W1(r);t(o)})}bn(e){return c3(e).get("targetGlobalKey").next(t=>(rn(null!==t),t))}Pn(e,t){return c3(e).put("targetGlobalKey",t)}vn(e,t){return Ey(e).put(KB(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Kp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Ey(e).J({range:r,index:"queryTargetsIndex"},(c,h,_)=>{const w=W1(h);O1(t,w.target)&&(o=w,_.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=ef(e);return t.forEach(c=>{const h=Ws(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),Le.waitFor(r)}removeMatchingKeys(e,t,i){const r=ef(e);return Le.forEach(t,o=>{const c=Ws(o.path);return Le.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=ef(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ef(e);let o=_n();return r.J({range:i,H:!0},(c,h,_)=>{const w=nu(c[1]),S=new ft(w);o=o.add(S)}).next(()=>o)}containsKey(e,t){const i=Ws(t.path),r=IDBKeyRange.bound([i],[NV(i)],!1,!0);let o=0;return ef(e).J({index:"documentTargetsIndex",H:!0,range:r},([c,h],_,w)=>{0!==c&&(o++,w.done())}).next(()=>o>0)}te(e,t){return Ey(e).get(t).next(i=>i?W1(i):null)}}function Ey(n){return Wr(n,"targets")}function c3(n){return Wr(n,"targetGlobal")}function ef(n){return Wr(n,"targetDocuments")}function u3([n,e],[t,i]){const r=gn(n,t);return 0===r?gn(e,i):r}class s4{constructor(e){this.Sn=e,this.buffer=new di(u3),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();u3(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;it("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ge.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Wh(i)?it("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zh(i)}yield t.kn(3e5)}))}}class a4{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Le.resolve(To.ot);const i=new s4(t);return this.On.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.On.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(s3)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s3):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let i,r,o,c,h,_,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),r=this.params.maximumSequenceNumbersToCollect):r=k,c=Date.now(),this.nthSequenceNumber(e,r))).next(k=>(i=k,h=Date.now(),this.removeTargets(e,i,t))).next(k=>(o=k,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(k=>(w=Date.now(),RN()<=sa.in.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${k} documents in `+(w-_)+`ms\nTotal Duration: ${w-S}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:k})))}}class l4{constructor(e,t){this.db=e,this.garbageCollector=new a4(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return FI(e,i)}removeReference(e,t,i){return FI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return FI(e,t)}Un(e,t){return function(i,r){let o=!1;return l3(i).Y(c=>a3(i,c,r).next(h=>(h&&(o=!0),Le.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(e,(c,h)=>{if(h<=t){const _=this.Un(e,c).next(w=>{if(!w)return o++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Jt.min()),ef(e).delete([0,Ws(c.path)])))});r.push(_)}}).next(()=>Le.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return FI(e,t)}Ln(e,t){const i=ef(e);let r,o=To.ot;return i.J({index:"documentTargetsIndex"},([c,h],{path:_,sequenceNumber:w})=>{0===c?(o!==To.ot&&t(new ft(nu(r)),o),o=w,r=_):o=To.ot}).next(()=>{o!==To.ot&&t(new ft(nu(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function FI(n,e){return ef(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ws(e.path),sequenceNumber:i}));var i}class d3{constructor(){this.changes=new Qh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c4{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return sg(e).put(i)}removeEntry(e,t,i){return sg(e).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],MI(o),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=vi.newInvalidDocument(t);return sg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Q1(t))},(r,o)=>{i=this.Kn(t,o)}).next(()=>i)}Gn(e,t){let i={size:0,document:vi.newInvalidDocument(t)};return sg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Q1(t))},(r,o)=>{i={document:this.Kn(t,o),size:OI(o)}}).next(()=>i)}getEntries(e,t){let i=So();return this.Qn(e,t,(r,o)=>{const c=this.Kn(r,o);i=i.insert(r,c)}).next(()=>i)}jn(e,t){let i=So(),r=new sr(ft.comparator);return this.Qn(e,t,(o,c)=>{const h=this.Kn(o,c);i=i.insert(o,h),r=r.insert(o,OI(c))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return Le.resolve();let r=new di(g3);t.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(Q1(r.first()),Q1(r.last())),c=r.getIterator();let h=c.getNext();return sg(e).J({index:"documentKeyIndex",range:o},(_,w,S)=>{const k=ft.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&g3(h,k)<0;)i(h,null),h=c.getNext();h&&h.isEqual(k)&&(i(h,w),h=c.hasNext()?c.getNext():null),h?S.q(Q1(h)):S.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),MI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).K(IDBKeyRange.bound(r,o,!0)).next(c=>{let h=So();for(const _ of c){const w=this.Kn(ft.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(e,t,i,r){let o=So();const c=p3(t,i),h=p3(t,da.max());return sg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(_,w,S)=>{const k=this.Kn(ft.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);o=o.insert(k.key,k),o.size===r&&S.done()}).next(()=>o)}newChangeBuffer(e){return new u4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return f3(e).get("remoteDocumentGlobalKey").next(t=>(rn(!!t),t))}qn(e,t){return f3(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function Kz(n,e){let t;if(e.document)t=RB(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ft.fromSegments(e.noDocument.path),r=Xp(e.noDocument.readTime);t=vi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pt();{const i=ft.fromSegments(e.unknownDocument.path),r=Xp(e.unknownDocument.version);t=vi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Hi(i[0],i[1]);return Jt.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(Jt.min()))return i}return vi.newInvalidDocument(e)}}function h3(n){return new c4(n)}class u4 extends d3{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Qh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new di((o,c)=>gn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.Hn.get(o);if(t.push(this.zn.removeEntry(e,o,h.readTime)),c.isValidDocument()){const _=ZB(this.zn.wt,c);r=r.add(o.path.popLast()),i+=OI(_)-h.size,t.push(this.zn.addEntry(e,o,_))}else if(i-=h.size,this.trackRemovals){const _=ZB(this.zn.wt,c.convertToNoDocument(Jt.min()));t.push(this.zn.addEntry(e,o,_))}}),r.forEach(o=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.zn.updateMetadata(e,i)),Le.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((o,c)=>{this.Hn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function f3(n){return Wr(n,"remoteDocumentGlobal")}function sg(n){return Wr(n,"remoteDocumentsV14")}function Q1(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function p3(n,e){const t=e.documentKey.path.toArray();return[n,MI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function g3(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=gn(t[o],i[o]),r)return r;return r=gn(t.length,i.length),r||(r=gn(t[t.length-2],i[i.length-2]),r||gn(t[t.length-1],i[i.length-1]))}class d4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class m3{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&L1(i.mutation,r,ha.empty(),Hi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,_n()).next(()=>i))}getLocalViewOfDocuments(e,t,i=_n()){const r=eu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let c=V1();return o.forEach((h,_)=>{c=c.insert(h,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=eu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,_n()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let o=So();const c=B1(),h=B1();return t.forEach((_,w)=>{const S=i.get(w.key);r.has(w.key)&&(void 0===S||S.mutation instanceof Ed)?o=o.insert(w.key,w):void 0!==S&&(c.set(w.key,S.mutation.getFieldMask()),L1(S.mutation,w,S.mutation.getFieldMask(),Hi.now()))}),this.recalculateAndSaveOverlays(e,o).next(_=>(_.forEach((w,S)=>c.set(w,S)),t.forEach((w,S)=>{var k;return h.set(w,new d4(S,null!==(k=c.get(w))&&void 0!==k?k:null))}),h))}recalculateAndSaveOverlays(e,t){const i=B1();let r=new sr((c,h)=>c-h),o=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let S=i.get(_)||ha.empty();S=h.applyToLocalView(w,S),i.set(_,S);const k=(r.get(h.batchId)||_n()).add(_);r=r.insert(h.batchId,k)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),w=_.key,S=_.value,k=TB();S.forEach(K=>{if(!o.has(K)){const ne=gB(t.get(K),i.get(K));null!==ne&&k.set(K,ne),o=o.add(K)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,k))}return Le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ft.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):WN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):Le.resolve(eu());let h=-1,_=o;return c.next(w=>Le.forEach(w,(S,k)=>(h<k.largestBatchId&&(h=k.largestBatchId),o.get(S)?Le.resolve():this.getBaseDocument(e,S,k).next(K=>{_=_.insert(S,K)}))).next(()=>this.populateOverlays(e,w,o)).next(()=>this.computeViews(e,_,w,_n())).next(S=>({batchId:h,changes:EB(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ft(t)).next(i=>{let r=V1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=V1();return this.indexManager.getCollectionParents(e,r).next(c=>Le.forEach(c,h=>{const _=(w=t,S=h.child(r),new wd(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((S,k)=>{o=o.insert(S,k)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(o=>{o.forEach((h,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,vi.newInvalidDocument(w)))});let c=V1();return r.forEach((h,_)=>{const w=o.get(h);void 0!==w&&L1(w.mutation,_,ha.empty(),Hi.now()),ZN(t,_)&&(c=c.insert(h,_))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):Le.resolve(vi.newInvalidDocument(t))}}class h4{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Le.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:zr(i.createTime)}),Le.resolve()}getNamedQuery(e,t){return Le.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:ik(i.bundledQuery),readTime:zr(i.readTime)}),Le.resolve();var i}}class f4{constructor(){this.overlays=new sr(ft.comparator),this.Xn=new Map}getOverlay(e,t){return Le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=eu();return Le.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ie(e,t,o)}),Le.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),Le.resolve()}getOverlaysForCollection(e,t,i){const r=eu(),o=t.length+1,c=new ft(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const _=h.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return Le.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new sr((w,S)=>w-S);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let S=o.get(w.largestBatchId);null===S&&(S=eu(),o=o.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const h=eu(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,S)=>h.set(w,S)),!(h.size()>=r)););return Le.resolve(h)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nk(t,i));let o=this.Xn.get(t);void 0===o&&(o=_n(),this.Xn.set(t,o)),this.Xn.set(t,o.add(i.key))}}class ok{constructor(){this.Zn=new di(qr.ts),this.es=new di(qr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new qr(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new qr(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new ft(new Fn([])),i=new qr(t,e),r=new qr(t,e+1),o=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),o.push(c.key)}),o}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ft(new Fn([])),i=new qr(t,e),r=new qr(t,e+1);let o=_n();return this.es.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new qr(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class qr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ft.comparator(e.key,t.key)||gn(e.ls,t.ls)}static ns(e,t){return gn(e.ls,t.ls)||ft.comparator(e.key,t.key)}}class p4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new di(qr.ts)}checkEmpty(e){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.fs;this.fs++;const c=new ek(o,t,i,r);this.mutationQueue.push(c);for(const h of r)this.ds=this.ds.add(new qr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Le.resolve(c)}lookupMutationBatch(e,t){return Le.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),o=r<0?0:r;return Le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new qr(t,0),r=new qr(t,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],c=>{const h=this._s(c.ls);o.push(h)}),Le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new di(gn);return t.forEach(r=>{const o=new qr(r,0),c=new qr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,c],h=>{i=i.add(h.ls)})}),Le.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ft.isDocumentKey(o)||(o=o.child(""));const c=new qr(new ft(o),0);let h=new di(gn);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(_.ls)),!0)},c),Le.resolve(this.gs(h))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){rn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return Le.forEach(t.mutations,r=>{const o=new qr(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new qr(t,0),r=this.ds.firstAfterOrEqual(i);return Le.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Le.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class g4{constructor(e){this.ps=e,this.docs=new sr(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,c=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Le.resolve(i?i.document.mutableCopy():vi.newInvalidDocument(t))}getEntries(e,t){let i=So();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():vi.newInvalidDocument(r))}),Le.resolve(i)}getAllFromCollection(e,t,i){let r=So();const o=new ft(t.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:h,value:{document:_}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||VN(OV(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return Le.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Pt()}Is(e,t){return Le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new m4(this)}getSize(e){return Le.resolve(this.size)}}class m4 extends d3{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),Le.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class _4{constructor(e){this.persistence=e,this.Ts=new Qh(t=>Kp(t),O1),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Es=0,this.As=new ok,this.targetCount=0,this.Rs=rg.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),Le.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new rg(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Le.resolve()}updateTargetData(e,t){return this.vn(t),Le.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Ts.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Ts.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),Le.waitFor(o).next(()=>r)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return Le.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),Le.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),Le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return Le.resolve(i)}containsKey(e,t){return Le.resolve(this.As.containsKey(t))}}class _3{constructor(e,t){this.bs={},this.overlays={},this.Ps=new To(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new _4(this),this.indexManager=new n4,this.remoteDocumentCache=new g4(i=>this.referenceDelegate.Ss(i)),this.wt=new qB(t),this.Ds=new h4(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new p4(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){it("MemoryPersistence","Starting transaction:",e);const r=new y4(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(e,t){return Le.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class y4 extends FV{constructor(e){super(),this.currentSequenceNumber=e}}class LI{constructor(e){this.persistence=e,this.ks=new ok,this.Os=null}static Ms(e){return new LI(e)}get Fs(){if(this.Os)return this.Os;throw Pt()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),Le.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),Le.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Le.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Fs,i=>{const r=ft.fromPath(i);return this.$s(e,r).next(o=>{o||t.removeEntry(r,Jt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Le.or([()=>Le.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class v4{constructor(e){this.wt=e}O(e,t,i,r){const o=new yI("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GB,{unique:!0}),h.createObjectStore("documentMutations"),y3(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=Le.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),y3(e)),c=c.next(()=>function(h){const _=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,_){return _.store("mutations").K().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GB,{unique:!0});const S=_.store("mutations"),k=w.map(K=>S.put(K));return Le.waitFor(k)})}(e,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Bs(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(o)))),i<7&&r>=7&&(c=c.next(()=>this.Us(o))),i<8&&r>=8&&(c=c.next(()=>this.qs(e,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Ks(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:$z});_.createIndex("collectionPathOverlayIndex",zz,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Wz,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:kz});_.createIndex("documentKeyIndex",Oz),_.createIndex("collectionGroupIndex",Rz)}(e)).next(()=>this.Gs(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Qs(e,o))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Uz}).createIndex("sequenceNumberIndex",Hz,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Gz}).createIndex("documentKeyIndex",jz,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=OI(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>Le.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",c).next(h=>Le.forEach(h,_=>{rn(_.userId===o.userId);const w=eg(this.wt,_);return o3(e,o.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((c,h)=>{const _=new Fn(c),w=[0,Ws(_)];o.push(t.get(w).next(S=>S?Le.resolve():t.put({targetId:0,path:Ws(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Le.waitFor(o))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Bz});const i=t.store("collectionParents"),r=new sk,o=c=>{if(r.add(c)){const h=c.lastSegment(),_=c.popLast();return i.put({collectionId:h,parent:Ws(_)})}};return t.store("remoteDocuments").J({H:!0},(c,h)=>{const _=new Fn(c);return o(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,h,_],w)=>{const S=nu(h);return o(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const o=W1(r),c=KB(this.wt,o);return t.put(c)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((o,c)=>{const h=t.store("remoteDocumentsV14"),_=(w=c,w.document?new ft(Fn.fromString(w.document.name).popFirst(5)):w.noDocument?ft.fromSegments(w.noDocument.path):w.unknownDocument?ft.fromSegments(w.unknownDocument.path):Pt()).path.toArray();var w;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(S))}).next(()=>Le.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=h3(this.wt),o=new _3(LI.Ms,this.wt.ne);return i.K().next(c=>{const h=new Map;return c.forEach(_=>{var w;let S=null!==(w=h.get(_.userId))&&void 0!==w?w:_n();eg(this.wt,_).keys().forEach(k=>S=S.add(k)),h.set(_.userId,S)}),Le.forEach(h,(_,w)=>{const S=new jr(w),k=PI.se(this.wt,S),K=o.getIndexManager(S),ne=RI.se(S,this.wt,K,o.referenceDelegate);return new m3(r,ne,k,K).recalculateAndSaveOverlaysForDocumentKeys(new XN(t,To.ot),_).next()})})}}function y3(n){n.createObjectStore("targetDocuments",{keyPath:Lz}).createIndex("documentTargetsIndex",Vz,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fz,{unique:!0}),n.createObjectStore("targetGlobal")}const ak="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lk{constructor(e,t,i,r,o,c,h,_,w,S,k=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=o,this.window=c,this.document=h,this.Ws=w,this.zs=S,this.Hs=k,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=K=>Promise.resolve(),!lk.V())throw new tt(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new l4(this,r),this.ei=t+"main",this.wt=new qB(_),this.ni=new sc(this.ei,this.Hs,new v4(this.wt)),this.Vs=new r4(this.referenceDelegate,this.wt),this.remoteDocumentCache=h3(this.wt),this.Ds=new Yz,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Ue.FAILED_PRECONDITION,ak);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new To(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,Ge.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Ge.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Ge.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>VI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Wh(e))return it("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return it("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return J1(e).get("owner").next(t=>Le.resolve(this.di(t)))}_i(e){return VI(e).delete(this.clientId)}wi(){var e=this;return(0,Ge.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Wr(i,"clientMetadata");return r.K().next(o=>{const c=e.gi(o,18e5),h=o.filter(_=>-1===c.indexOf(_));return Le.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Le.resolve(!0):J1(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new tt(Ue.FAILED_PRECONDITION,ak);return!1}}return!(!this.networkEnabled||!this.inForeground)||VI(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&it("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ge.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new XN(t,To.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>VI(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return RI.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new i4(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return PI.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){it("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.Hs)?Zz:14===c?WB:13===c?zB:12===c?qz:11===c?$B:void Pt();var c;let h;return this.ni.runTransaction(e,r,o,_=>(h=new XN(_,this.Ps?this.Ps.next():To.ot),"readwrite-primary"===t?this.ai(h).next(w=>!!w||this.hi(h)).next(w=>{if(!w)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new tt(Ue.FAILED_PRECONDITION,RV);return i(h)}).next(w=>this.fi(h).next(()=>w)):this.bi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}bi(e){return J1(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new tt(Ue.FAILED_PRECONDITION,ak)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return J1(e).put("owner",t)}static V(){return sc.V()}li(e){const t=J1(e);return t.get("owner").next(i=>this.di(i)?(it("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Le.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Er(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,ce.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return it("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Er("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function J1(n){return Wr(n,"owner")}function VI(n){return Wr(n,"clientMetadata")}function ck(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uk{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=_n(),r=_n();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new uk(e,t.fromCache,i,r)}}class v3{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(o=>o||this.xi(e,t,r,i)).next(o=>o||this.Ni(e,t))}Ci(e,t){return Le.resolve(null)}xi(e,t,i,r){return function rz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Jt.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(o=>{const c=this.ki(t,o);return this.Oi(t,c,i,r)?this.Ni(e,t):(RN()<=sa.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qN(t)),this.Mi(e,c,t,kV(r,-1)))})}ki(e,t){let i=new di(oB(e));return t.forEach((r,o)=>{ZN(e,o)&&(i=i.add(o))}),i}Oi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(e,t){return RN()<=sa.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",qN(t)),this.Di.getDocumentsMatchingQuery(e,t,da.min())}Mi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class b4{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new sr(gn),this.Bi=new Qh(o=>Kp(o),O1),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m3(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function b3(n,e,t,i){return new b4(n,e,t,i)}function C3(n,e){return dk.apply(this,arguments)}function dk(){return dk=(0,Ge.Z)(function*(n,e){const t=vt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let _=_n();for(const w of r){c.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}for(const w of o){h.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:c,addedBatchIds:h}))})})}),dk.apply(this,arguments)}function C4(n,e){const t=vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,h,_,w){const S=_.batch,k=S.keys();let K=Le.resolve();return k.forEach(ne=>{K=K.next(()=>w.getEntry(h,ne)).next(ue=>{const Ce=_.docVersions.get(ne);rn(null!==Ce),ue.version.compareTo(Ce)<0&&(S.applyToRemoteDocument(ue,_),ue.isValidDocument()&&(ue.setReadTime(_.commitVersion),w.addEntry(ue)))})}),K.next(()=>c.mutationQueue.removeMutationBatch(h,S))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=_n();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(h=h.add(c.batch.mutations[_].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function w3(n){const e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function w4(n,e){const t=vt(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const h=[];e.targetChanges.forEach((S,k)=>{const K=r.get(k);if(!K)return;h.push(t.Vs.removeMatchingKeys(o,S.removedDocuments,k).next(()=>t.Vs.addMatchingKeys(o,S.addedDocuments,k)));let ne=K.withSequenceNumber(o.currentSequenceNumber);var ue,Ce,xe;e.targetMismatches.has(k)?ne=ne.withResumeToken(kr.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):S.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(S.resumeToken,i)),r=r.insert(k,ne),Ce=ne,xe=S,(0===(ue=K).resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&h.push(t.Vs.updateTargetData(o,ne))});let _=So(),w=_n();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,S))}),h.push(E3(o,c,e.documentUpdates).next(S=>{_=S.Gi,w=S.Qi})),!i.isEqual(Jt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(o).next(k=>t.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(S)}return Le.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,_,w)).next(()=>_)}).then(o=>(t.$i=r,o))}function E3(n,e,t){let i=_n(),r=_n();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=So();return t.forEach((h,_)=>{const w=o.get(h);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(Jt.min())?(e.removeEntry(h,_.readTime),c=c.insert(h,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(h,_)):it("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",_.version)}),{Gi:c,Qi:r}})}function E4(n,e){const t=vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ty(n,e){const t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(o=>o?(r=o,Le.resolve(r)):t.Vs.allocateTargetId(i).next(c=>(r=new Jh(e,c,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function Sy(n,e,t){return hk.apply(this,arguments)}function hk(){return hk=(0,Ge.Z)(function*(n,e,t){const i=vt(n),r=i.$i.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Wh(c))throw c;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),hk.apply(this,arguments)}function BI(n,e,t){const i=vt(n);let r=Jt.min(),o=_n();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,_,w){const S=vt(h),k=S.Bi.get(w);return void 0!==k?Le.resolve(S.$i.get(k)):S.Vs.getTargetData(_,w)}(i,c,ol(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,h.targetId).next(_=>{o=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,e,t?r:Jt.min(),t?o:_n())).next(h=>(I3(i,sB(e),h),{documents:h,ji:o})))}function T3(n,e){const t=vt(n),i=vt(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.te(o,e).next(c=>c?c.target:null))}function S3(n,e){const t=vt(n),i=t.Li.get(e)||Jt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,kV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(I3(t,e,r),r))}function I3(n,e,t){let i=Jt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(e,i)}function fk(){return fk=(0,Ge.Z)(function*(n,e,t,i){const r=vt(n);let o=_n(),c=So();for(const w of t){const S=e.Wi(w.metadata.name);w.document&&(o=o.add(S));const k=e.zi(w);k.setReadTime(e.Hi(w.metadata.readTime)),c=c.insert(S,k)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield Ty(r,(w=i,ol(py(Fn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>E3(w,h,c).next(S=>(h.apply(w),S)).next(S=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,o,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,S.Gi,S.Qi)).next(()=>S.Gi)))}),fk.apply(this,arguments)}function S4(n,e){return pk.apply(this,arguments)}function pk(){return pk=(0,Ge.Z)(function*(n,e,t=_n()){const i=yield Ty(n,ol(ik(e.bundledQuery))),r=vt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=zr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ds.saveNamedQuery(o,e);const h=i.withResumeToken(kr.EMPTY_BYTE_STRING,c);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(o,h).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,e))})}),pk.apply(this,arguments)}function D3(n,e){return`firestore_clients_${n}_${e}`}function A3(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function gk(n,e){return`firestore_targets_${n}_${e}`}class UI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new tt(r.error.code,r.error.message))),c?new UI(e,t,r.state,o):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class X1{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new tt(i.error.code,i.error.message))),o?new X1(e,i.state,r):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=DI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=GV(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new HI(e,o):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mk{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mk(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _k{constructor(){this.activeTargetIds=DI()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yk{constructor(e,t,i,r,o){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new sr(gn),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=D3(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new _k),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ge.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const o=e.getItem(D3(e.persistenceKey,r));if(o){const c=HI.Ji(r,o);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(gk(this.persistenceKey,e));if(i){const r=X1.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gk(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return it("SharedClientState","READ",e,t),t}setItem(e,t){it("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){it("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(it("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ge.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(o){let c=To.ot;if(null!=o)try{const h=JSON.parse(o);rn("number"==typeof h),c=h}catch(h){Er("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==To.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Nr(o)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new UI(this.currentUser,e,t,i),o=A3(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Yi())}pr(e){const t=A3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=gk(this.persistenceKey,e),o=new X1(e,t,i);this.setItem(r,o.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return HI.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return UI.Ji(new jr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return X1.Ji(r,t)}wr(e){return mk.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);it("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),o=this.gr(i),c=[],h=[];return o.forEach(_=>{r.has(_)||c.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Mr(c,h).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=DI();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class x3{constructor(){this.Fr=new _k,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new _k,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class I4{Br(e){}shutdown(){}}class M3{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const D4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class A4{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class x4 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,o){const c=this.oo(e,t);it("RestConnection","Sending: ",c,i);const h={};return this.uo(h,r,o),this.co(e,c,h,i).then(_=>(it("RestConnection","Received: ",_),_),_=>{throw T1("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",i),_})}ao(e,t,i,r,o,c){return this.ro(e,t,i,r,o)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+cy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}oo(e,t){return`${this.so}/v1/${t}:${D4[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((o,c)=>{const h=new A5;h.listenOnce(S5.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ON.NO_ERROR:const w=h.getResponseJson();it("Connection","XHR received:",JSON.stringify(w)),o(w);break;case ON.TIMEOUT:it("Connection",'RPC "'+e+'" timed out'),c(new tt(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case ON.HTTP_ERROR:const S=h.getStatus();if(it("Connection",'RPC "'+e+'" failed with status:',S,"response text:",h.getResponseText()),S>0){const k=h.getResponseJson().error;if(k&&k.status&&k.message){const K=function(ne){const ue=ne.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(ue)>=0?ue:Ue.UNKNOWN}(k.status);c(new tt(K,k.message))}else c(new tt(Ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new tt(Ue.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{it("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);h.send(t,"POST",_,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=E5(),c=T5(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new D5({})),this.uo(h.initMessageHeaders,t,i),(0,ce.uI)()||(0,ce.b$)()||(0,ce.d)()||(0,ce.w1)()||(0,ce.Mn)()||(0,ce.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");it("Connection","Creating WebChannel: "+_,h);const w=o.createWebChannel(_,h);let S=!1,k=!1;const K=new A4({jr:ue=>{k?it("Connection","Not sending because WebChannel is closed:",ue):(S||(it("Connection","Opening WebChannel transport."),w.open(),S=!0),it("Connection","WebChannel sending:",ue),w.send(ue))},Wr:()=>w.close()}),ne=(ue,Ce,xe)=>{ue.listen(Ce,He=>{try{xe(He)}catch(We){setTimeout(()=>{throw We},0)}})};return ne(w,gI.EventType.OPEN,()=>{k||it("Connection","WebChannel transport opened.")}),ne(w,gI.EventType.CLOSE,()=>{k||(k=!0,it("Connection","WebChannel transport closed"),K.eo())}),ne(w,gI.EventType.ERROR,ue=>{k||(k=!0,T1("Connection","WebChannel transport errored:",ue),K.eo(new tt(Ue.UNAVAILABLE,"The operation could not be completed")))}),ne(w,gI.EventType.MESSAGE,ue=>{var Ce;if(!k){const xe=ue.data[0];rn(!!xe);const He=xe,We=He.error||(null===(Ce=He[0])||void 0===Ce?void 0:Ce.error);if(We){it("Connection","WebChannel received error:",We);const et=We.status;let Qe=function(dt){const xt=Tr[dt];if(void 0!==xt)return CB(xt)}(et),lt=We.message;void 0===Qe&&(Qe=Ue.INTERNAL,lt="Unknown error status: "+et+" with message "+We.message),k=!0,K.eo(new tt(Qe,lt)),w.close()}else it("Connection","WebChannel received:",xe),K.no(xe)}}),ne(c,I5.STAT_EVENT,ue=>{ue.stat===DV.PROXY?it("Connection","Detected buffering proxy"):ue.stat===DV.NOPROXY&&it("Connection","Detected no buffering proxy")}),setTimeout(()=>{K.Zr()},0),K}}function P3(){return typeof window<"u"?window:null}function GI(){return typeof document<"u"?document:null}function eC(n){return new bz(n,!0)}class vk{constructor(e,t,i=1e3,r=1.5,o=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&it("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class N3{constructor(e,t,i,r,o,c,h,_){this.js=e,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new vk(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ge.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Ge.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,Ge.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===Ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new tt(Ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,Ge.Z)(function*(){e.state=0,e.start()}))}qo(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M4 extends N3{constructor(e,t,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.wt=o}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Ez(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Pt(),r=e.targetChange.targetIds||[],o=function(_,w){return _.dt?(rn(void 0===w||"string"==typeof w),kr.fromBase64String(w||"")):(rn(void 0===w||w instanceof Uint8Array),kr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(_){const w=void 0===_.code?Ue.UNKNOWN:CB(_.code);return new tt(w,_.message||"")}(c);t=new IB(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=tu(n,i.document.name),o=zr(i.document.updateTime),c=new ss({mapValue:{fields:i.document.fields}}),h=vi.newFoundDocument(r,o,c);t=new AI(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=tu(n,i.document),o=i.readTime?zr(i.readTime):Jt.min(),c=vi.newNoDocument(r,o);t=new AI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=tu(n,i.document);t=new AI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Pt();{const i=e.filter,o=new hz(i.count||0);t=new SB(i.targetId,o)}}var _;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return Jt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Jt.min():o.readTime?zr(o.readTime):Jt.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=$1(this.wt),t.addTarget=function(r,o){let c;const h=o.target;return c=wI(h)?{documents:FB(r,h)}:{query:LB(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=MB(r,o.resumeToken):o.snapshotVersion.compareTo(Jt.min())>0&&(c.readTime=G1(r,o.snapshotVersion.toTimestamp())),c}(this.wt,e);const i=function Sz(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Mo(t)}jo(e){const t={};t.database=$1(this.wt),t.removeTarget=e,this.Mo(t)}}class P4 extends N3{constructor(e,t,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Tz(n,e){return n&&n.length>0?(rn(void 0!==e),n.map(t=>function(i,r){let o=zr(i.updateTime?i.updateTime:r);return o.isEqual(Jt.min())&&(o=zr(r)),new cz(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.Jo(i,t)}return rn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=$1(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>z1(this.wt,i))};this.Mo(t)}}class N4 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new tt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new tt(Ue.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.bo.ao(e,t,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(Ue.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class k4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Er(t),this.su=!1):it("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class O4{constructor(e,t,i,r,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(h=>{i.enqueueAndForget((0,Ge.Z)(function*(){var _;tf(c)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ge.Z)(function*(w){const S=vt(w);S.lu.add(4),yield Iy(S),S._u.set("Unknown"),S.lu.delete(4),yield tC(S)}),function(w){return _.apply(this,arguments)})(c))}))}),this._u=new k4(i,r)}}function tC(n){return bk.apply(this,arguments)}function bk(){return bk=(0,Ge.Z)(function*(n){if(tf(n))for(const e of n.fu)yield e(!0)}),bk.apply(this,arguments)}function Iy(n){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Ge.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Ck.apply(this,arguments)}function jI(n,e){const t=vt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Tk(t)?Ek(t):Ay(t).Co()&&wk(t,e))}function nC(n,e){const t=vt(n),i=Ay(t);t.hu.delete(e),i.Co()&&k3(t,e),0===t.hu.size&&(i.Co()?i.ko():tf(t)&&t._u.set("Unknown"))}function wk(n,e){n.wu.Nt(e.targetId),Ay(n).Qo(e)}function k3(n,e){n.wu.Nt(e),Ay(n).jo(e)}function Ek(n){n.wu=new _z({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Ay(n).start(),n._u.iu()}function Tk(n){return tf(n)&&!Ay(n).Do()&&n.hu.size>0}function tf(n){return 0===vt(n).lu.size}function O3(n){n.wu=void 0}function R4(n){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Ge.Z)(function*(n){n.hu.forEach((e,t)=>{wk(n,e)})}),Sk.apply(this,arguments)}function F4(n,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Ge.Z)(function*(n,e){O3(n),Tk(n)?(n._u.uu(e),Ek(n)):n._u.set("Unknown")}),Ik.apply(this,arguments)}function L4(n,e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,Ge.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof IB&&2===e.state&&e.cause)try{yield(i=(0,Ge.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield $I(n,i)}else if(e instanceof AI?n.wu.Ut(e):e instanceof SB?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Jt.min()))try{const i=yield w3(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const c=r.wu.Yt(o);return c.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach(h=>{const _=r.hu.get(h);if(!_)return;r.hu.set(h,_.withResumeToken(kr.EMPTY_BYTE_STRING,_.snapshotVersion)),k3(r,h);const w=new Jh(_.target,h,1,_.sequenceNumber);wk(r,w)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){it("RemoteStore","Failed to raise snapshot:",i),yield $I(n,i)}var i}),Dk.apply(this,arguments)}function $I(n,e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Ge.Z)(function*(n,e,t){if(!Wh(e))throw e;n.lu.add(1),yield Iy(n),n._u.set("Offline"),t||(t=()=>w3(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ge.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield tC(n)}))}),Ak.apply(this,arguments)}function R3(n,e){return e().catch(t=>$I(n,t,e))}function Dy(n){return xk.apply(this,arguments)}function xk(){return xk=(0,Ge.Z)(function*(n){const e=vt(n),t=nf(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;V4(e);)try{const r=yield E4(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,B4(e,r)}catch(r){yield $I(e,r)}F3(e)&&L3(e)}),xk.apply(this,arguments)}function V4(n){return tf(n)&&n.au.length<10}function B4(n,e){n.au.push(e);const t=nf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function F3(n){return tf(n)&&!nf(n).Do()&&n.au.length>0}function L3(n){nf(n).start()}function U4(n){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,Ge.Z)(function*(n){nf(n).Xo()}),Mk.apply(this,arguments)}function H4(n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,Ge.Z)(function*(n){const e=nf(n);for(const t of n.au)e.Ho(t.mutations)}),Pk.apply(this,arguments)}function G4(n,e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Ge.Z)(function*(n,e,t){const i=n.au.shift(),r=tk.from(i,e,t);yield R3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Dy(n)}),Nk.apply(this,arguments)}function j4(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,Ge.Z)(function*(n,e){var t;e&&nf(n).zo&&(yield(t=(0,Ge.Z)(function*(i,r){if(bB(o=r.code)&&o!==Ue.ABORTED){const c=i.au.shift();nf(i).No(),yield R3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Dy(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),F3(n)&&L3(n)}),kk.apply(this,arguments)}function V3(n,e){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Ge.Z)(function*(n,e){const t=vt(n);t.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const i=tf(t);t.lu.add(3),yield Iy(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield tC(t)}),Ok.apply(this,arguments)}function Rk(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Ge.Z)(function*(n,e){const t=vt(n);e?(t.lu.delete(2),yield tC(t)):e||(t.lu.add(2),yield Iy(t),t._u.set("Unknown"))}),Fk.apply(this,arguments)}function Ay(n){return n.mu||(n.mu=function(e,t,i){const r=vt(e);return r.tu(),new M4(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:R4.bind(null,n),Jr:F4.bind(null,n),Go:L4.bind(null,n)}),n.fu.push(function(){var e=(0,Ge.Z)(function*(t){t?(n.mu.No(),Tk(n)?Ek(n):n._u.set("Unknown")):(yield n.mu.stop(),O3(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function nf(n){return n.gu||(n.gu=function(e,t,i){const r=vt(e);return r.tu(),new P4(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:U4.bind(null,n),Jr:j4.bind(null,n),Yo:H4.bind(null,n),Jo:G4.bind(null,n)}),n.fu.push(function(){var e=(0,Ge.Z)(function*(t){t?(n.gu.No(),yield Dy(n)):(yield n.gu.stop(),n.au.length>0&&(it("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Lk{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,o){const c=Date.now()+i,h=new Lk(e,t,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,e){if(Er("AsyncQueue",`${e}: ${n}`),Wh(n))return new tt(Ue.UNAVAILABLE,`${e}: ${n}`);throw n}class My{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ft.comparator(t.key,i.key):(t,i)=>ft.comparator(t.key,i.key),this.keyedMap=V1(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new My(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof My)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new My;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class B3{constructor(){this.yu=new sr(ft.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Pt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Py{constructor(e,t,i,r,o,c,h,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new Py(e,t,My.emptySet(t),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class $4{constructor(){this.Iu=void 0,this.listeners=[]}}class z4{constructor(){this.queries=new Qh(e=>rB(e),R1),this.onlineState="Unknown",this.Tu=new Set}}function Vk(n,e){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Ge.Z)(function*(n,e){const t=vt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new $4),r)try{o.Iu=yield t.onListen(i)}catch(c){const h=xy(c,`Initialization of query '${qN(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.Eu(t.onlineState),o.Iu&&e.Au(o.Iu)&&Gk(t)}),Bk.apply(this,arguments)}function Uk(n,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Ge.Z)(function*(n,e){const t=vt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Hk.apply(this,arguments)}function W4(n,e){const t=vt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Au(r)&&(i=!0);c.Iu=r}}i&&Gk(t)}function q4(n,e,t){const i=vt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function Gk(n){n.Tu.forEach(e=>{e.next()})}class jk{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Py(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Py.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Z4{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class U3{constructor(e){this.wt=e}Wi(e){return tu(this.wt,e)}zi(e){return e.metadata.exists?RB(this.wt,e.document,!1):vi.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return zr(e)}}class K4{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H3(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Fn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new U3(this.wt);for(const r of e)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||_n()).add(o);t.set(c,h)}}return t}complete(){var e=this;return(0,Ge.Z)(function*(){const t=yield function T4(n,e,t,i){return fk.apply(this,arguments)}(e.localStore,new U3(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield S4(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function H3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class G3{constructor(e){this.key=e}}class j3{constructor(e){this.key=e}}class $3{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=_n(),this.mutatedKeys=_n(),this.Lu=oB(e),this.Uu=new My(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new B3,r=t?t.Uu:this.Uu;let o=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((S,k)=>{const K=r.get(S),ne=ZN(this.query,k)?k:null,ue=!!K&&this.mutatedKeys.has(K.key),Ce=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let xe=!1;K&&ne?K.data.isEqual(ne.data)?ue!==Ce&&(i.track({type:3,doc:ne}),xe=!0):this.Qu(K,ne)||(i.track({type:2,doc:ne}),xe=!0,(_&&this.Lu(ne,_)>0||w&&this.Lu(ne,w)<0)&&(h=!0)):!K&&ne?(i.track({type:0,doc:ne}),xe=!0):K&&!ne&&(i.track({type:1,doc:K}),xe=!0,(_||w)&&(h=!0)),xe&&(ne?(c=c.add(ne),o=Ce?o.add(S):o.delete(S)):(c=c.delete(S),o=o.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),o=o.delete(S.key),i.track({type:1,doc:S})}return{Uu:c,Gu:i,Oi:h,mutatedKeys:o}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const o=e.Gu.pu();o.sort((w,S)=>function(k,K){const ne=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return ne(k)-ne(K)}(w.type,S.type)||this.Lu(w.doc,S.doc)),this.ju(i);const c=t?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,_=h!==this.$u;return this.$u=h,0!==o.length||_?{snapshot:new Py(this.query,e.Uu,r,o,e.mutatedKeys,0===h,_,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new B3,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_n(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new j3(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new G3(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=_n();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Py.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Y4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Q4{constructor(e){this.key=e,this.Xu=!1}}class J4{constructor(e,t,i,r,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Qh(h=>rB(h),R1),this.ec=new Map,this.nc=new Set,this.sc=new sr(ft.comparator),this.ic=new Map,this.rc=new ok,this.oc={},this.uc=new Map,this.cc=rg.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function X4(n,e){return $k.apply(this,arguments)}function $k(){return $k=(0,Ge.Z)(function*(n,e){const t=fO(n);let i,r;const o=t.tc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const c=yield Ty(t.localStore,ol(e));t.isPrimaryClient&&jI(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield zk(t,e,i,"current"===h)}return r}),$k.apply(this,arguments)}function zk(n,e,t,i){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,Ge.Z)(function*(n,e,t,i){n.hc=(S,k,K)=>{return(ne=(0,Ge.Z)(function*(ue,Ce,xe,He){let We=Ce.view.Ku(xe);We.Oi&&(We=yield BI(ue.localStore,Ce.query,!1).then(({documents:lt})=>Ce.view.Ku(lt,We)));const et=He&&He.targetChanges.get(Ce.targetId),Qe=Ce.view.applyChanges(We,ue.isPrimaryClient,et);return nO(ue,Ce.targetId,Qe.zu),Qe.snapshot}),function(ue,Ce,xe,He){return ne.apply(this,arguments)})(n,S,k,K);var ne};const r=yield BI(n.localStore,e,!0),o=new $3(e,r.ji),c=o.Ku(r.documents),h=H1.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=o.applyChanges(c,n.isPrimaryClient,h);nO(n,t,_.zu);const w=new Y4(e,t,o);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),Wk.apply(this,arguments)}function eW(n,e){return qk.apply(this,arguments)}function qk(){return qk=(0,Ge.Z)(function*(n,e){const t=vt(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(o=>!R1(o,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Sy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),nC(t.remoteStore,i.targetId),Ny(t,i.targetId)}).catch(zh))):(Ny(t,i.targetId),yield Sy(t.localStore,i.targetId,!0))}),qk.apply(this,arguments)}function Zk(){return Zk=(0,Ge.Z)(function*(n,e,t){const i=pO(n);try{const r=yield function(o,c){const h=vt(o),_=Hi.now(),w=c.reduce((K,ne)=>K.add(ne.key),_n());let S,k;return h.persistence.runTransaction("Locally write mutations","readwrite",K=>{let ne=So(),ue=_n();return h.Ui.getEntries(K,w).next(Ce=>{ne=Ce,ne.forEach((xe,He)=>{He.isValidDocument()||(ue=ue.add(xe))})}).next(()=>h.localDocuments.getOverlayedDocuments(K,ne)).next(Ce=>{S=Ce;const xe=[];for(const He of c){const We=dz(He,S.get(He.key).overlayedDocument);null!=We&&xe.push(new Ed(He.key,We,KV(We.value.mapValue),Xi.exists(!0)))}return h.mutationQueue.addMutationBatch(K,_,xe,c)}).next(Ce=>{k=Ce;const xe=Ce.applyToLocalDocumentSet(S,ue);return h.documentOverlayCache.saveOverlays(K,Ce.batchId,xe)})}).then(()=>({batchId:k.batchId,changes:EB(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let _=o.oc[o.currentUser.toKey()];_||(_=new sr(gn)),_=_.insert(c,h),o.oc[o.currentUser.toKey()]=_}(i,r.batchId,t),yield Td(i,r.changes),yield Dy(i.remoteStore)}catch(r){const o=xy(r,"Failed to persist write");t.reject(o)}}),Zk.apply(this,arguments)}function z3(n,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,Ge.Z)(function*(n,e){const t=vt(n);try{const i=yield w4(t.localStore,e);e.targetChanges.forEach((r,o)=>{const c=t.ic.get(o);c&&(rn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?rn(c.Xu):r.removedDocuments.size>0&&(rn(c.Xu),c.Xu=!1))}),yield Td(t,i,e)}catch(i){yield zh(i)}}),Kk.apply(this,arguments)}function W3(n,e,t){const i=vt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((o,c)=>{const h=c.view.Eu(e);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=vt(o);h.onlineState=c;let _=!1;h.queries.forEach((w,S)=>{for(const k of S.listeners)k.Eu(c)&&(_=!0)}),_&&Gk(h)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function nW(n,e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,Ge.Z)(function*(n,e,t){const i=vt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),o=r&&r.key;if(o){let c=new sr(ft.comparator);c=c.insert(o,vi.newNoDocument(o,Jt.min()));const h=_n().add(o),_=new U1(Jt.min(),new Map,new di(gn),c,h);yield z3(i,_),i.sc=i.sc.remove(o),i.ic.delete(e),iO(i)}else yield Sy(i.localStore,e,!1).then(()=>Ny(i,e,t)).catch(zh)}),Yk.apply(this,arguments)}function iW(n,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,Ge.Z)(function*(n,e){const t=vt(n),i=e.batch.batchId;try{const r=yield C4(t.localStore,e);tO(t,i,null),eO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Td(t,r)}catch(r){yield zh(r)}}),Qk.apply(this,arguments)}function rW(n,e,t){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,Ge.Z)(function*(n,e,t){const i=vt(n);try{const r=yield function(o,c){const h=vt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return h.mutationQueue.lookupMutationBatch(_,c).next(S=>(rn(null!==S),w=S.keys(),h.mutationQueue.removeMutationBatch(_,S))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>h.localDocuments.getDocuments(_,w))})}(i.localStore,e);tO(i,e,t),eO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Td(i,r)}catch(r){yield zh(r)}}),Jk.apply(this,arguments)}function Xk(){return Xk=(0,Ge.Z)(function*(n,e){const t=vt(n);tf(t.remoteStore)||it("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=vt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=xy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Xk.apply(this,arguments)}function eO(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function tO(n,e,t){const i=vt(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function Ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||q3(n,i)})}function q3(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(nC(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),iO(n))}function nO(n,e,t){for(const i of t)i instanceof G3?(n.rc.addReference(i.key,e),oW(n,i)):i instanceof j3?(it("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||q3(n,i.key)):Pt()}function oW(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(it("SyncEngine","New document in limbo: "+t),n.nc.add(i),iO(n))}function iO(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new ft(Fn.fromString(e)),i=n.cc.next();n.ic.set(i,new Q4(t)),n.sc=n.sc.insert(t,i),jI(n.remoteStore,new Jh(ol(py(t.path)),i,2,To.ot))}}function Td(n,e,t){return rO.apply(this,arguments)}function rO(){return rO=(0,Ge.Z)(function*(n,e,t){const i=vt(n),r=[],o=[],c=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,_)=>{c.push(i.hc(_,e,t).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const S=uk.Vi(_.targetId,w);o.push(S)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(h=(0,Ge.Z)(function*(_,w){const S=vt(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Le.forEach(w,K=>Le.forEach(K.Pi,ne=>S.persistence.referenceDelegate.addReference(k,K.targetId,ne)).next(()=>Le.forEach(K.vi,ne=>S.persistence.referenceDelegate.removeReference(k,K.targetId,ne)))))}catch(k){if(!Wh(k))throw k;it("LocalStore","Failed to update sequence numbers: "+k)}for(const k of w){const K=k.targetId;if(!k.fromCache){const ne=S.$i.get(K),Ce=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);S.$i=S.$i.insert(K,Ce)}}}),function(_,w){return h.apply(this,arguments)})(i.localStore,o))}),rO.apply(this,arguments)}function aW(n,e){return sO.apply(this,arguments)}function sO(){return sO=(0,Ge.Z)(function*(n,e){const t=vt(n);if(!t.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const i=yield C3(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(c=>{c.forEach(h=>{h.reject(new tt(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Td(t,i.Ki)}var r}),sO.apply(this,arguments)}function lW(n,e){const t=vt(n),i=t.ic.get(e);if(i&&i.Xu)return _n().add(i.key);{let r=_n();const o=t.ec.get(e);if(!o)return r;for(const c of o){const h=t.tc.get(c);r=r.unionWith(h.view.qu)}return r}}function cW(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,Ge.Z)(function*(n,e){const t=vt(n),i=yield BI(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&nO(t,e.targetId,r.zu),r}),oO.apply(this,arguments)}function uW(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,Ge.Z)(function*(n,e){const t=vt(n);return S3(t.localStore,e).then(i=>Td(t,i))}),aO.apply(this,arguments)}function dW(n,e,t,i){return lO.apply(this,arguments)}function lO(){return lO=(0,Ge.Z)(function*(n,e,t,i){const r=vt(n),o=yield function(c,h){const _=vt(c),w=vt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.yn(S,h).next(k=>k?_.localDocuments.getDocuments(S,k):Le.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield Dy(r.remoteStore):"acknowledged"===t||"rejected"===t?(tO(r,e,i||null),eO(r,e),h=e,vt(vt(r.localStore).mutationQueue).In(h)):Pt(),yield Td(r,o)):it("SyncEngine","Cannot apply mutation batch with id: "+e)}),lO.apply(this,arguments)}function cO(){return cO=(0,Ge.Z)(function*(n,e){const t=vt(n);if(fO(t),pO(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Z3(t,i.toArray());t.ac=!0,yield Rk(t.remoteStore,!0);for(const o of r)jI(t.remoteStore,o)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Ny(t,c),Sy(t.localStore,c,!0))),nC(t.remoteStore,c)}),yield r,yield Z3(t,i),function(o){const c=vt(o);c.ic.forEach((h,_)=>{nC(c.remoteStore,_)}),c.rc.cs(),c.ic=new Map,c.sc=new sr(ft.comparator)}(t),t.ac=!1,yield Rk(t.remoteStore,!1)}}),cO.apply(this,arguments)}function Z3(n,e,t){return uO.apply(this,arguments)}function uO(){return uO=(0,Ge.Z)(function*(n,e,t){const i=vt(n),r=[],o=[];for(const c of e){let h;const _=i.ec.get(c);if(_&&0!==_.length){h=yield Ty(i.localStore,ol(_[0]));for(const w of _){const S=i.tc.get(w),k=yield cW(i,S);k.snapshot&&o.push(k.snapshot)}}else{const w=yield T3(i.localStore,c);h=yield Ty(i.localStore,w),yield zk(i,K3(w),c,!1)}r.push(h)}return i.Zu.Go(o),r}),uO.apply(this,arguments)}function K3(n){return nB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function fW(n){const e=vt(n);return vt(vt(e.localStore).persistence).Ri()}function pW(n,e,t,i){return dO.apply(this,arguments)}function dO(){return dO=(0,Ge.Z)(function*(n,e,t,i){const r=vt(n);if(r.ac)return void it("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield S3(r.localStore,sB(o[0])),h=U1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Td(r,c,h);break}case"rejected":yield Sy(r.localStore,e,!0),Ny(r,e,i);break;default:Pt()}}),dO.apply(this,arguments)}function gW(n,e,t){return hO.apply(this,arguments)}function hO(){return hO=(0,Ge.Z)(function*(n,e,t){const i=fO(n);if(i.ac){for(const r of e){if(i.ec.has(r)){it("SyncEngine","Adding an already active target "+r);continue}const o=yield T3(i.localStore,r),c=yield Ty(i.localStore,o);yield zk(i,K3(o),c.targetId,!1),jI(i.remoteStore,c)}for(const r of t)i.ec.has(r)&&(yield Sy(i.localStore,r,!1).then(()=>{nC(i.remoteStore,r),Ny(i,r)}).catch(zh))}}),hO.apply(this,arguments)}function fO(n){const e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=z3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nW.bind(null,e),e.Zu.Go=W4.bind(null,e.eventManager),e.Zu.lc=q4.bind(null,e.eventManager),e}function pO(n){const e=vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rW.bind(null,e),e}class Y3{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ge.Z)(function*(){t.wt=eC(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return b3(this.persistence,new v3,e.initialUser,this.wt)}_c(e){return new _3(LI.Ms,this.wt)}dc(e){return new x3}terminate(){var e=this;return(0,Ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Q3 extends Y3{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ge.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield pO(i.yc.syncEngine),yield Dy(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return b3(this.persistence,new v3,e.initialUser,this.wt)}mc(e,t){return new o4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new G5(t,this.persistence);return new H5(e.asyncQueue,i)}_c(e){const t=ck(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new lk(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,P3(),GI(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new x3}}class _W extends Q3{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ge.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof yk&&(i.sharedClientState.syncEngine={kr:dW.bind(null,r),Or:pW.bind(null,r),Mr:gW.bind(null,r),Ri:fW.bind(null,r),Nr:uW.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,Ge.Z)(function*(c){yield function hW(n,e){return cO.apply(this,arguments)}(i.yc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}dc(e){const t=P3();if(!yk.V(t))throw new tt(Ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ck(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yk(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class gO{initialize(e,t){var i=this;return(0,Ge.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>W3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=aW.bind(null,i.syncEngine),yield Rk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new z4}createDatastore(e){const t=eC(e.databaseInfo.databaseId),i=new x4(e.databaseInfo);return new N4(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>W3(this.syncEngine,h,0),c=M3.V()?new M3:new I4,new O4(t,i,r,o,c);var t,i,r,o,c}createSyncEngine(e,t){return function(i,r,o,c,h,_,w){const S=new J4(i,r,o,c,h,_);return w&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ge.Z)(function*(t){const i=vt(t);it("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Iy(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function J3(n,e=10240){let t=0;return{read:()=>(0,Ge.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yW{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new $r,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Ge.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Ge.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Ge.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const o=yield e.vc(r);return new Z4(JSON.parse(o),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Ge.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,Ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Ge.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class vW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new tt(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ge.Z)(function*(o,c){const h=vt(o),_=$1(h.wt)+"/documents",w={documents:c.map(ne=>j1(h.wt,ne))},S=yield h.ao("BatchGetDocuments",_,w,c.length),k=new Map;S.forEach(ne=>{const ue=function wz(n,e){return"found"in e?function(t,i){rn(!!i.found);const r=tu(t,i.found.name),o=zr(i.found.updateTime),c=new ss({mapValue:{fields:i.found.fields}});return vi.newFoundDocument(r,o,c)}(n,e):"missing"in e?function(t,i){rn(!!i.missing),rn(!!i.readTime);const r=tu(t,i.missing),o=zr(i.readTime);return vi.newNoDocument(r,o)}(n,e):Pt()}(h.wt,ne);k.set(ue.key.toString(),ue)});const K=[];return c.forEach(ne=>{const ue=k.get(ne.toString());rn(!!ue),K.push(ue)}),K}),function(o,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new vy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ft.fromPath(r);e.mutations.push(new KN(o,e.precondition(o)))}),yield(i=(0,Ge.Z)(function*(r,o){const c=vt(r),h=$1(c.wt)+"/documents",_={writes:o.map(w=>z1(c.wt,w))};yield c.ro("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pt();t=Jt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new tt(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Xi.updateTime(t):Xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jt.min()))throw new tt(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(t)}return Xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bW{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new vk(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Ge.Z)(function*(){const t=new vW(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Nc(o)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!x1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!bB(t)}return!1}}class CW{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=jr.UNAUTHENTICATED,this.clientId=PV.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ge.Z)(function*(h){it("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(it("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ge.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=xy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function X3(n,e){return mO.apply(this,arguments)}function mO(){return mO=(0,Ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ge.Z)(function*(o){i.isEqual(o)||(yield C3(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mO.apply(this,arguments)}function eU(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,Ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yO(n);it("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>V3(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>V3(e.remoteStore,o)),n.onlineComponents=e}),_O.apply(this,arguments)}function yO(n){return vO.apply(this,arguments)}function vO(){return vO=(0,Ge.Z)(function*(n){return n.offlineComponents||(it("FirestoreClient","Using default OfflineComponentProvider"),yield X3(n,new Y3)),n.offlineComponents}),vO.apply(this,arguments)}function WI(n){return bO.apply(this,arguments)}function bO(){return bO=(0,Ge.Z)(function*(n){return n.onlineComponents||(it("FirestoreClient","Using default OnlineComponentProvider"),yield eU(n,new gO)),n.onlineComponents}),bO.apply(this,arguments)}function tU(n){return yO(n).then(e=>e.persistence)}function CO(n){return yO(n).then(e=>e.localStore)}function nU(n){return WI(n).then(e=>e.remoteStore)}function wO(n){return WI(n).then(e=>e.syncEngine)}function ky(n){return EO.apply(this,arguments)}function EO(){return EO=(0,Ge.Z)(function*(n){const e=yield WI(n),t=e.eventManager;return t.onListen=X4.bind(null,e.syncEngine),t.onUnlisten=eW.bind(null,e.syncEngine),t}),EO.apply(this,arguments)}function iU(n,e,t={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function(r,o,c,h,_){const w=new zI({next:k=>{o.enqueueAndForget(()=>Uk(r,S));const K=k.docs.has(c);!K&&k.fromCache?_.reject(new tt(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&k.fromCache&&h&&"server"===h.source?_.reject(new tt(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),S=new jk(py(c.path),w,{includeMetadataChanges:!0,Du:!0});return Vk(r,S)}(yield ky(n),n.asyncQueue,e,t,i)})),i.promise}function rU(n,e,t={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function(r,o,c,h,_){const w=new zI({next:k=>{o.enqueueAndForget(()=>Uk(r,S)),k.fromCache&&"server"===h.source?_.reject(new tt(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),S=new jk(c,w,{includeMetadataChanges:!0,Du:!0});return Vk(r,S)}(yield ky(n),n.asyncQueue,e,t,i)})),i.promise}const sU=new Map;function TO(n,e,t){if(!t)throw new tt(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oU(n,e,t,i){if(!0===e&&!0===i)throw new tt(Ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aU(n){if(!ft.isDocumentKey(n))throw new tt(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lU(n){if(ft.isDocumentKey(n))throw new tt(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Pt()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qI(n);throw new tt(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cU(n,e){if(e<=0)throw new tt(Ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uU{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,oU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iC{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uU({}),this._settingsFrozen=!1,e instanceof Cd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new tt(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(r.options.projectId)}(e))}get app(){if(!this._app)throw new tt(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new P5;switch(t.type){case"gapi":const i=t.client;return rn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new R5(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new tt(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sU.get(e);t&&(it("ComponentProvider","Removing Datastore"),sU.delete(e),t.terminate())}(this),Promise.resolve()}}class Ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class Es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class iu extends Es{constructor(e,t,i){super(e,t,py(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new ft(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function dU(n,e,...t){if(n=(0,ce.m9)(n),TO("collection","path",e),n instanceof iC){const i=Fn.fromString(e,...t);return lU(i),new iu(n,null,i)}{if(!(n instanceof Ni||n instanceof iu))throw new tt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(e,...t));return lU(i),new iu(n.firestore,null,i)}}function ZI(n,e,...t){if(n=(0,ce.m9)(n),1===arguments.length&&(e=PV.I()),TO("doc","path",e),n instanceof iC){const i=Fn.fromString(e,...t);return aU(i),new Ni(n,null,new ft(i))}{if(!(n instanceof Ni||n instanceof iu))throw new tt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fn.fromString(e,...t));return aU(i),new Ni(n.firestore,n instanceof iu?n.converter:null,new ft(i))}}function hU(n,e){return n=(0,ce.m9)(n),e=(0,ce.m9)(e),(n instanceof Ni||n instanceof iu)&&(e instanceof Ni||e instanceof iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fU(n,e){return n=(0,ce.m9)(n),e=(0,ce.m9)(e),n instanceof Es&&e instanceof Es&&n.firestore===e.firestore&&R1(n._query,e._query)&&n.converter===e.converter}class NW{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vk(this,"async_queue_retry"),this.Kc=()=>{const t=GI();t&&it("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=GI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=GI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new $r;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Ge.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Wh(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=Lk.createAndSchedule(this,e,t,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&Pt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ge.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function SO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class kW{constructor(){this._progressObserver={},this._taskCompletionResolver=new $r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gi extends iC{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new NW,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||pU(this),this._firestoreClient.terminate()}}function RW(n=(0,rr.getApp)()){return(0,rr._getProvider)(n,"firestore").getImmediate()}function Sr(n){return n._firestoreClient||pU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pU(n){var e;const t=n._freezeSettings(),i=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new z5(n._databaseId,o,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new CW(n._authCredentials,n._appCheckCredentials,n._queue,i)}function gU(n,e,t){const i=new $r;return n.asyncQueue.enqueue((0,Ge.Z)(function*(){try{yield X3(n,t),yield eU(n,e),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===Ue.FAILED_PRECONDITION||c.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var c})).then(()=>i.promise)}function mU(n){if(n._initialized||n._terminated)throw new tt(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(kr.fromBase64String(e))}catch(t){throw new tt(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class og{constructor(e){this._methodName=e}}class KI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}const $W=/^__.*__$/;class zW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ed(e,this.data,this.fieldMask,t,this.fieldTransforms):new yy(e,this.data,t,this.fieldTransforms)}}class _U{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ed(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class YI{constructor(e,t,i,r,o,c){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new YI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return XI(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(yU(this.Zc)&&$W.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class WW{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||eC(e)}aa(e,t,i,r=!1){return new YI({Zc:e,methodName:t,ca:i,path:fr.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=eC(n._databaseId);return new WW(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QI(n,e,t,i,r,o={}){const c=n.aa(o.merge||o.mergeFields?2:0,e,t,r);xO("Data must be an object, but it was:",c,i);const h=CU(i,c);let _,w;if(o.merge)_=new ha(c.fieldMask),w=c.fieldTransforms;else if(o.mergeFields){const S=[];for(const k of o.mergeFields){const K=MO(e,k,t);if(!c.contains(K))throw new tt(Ue.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);EU(S,K)||S.push(K)}_=new ha(S),w=c.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,w=c.fieldTransforms;return new zW(new ss(h),_,w)}class rC extends og{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rC}}function vU(n,e,t){return new YI({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class IO extends og{_toFieldTransform(e){return new F1(e.path,new my)}isEqual(e){return e instanceof IO}}class qW extends og{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=vU(this,e,!0),i=this.ha.map(o=>lg(o,t)),r=new Yp(i);return new F1(e.path,r)}isEqual(e){return this===e}}class ZW extends og{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=vU(this,e,!0),i=this.ha.map(o=>lg(o,t)),r=new Qp(i);return new F1(e.path,r)}isEqual(e){return this===e}}class KW extends og{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new _y(e.wt,cB(e.wt,this.la));return new F1(e.path,t)}isEqual(e){return this===e}}function DO(n,e,t,i){const r=n.aa(1,e,t);xO("Data must be an object, but it was:",r,i);const o=[],c=ss.empty();zp(i,(_,w)=>{const S=JI(e,_,t);w=(0,ce.m9)(w);const k=r.ia(S);if(w instanceof rC)o.push(S);else{const K=lg(w,k);null!=K&&(o.push(S),c.set(S,K))}});const h=new ha(o);return new _U(c,h,r.fieldTransforms)}function AO(n,e,t,i,r,o){const c=n.aa(1,e,t),h=[MO(e,i,t)],_=[r];if(o.length%2!=0)throw new tt(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let K=0;K<o.length;K+=2)h.push(MO(e,o[K])),_.push(o[K+1]);const w=[],S=ss.empty();for(let K=h.length-1;K>=0;--K)if(!EU(w,h[K])){const ne=h[K];let ue=_[K];ue=(0,ce.m9)(ue);const Ce=c.ia(ne);if(ue instanceof rC)w.push(ne);else{const xe=lg(ue,Ce);null!=xe&&(w.push(ne),S.set(ne,xe))}}const k=new ha(w);return new _U(S,k,c.fieldTransforms)}function bU(n,e,t,i=!1){return lg(t,n.aa(i?4:3,e))}function lg(n,e){if(wU(n=(0,ce.m9)(n)))return xO("Unsupported field value:",e,n),CU(n,e);if(n instanceof og)return function(t,i){if(!yU(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const c of t){let h=lg(c,i.ra(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,ce.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cB(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Hi.fromDate(t);return{timestampValue:G1(i.wt,r)}}if(t instanceof Hi){const r=new Hi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:G1(i.wt,r)}}if(t instanceof KI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:MB(i.wt,t._byteString)};if(t instanceof Ni){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:YN(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${qI(t)}`)}(n,e)}function CU(n,e){const t={};return BV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zp(n,(i,r)=>{const o=lg(r,e.ea(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function wU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hi||n instanceof KI||n instanceof ru||n instanceof Ni||n instanceof og)}function xO(n,e,t){if(!wU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=qI(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function MO(n,e,t){if((e=(0,ce.m9)(e))instanceof Sd)return e._internalPath;if("string"==typeof e)return JI(n,e);throw XI("Field path arguments must be of type string or ",n,!1,void 0,t)}const YW=new RegExp("[~\\*/\\[\\]]");function JI(n,e,t){if(e.search(YW)>=0)throw XI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sd(...e.split("."))._internalPath}catch{throw XI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function XI(n,e,t,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||c)&&(_+=" (found",o&&(_+=` in field ${i}`),c&&(_+=` in document ${r}`),_+=")"),new tt(Ue.INVALID_ARGUMENT,h+n+_)}function EU(n,e){return n.some(t=>t.isEqual(e))}class sC{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QW extends sC{data(){return super.data()}}function eD(n,e){return"string"==typeof e?JI(n,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Id extends sC{constructor(e,t,i,r,o,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(eD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class oC extends Id{data(e={}){return super.data(e)}}class rf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new oC(this._firestore,this._userDataWriter,i.key,i,new cg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new oC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new cg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new oC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new cg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),w=o.indexOf(c.doc.key)),{type:JW(c.type),doc:h,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function TU(n,e){return n instanceof Id&&e instanceof Id?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rf&&e instanceof rf&&n._firestore===e._firestore&&fU(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function SU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aC{}function sf(n,...e){for(const t of e)n=t._apply(n);return n}class XW extends aC{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=ag(e.firestore),i=function(r,o,c,h,_,w,S){let k;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new tt(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){PU(S,w);const ne=[];for(const ue of S)ne.push(MU(h,r,ue));k={arrayValue:{values:ne}}}else k=MU(h,r,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||PU(S,w),k=bU(c,"where",S,"in"===w||"not-in"===w);const K=os.create(_,w,k);return function(ne,ue){if(ue.ht()){const xe=zN(ne);if(null!==xe&&!xe.isEqual(ue.field))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${ue.field.toString()}'`);const He=$N(ne);null!==He&&NU(0,ue.field,He)}const Ce=function(xe,He){for(const We of xe.filters)if(He.indexOf(We.op)>=0)return We.op;return null}(ne,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ue.op));if(null!==Ce)throw new tt(Ue.INVALID_ARGUMENT,Ce===ue.op?`Invalid query. You cannot use more than one '${ue.op.toString()}' filter.`:`Invalid query. You cannot use '${ue.op.toString()}' filters with '${Ce.toString()}' filters.`)}(r,K),K}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Es(e.firestore,e.converter,function(r,o){const c=r.filters.concat([o]);return new wd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class t8 extends aC{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new fy(r,o);return function(h,_){if(null===$N(h)){const w=zN(h);null!==w&&NU(0,w,_.field)}}(i,c),c}(e._query,this.fa,this.wa);return new Es(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new wd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class IU extends aC{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new Es(e.firestore,e.converter,iB(e._query,this.ma,this.ga))}}class DU extends aC{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=xU(e,this.type,this.ya,this.pa);return new Es(e.firestore,e.converter,(r=t,new wd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class AU extends aC{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=xU(e,this.type,this.ya,this.pa);return new Es(e.firestore,e.converter,(r=t,new wd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function xU(n,e,t,i){if(t[0]=(0,ce.m9)(t[0]),t[0]instanceof sC)return function(r,o,c,h,_){if(!h)throw new tt(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const S of gy(r))if(S.field.isKeyField())w.push(Zp(o,h.key));else{const k=h.data.field(S.field);if(HN(k))throw new tt(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const K=S.field.canonicalString();throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${K}' (used as the orderBy) does not exist.`)}w.push(k)}return new Yh(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ag(n.firestore);return function(o,c,h,_,w,S){const k=o.explicitOrderBy;if(w.length>k.length)throw new tt(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const K=[];for(let ne=0;ne<w.length;ne++){const ue=w[ne];if(k[ne].field.isKeyField()){if("string"!=typeof ue)throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ue}`);if(!WN(o)&&-1!==ue.indexOf("/"))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ue}' contains a slash.`);const Ce=o.path.child(Fn.fromString(ue));if(!ft.isDocumentKey(Ce))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const xe=new ft(Ce);K.push(Zp(c,xe))}else{const Ce=bU(h,_,ue);K.push(Ce)}}return new Yh(K,S)}(n._query,n.firestore._databaseId,r,e,t,i)}}function MU(n,e,t){if("string"==typeof(t=(0,ce.m9)(t))){if(""===t)throw new tt(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WN(e)&&-1!==t.indexOf("/"))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Fn.fromString(t));if(!ft.isDocumentKey(i))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zp(n,new ft(i))}if(t instanceof Ni)return Zp(n,t._key);throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qI(t)}.`)}function PU(n,e){if(!Array.isArray(n)||0===n.length)throw new tt(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new tt(Ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NU(n,e,t){if(!t.isEqual(e))throw new tt(Ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const c8={maxAttempts:5};class PO{convertValue(e,t="none"){switch(qp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pt()}}convertObject(e,t){const i={};return zp(e.fields,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new KI(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=HV(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(A1(e));default:return null}}convertTimestamp(e){const t=qh(e);return new Hi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Fn.fromString(e);rn(UB(i));const r=new Cd(i.get(1),i.get(3)),o=new ft(i.popFirst(5));return r.isEqual(t)||Er(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function tD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class u8 extends PO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}class kU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,i){this._verifyNotCommitted();const r=af(e,this._firestore),o=tD(r.converter,t,i),c=QI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Xi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=af(e,this._firestore);let c;return c="string"==typeof(t=(0,ce.m9)(t))||t instanceof Sd?AO(this._dataReader,"WriteBatch.update",o._key,t,i,r):DO(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=af(e,this._firestore);return this._mutations=this._mutations.concat(new vy(t._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function af(n,e){if((n=(0,ce.m9)(n)).firestore!==e)throw new tt(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ug extends PO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}function OU(n,e,t){n=Nn(n,Ni);const i=Nn(n.firestore,Gi),r=tD(n.converter,e,t);return Oy(i,[QI(ag(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Xi.none())])}function RU(n,e,t,...i){n=Nn(n,Ni);const r=Nn(n.firestore,Gi),o=ag(r);let c;return c="string"==typeof(e=(0,ce.m9)(e))||e instanceof Sd?AO(o,"updateDoc",n._key,e,t,i):DO(o,"updateDoc",n._key,e),Oy(r,[c.toMutation(n._key,Xi.exists(!0))])}function FU(n,...e){var t,i,r;n=(0,ce.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||SO(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(SO(e[c])){const k=e[c];e[c]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[c+1]=null===(i=k.error)||void 0===i?void 0:i.bind(k),e[c+2]=null===(r=k.complete)||void 0===r?void 0:r.bind(k)}let _,w,S;if(n instanceof Ni)w=Nn(n.firestore,Gi),S=py(n._key.path),_={next:k=>{e[c]&&e[c](NO(w,n,k))},error:e[c+1],complete:e[c+2]};else{const k=Nn(n,Es);w=Nn(k.firestore,Gi),S=k._query;const K=new ug(w);_={next:ne=>{e[c]&&e[c](new rf(w,K,k,ne))},error:e[c+1],complete:e[c+2]},SU(n._query)}return function(k,K,ne,ue){const Ce=new zI(ue),xe=new jk(K,Ce,ne);return k.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return Vk(yield ky(k),xe)})),()=>{Ce.Tc(),k.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return Uk(yield ky(k),xe)}))}}(Sr(w),S,h,_)}function Oy(n,e){return function(t,i){const r=new $r;return t.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function tW(n,e,t){return Zk.apply(this,arguments)}(yield wO(t),i,r)})),r.promise}(Sr(n),e)}function NO(n,e,t){const i=t.docs.get(e._key),r=new ug(n);return new Id(n,r,e._key,i,new cg(t.hasPendingWrites,t.fromCache),e.converter)}class b8 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=af(e,this._firestore),i=new u8(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Pt();const o=r[0];if(o.isFoundDocument())return new sC(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new sC(this._firestore,i,t._key,null,t.converter);throw Pt()})}set(e,t,i){const r=af(e,this._firestore),o=tD(r.converter,t,i),c=QI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const o=af(e,this._firestore);let c;return c="string"==typeof(t=(0,ce.m9)(t))||t instanceof Sd?AO(this._dataReader,"Transaction.update",o._key,t,i,r):DO(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=af(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=af(e,this._firestore),i=new ug(this._firestore);return super.get(e).then(r=>new Id(this._firestore,i,t._key,r._document,new cg(!1,!1),t.converter))}}function kO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function VU(){if(typeof Uint8Array>"u")throw new tt("unimplemented","Uint8Arrays are not available in this environment.")}function BU(){if(!function j5(){return typeof atob<"u"}())throw new tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){cy=rr.SDK_VERSION,(0,rr._registerComponent)(new wo.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=new Gi(r,new k5(t.getProvider("auth-internal")),new F5(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC")),(0,rr.registerVersion)(AV,"3.4.11",n),(0,rr.registerVersion)(AV,"3.4.11","esm2017")}();class lC{constructor(e){this._delegate=e}static fromBase64String(e){return BU(),new lC(ru.fromBase64String(e))}static fromUint8Array(e){return VU(),new lC(ru.fromUint8Array(e))}toBase64(){return BU(),this._delegate.toBase64()}toUint8Array(){return VU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function OO(n){return function x8(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class M8{enableIndexedDbPersistence(e,t){return function FW(n,e){mU(n=Nn(n,Gi));const t=Sr(n),i=n._freezeSettings(),r=new gO;return gU(t,r,new Q3(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function LW(n){mU(n=Nn(n,Gi));const e=Sr(n),t=n._freezeSettings(),i=new gO;return gU(e,i,new _W(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function VW(n){if(n._initialized&&!n._terminated)throw new tt(Ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ge.Z)(function*(){try{yield(t=(0,Ge.Z)(function*(i){if(!sc.V())return Promise.resolve();const r=i+"main";yield sc.delete(r)}),function(i){return t.apply(this,arguments)})(ck(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class UU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&T1("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function MW(n,e,t,i={}){var r;const o=(n=Nn(n,iC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&T1("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=jr.MOCK_USER;else{c=(0,ce.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new tt(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jr(_)}n._authCredentials=new N5(new xV(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function UW(n){return function wW(n){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){const e=yield tU(n),t=yield nU(n);return e.setNetworkEnabled(!0),function(i){const r=vt(i);return r.lu.delete(0),tC(r)}(t)}))}(Sr(n=Nn(n,Gi)))}(this._delegate)}disableNetwork(){return function HW(n){return function EW(n){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){const e=yield tU(n),t=yield nU(n);return e.setNetworkEnabled(!1),(i=(0,Ge.Z)(function*(r){const o=vt(r);o.lu.add(0),yield Iy(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Sr(n=Nn(n,Gi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,oU("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function BW(n){return function(e){const t=new $r;return e.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function sW(n,e){return Xk.apply(this,arguments)}(yield wO(e),t)})),t.promise}(Sr(n=Nn(n,Gi)))}(this._delegate)}onSnapshotsInSync(e){return function v8(n,e){return function IW(n,e){const t=new zI(e);return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return i=yield ky(n),r=t,vt(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return i=yield ky(n),r=t,void vt(i).Tu.delete(r);var i,r}))}}(Sr(n=Nn(n,Gi)),SO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ry(this,dU(this._delegate,e))}catch(t){throw qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new al(this,ZI(this._delegate,e))}catch(t){throw qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zs(this,function PW(n,e){if(n=Nn(n,iC),TO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(n,null,(t=e,new wd(Fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function C8(n,e,t){n=Nn(n,Gi);const i=Object.assign(Object.assign({},c8),t);return function(r){if(r.maxAttempts<1)throw new tt(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function DW(n,e,t){const i=new $r;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){const r=yield(o=n,WI(o).then(c=>c.datastore));var o;new bW(n.asyncQueue,r,t,e,i).run()})),i.promise}(Sr(n),r=>e(new b8(n,r)),i)}(this._delegate,t=>e(new HU(this,t)))}batch(){return Sr(this._delegate),new GU(new kU(this._delegate,e=>Oy(this._delegate,e)))}loadBundle(e){return function GW(n,e){const t=Sr(n=Nn(n,Gi)),i=new kW;return function AW(n,e,t,i){const r=function(o,c){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,w){if(_ instanceof Uint8Array)return J3(_,w);if(_ instanceof ArrayBuffer)return J3(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new yW(_,c);var _}(t,eC(e));n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){!function mW(n,e,t){const i=vt(n);var r;(r=(0,Ge.Z)(function*(o,c,h){try{const _=yield c.getMetadata();if(yield function(K,ne){const ue=vt(K),Ce=zr(ne.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",xe=>ue.Ds.getBundleMetadata(xe,ne.id)).then(xe=>!!xe&&xe.createTime.compareTo(Ce)>=0)}(o.localStore,_))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(K=_).totalDocuments,bytesLoaded:K.totalBytes,totalDocuments:K.totalDocuments,totalBytes:K.totalBytes}),Promise.resolve(new Set);h._updateProgress(H3(_));const w=new K4(_,o.localStore,c.wt);let S=yield c.fc();for(;S;){const K=yield w.Nu(S);K&&h._updateProgress(K),S=yield c.fc()}const k=yield w.complete();return yield Td(o,k.Mu,void 0),yield function(K,ne){const ue=vt(K);return ue.persistence.runTransaction("Save bundle","readwrite",Ce=>ue.Ds.saveBundleMetadata(Ce,ne))}(o.localStore,_),h._completeWith(k.progress),Promise.resolve(k.Ou)}catch(_){return T1("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var K}),function(o,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield wO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function jW(n,e){return function xW(n,e){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){return function(t,i){const r=vt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield CO(n),e)}))}(Sr(n=Nn(n,Gi)),e).then(t=>t?new Es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Zs(this,t):null)}}class nD extends PO{constructor(e){super(),this.firestore=e}convertBytes(e){return new lC(new ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return al.forKey(t,this.firestore,null)}}class HU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}get(e){const t=hg(e);return this._delegate.get(t).then(i=>new cC(this._firestore,new Id(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=hg(e);return i?(kO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=hg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}}class GU{constructor(e){this._delegate=e}set(e,t,i){const r=hg(e);return i?(kO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=hg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new oC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=dg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new dg(e,new nD(e),t),r.set(t,o)),o}}dg.INSTANCES=new WeakMap;class al{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new al(t,new Ni(t._delegate,i,new ft(e)))}static forKey(e,t,i){return new al(t,new Ni(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ry(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ry(this.firestore,dU(this._delegate,e))}catch(t){throw qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ce.m9)(e))instanceof Ni&&hU(this._delegate,e)}set(e,t){t=kO("DocumentReference.set",t);try{return t?OU(this._delegate,e,t):OU(this._delegate,e)}catch(i){throw qs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?RU(this._delegate,e):RU(this._delegate,e,t,...i)}catch(r){throw qs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _8(n){return Oy(Nn(n.firestore,Gi),[new vy(n._key,Xi.none())])}(this._delegate)}onSnapshot(...e){const t=jU(e),i=$U(e,r=>new cC(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return FU(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function h8(n){n=Nn(n,Ni);const e=Nn(n.firestore,Gi),t=Sr(e),i=new ug(e);return function TW(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return(i=(0,Ge.Z)(function*(r,o,c){try{const h=yield function(_,w){const S=vt(_);return S.persistence.runTransaction("read document","readonly",k=>S.localDocuments.getDocument(k,w))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new tt(Ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=xy(h,`Failed to get document '${o} from cache`);c.reject(_)}}),function(r,o,c){return i.apply(this,arguments)})(yield CO(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Id(e,i,n._key,r,new cg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function f8(n){n=Nn(n,Ni);const e=Nn(n.firestore,Gi);return iU(Sr(e),n._key,{source:"server"}).then(t=>NO(e,n,t))}(this._delegate):function d8(n){n=Nn(n,Ni);const e=Nn(n.firestore,Gi);return iU(Sr(e),n._key).then(t=>NO(e,n,t))}(this._delegate),t.then(i=>new cC(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new al(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function qs(n,e,t){return n.message=n.message.replace(e,t),n}function jU(n){for(const e of n)if("object"==typeof e&&!OO(e))return e;return{}}function $U(n,e){var t,i;let r;return r=OO(n[0])?n[0]:OO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class cC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new al(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TU(this._delegate,e._delegate)}}class uC extends cC{data(e){const t=this._delegate.data(e);return function M5(n,e){n||Pt()}(void 0!==t),t}}class Zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}where(e,t,i){try{return new Zs(this.firestore,sf(this._delegate,function e8(n,e,t){const i=e,r=eD("where",n);return new XW(r,i,t)}(e,t,i)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zs(this.firestore,sf(this._delegate,function n8(n,e="asc"){const t=e,i=eD("orderBy",n);return new t8(i,t)}(e,t)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zs(this.firestore,sf(this._delegate,function i8(n){return cU("limit",n),new IU("limit",n,"F")}(e)))}catch(t){throw qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zs(this.firestore,sf(this._delegate,function r8(n){return cU("limitToLast",n),new IU("limitToLast",n,"L")}(e)))}catch(t){throw qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zs(this.firestore,sf(this._delegate,function s8(...n){return new DU("startAt",n,!0)}(...e)))}catch(t){throw qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zs(this.firestore,sf(this._delegate,function o8(...n){return new DU("startAfter",n,!1)}(...e)))}catch(t){throw qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zs(this.firestore,sf(this._delegate,function a8(...n){return new AU("endBefore",n,!1)}(...e)))}catch(t){throw qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zs(this.firestore,sf(this._delegate,function l8(...n){return new AU("endAt",n,!0)}(...e)))}catch(t){throw qs(t,"endAt()","Query.endAt()")}}isEqual(e){return fU(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function g8(n){n=Nn(n,Es);const e=Nn(n.firestore,Gi),t=Sr(e),i=new ug(e);return function SW(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return(i=(0,Ge.Z)(function*(r,o,c){try{const h=yield BI(r,o,!0),_=new $3(o,h.ji),w=_.Ku(h.documents),S=_.applyChanges(w,!1);c.resolve(S.snapshot)}catch(h){const _=xy(h,`Failed to execute query '${o} against cache`);c.reject(_)}}),function(r,o,c){return i.apply(this,arguments)})(yield CO(n),e,t);var i})),t.promise}(t,n._query).then(r=>new rf(e,i,n,r))}(this._delegate):"server"===e?.source?function m8(n){n=Nn(n,Es);const e=Nn(n.firestore,Gi),t=Sr(e),i=new ug(e);return rU(t,n._query,{source:"server"}).then(r=>new rf(e,i,n,r))}(this._delegate):function p8(n){n=Nn(n,Es);const e=Nn(n.firestore,Gi),t=Sr(e),i=new ug(e);return SU(n._query),rU(t,n._query).then(r=>new rf(e,i,n,r))}(this._delegate),t.then(i=>new RO(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=jU(e),i=$U(e,r=>new RO(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return FU(this._delegate,t,i)}withConverter(e){return new Zs(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}class N8{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new N8(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new uC(this._firestore,i))})}isEqual(e){return TU(this._delegate,e._delegate)}}class Ry extends Zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new al(this.firestore,e):null}doc(e){try{return new al(this.firestore,void 0===e?ZI(this._delegate):ZI(this._delegate,e))}catch(t){throw qs(t,"doc()","CollectionReference.doc()")}}add(e){return function y8(n,e){const t=Nn(n.firestore,Gi),i=ZI(n),r=tD(n.converter,e);return Oy(t,[QI(ag(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new al(this.firestore,t))}isEqual(e){return hU(this._delegate,e._delegate)}withConverter(e){return new Ry(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function hg(n){return Nn(n,Ni)}class FO{constructor(...e){this._delegate=new Sd(...e)}static documentId(){return new FO(fr.keyField().canonicalString())}isEqual(e){return(e=(0,ce.m9)(e))instanceof Sd&&this._delegate._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function E8(){return new IO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fg(e)}static delete(){const e=function w8(){return new rC("deleteField")}();return e._methodName="FieldValue.delete",new fg(e)}static arrayUnion(...e){const t=function T8(...n){return new qW("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fg(t)}static arrayRemove(...e){const t=function S8(...n){return new ZW("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fg(t)}static increment(e){const t=function I8(n){return new KW("increment",n)}(e);return t._methodName="FieldValue.increment",new fg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const k8={Firestore:UU,GeoPoint:KI,Timestamp:Hi,Blob:lC,Transaction:HU,WriteBatch:GU,DocumentReference:al,DocumentSnapshot:cC,Query:Zs,QueryDocumentSnapshot:uC,QuerySnapshot:RO,CollectionReference:Ry,FieldPath:FO,FieldValue:fg,setLogLevel:function P8(n){!function x5(n){$h.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function zU(n,e){return function F8(n,e=hr.z){return new Di.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function LO(n,e){return zU(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function iD(n,e){return LO(n,e).pipe(Ir(void 0),zS(),(0,At.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const _=r.find(S=>S.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function WU(n,e,t){return iD(n,t).pipe(ho((i,r)=>function V8(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function B8(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return VO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return VO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),ey(),(0,At.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function VO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function qU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function R8(n){(function O8(n,e){n.INTERNAL.registerComponent(new wo.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},k8)))})(n,(e,t)=>new UU(e,t,new M8)),n.registerVersion("@firebase/firestore-compat","0.1.20")}(Db.Z);class ZU{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=iD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ir(void 0),zS(),Ai(([i,r])=>r.length>0||!i),(0,At.U)(([i,r])=>r),zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ho((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=qU(e);return WU(this.query,t,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return LO(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),zt.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(zt.iC)}add(e){return this.ref.add(e)}doc(e){return new KU(this.ref.doc(e),this.afs)}}class KU{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=JU(i,t);return new ZU(r,o,this.afs)}snapshotChanges(){return function L8(n,e){return zU(n,e).pipe(Ir(void 0),zS(),(0,At.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Rn.D)(this.ref.get(e)).pipe(zt.iC)}}class U8{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iD(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ai(t=>t.length>0),zt.iC):iD(this.query,this.afs.schedulers.outsideAngular).pipe(zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ho((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=qU(e);return WU(this.query,t,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return LO(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),zt.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(zt.iC)}}const YU=new s.OlP("angularfire2.enableFirestorePersistence"),QU=new s.OlP("angularfire2.firestore.persistenceSettings"),H8=new s.OlP("angularfire2.firestore.settings"),G8=new s.OlP("angularfire2.firestore.use-emulator");function JU(n,e=(t=>t)){return{query:e(n),ref:n}}let XU=(()=>{class n{constructor(t,i,r,o,c,h,_,w,S,k,K,ne,ue,Ce,xe,He,We){this.schedulers=_;const et=(0,Ji.on)(t,h,i),Qe=S;k&&Ib(et,h,K,ue,Ce,xe,ne,He),[this.firestore,this.persistenceEnabled$]=(0,Ji.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const lt=h.runOutsideAngular(()=>et.firestore());if(o&&lt.settings(o),Qe&&lt.useEmulator(...Qe),r&&!yu(c)){const dt=()=>{try{return(0,Rn.D)(lt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(xt){return typeof console<"u"&&console.warn(xt),Dt(!1)}};return[lt,h.runOutsideAngular(dt)]}return[lt,Dt(!1)]},[o,Qe,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=JU(r,i),h=this.schedulers.ngZone.run(()=>o);return new ZU(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),o=this.firestore.collectionGroup(t);return new U8(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new KU(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ji.Dh),s.LFG(Ji.xv,8),s.LFG(YU,8),s.LFG(H8,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zt.HU),s.LFG(QU,8),s.LFG(G8,8),s.LFG(Fh,8),s.LFG(H_,8),s.LFG(G_,8),s.LFG(j_,8),s.LFG(Sb,8),s.LFG($_,8),s.LFG(z_,8),s.LFG(nc,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),j8=(()=>{class n{constructor(){Rh.Z.registerVersion("angularfire",zt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:YU,useValue:!0},{provide:QU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XU]}),n})();var rD=g(5032);function sD(...n){const e=(0,Lr.jO)(n);return(0,Ki.e)((t,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),h=!1;for(let _=0;_<r;_++)(0,Os.Xf)(n[_]).subscribe((0,ii.x)(i,w=>{o[_]=w,!h&&!c[_]&&(c[_]=!0,(h=c.every(es.y))&&(c=null))},rD.Z));t.subscribe((0,ii.x)(i,_=>{if(h){const w=[_,...o];i.next(e?e(...w):w)}}))})}const eH="@firebase/database";let BO="";function nH(n){BO=n}class z8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ce.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ce.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class W8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ce.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const iH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new z8(e)}}catch{}return new W8},pg=iH("localStorage"),UO=iH("sessionStorage"),Fy=new sa.Yd("@firebase/database"),rH=function(){let n=1;return function(){return n++}}(),sH=function(n){const e=(0,ce.dS)(n),t=new ce.gQ;t.update(e);const i=t.digest();return ce.US.encodeByteArray(i)},dC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=dC.apply(null,i):e+="object"==typeof i?(0,ce.Pz)(i):i,e+=" "}return e};let gg=null,oH=!0;const aH=function(n,e){(0,ce.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Fy.logLevel=sa.in.VERBOSE,gg=Fy.log.bind(Fy),e&&UO.set("logging_enabled",!0)):"function"==typeof n?gg=n:(gg=null,UO.remove("logging_enabled"))},Zr=function(...n){if(!0===oH&&(oH=!1,null===gg&&!0===UO.get("logging_enabled")&&aH(!0)),gg){const e=dC.apply(null,n);gg(e)}},hC=function(n){return function(...e){Zr(n,...e)}},HO=function(...n){const e="FIREBASE INTERNAL ERROR: "+dC(...n);Fy.error(e)},su=function(...n){const e=`FIREBASE FATAL ERROR: ${dC(...n)}`;throw Fy.error(e),new Error(e)},Ts=function(...n){const e="FIREBASE WARNING: "+dC(...n);Fy.warn(e)},oD=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Dd="[MIN_NAME]",ou="[MAX_NAME]",mg=function(n,e){if(n===e)return 0;if(n===Dd||e===ou)return-1;if(e===Dd||n===ou)return 1;{const t=aD(n),i=aD(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},K8=function(n,e){return n===e?0:n<e?-1:1},fC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ce.Pz)(e))},GO=function(n){if("object"!=typeof n||null===n)return(0,ce.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,ce.Pz)(e[i]),t+=":",t+=GO(n[e[i]]);return t+="}",t},lH=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const cH=function(n){(0,ce.hu)(!oD(n),"Invalid JSON number");const i=1023;let r,o,c,h,_;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const w=[];for(_=52;_;_-=1)w.push(c%2?1:0),c=Math.floor(c/2);for(_=11;_;_-=1)w.push(o%2?1:0),o=Math.floor(o/2);w.push(r?1:0),w.reverse();const S=w.join("");let k="";for(_=0;_<64;_+=8){let K=parseInt(S.substr(_,8),2).toString(16);1===K.length&&(K="0"+K),k+=K}return k.toLowerCase()},X8=new RegExp("^-?(0*)\\d{1,10}$"),uH=-2147483648,jO=2147483647,aD=function(n){if(X8.test(n)){const e=Number(n);if(e>=uH&&e<=jO)return e}return null},Ly=function(n){try{n()}catch(e){setTimeout(()=>{throw Ts("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},pC=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class tq{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ts(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class nq{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Zr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ts(e)}}let gC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const gH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yH="websocket",vH="long_polling";class zO{constructor(e,t,i,r,o=!1,c="",h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&pg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function bH(n,e,t){let i;if((0,ce.hu)("string"==typeof e,"typeof type must == string"),(0,ce.hu)("object"==typeof t,"typeof params must == object"),e===yH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==vH)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function iq(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Kr(t,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class rq{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ce.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ce.p$)(this.counters_)}}const WO={},qO={};function ZO(n){const e=n.toString();return WO[e]||(WO[e]=new rq),WO[e]}class oq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ly(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class lf{constructor(e,t,i,r,o,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hC(e),this.stats_=ZO(t),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),bH(t,vH,_))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new oq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ce.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new KO((...o)=>{const[c,h,_,w,S]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=_;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&gH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lf.forceAllow_=!0}static forceDisallow(){lf.forceDisallow_=!0}static isAvailable(){return!((0,ce.Yr)()||!lf.forceAllow_&&(lf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ce.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,ce.h$)(t),r=lH(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ce.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ce.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class KO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ce.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=rH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=KO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Zr("frame writing exception"),h.stack&&Zr(h.stack),Zr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,ce.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Zr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let cD=null;typeof MozWebSocket<"u"?cD=MozWebSocket:typeof WebSocket<"u"&&(cD=WebSocket);let Vy=(()=>{class n{constructor(t,i,r,o,c,h,_){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hC(this.connId),this.stats_=ZO(i),this.connURL=n.connectionURL_(i,h,_,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,c){const h={v:"5"};return!(0,ce.Yr)()&&typeof location<"u"&&location.hostname&&gH.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),c&&(h.p=c),bH(t,yH,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pg.set("previous_websocket_failure",!0);try{let r;if((0,ce.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${BO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,_=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;_&&(c.proxy={origin:_})}this.mySock=new cD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==cD&&!n.forceDisallow_}static previouslyFailed(){return pg.isInMemoryStorage||!0===pg.get("previous_websocket_failure")}markConnectionHealthy(){pg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ce.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ce.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,ce.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=lH(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),DH=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[lf,Vy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Vy&&Vy.isAvailable();let r=i&&!Vy.previouslyFailed();if(t.webSocketOnly&&(i||Ts("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vy];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class OH{constructor(e,t,i,r,o,c,h,_,w,S){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=_,this.onKill_=w,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hC("c:"+this.id+":"),this.transportManager_=new DH(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=pC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=fC("t",e),i=fC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=fC("t",e),i=fC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=fC("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?HO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ts("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),pC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class RH{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class FH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ce.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,ce.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class uD extends FH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ce.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new uD}getInitialEvent(e){return(0,ce.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Yn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Gn(){return new Yn("")}function Cn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function cf(n){return n.pieces_.length-n.pieceNum_}function _i(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Yn(n.pieces_,e)}function QO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function mC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function BH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Yn(e,0)}function ji(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Yn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Yn(t,0)}function wn(n){return n.pieceNum_>=n.pieces_.length}function Ks(n,e){const t=Cn(n),i=Cn(e);if(null===t)return e;if(t===i)return Ks(_i(n),_i(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Aq(n,e){const t=mC(n,0),i=mC(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=mg(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function JO(n,e){if(cf(n)!==cf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function ll(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(cf(n)>cf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class xq{constructor(e,t){this.errorPrefix_=t,this.parts_=mC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ce.ug)(this.parts_[i]);UH(this)}}function UH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_g(n))}function _g(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class XO extends FH{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new XO}getInitialEvent(e){return(0,ce.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const _C=1e3;let hD,yg=(()=>{class n extends RH{constructor(t,i,r,o,c,h,_,w){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=_,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=hC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_C,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,ce.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");XO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&uD.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_((0,ce.Pz)(c)),(0,ce.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new ce.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const _=h.d;"ok"===h.s?i.resolve(_):i.reject(_)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||o!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,ce.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ce.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const _={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,_),this.connected_&&this.sendListen_(_)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,_=>{const w=_.d,S=_.s;n.warnOnListenWarnings_(w,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",_),"ok"!==S&&this.removeListen_(r,o),t.onComplete&&t.onComplete(S,w))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,ce.r3)(t,"w")){const r=(0,ce.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ts(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ce.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,ce.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ce.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ce.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):HO("Unrecognized action received from server: "+(0,ce.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ce.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_C,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_C,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_C),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ge.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let _=!1,w=null;const S=function(){w?w.close():(_=!0,o())};t.realtime_={close:S,sendRequest:function(ne){(0,ce.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(ne)}};const K=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[ne,ue]=yield Promise.all([t.authTokenProvider_.getToken(K),t.appCheckTokenProvider_.getToken(K)]);_?Zr("getToken() completed but was canceled"):(Zr("getToken() completed. Creating connection."),t.authToken_=ne&&ne.accessToken,t.appCheckToken_=ue&&ue.token,w=new OH(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,Ce=>{Ts(Ce+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(ne){t.log_("Failed to get token: "+ne),_||(t.repoInfo_.nodeAdmin&&Ts(ne),S())}}})()}interrupt(t){Zr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Zr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ce.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_C,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>GO(c)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Yn(t).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Zr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Zr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,ce.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+BO.replace(/\./g,"-")]=1,(0,ce.uI)()?t["framework.cordova"]=1:(0,ce.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=uD.getInstance().currentlyOnline();return(0,ce.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Tn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Tn(e,t)}}class dD{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Tn(Dd,e),r=new Tn(Dd,t);return 0!==this.compare(i,r)}minPost(){return Tn.MIN}}class jH extends dD{static get __EMPTY_NODE(){return hD}static set __EMPTY_NODE(e){hD=e}compare(e,t){return mg(e.name,t.name)}isDefinedOn(e){throw(0,ce.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Tn.MIN}maxPost(){return new Tn(ou,hD)}makePost(e,t){return(0,ce.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Tn(e,hD)}toString(){return".key"}}const au=new jH;class fD{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let tR,oc=(()=>{class n{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Do.EMPTY_NODE,this.right=c??Do.EMPTY_NODE}copy(t,i,r,o,c){return new n(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Do.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Do.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Do{constructor(e,t=Do.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Do(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,oc.BLACK,null,null))}remove(e){return new Do(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,oc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fD(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fD(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fD(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fD(this.root_,null,this.comparator_,!0,e)}}function Vq(n,e){return mg(n.name,e.name)}function eR(n,e){return mg(n,e)}Do.EMPTY_NODE=new class Lq{copy(e,t,i,r,o){return this}insert(e,t,i){return new oc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $H=function(n){return"number"==typeof n?"number:"+cH(n):"string:"+n},zH=function(n){if(n.isLeafNode()){const e=n.val();(0,ce.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ce.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ce.hu)(n===tR||n.isEmpty(),"priority of unexpected type.");(0,ce.hu)(n===tR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let WH,qH,ZH,By=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,ce.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zH(this.priorityNode_)}static set __childrenNodeConstructor(t){WH=t}static get __childrenNodeConstructor(){return WH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return wn(t)?this:".priority"===Cn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Cn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ce.hu)(".priority"!==r||1===cf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(_i(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$H(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?cH(this.value_):this.value_,this.lazyHash_=sH(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ce.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ce.hu)(o>=0,"Unknown leaf type: "+i),(0,ce.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const bi=new class Gq extends dD{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?mg(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Tn.MIN}maxPost(){return new Tn(ou,new By("[PRIORITY-POST]",ZH))}makePost(e,t){const i=qH(e);return new Tn(t,new By("[PRIORITY-POST]",i))}toString(){return".priority"}},jq=Math.log(2);class $q{constructor(e){this.count=parseInt(Math.log(e+1)/jq,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pD=function(n,e,t,i){n.sort(e);const r=function(_,w){const S=w-_;let k,K;if(0===S)return null;if(1===S)return k=n[_],K=t?t(k):k,new oc(K,k.node,oc.BLACK,null,null);{const ne=parseInt(S/2,10)+_,ue=r(_,ne),Ce=r(ne+1,w);return k=n[ne],K=t?t(k):k,new oc(K,k.node,oc.BLACK,ue,Ce)}},h=function(_){let w=null,S=null,k=n.length;const K=function(ue,Ce){const xe=k-ue,He=k;k-=ue;const We=r(xe+1,He),et=n[xe],Qe=t?t(et):et;ne(new oc(Qe,et.node,Ce,null,We))},ne=function(ue){w?(w.left=ue,w=ue):(S=ue,w=ue)};for(let ue=0;ue<_.count;++ue){const Ce=_.nextBitIsOne(),xe=Math.pow(2,_.count-(ue+1));Ce?K(xe,oc.BLACK):(K(xe,oc.BLACK),K(xe,oc.RED))}return S}(new $q(n.length));return new Do(i||e,h)};let nR;const Uy={};class Ad{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ce.hu)(Uy&&bi,"ChildrenNode.ts has not been loaded"),nR=nR||new Ad({".priority":Uy},{".priority":bi}),nR}get(e){const t=(0,ce.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Do?t:null}hasIndex(e){return(0,ce.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ce.hu)(e!==au,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(Tn.Wrap);let h,c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=o.getNext();h=r?pD(i,e.getCompare()):Uy;const _=e.toString(),w=Object.assign({},this.indexSet_);w[_]=e;const S=Object.assign({},this.indexes_);return S[_]=h,new Ad(S,w)}addToIndexes(e,t){const i=(0,ce.UI)(this.indexes_,(r,o)=>{const c=(0,ce.DV)(this.indexSet_,o);if((0,ce.hu)(c,"Missing index implementation for "+o),r===Uy){if(c.isDefinedOn(e.node)){const h=[],_=t.getIterator(Tn.Wrap);let w=_.getNext();for(;w;)w.name!==e.name&&h.push(w),w=_.getNext();return h.push(e),pD(h,c.getCompare())}return Uy}{const h=t.get(e.name);let _=r;return h&&(_=_.remove(new Tn(e.name,h))),_.insert(e,e.node)}});return new Ad(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,ce.UI)(this.indexes_,r=>{if(r===Uy)return r;{const o=t.get(e.name);return o?r.remove(new Tn(e.name,o)):r}});return new Ad(i,this.indexSet_)}}let yC,pn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zH(this.priorityNode_),this.children_.isEmpty()&&(0,ce.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yC||(yC=new n(new Do(eR),null,Ad.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?yC:i}}getChild(t){const i=Cn(t);return null===i?this:this.getImmediateChild(i).getChild(_i(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,ce.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Tn(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?yC:this.priorityNode_;return new n(o,h,c)}}updateChild(t,i){const r=Cn(t);if(null===r)return i;{(0,ce.hu)(".priority"!==Cn(t)||1===cf(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(_i(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(bi,(h,_)=>{i[h]=_.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*r){const h=[];for(const _ in i)h[_]=i[_];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$H(this.getPriority().val())+":"),this.forEachChild(bi,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":sH(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new Tn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Tn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Tn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Tn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Tn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===vC?-1:0}withIndex(t){if(t===au||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===au||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(bi),o=i.getIterator(bi);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===au?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vC=new class zq extends pn{constructor(){super(new Do(eR),pn.EMPTY_NODE,Ad.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pn.EMPTY_NODE}isEmpty(){return!1}};function er(n,e=null){if(null===n)return pn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ce.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new By(n,er(e));if(n instanceof Array){let t=pn.EMPTY_NODE;return Kr(n,(i,r)=>{if((0,ce.r3)(n,i)&&"."!==i.substring(0,1)){const o=er(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(er(e))}{const t=[];let i=!1;if(Kr(n,(c,h)=>{if("."!==c.substring(0,1)){const _=er(h);_.isEmpty()||(i=i||!_.getPriority().isEmpty(),t.push(new Tn(c,_)))}}),0===t.length)return pn.EMPTY_NODE;const o=pD(t,Vq,c=>c.name,eR);if(i){const c=pD(t,bi.getCompare());return new pn(o,er(e),new Ad({".priority":c},{".priority":bi}))}return new pn(o,er(e),Ad.Default)}}Object.defineProperties(Tn,{MIN:{value:new Tn(Dd,pn.EMPTY_NODE)},MAX:{value:new Tn(ou,vC)}}),jH.__EMPTY_NODE=pn.EMPTY_NODE,By.__childrenNodeConstructor=pn,function Bq(n){tR=n}(vC),function Hq(n){ZH=n}(vC),function Uq(n){qH=n}(er);class iR extends dD{constructor(e){super(),this.indexPath_=e,(0,ce.hu)(!wn(e)&&".priority"!==Cn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?mg(e.name,t.name):o}makePost(e,t){const i=er(e),r=pn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Tn(t,r)}maxPost(){const e=pn.EMPTY_NODE.updateChild(this.indexPath_,vC);return new Tn(ou,e)}toString(){return mC(this.indexPath_,0).join("/")}}const rR=new class qq extends dD{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?mg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Tn.MIN}maxPost(){return Tn.MAX}makePost(e,t){const i=er(e);return new Tn(t,i)}toString(){return".value"}},Hy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Zq=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Hy.charAt(t%64),t=Math.floor(t/64);(0,ce.hu)(0===t,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Hy.charAt(e[r]);return(0,ce.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),QH=function(n){if(n===""+jO)return"-";const e=aD(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return ou;const o=Hy.charAt(Hy.indexOf(t[i])+1);return t[i]=o,t.slice(0,i+1).join("")},JH=function(n){if(n===""+uH)return Dd;const e=aD(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+jO:(delete t[t.length-1],t.join("")):(t[t.length-1]=Hy.charAt(Hy.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function XH(n){return{type:"value",snapshotNode:n}}function Gy(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function bC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function CC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class oR{constructor(e){this.index_=e}updateChild(e,t,i,r,o,c){(0,ce.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(bC(t,h)):(0,ce.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Gy(t,i)):c.trackChildChange(CC(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(bi,(r,o)=>{t.hasChild(r)||i.trackChildChange(bC(r,o))}),t.isLeafNode()||t.forEachChild(bi,(r,o)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(o)||i.trackChildChange(CC(r,o,c))}else i.trackChildChange(Gy(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?pn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wC{constructor(e){this.indexedFilter_=new oR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wC.getStartPost_(e),this.endPost_=wC.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,o,c){return this.matches(new Tn(t,i))||(i=pn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=pn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(pn.EMPTY_NODE);const o=this;return t.forEachChild(bi,(c,h)=>{o.matches(new Tn(c,h))||(r=r.updateImmediateChild(c,pn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Yq{constructor(e){this.rangedFilter_=new wC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,o,c){return this.rangedFilter_.matches(new Tn(t,i))||(i=pn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,c):this.fullLimitUpdateChild_(e,t,i,o,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=pn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=pn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!_)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let o,c,h,_;if(r=t.withIndex(this.index_),r=r.updatePriority(pn.EMPTY_NODE),this.reverse_){_=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();h=(K,ne)=>k(ne,K)}else _=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let w=0,S=!1;for(;_.hasNext();){const k=_.getNext();!S&&h(o,k)<=0&&(S=!0),S&&w<this.limit_&&h(k,c)<=0?w++:r=r.updateImmediateChild(k.name,pn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let c;if(this.reverse_){const k=this.index_.getCompare();c=(K,ne)=>k(ne,K)}else c=this.index_.getCompare();const h=e;(0,ce.hu)(h.numChildren()===this.limit_,"");const _=new Tn(t,i),w=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),S=this.rangedFilter_.matches(_);if(h.hasChild(t)){const k=h.getImmediateChild(t);let K=r.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=K&&(K.name===t||h.hasChild(K.name));)K=r.getChildAfterChild(this.index_,K,this.reverse_);const ne=null==K?1:c(K,_);if(S&&!i.isEmpty()&&ne>=0)return o?.trackChildChange(CC(t,i,k)),h.updateImmediateChild(t,i);{o?.trackChildChange(bC(t,k));const Ce=h.updateImmediateChild(t,pn.EMPTY_NODE);return null!=K&&this.rangedFilter_.matches(K)?(o?.trackChildChange(Gy(K.name,K.node)),Ce.updateImmediateChild(K.name,K.node)):Ce}}return i.isEmpty()?e:S&&c(w,_)>=0?(null!=o&&(o.trackChildChange(bC(w.name,w.node)),o.trackChildChange(Gy(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(w.name,pn.EMPTY_NODE)):e}}class gD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ce.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ce.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ce.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ce.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ou}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ce.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bi}copy(){const e=new gD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aR(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function lR(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function mD(n,e){const t=n.copy();return t.index_=e,t}function eG(n){const e={};if(n.isDefault())return e;let t;return n.index_===bi?t="$priority":n.index_===rR?t="$value":n.index_===au?t="$key":((0,ce.hu)(n.index_ instanceof iR,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ce.Pz)(t),n.startSet_&&(e.startAt=(0,ce.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,ce.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,ce.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,ce.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function tG(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==bi&&(e.i=n.index_.toString()),e}class _D extends RH{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ce.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=_D.getListenId_(e,i),h={};this.listens_[c]=h;const _=eG(e._queryParams);this.restRequest_(o+".json",_,(w,S)=>{let k=S;if(404===w&&(k=null,w=null),null===w&&this.onDataUpdate_(o,k,!1,i),(0,ce.DV)(this.listens_,c)===h){let K;K=w?401===w?"permission_denied":"rest_error:"+w:"ok",r(K,null)}})}unlisten(e,t){const i=_D.getListenId_(e,t);delete this.listens_[i]}get(e){const t=eG(e._queryParams),i=e._path.toString(),r=new ce.BH;return this.restRequest_(i+".json",t,(o,c)=>{let h=c;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ce.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let _=null;if(h.status>=200&&h.status<300){try{_=(0,ce.cI)(h.responseText)}catch{Ts("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,_)}else 401!==h.status&&404!==h.status&&Ts("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class nZ{constructor(){this.rootNode_=pn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function yD(){return{value:null,children:new Map}}function jy(n,e,t){if(wn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Cn(e);n.children.has(i)||n.children.set(i,yD()),jy(n.children.get(i),e=_i(e),t)}}function cR(n,e){if(wn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(bi,(i,r)=>{jy(n,new Yn(i),r)}),cR(n,e)}}if(n.children.size>0){const t=Cn(e);return e=_i(e),n.children.has(t)&&cR(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function uR(n,e,t){null!==n.value?t(e,n.value):function iZ(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{uR(r,new Yn(e.toString()+"/"+i),t)})}class rZ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Kr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class aZ{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rZ(e);const i=1e4+2e4*Math.random();pC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Kr(e,(r,o)=>{o>0&&(0,ce.r3)(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),pC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var cl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(cl||(cl={})),cl))();function fR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class vD{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=cl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(wn(this.path)){if(null!=this.affectedTree.value)return(0,ce.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Yn(e));return new vD(Gn(),t,this.revert)}}return(0,ce.hu)(Cn(this.path)===e,"operationForChild called for unrelated child."),new vD(_i(this.path),this.affectedTree,this.revert)}}class EC{constructor(e,t){this.source=e,this.path=t,this.type=cl.LISTEN_COMPLETE}operationForChild(e){return wn(this.path)?new EC(this.source,Gn()):new EC(this.source,_i(this.path))}}class vg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=cl.OVERWRITE}operationForChild(e){return wn(this.path)?new vg(this.source,Gn(),this.snap.getImmediateChild(e)):new vg(this.source,_i(this.path),this.snap)}}class $y{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=cl.MERGE}operationForChild(e){if(wn(this.path)){const t=this.children.subtree(new Yn(e));return t.isEmpty()?null:t.value?new vg(this.source,Gn(),t.value):new $y(this.source,Gn(),t)}return(0,ce.hu)(Cn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $y(this.source,_i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class uf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Cn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class lZ{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function TC(n,e,t,i,r,o){const c=i.filter(h=>h.type===t);c.sort((h,_)=>function dZ(n,e,t){if(null==e.childName||null==t.childName)throw(0,ce.g5)("Should only compare child_ events.");const i=new Tn(e.childName,e.snapshotNode),r=new Tn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,_)),c.forEach(h=>{const _=function uZ(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,o);r.forEach(w=>{w.respondsTo(h.type)&&e.push(w.createEvent(_,n.query_))})})}function bD(n,e){return{eventCache:n,serverCache:e}}function SC(n,e,t,i){return bD(new uf(e,t,i),n.serverCache)}function iG(n,e,t,i){return bD(n.eventCache,new uf(e,t,i))}function CD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function bg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pR;class Ci{constructor(e,t=(()=>(pR||(pR=new Do(K8)),pR))()){this.value=e,this.children=t}static fromObject(e){let t=new Ci(null);return Kr(e,(i,r)=>{t=t.set(new Yn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Gn(),value:this.value};if(wn(e))return null;{const i=Cn(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(_i(e),t);return null!=o?{path:ji(new Yn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(wn(e))return this;{const t=Cn(e),i=this.children.get(t);return null!==i?i.subtree(_i(e)):new Ci(null)}}set(e,t){if(wn(e))return new Ci(t,this.children);{const i=Cn(e),o=(this.children.get(i)||new Ci(null)).set(_i(e),t),c=this.children.insert(i,o);return new Ci(this.value,c)}}remove(e){if(wn(e))return this.children.isEmpty()?new Ci(null):new Ci(null,this.children);{const t=Cn(e),i=this.children.get(t);if(i){const r=i.remove(_i(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Ci(null):new Ci(this.value,o)}return this}}get(e){if(wn(e))return this.value;{const t=Cn(e),i=this.children.get(t);return i?i.get(_i(e)):null}}setTree(e,t){if(wn(e))return t;{const i=Cn(e),o=(this.children.get(i)||new Ci(null)).setTree(_i(e),t);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Ci(this.value,c)}}fold(e){return this.fold_(Gn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ji(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Gn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(wn(e))return null;{const o=Cn(e),c=this.children.get(o);return c?c.findOnPath_(_i(e),ji(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Gn(),t)}foreachOnPath_(e,t,i){if(wn(e))return this;{this.value&&i(t,this.value);const r=Cn(e),o=this.children.get(r);return o?o.foreachOnPath_(_i(e),ji(t,r),i):new Ci(null)}}foreach(e){this.foreach_(Gn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ji(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class ac{constructor(e){this.writeTree_=e}static empty(){return new ac(new Ci(null))}}function IC(n,e,t){if(wn(e))return new ac(new Ci(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const c=Ks(r,e);return o=o.updateChild(c,t),new ac(n.writeTree_.set(r,o))}{const r=new Ci(t),o=n.writeTree_.setTree(e,r);return new ac(o)}}}function gR(n,e,t){let i=n;return Kr(t,(r,o)=>{i=IC(i,ji(e,r),o)}),i}function rG(n,e){if(wn(e))return ac.empty();{const t=n.writeTree_.setTree(e,new Ci(null));return new ac(t)}}function mR(n,e){return null!=Cg(n,e)}function Cg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ks(t.path,e)):null}function sG(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(bi,(i,r)=>{e.push(new Tn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Tn(i,r.value))}),e}function df(n,e){if(wn(e))return n;{const t=Cg(n,e);return new ac(null!=t?new Ci(t):n.writeTree_.subtree(e))}}function _R(n){return n.writeTree_.isEmpty()}function zy(n,e){return oG(Gn(),n.writeTree_,e)}function oG(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,ce.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=oG(ji(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(ji(n,".priority"),i)),t}}function wD(n,e){return dG(e,n)}function _Z(n,e){if(n.snap)return ll(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ll(ji(n.path,t),e))return!0;return!1}function vZ(n){return n.visible}function aG(n,e,t){let i=ac.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const c=o.path;let h;if(o.snap)ll(t,c)?(h=Ks(t,c),i=IC(i,h,o.snap)):ll(c,t)&&(h=Ks(c,t),i=IC(i,Gn(),o.snap.getChild(h)));else{if(!o.children)throw(0,ce.g5)("WriteRecord should have .snap or .children");if(ll(t,c))h=Ks(t,c),i=gR(i,h,o.children);else if(ll(c,t))if(h=Ks(c,t),wn(h))i=gR(i,Gn(),o.children);else{const _=(0,ce.DV)(o.children,Cn(h));if(_){const w=_.getChild(_i(h));i=IC(i,Gn(),w)}}}}}return i}function lG(n,e,t,i,r){if(i||r){const o=df(n.visibleWrites,e);return!r&&_R(o)?t:r||null!=t||mR(o,Gn())?zy(aG(n.allWrites,function(w){return(w.visible||r)&&(!i||!~i.indexOf(w.writeId))&&(ll(w.path,e)||ll(e,w.path))},e),t||pn.EMPTY_NODE):null}{const o=Cg(n.visibleWrites,e);if(null!=o)return o;{const c=df(n.visibleWrites,e);return _R(c)?t:null!=t||mR(c,Gn())?zy(c,t||pn.EMPTY_NODE):null}}}function ED(n,e,t,i){return lG(n.writeTree,n.treePath,e,t,i)}function yR(n,e){return function bZ(n,e,t){let i=pn.EMPTY_NODE;const r=Cg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(bi,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(t){const o=df(n.visibleWrites,e);return t.forEachChild(bi,(c,h)=>{const _=zy(df(o,new Yn(c)),h);i=i.updateImmediateChild(c,_)}),sG(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return sG(df(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function cG(n,e,t,i){return function CZ(n,e,t,i,r){(0,ce.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=ji(e,t);if(mR(n.visibleWrites,o))return null;{const c=df(n.visibleWrites,o);return _R(c)?r.getChild(t):zy(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function TD(n,e){return function EZ(n,e){return Cg(n.visibleWrites,e)}(n.writeTree,ji(n.treePath,e))}function vR(n,e,t){return function wZ(n,e,t,i){const r=ji(e,t),o=Cg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?zy(df(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function uG(n,e){return dG(ji(n.treePath,e),n.writeTree)}function dG(n,e){return{treePath:n,writeTree:e}}class DZ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,ce.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ce.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,CC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,bC(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,Gy(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,ce.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,CC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const hG=new class AZ{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class bR{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new uf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vR(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bg(this.viewCache_),o=function IZ(n,e,t,i,r,o){return function TZ(n,e,t,i,r,o,c){let h;const _=df(n.visibleWrites,e),w=Cg(_,Gn());if(null!=w)h=w;else{if(null==t)return[];h=zy(_,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const S=[],k=c.getCompare(),K=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let ne=K.getNext();for(;ne&&S.length<r;)0!==k(ne,i)&&S.push(ne),ne=K.getNext();return S}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function fG(n,e,t,i,r,o){const c=e.eventCache;if(null!=TD(i,t))return e;{let h,_;if(wn(t))if((0,ce.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const w=bg(e),k=yR(i,w instanceof pn?w:pn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),k,o)}else{const w=ED(i,bg(e));h=n.filter.updateFullNode(e.eventCache.getNode(),w,o)}else{const w=Cn(t);if(".priority"===w){(0,ce.hu)(1===cf(t),"Can't have a priority with additional path components");const S=c.getNode();_=e.serverCache.getNode();const k=cG(i,t,S,_);h=null!=k?n.filter.updatePriority(S,k):c.getNode()}else{const S=_i(t);let k;if(c.isCompleteForChild(w)){_=e.serverCache.getNode();const K=cG(i,t,c.getNode(),_);k=null!=K?c.getNode().getImmediateChild(w).updateChild(S,K):c.getNode().getImmediateChild(w)}else k=vR(i,w,e.serverCache);h=null!=k?n.filter.updateChild(c.getNode(),w,k,S,r,o):c.getNode()}}return SC(e,h,c.isFullyInitialized()||wn(t),n.filter.filtersNodes())}}function SD(n,e,t,i,r,o,c,h){const _=e.serverCache;let w;const S=c?n.filter:n.filter.getIndexedFilter();if(wn(t))w=S.updateFullNode(_.getNode(),i,null);else if(S.filtersNodes()&&!_.isFiltered()){const ne=_.getNode().updateChild(t,i);w=S.updateFullNode(_.getNode(),ne,null)}else{const ne=Cn(t);if(!_.isCompleteForPath(t)&&cf(t)>1)return e;const ue=_i(t),xe=_.getNode().getImmediateChild(ne).updateChild(ue,i);w=".priority"===ne?S.updatePriority(_.getNode(),xe):S.updateChild(_.getNode(),ne,xe,ue,hG,null)}const k=iG(e,w,_.isFullyInitialized()||wn(t),S.filtersNodes());return fG(n,k,t,r,new bR(r,k,o),h)}function CR(n,e,t,i,r,o,c){const h=e.eventCache;let _,w;const S=new bR(r,e,o);if(wn(t))w=n.filter.updateFullNode(e.eventCache.getNode(),i,c),_=SC(e,w,!0,n.filter.filtersNodes());else{const k=Cn(t);if(".priority"===k)w=n.filter.updatePriority(e.eventCache.getNode(),i),_=SC(e,w,h.isFullyInitialized(),h.isFiltered());else{const K=_i(t),ne=h.getNode().getImmediateChild(k);let ue;if(wn(K))ue=i;else{const Ce=S.getCompleteChild(k);ue=null!=Ce?".priority"===QO(K)&&Ce.getChild(BH(K)).isEmpty()?Ce:Ce.updateChild(K,i):pn.EMPTY_NODE}_=ne.equals(ue)?e:SC(e,n.filter.updateChild(h.getNode(),k,ue,K,S,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return _}function pG(n,e){return n.eventCache.isCompleteForChild(e)}function gG(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function wR(n,e,t,i,r,o,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let w,_=e;w=wn(t)?i:new Ci(null).setTree(t,i);const S=e.serverCache.getNode();return w.children.inorderTraversal((k,K)=>{if(S.hasChild(k)){const ue=gG(0,e.serverCache.getNode().getImmediateChild(k),K);_=SD(n,_,new Yn(k),ue,r,o,c,h)}}),w.children.inorderTraversal((k,K)=>{const ne=!e.serverCache.isCompleteForChild(k)&&void 0===K.value;if(!S.hasChild(k)&&!ne){const Ce=gG(0,e.serverCache.getNode().getImmediateChild(k),K);_=SD(n,_,new Yn(k),Ce,r,o,c,h)}}),_}class LZ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new oR(i.getIndex()),o=function Qq(n){return n.loadsAllData()?new oR(n.getIndex()):n.hasLimit()?new Yq(n):new wC(n)}(i);this.processor_=function xZ(n){return{filter:n}}(o);const c=t.serverCache,h=t.eventCache,_=r.updateFullNode(pn.EMPTY_NODE,c.getNode(),null),w=o.updateFullNode(pn.EMPTY_NODE,h.getNode(),null),S=new uf(_,c.isFullyInitialized(),r.filtersNodes()),k=new uf(w,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=bD(k,S),this.eventGenerator_=new lZ(this.query_)}get query(){return this.query_}}function UZ(n,e){const t=bg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!wn(e)&&!t.getImmediateChild(Cn(e)).isEmpty())?t.getChild(e):null}function mG(n){return 0===n.eventRegistrations_.length}function _G(n,e,t){const i=[];if(t){(0,ce.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function yG(n,e,t,i){e.type===cl.MERGE&&null!==e.source.queryId&&((0,ce.hu)(bg(n.viewCache_),"We should always have a full cache before handling merges"),(0,ce.hu)(CD(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function PZ(n,e,t,i,r){const o=new DZ;let c,h;if(t.type===cl.OVERWRITE){const w=t;w.source.fromUser?c=CR(n,e,w.path,w.snap,i,r,o):((0,ce.hu)(w.source.fromServer,"Unknown source."),h=w.source.tagged||e.serverCache.isFiltered()&&!wn(w.path),c=SD(n,e,w.path,w.snap,i,r,h,o))}else if(t.type===cl.MERGE){const w=t;w.source.fromUser?c=function kZ(n,e,t,i,r,o,c){let h=e;return i.foreach((_,w)=>{const S=ji(t,_);pG(e,Cn(S))&&(h=CR(n,h,S,w,r,o,c))}),i.foreach((_,w)=>{const S=ji(t,_);pG(e,Cn(S))||(h=CR(n,h,S,w,r,o,c))}),h}(n,e,w.path,w.children,i,r,o):((0,ce.hu)(w.source.fromServer,"Unknown source."),h=w.source.tagged||e.serverCache.isFiltered(),c=wR(n,e,w.path,w.children,i,r,h,o))}else if(t.type===cl.ACK_USER_WRITE){const w=t;c=w.revert?function FZ(n,e,t,i,r,o){let c;if(null!=TD(i,t))return e;{const h=new bR(i,e,r),_=e.eventCache.getNode();let w;if(wn(t)||".priority"===Cn(t)){let S;if(e.serverCache.isFullyInitialized())S=ED(i,bg(e));else{const k=e.serverCache.getNode();(0,ce.hu)(k instanceof pn,"serverChildren would be complete if leaf node"),S=yR(i,k)}w=n.filter.updateFullNode(_,S,o)}else{const S=Cn(t);let k=vR(i,S,e.serverCache);null==k&&e.serverCache.isCompleteForChild(S)&&(k=_.getImmediateChild(S)),w=null!=k?n.filter.updateChild(_,S,k,_i(t),h,o):e.eventCache.getNode().hasChild(S)?n.filter.updateChild(_,S,pn.EMPTY_NODE,_i(t),h,o):_,w.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=ED(i,bg(e)),c.isLeafNode()&&(w=n.filter.updateFullNode(w,c,o)))}return c=e.serverCache.isFullyInitialized()||null!=TD(i,Gn()),SC(e,w,c,n.filter.filtersNodes())}}(n,e,w.path,i,r,o):function OZ(n,e,t,i,r,o,c){if(null!=TD(r,t))return e;const h=e.serverCache.isFiltered(),_=e.serverCache;if(null!=i.value){if(wn(t)&&_.isFullyInitialized()||_.isCompleteForPath(t))return SD(n,e,t,_.getNode().getChild(t),r,o,h,c);if(wn(t)){let w=new Ci(null);return _.getNode().forEachChild(au,(S,k)=>{w=w.set(new Yn(S),k)}),wR(n,e,t,w,r,o,h,c)}return e}{let w=new Ci(null);return i.foreach((S,k)=>{const K=ji(t,S);_.isCompleteForPath(K)&&(w=w.set(S,_.getNode().getChild(K)))}),wR(n,e,t,w,r,o,h,c)}}(n,e,w.path,w.affectedTree,i,r,o)}else{if(t.type!==cl.LISTEN_COMPLETE)throw(0,ce.g5)("Unknown operation type: "+t.type);c=function RZ(n,e,t,i,r){const o=e.serverCache;return fG(n,iG(e,o.getNode(),o.isFullyInitialized()||wn(t),o.isFiltered()),t,i,hG,r)}(n,e,t.path,i,o)}const _=o.getChanges();return function NZ(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=CD(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(XH(CD(e)))}}(e,c,_),{viewCache:c,changes:_}}(n.processor_,r,e,t,i);return function MZ(n,e){(0,ce.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ce.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ce.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,vG(n,o.changes,o.viewCache.eventCache.getNode(),null)}function vG(n,e,t,i){return function cZ(n,e,t,i){const r=[],o=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function Kq(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),TC(n,r,"child_removed",e,i,t),TC(n,r,"child_added",e,i,t),TC(n,r,"child_moved",o,i,t),TC(n,r,"child_changed",e,i,t),TC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let ID,AD;class bG{constructor(){this.views=new Map}}function ER(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ce.hu)(null!=o,"SyncTree gave us an op for an invalid query."),yG(o,e,t,i)}{let o=[];for(const c of n.views.values())o=o.concat(yG(c,e,t,i));return o}}function TR(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=ED(t,r?i:null),_=!1;h?_=!0:i instanceof pn?(h=yR(t,i),_=!1):(h=pn.EMPTY_NODE,_=!1);const w=bD(new uf(h,_,!1),new uf(i,r,!1));return new LZ(e,w)}return c}function CG(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function hf(n,e){let t=null;for(const i of n.views.values())t=t||UZ(i,e);return t}function wG(n,e){return e._queryParams.loadsAllData()?DD(n):n.views.get(e._queryIdentifier)}function EG(n,e){return null!=wG(n,e)}function ff(n){return null!=DD(n)}function DD(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let YZ=1;class TG{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ci(null),this.pendingWriteTree_=function SZ(){return{visibleWrites:ac.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SR(n,e,t,i,r){return function fZ(n,e,t,i,r){(0,ce.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=IC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Wy(n,new vg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function pf(n,e,t=!1){const i=function gZ(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function mZ(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,ce.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&_Z(h,i.path)?r=!1:ll(i.path,h.path)&&(o=!0)),c--}return!!r&&(o?(function yZ(n){n.visibleWrites=aG(n.allWrites,vZ,Gn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=rG(n.visibleWrites,i.path):Kr(i.children,_=>{n.visibleWrites=rG(n.visibleWrites,ji(i.path,_))}),!0))}(n.pendingWriteTree_,e)){let o=new Ci(null);return null!=i.snap?o=o.set(Gn(),!0):Kr(i.children,c=>{o=o.set(new Yn(c),!0)}),Wy(n,new vD(i.path,o,t))}return[]}function DC(n,e,t){return Wy(n,new vg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function xD(n,e,t,i){const r=e._path,o=n.syncPointTree_.get(r);let c=[];if(o&&("default"===e._queryIdentifier||EG(o,e))){const h=function qZ(n,e,t,i){const r=e._queryIdentifier,o=[];let c=[];const h=ff(n);if("default"===r)for(const[_,w]of n.views.entries())c=c.concat(_G(w,t,i)),mG(w)&&(n.views.delete(_),w.query._queryParams.loadsAllData()||o.push(w.query));else{const _=n.views.get(r);_&&(c=c.concat(_G(_,t,i)),mG(_)&&(n.views.delete(r),_.query._queryParams.loadsAllData()||o.push(_.query)))}return h&&!ff(n)&&o.push(new(function $Z(){return(0,ce.hu)(ID,"Reference.ts has not been loaded"),ID}())(e._repo,e._path)),{removed:o,events:c}}(o,e,t,i);(function zZ(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const _=h.removed;c=h.events;const w=-1!==_.findIndex(k=>k._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(r,(k,K)=>ff(K));if(w&&!S){const k=n.syncPointTree_.subtree(r);if(!k.isEmpty()){const K=function r7(n){return n.fold((e,t,i)=>{if(t&&ff(t))return[DD(t)];{let r=[];return t&&(r=CG(t)),Kr(i,(o,c)=>{r=r.concat(c)}),r}})}(k);for(let ne=0;ne<K.length;++ne){const ue=K[ne],Ce=ue.query,xe=MG(n,ue);n.listenProvider_.startListening(xC(Ce),AC(n,Ce),xe.hashFn,xe.onComplete)}}}!S&&_.length>0&&!i&&(w?n.listenProvider_.stopListening(xC(e),null):_.forEach(k=>{const K=n.queryToTagMap.get(PD(k));n.listenProvider_.stopListening(xC(k),K)})),function s7(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=PD(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,_)}return c}function SG(n,e,t,i){const r=IR(n,i);if(null!=r){const o=DR(r),c=o.path,h=o.queryId,_=Ks(c,e);return AR(n,c,new vg(fR(h),_,t))}return[]}function IG(n,e){const t=n._path;let i=null,r=!1;e.syncPointTree_.foreachOnPath(t,(w,S)=>{const k=Ks(w,t);i=i||hf(S,k),r=r||ff(S)});let c,o=e.syncPointTree_.get(t);o?(r=r||ff(o),i=i||hf(o,Gn())):(o=new bG,e.syncPointTree_=e.syncPointTree_.set(t,o)),null!=i?c=!0:(c=!1,i=pn.EMPTY_NODE,e.syncPointTree_.subtree(t).foreachChild((S,k)=>{const K=hf(k,Gn());K&&(i=i.updateImmediateChild(S,K))}));const h=EG(o,n);if(!h&&!n._queryParams.loadsAllData()){const w=PD(n);(0,ce.hu)(!e.queryToTagMap.has(w),"View does not exist, but we have a tag");const S=function o7(){return YZ++}();e.queryToTagMap.set(w,S),e.tagToQueryMap.set(S,w)}return{syncPoint:o,writesCache:wD(e.pendingWriteTree_,t),serverCache:i,serverCacheComplete:c,foundAncestorDefaultView:r,viewAlreadyExists:h}}function DG(n,e,t){const{syncPoint:i,serverCache:r,writesCache:o,serverCacheComplete:c,viewAlreadyExists:h,foundAncestorDefaultView:_}=IG(e,n);let w=function WZ(n,e,t,i,r,o){const c=TR(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function HZ(n,e){n.eventRegistrations_.push(e)}(c,t),function GZ(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(bi,(o,c)=>{i.push(Gy(o,c))}),t.isFullyInitialized()&&i.push(XH(t.getNode())),vG(n,i,t.getNode(),e)}(c,t)}(i,e,t,o,r,c);if(!h&&!_){const S=wG(i,e);w=w.concat(function a7(n,e,t){const i=e._path,r=AC(n,e),o=MG(n,t),c=n.listenProvider_.startListening(xC(e),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,ce.hu)(!ff(h.value),"If we're adding a query, it shouldn't be shadowed");else{const _=h.fold((w,S,k)=>{if(!wn(w)&&S&&ff(S))return[DD(S).query];{let K=[];return S&&(K=K.concat(CG(S).map(ne=>ne.query))),Kr(k,(ne,ue)=>{K=K.concat(ue)}),K}});for(let w=0;w<_.length;++w){const S=_[w];n.listenProvider_.stopListening(xC(S),AC(n,S))}}return c}(n,e,S))}return w}function MD(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(c,h)=>{const w=hf(h,Ks(c,e));if(w)return w});return lG(r,e,o,t,!0)}function Wy(n,e){return AG(e,n.syncPointTree_,null,wD(n.pendingWriteTree_,Gn()))}function AG(n,e,t,i){if(wn(n.path))return xG(n,e,t,i);{const r=e.get(Gn());null==t&&null!=r&&(t=hf(r,Gn()));let o=[];const c=Cn(n.path),h=n.operationForChild(c),_=e.children.get(c);if(_&&h){const w=t?t.getImmediateChild(c):null,S=uG(i,c);o=o.concat(AG(h,_,w,S))}return r&&(o=o.concat(ER(r,n,i,t))),o}}function xG(n,e,t,i){const r=e.get(Gn());null==t&&null!=r&&(t=hf(r,Gn()));let o=[];return e.children.inorderTraversal((c,h)=>{const _=t?t.getImmediateChild(c):null,w=uG(i,c),S=n.operationForChild(c);S&&(o=o.concat(xG(S,h,_,w)))}),r&&(o=o.concat(ER(r,n,i,t))),o}function MG(n,e){const t=e.query,i=AC(n,t);return{hashFn:()=>(function VZ(n){return n.viewCache_.serverCache.getNode()}(e)||pn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function e7(n,e,t){const i=IR(n,t);if(i){const r=DR(i),o=r.path,c=r.queryId,h=Ks(o,e);return AR(n,o,new EC(fR(c),h))}return[]}(n,t._path,i):function XZ(n,e){return Wy(n,new EC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function J8(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return xD(n,t,null,o)}}}}function AC(n,e){const t=PD(e);return n.queryToTagMap.get(t)}function PD(n){return n._path.toString()+"$"+n._queryIdentifier}function IR(n,e){return n.tagToQueryMap.get(e)}function DR(n){const e=n.indexOf("$");return(0,ce.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Yn(n.substr(0,e))}}function AR(n,e,t){const i=n.syncPointTree_.get(e);return(0,ce.hu)(i,"Missing sync point for query tag that we're tracking"),ER(i,t,wD(n.pendingWriteTree_,e),null)}function xC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function KZ(){return(0,ce.hu)(AD,"Reference.ts has not been loaded"),AD}())(n._repo,n._path):n}class xR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new xR(t)}node(){return this.node_}}class MR{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ji(this.path_,e);return new MR(this.syncTree_,t)}node(){return MD(this.syncTree_,this.path_)}}const PG=function(n,e,t){return n&&"object"==typeof n?((0,ce.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?c7(n[".sv"],e,t):"object"==typeof n[".sv"]?u7(n[".sv"],e):void(0,ce.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},c7=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ce.hu)(!1,"Unexpected server value: "+n)},u7=function(n,e,t){n.hasOwnProperty("increment")||(0,ce.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ce.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,ce.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},NG=function(n,e,t,i){return NR(e,new MR(t,n),i)},PR=function(n,e,t){return NR(n,new xR(e),t)};function NR(n,e,t){const i=n.getPriority().val(),r=PG(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const c=n,h=PG(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new By(h,er(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new By(r))),c.forEachChild(bi,(h,_)=>{const w=NR(_,e.getImmediateChild(h),t);w!==_&&(o=o.updateImmediateChild(h,w))}),o}}class kR{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function ND(n,e){let t=e instanceof Yn?e:new Yn(e),i=n,r=Cn(t);for(;null!==r;){const o=(0,ce.DV)(i.node.children,r)||{children:{},childCount:0};i=new kR(r,i,o),t=_i(t),r=Cn(t)}return i}function wg(n){return n.node.value}function OR(n,e){n.node.value=e,RR(n)}function kG(n){return n.node.childCount>0}function kD(n,e){Kr(n.node.children,(t,i)=>{e(new kR(t,n,i))})}function OG(n,e,t,i){t&&!i&&e(n),kD(n,r=>{OG(r,e,!0,i)}),t&&i&&e(n)}function MC(n){return new Yn(null===n.parent?n.name:MC(n.parent)+"/"+n.name)}function RR(n){null!==n.parent&&function f7(n,e,t){const i=function d7(n){return void 0===wg(n)&&!kG(n)}(t),r=(0,ce.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,RR(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,RR(n))}(n.parent,n.name,n)}const p7=/[\[\].#$\/\u0000-\u001F\u007F]/,g7=/[\[\].#$\u0000-\u001F\u007F]/,FR=10485760,OD=function(n){return"string"==typeof n&&0!==n.length&&!p7.test(n)},RG=function(n){return"string"==typeof n&&0!==n.length&&!g7.test(n)},PC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!oD(n)||n&&"object"==typeof n&&(0,ce.r3)(n,".sv")},lu=function(n,e,t,i){i&&void 0===e||NC((0,ce.gK)(n,"value"),e,t)},NC=function(n,e,t){const i=t instanceof Yn?new xq(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+_g(i));if("function"==typeof e)throw new Error(n+"contains a function "+_g(i)+" with contents = "+e.toString());if(oD(e))throw new Error(n+"contains "+e.toString()+" "+_g(i));if("string"==typeof e&&e.length>FR/3&&(0,ce.ug)(e)>FR)throw new Error(n+"contains a string greater than "+FR+" utf8 bytes "+_g(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Kr(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!OD(c)))throw new Error(n+" contains an invalid key ("+c+") "+_g(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Mq(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ce.ug)(e),UH(n)})(i,c),NC(n,h,i),function Pq(n){const e=n.parts_.pop();n.byteLength_-=(0,ce.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+_g(i)+" in addition to actual children.")}},FG=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,ce.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];Kr(e,(c,h)=>{const _=new Yn(c);if(NC(r,h,ji(t,_)),".priority"===QO(_)&&!PC(h))throw new Error(r+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(_)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=mC(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!OD(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Aq);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&ll(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},LR=function(n,e,t){if(!t||void 0!==e){if(oD(e))throw new Error((0,ce.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!PC(e))throw new Error((0,ce.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},kC=function(n,e,t,i){if(!(i&&void 0===t||OD(t)))throw new Error((0,ce.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},OC=function(n,e,t,i){if(!(i&&void 0===t||RG(t)))throw new Error((0,ce.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ul=function(n,e){if(".info"===Cn(e))throw new Error(n+" failed = Can't modify data under /.info/")},LG=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!OD(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),RG(n)}(t))throw new Error((0,ce.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class v7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function RD(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!JO(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function VG(n,e,t){RD(n,t),BG(n,i=>JO(i,e))}function dl(n,e,t){RD(n,t),BG(n,i=>ll(i,e)||ll(e,i))}function BG(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(b7(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function b7(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();gg&&Zr("event: "+t.toString()),Ly(i)}}}const UG="repo_interrupt";class w7{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yD(),this.transactionQueueTree_=new kR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HG(n){const t=n.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function RC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:HG(n)})}function GG(n,e,t,i,r){n.dataUpdateCount++;const o=new Yn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const _=(0,ce.UI)(t,w=>er(w));c=function n7(n,e,t,i){const r=IR(n,i);if(r){const o=DR(r),c=o.path,h=o.queryId,_=Ks(c,e),w=Ci.fromObject(t);return AR(n,c,new $y(fR(h),_,w))}return[]}(n.serverSyncTree_,o,_,r)}else{const _=er(t);c=SG(n.serverSyncTree_,o,_,r)}else if(i){const _=(0,ce.UI)(t,w=>er(w));c=function JZ(n,e,t){const i=Ci.fromObject(t);return Wy(n,new $y({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,_)}else{const _=er(t);c=DC(n.serverSyncTree_,o,_)}let h=o;c.length>0&&(h=qy(n,o)),dl(n.eventQueue_,h,c)}function jG(n,e){VR(n,"connected",e),!1===e&&function D7(n){Eg(n,"onDisconnectEvents");const e=RC(n),t=yD();uR(n.onDisconnect_,Gn(),(r,o)=>{const c=NG(r,o,n.serverSyncTree_,e);jy(t,r,c)});let i=[];uR(t,Gn(),(r,o)=>{i=i.concat(DC(n.serverSyncTree_,r,o));const c=GR(n,r);qy(n,c)}),n.onDisconnect_=yD(),dl(n.eventQueue_,Gn(),i)}(n)}function VR(n,e,t){const i=new Yn("/.info/"+e),r=er(t);n.infoData_.updateSnapshot(i,r);const o=DC(n.infoSyncTree_,i,r);dl(n.eventQueue_,i,o)}function FD(n){return n.nextWriteId_++}function S7(n,e){const t=function i7(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(w,S)=>{const k=Ks(w,t);i=i||hf(S,k)});let r=n.syncPointTree_.get(t);r?i=i||hf(r,Gn()):(r=new bG,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=null!=i,c=o?new uf(i,!0,!1):null;return function BZ(n){return CD(n.viewCache_)}(TR(r,e,wD(n.pendingWriteTree_,e._path),o?c.getNode():pn.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=er(i).withIndex(e._queryParams.getIndex());if(e._queryParams.loadsAllData())DC(n.serverSyncTree_,e._path,r);else{const c=function t7(n,e){const{syncPoint:t,serverCache:i,writesCache:r,serverCacheComplete:o}=IG(e,n),c=TR(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),e._queryParams.loadsAllData()?null:AC(n,e)}(n.serverSyncTree_,e);SG(n.serverSyncTree_,e._path,r,c)}return xD(n.serverSyncTree_,e,null).length>0&&Eg(n,"unexpected cancel events in repoGetValue"),r},i=>(Eg(n,"get for query "+(0,ce.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}function BR(n,e,t,i,r){Eg(n,"set",{path:e.toString(),value:t,priority:i});const o=RC(n),c=er(t,i),h=MD(n.serverSyncTree_,e),_=PR(c,h,o),w=FD(n),S=SR(n.serverSyncTree_,e,_,w,!0);RD(n.eventQueue_,S),n.server_.put(e.toString(),c.val(!0),(K,ne)=>{const ue="ok"===K;ue||Ts("set at "+e+" failed: "+K);const Ce=pf(n.serverSyncTree_,w,!ue);dl(n.eventQueue_,e,Ce),gf(0,r,K,ne)});const k=GR(n,e);qy(n,k),dl(n.eventQueue_,k,[])}function A7(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&cR(n.onDisconnect_,e),gf(0,t,i,r)})}function $G(n,e,t,i){const r=er(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(o,c)=>{"ok"===o&&jy(n.onDisconnect_,e,r),gf(0,i,o,c)})}function UR(n,e,t){let i;i=".info"===Cn(e._path)?xD(n.infoSyncTree_,e,t):xD(n.serverSyncTree_,e,t),VG(n.eventQueue_,e._path,i)}function zG(n){n.persistentConnection_&&n.persistentConnection_.interrupt(UG)}function Eg(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Zr(t,...e)}function gf(n,e,t,i){e&&Ly(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,e(c)}})}function HR(n,e,t){return MD(n.serverSyncTree_,e,t)||pn.EMPTY_NODE}function LD(n,e=n.transactionQueueTree_){if(e||VD(n,e),wg(e)){const t=qG(n,e);(0,ce.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function O7(n,e,t){const i=t.map(w=>w.currentWriteId),r=HR(n,e,i);let o=r;const c=r.hash();for(let w=0;w<t.length;w++){const S=t[w];(0,ce.hu)(0===S.status,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const k=Ks(e,S.path);o=o.updateChild(k,S.currentOutputSnapshotRaw)}const h=o.val(!0),_=e;n.server_.put(_.toString(),h,w=>{Eg(n,"transaction put response",{path:_.toString(),status:w});let S=[];if("ok"===w){const k=[];for(let K=0;K<t.length;K++)t[K].status=2,S=S.concat(pf(n.serverSyncTree_,t[K].currentWriteId)),t[K].onComplete&&k.push(()=>t[K].onComplete(null,!0,t[K].currentOutputSnapshotResolved)),t[K].unwatcher();VD(n,ND(n.transactionQueueTree_,e)),LD(n,n.transactionQueueTree_),dl(n.eventQueue_,e,S);for(let K=0;K<k.length;K++)Ly(k[K])}else{if("datastale"===w)for(let k=0;k<t.length;k++)t[k].status=3===t[k].status?4:0;else{Ts("transaction at "+_.toString()+" failed: "+w);for(let k=0;k<t.length;k++)t[k].status=4,t[k].abortReason=w}qy(n,e)}},c)}(n,MC(e),t)}else kG(e)&&kD(e,t=>{LD(n,t)})}function qy(n,e){const t=WG(n,e),i=MC(t);return function R7(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const _=e[h],w=Ks(t,_.path);let k,S=!1;if((0,ce.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)S=!0,k=_.abortReason,r=r.concat(pf(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)S=!0,k="maxretry",r=r.concat(pf(n.serverSyncTree_,_.currentWriteId,!0));else{const K=HR(n,_.path,c);_.currentInputSnapshot=K;const ne=e[h].update(K.val());if(void 0!==ne){NC("transaction failed: Data returned ",ne,_.path);let ue=er(ne);"object"==typeof ne&&null!=ne&&(0,ce.r3)(ne,".priority")||(ue=ue.updatePriority(K.getPriority()));const xe=_.currentWriteId,He=RC(n),We=PR(ue,K,He);_.currentOutputSnapshotRaw=ue,_.currentOutputSnapshotResolved=We,_.currentWriteId=FD(n),c.splice(c.indexOf(xe),1),r=r.concat(SR(n.serverSyncTree_,_.path,We,_.currentWriteId,_.applyLocally)),r=r.concat(pf(n.serverSyncTree_,xe,!0))}else S=!0,k="nodata",r=r.concat(pf(n.serverSyncTree_,_.currentWriteId,!0))}dl(n.eventQueue_,t,r),r=[],S&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===k?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(k),!1,null)))}VD(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Ly(i[h]);LD(n,n.transactionQueueTree_)}(n,qG(n,t),i),i}function WG(n,e){let t,i=n.transactionQueueTree_;for(t=Cn(e);null!==t&&void 0===wg(i);)i=ND(i,t),t=Cn(e=_i(e));return i}function qG(n,e){const t=[];return ZG(n,e,t),t.sort((i,r)=>i.order-r.order),t}function ZG(n,e,t){const i=wg(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);kD(e,r=>{ZG(n,r,t)})}function VD(n,e){const t=wg(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,OR(e,t.length>0?t:void 0)}kD(e,i=>{VD(n,i)})}function GR(n,e){const t=MC(WG(n,e)),i=ND(n.transactionQueueTree_,e);return function h7(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{jR(n,r)}),jR(n,i),OG(i,r=>{jR(n,r)}),t}function jR(n,e){const t=wg(e);if(t){const i=[];let r=[],o=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,ce.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,t[c].status=3,t[c].abortReason="set"):((0,ce.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(pf(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?OR(e,void 0):t.length=o+1,dl(n.eventQueue_,MC(e),r);for(let c=0;c<i.length;c++)Ly(i[c])}}const $R=function(n,e){const t=V7(n),i=t.namespace;return"firebase.com"===t.domain&&su(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&su("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ts("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Yn(t.pathString)}},V7=function(n){let e="",t="",i="",r="",o="",c=!0,h="https",_=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(h=n.substring(0,w-1),n=n.substring(w+2));let S=n.indexOf("/");-1===S&&(S=n.length);let k=n.indexOf("?");-1===k&&(k=n.length),e=n.substring(0,Math.min(S,k)),S<k&&(r=function F7(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(S,k)));const K=function L7(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ts(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,k)));w=e.indexOf(":"),w>=0?(c="https"===h||"wss"===h,_=parseInt(e.substring(w+1),10)):w=e.length;const ne=e.slice(0,w);if("localhost"===ne.toLowerCase())t="localhost";else if(ne.split(".").length<=2)t=ne;else{const ue=e.indexOf(".");i=e.substring(0,ue).toLowerCase(),t=e.substring(ue+1),o=i}"ns"in K&&(o=K.ns)}return{host:e,port:_,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}};class KG{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ce.Pz)(this.snapshot.exportVal())}}class YG{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class QG{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,ce.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class JG{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new ce.BH;return A7(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ul("OnDisconnect.remove",this._path);const e=new ce.BH;return $G(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ul("OnDisconnect.set",this._path),lu("OnDisconnect.set",e,this._path,!1);const t=new ce.BH;return $G(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ul("OnDisconnect.setWithPriority",this._path),lu("OnDisconnect.setWithPriority",e,this._path,!1),LR("OnDisconnect.setWithPriority",t,!1);const i=new ce.BH;return function x7(n,e,t,i,r){const o=er(t,i);n.server_.onDisconnectPut(e.toString(),o.val(!0),(c,h)=>{"ok"===c&&jy(n.onDisconnect_,e,o),gf(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){ul("OnDisconnect.update",this._path),FG("OnDisconnect.update",e,this._path,!1);const t=new ce.BH;return function M7(n,e,t,i){if((0,ce.xb)(t))return Zr("onDisconnect().update() called with empty data.  Don't do anything."),void gf(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,o)=>{"ok"===r&&Kr(t,(c,h)=>{const _=er(h);jy(n.onDisconnect_,ji(e,c),_)}),gf(0,i,r,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ao{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return wn(this._path)?null:QO(this._path)}get ref(){return new hl(this._repo,this._path)}get _queryIdentifier(){const e=tG(this._queryParams),t=GO(e);return"{}"===t?"default":t}get _queryObject(){return tG(this._queryParams)}isEqual(e){if(!((e=(0,ce.m9)(e))instanceof Ao))return!1;const t=this._repo===e._repo,i=JO(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Dq(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function BD(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function mf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===au){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Dd)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ou)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===bi){if(null!=e&&!PC(e)||null!=t&&!PC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ce.hu)(n.getIndex()instanceof iR||n.getIndex()===rR,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function UD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hl extends Ao{constructor(e,t){super(e,t,new gD,!1)}get parent(){const e=BH(this._path);return null===e?null:new hl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Tg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Yn(e),i=Sg(this.ref,e);return new Tg(this._node.getChild(t),i,bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Tg(r,Sg(this.ref,i),bi)))}hasChild(e){const t=new Yn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function XG(n,e){return(n=(0,ce.m9)(n))._checkNotDeleted("ref"),void 0!==e?Sg(n._root,e):n._root}function ej(n,e){(n=(0,ce.m9)(n))._checkNotDeleted("refFromURL");const t=$R(e,n._repo.repoInfo_.nodeAdmin);LG("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&su("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),XG(n,t.path.toString())}function Sg(n,e){return null===Cn((n=(0,ce.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OC("child","path",t,!1)):OC("child","path",e,!1),new hl(n._repo,ji(n._path,e));var t}function zR(n,e){n=(0,ce.m9)(n),ul("set",n._path),lu("set",e,n._path,!1);const t=new ce.BH;return BR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function j7(n,e){FG("update",e,n._path,!1);const t=new ce.BH;return function I7(n,e,t,i){Eg(n,"update",{path:e.toString(),value:t});let r=!0;const o=RC(n),c={};if(Kr(t,(h,_)=>{r=!1,c[h]=NG(ji(e,h),er(_),n.serverSyncTree_,o)}),r)Zr("update() called with empty data.  Don't do anything."),gf(0,i,"ok",void 0);else{const h=FD(n),_=function QZ(n,e,t,i){!function pZ(n,e,t,i){(0,ce.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=gR(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Ci.fromObject(t);return Wy(n,new $y({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);RD(n.eventQueue_,_),n.server_.merge(e.toString(),t,(w,S)=>{const k="ok"===w;k||Ts("update at "+e+" failed: "+w);const K=pf(n.serverSyncTree_,h,!k),ne=K.length>0?qy(n,e):e;dl(n.eventQueue_,ne,K),gf(0,i,w,S)}),Kr(t,w=>{const S=GR(n,ji(e,w));qy(n,S)}),dl(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class HD{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new KG("value",this,new Tg(e.snapshotNode,new hl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new YG(this,e,t):null}matches(e){return e instanceof HD&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class GD{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new YG(this,e,t):null}createEvent(e,t){(0,ce.hu)(null!=e.childName,"Child events should have a childName.");const i=Sg(new hl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new KG(e.type,this,new Tg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof GD&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function FC(n,e,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const _=t,w=(S,k)=>{UR(n._repo,n,h),_(S,k)};w.userCallback=t.userCallback,w.context=t.context,t=w}const c=new QG(t,o||void 0),h="value"===e?new HD(c):new GD(e,c);return function P7(n,e,t){let i;i=".info"===Cn(e._path)?DG(n.infoSyncTree_,e,t):DG(n.serverSyncTree_,e,t),VG(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>UR(n._repo,n,h)}function WR(n,e,t,i){return FC(n,"value",e,t,i)}function tj(n,e,t,i){return FC(n,"child_added",e,t,i)}function nj(n,e,t,i){return FC(n,"child_changed",e,t,i)}function ij(n,e,t,i){return FC(n,"child_moved",e,t,i)}function rj(n,e,t,i){return FC(n,"child_removed",e,t,i)}function sj(n,e,t){let i=null;const r=t?new QG(t):null;"value"===e?i=new HD(r):e&&(i=new GD(e,r)),UR(n._repo,n,i)}class lc{}class oj extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){lu("endAt",this._value,e._path,!0);const t=lR(e._queryParams,this._value,this._key);if(UD(t),mf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ao(e._repo,e._path,t,e._orderByCalled)}}class W7 extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){lu("endBefore",this._value,e._path,!1);const t=function tZ(n,e,t){let i,r;return n.index_===au?("string"==typeof e&&(e=JH(e)),r=lR(n,e,t)):(i=null==t?Dd:JH(t),r=lR(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(UD(t),mf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ao(e._repo,e._path,t,e._orderByCalled)}}class aj extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){lu("startAt",this._value,e._path,!0);const t=aR(e._queryParams,this._value,this._key);if(UD(t),mf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ao(e._repo,e._path,t,e._orderByCalled)}}class K7 extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){lu("startAfter",this._value,e._path,!1);const t=function eZ(n,e,t){let i;if(n.index_===au)"string"==typeof e&&(e=QH(e)),i=aR(n,e,t);else{let r;r=null==t?ou:QH(t),i=aR(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(UD(t),mf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ao(e._repo,e._path,t,e._orderByCalled)}}class Q7 extends lc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ao(e._repo,e._path,function Jq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class X7 extends lc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ao(e._repo,e._path,function Xq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class tK extends lc{constructor(e){super(),this._path=e}_apply(e){BD(e,"orderByChild");const t=new Yn(this._path);if(wn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new iR(t),r=mD(e._queryParams,i);return mf(r),new Ao(e._repo,e._path,r,!0)}}class iK extends lc{_apply(e){BD(e,"orderByKey");const t=mD(e._queryParams,au);return mf(t),new Ao(e._repo,e._path,t,!0)}}class sK extends lc{_apply(e){BD(e,"orderByPriority");const t=mD(e._queryParams,bi);return mf(t),new Ao(e._repo,e._path,t,!0)}}class aK extends lc{_apply(e){BD(e,"orderByValue");const t=mD(e._queryParams,rR);return mf(t),new Ao(e._repo,e._path,t,!0)}}class cK extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(lu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oj(this._value,this._key)._apply(new aj(this._value,this._key)._apply(e))}}function cc(n,...e){let t=(0,ce.m9)(n);for(const i of e)t=i._apply(t);return t}(function jZ(n){(0,ce.hu)(!ID,"__referenceConstructor has already been defined"),ID=n})(hl),function ZZ(n){(0,ce.hu)(!AD,"__referenceConstructor has already been defined"),AD=n}(hl);const qR={};function cj(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||su("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,w,c=$R(o,r),h=c.repoInfo;typeof process<"u"&&process.env&&(w=process.env.FIREBASE_DATABASE_EMULATOR_HOST),w?(_=!0,o=`http://${w}?ns=${h.namespace}`,c=$R(o,r),h=c.repoInfo):_=!c.repoInfo.secure;const S=r&&_?new gC(gC.OWNER):new nq(n.name,n.options,e);LG("Invalid Firebase Database URL",c),wn(c.path)||su("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function pK(n,e,t,i){let r=qR[e.name];r||(r={},qR[e.name]=r);let o=r[n.toURLString()];return o&&su("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new w7(n,false,t,i),r[n.toURLString()]=o,o}(h,n,S,new tq(n.name,t));return new mK(k,n)}class mK{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function E7(n,e,t){if(n.stats_=ZO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new _D(n.repoInfo_,(i,r,o,c)=>{GG(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>jG(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ce.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new yg(n.repoInfo_,e,(i,r,o,c)=>{GG(n,i,r,o,c)},i=>{jG(n,i)},i=>{!function T7(n,e){Kr(e,(t,i)=>{VR(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function sq(n,e){const t=n.toString();return qO[t]||(qO[t]=e()),qO[t]}(n.repoInfo_,()=>new aZ(n.stats_,n.server_)),n.infoData_=new nZ,n.infoSyncTree_=new TG({startListening:(i,r,o,c)=>{let h=[];const _=n.infoData_.getNode(i._path);return _.isEmpty()||(h=DC(n.infoSyncTree_,i._path,_),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),VR(n,"connected",!1),n.serverSyncTree_=new TG({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,_)=>{const w=c(h,_);dl(n.eventQueue_,i._path,w)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hl(this._repo,Gn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function fK(n,e){const t=qR[e];(!t||t[n.key]!==n)&&su(`Database ${e}(${n.repoInfo_}) has already been deleted.`),zG(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&su("Cannot call "+e+" on a deleted database.")}}function uj(){DH.IS_TRANSPORT_INITIALIZED&&Ts("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function _K(){uj(),lf.forceDisallow()}function yK(){uj(),Vy.forceDisallow(),lf.forceAllow()}function vK(n=(0,rr.getApp)(),e){return(0,rr._getProvider)(n,"database").getImmediate({identifier:e})}function EK(n,e){aH(n,e)}const SK={".sv":"timestamp"};class AK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}yg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},yg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function TK(n){nH(rr.SDK_VERSION),(0,rr._registerComponent)(new wo.wA("database",(e,{instanceIdentifier:t})=>cj(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,rr.registerVersion)(eH,"0.13.2",n),(0,rr.registerVersion)(eH,"0.13.2","esm2017")}();const NK=new sa.Yd("@firebase/database-compat"),dj=function(n){NK.warn("FIREBASE WARNING: "+n)};class RK{constructor(e){this._delegate=e}cancel(e){(0,ce.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ce.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,ce.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ce.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,ce.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ce.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ce.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ce.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,t){if((0,ce.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,dj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ce.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class FK{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,ce.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _f{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,ce.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ce.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ce.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ce.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,ce.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),OC("DataSnapshot.child","path",e,!1),new _f(this._database,this._delegate.child(e))}hasChild(e){return(0,ce.Dv)("DataSnapshot.hasChild",1,1,arguments.length),OC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,ce.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,ce.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ce.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new _f(this._database,t)))}hasChildren(){return(0,ce.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ce.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ce.Dv)("DataSnapshot.ref",0,0,arguments.length),new fa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class as{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var o;(0,ce.Dv)("Query.on",2,4,arguments.length),(0,ce.Wj)("Query.on","callback",t,!1);const c=as.getCancelAndContextArgs_("Query.on",i,r),h=(w,S)=>{t.call(c.context,new _f(this.database,w),S)};h.userCallback=t,h.context=c.context;const _=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(e){case"value":return WR(this._delegate,h,_),t;case"child_added":return tj(this._delegate,h,_),t;case"child_removed":return rj(this._delegate,h,_),t;case"child_changed":return nj(this._delegate,h,_),t;case"child_moved":return ij(this._delegate,h,_),t;default:throw new Error((0,ce.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,ce.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ce.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,ce.Wj)("Query.off","callback",t,!0),(0,ce.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,sj(this._delegate,e,r)}else sj(this._delegate,e)}get(){return function $7(n){return S7((n=(0,ce.m9)(n))._repo,n).then(e=>new Tg(e,new hl(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(e=>new _f(this.database,e))}once(e,t,i,r){(0,ce.Dv)("Query.once",1,4,arguments.length),(0,ce.Wj)("Query.once","callback",t,!0);const o=as.getCancelAndContextArgs_("Query.once",i,r),c=new ce.BH,h=(w,S)=>{const k=new _f(this.database,w);t&&t.call(o.context,k,S),c.resolve(k)};h.userCallback=t,h.context=o.context;const _=w=>{o.cancel&&o.cancel.call(o.context,w),c.reject(w)};switch(e){case"value":WR(this._delegate,h,_,{onlyOnce:!0});break;case"child_added":tj(this._delegate,h,_,{onlyOnce:!0});break;case"child_removed":rj(this._delegate,h,_,{onlyOnce:!0});break;case"child_changed":nj(this._delegate,h,_,{onlyOnce:!0});break;case"child_moved":ij(this._delegate,h,_,{onlyOnce:!0});break;default:throw new Error((0,ce.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,ce.Dv)("Query.limitToFirst",1,1,arguments.length),new as(this.database,cc(this._delegate,function J7(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Q7(n)}(e)))}limitToLast(e){return(0,ce.Dv)("Query.limitToLast",1,1,arguments.length),new as(this.database,cc(this._delegate,function eK(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new X7(n)}(e)))}orderByChild(e){return(0,ce.Dv)("Query.orderByChild",1,1,arguments.length),new as(this.database,cc(this._delegate,function nK(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return OC("orderByChild","path",n,!1),new tK(n)}(e)))}orderByKey(){return(0,ce.Dv)("Query.orderByKey",0,0,arguments.length),new as(this.database,cc(this._delegate,function rK(){return new iK}()))}orderByPriority(){return(0,ce.Dv)("Query.orderByPriority",0,0,arguments.length),new as(this.database,cc(this._delegate,function oK(){return new sK}()))}orderByValue(){return(0,ce.Dv)("Query.orderByValue",0,0,arguments.length),new as(this.database,cc(this._delegate,function lK(){return new aK}()))}startAt(e=null,t){return(0,ce.Dv)("Query.startAt",0,2,arguments.length),new as(this.database,cc(this._delegate,function Z7(n=null,e){return kC("startAt","key",e,!0),new aj(n,e)}(e,t)))}startAfter(e=null,t){return(0,ce.Dv)("Query.startAfter",0,2,arguments.length),new as(this.database,cc(this._delegate,function Y7(n,e){return kC("startAfter","key",e,!0),new K7(n,e)}(e,t)))}endAt(e=null,t){return(0,ce.Dv)("Query.endAt",0,2,arguments.length),new as(this.database,cc(this._delegate,function z7(n,e){return kC("endAt","key",e,!0),new oj(n,e)}(e,t)))}endBefore(e=null,t){return(0,ce.Dv)("Query.endBefore",0,2,arguments.length),new as(this.database,cc(this._delegate,function q7(n,e){return kC("endBefore","key",e,!0),new W7(n,e)}(e,t)))}equalTo(e,t){return(0,ce.Dv)("Query.equalTo",1,2,arguments.length),new as(this.database,cc(this._delegate,function uK(n,e){return kC("equalTo","key",e,!0),new cK(n,e)}(e,t)))}toString(){return(0,ce.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ce.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,ce.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof as))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,ce.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,ce.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,ce.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new fa(this.database,new hl(this._delegate._repo,this._delegate._path))}}class fa extends as{constructor(e,t){super(e,new Ao(t._repo,t._path,new gD,!1)),this.database=e,this._delegate=t}getKey(){return(0,ce.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,ce.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new fa(this.database,Sg(this._delegate,e))}getParent(){(0,ce.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new fa(this.database,e):null}getRoot(){return(0,ce.Dv)("Reference.root",0,0,arguments.length),new fa(this.database,this._delegate.root)}set(e,t){(0,ce.Dv)("Reference.set",1,2,arguments.length),(0,ce.Wj)("Reference.set","onComplete",t,!0);const i=zR(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,ce.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,dj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ul("Reference.update",this._delegate._path),(0,ce.Wj)("Reference.update","onComplete",t,!0);const i=j7(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ce.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ce.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function G7(n,e,t){if(ul("setWithPriority",n._path),lu("setWithPriority",e,n._path,!1),LR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ce.BH;return BR(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){(0,ce.Dv)("Reference.remove",0,1,arguments.length),(0,ce.Wj)("Reference.remove","onComplete",e,!0);const t=function U7(n){return ul("remove",n._path),zR(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,ce.Dv)("Reference.transaction",1,3,arguments.length),(0,ce.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,ce.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,ce.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function xK(n,e,t){var i;if(n=(0,ce.m9)(n),ul("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,o=new ce.BH,h=WR(n,()=>{});return function k7(n,e,t,i,r,o){Eg(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:rH(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=HR(n,e,void 0);c.currentInputSnapshot=h;const _=c.update(h.val());if(void 0===_)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{NC("transaction failed: Data returned ",_,c.path),c.status=0;const w=ND(n.transactionQueueTree_,e),S=wg(w)||[];let k;S.push(c),OR(w,S),"object"==typeof _&&null!==_&&(0,ce.r3)(_,".priority")?(k=(0,ce.DV)(_,".priority"),(0,ce.hu)(PC(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(MD(n.serverSyncTree_,e)||pn.EMPTY_NODE).getPriority().val();const K=RC(n),ne=er(_,k),ue=PR(ne,h,K);c.currentOutputSnapshotRaw=ne,c.currentOutputSnapshotResolved=ue,c.currentWriteId=FD(n);const Ce=SR(n.serverSyncTree_,e,ue,c.currentWriteId,c.applyLocally);dl(n.eventQueue_,e,Ce),LD(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(_,w,S)=>{let k=null;_?o.reject(_):(k=new Tg(S,new hl(n._repo,n._path),bi),o.resolve(new AK(w,k)))},h,r),o.promise}(this._delegate,e,{applyLocally:i}).then(o=>new FK(o.committed,new _f(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(e,t){(0,ce.Dv)("Reference.setPriority",1,2,arguments.length),(0,ce.Wj)("Reference.setPriority","onComplete",t,!0);const i=function H7(n,e){n=(0,ce.m9)(n),ul("setPriority",n._path),LR("setPriority",e,!1);const t=new ce.BH;return BR(n._repo,ji(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,ce.Dv)("Reference.push",0,2,arguments.length),(0,ce.Wj)("Reference.push","onComplete",t,!0);const i=function B7(n,e){n=(0,ce.m9)(n),ul("push",n._path),lu("push",e,n._path,!0);const t=HG(n._repo),i=Zq(t),r=Sg(n,i),o=Sg(n,i);let c;return c=null!=e?zR(o,e).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new fa(this.database,c));t&&r.then(()=>t(null),c=>t(c));const o=new fa(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return ul("Reference.onDisconnect",this._delegate._path),new RK(new JG(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class LC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:_K,forceLongPolling:yK}}useEmulator(e,t,i={}){!function bK(n,e,t,i={}){(n=(0,ce.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&su("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&su('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new gC(gC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,ce.Sg)(i.mockUserToken,n.app.options.projectId);o=new gC(c)}!function hK(n,e,t,i){n.repoInfo_=new zO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(this._delegate,e,t,i)}ref(e){if((0,ce.Dv)("database.ref",0,1,arguments.length),e instanceof fa){const t=ej(this._delegate,e.toString());return new fa(this,t)}{const t=XG(this._delegate,e);return new fa(this,t)}}refFromURL(e){(0,ce.Dv)("database.refFromURL",1,1,arguments.length);const i=ej(this._delegate,e);return new fa(this,i)}goOffline(){return(0,ce.Dv)("database.goOffline",0,0,arguments.length),function CK(n){(n=(0,ce.m9)(n))._checkNotDeleted("goOffline"),zG(n._repo)}(this._delegate)}goOnline(){return(0,ce.Dv)("database.goOnline",0,0,arguments.length),function wK(n){(n=(0,ce.m9)(n))._checkNotDeleted("goOnline"),function N7(n){n.persistentConnection_&&n.persistentConnection_.resume(UG)}(n._repo)}(this._delegate)}}LC.ServerValue={TIMESTAMP:function IK(){return SK}(),increment:n=>function DK(n){return{".sv":{increment:n}}}(n)};var VK=Object.freeze({__proto__:null,initStandalone:function LK({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){nH(t);const c=new wo.zt("auth-internal",new wo.H0("database-standalone"));return c.setComponent(new wo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new LC(cj(n,c,void 0,e,o),n),namespace:r}}});const BK=LC.ServerValue;function hj(n){return null==n}function fj(n){return"function"==typeof n.set}function pj(n,e){return fj(e)?e:n.ref(e)}function gj(n,e){if(function HK(n){return"string"==typeof n}(n))return e.stringCase();if(fj(n))return e.firebaseCase();if(function GK(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function VC(n,e,t="on",i=hr.z){return new Di.y(r=>{let o=null;return o=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,At.U)(r=>{const{snapshot:o,prevKey:c}=r;let h=null;return o.exists()&&(h=o.key),{type:e,payload:o,prevKey:c,key:h}}),(0,ib.B)())}function mj(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function zK(n,e){const{payload:t,prevKey:i,key:r}=e,o=mj(n,r),c=function $K(n,e){if(hj(e))return 0;{const t=mj(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(_=>{const w={payload:_,type:"value",prevKey:h,key:_.key};return h=_.key,n=[...n,w],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(_=>_.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function _j(n){return(hj(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function yj(n,e,t){return function jK(n,e,t){return VC(n,"value","once",t).pipe(ai(i=>{const r=[Dt(i)];return e.forEach(o=>r.push(VC(n,o,"on",t))),(0,nb.T)(...r).pipe(ho(zK,[]))}),ey())}(n,e=_j(e),t)}function vj(n,e,t){const i=(e=_j(e)).map(r=>VC(n,r,"on",t));return(0,nb.T)(...i)}function bj(n,e){return function(i,r){return gj(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function KK(n){return function(t){return t?gj(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function Cj(n,e){return function(){return VC(n,"value","on",e)}}!function UK(n){n.INTERNAL.registerComponent(new wo.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new LC(r,i)},"PUBLIC").setServiceProps({Reference:fa,Query:as,Database:LC,DataSnapshot:_f,enableLogging:EK,INTERNAL:VK,ServerValue:BK}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.2")}(Db.Z);const JK=new s.OlP("angularfire2.realtimeDatabaseURL"),XK=new s.OlP("angularfire2.database.use-emulator");let eY=(()=>{class n{constructor(t,i,r,o,c,h,_,w,S,k,K,ne,ue,Ce,xe){this.schedulers=h;const He=_,We=(0,Ji.on)(t,c,i);w&&Ib(We,c,S,K,ne,ue,k,Ce),this.database=(0,Ji.cc)(`${We.name}.database.${r}`,"AngularFireDatabase",We.name,()=>{const et=c.runOutsideAngular(()=>We.database(r||void 0));return He&&et.useEmulator(...He),et},[He])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>pj(this.database,t));let o=r;return i&&(o=i(r)),function YK(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:bj(i,"update"),set:bj(i,"set"),push:r=>i.push(r),remove:KK(i),snapshotChanges:r=>yj(n,r,t).pipe(zt.iC),stateChanges:r=>vj(n,r,t).pipe(zt.iC),auditTrail:r=>function WK(n,e,t){return function ZK(n,e,t){return function qK(n,e){return VC(n,"value","on",e).pipe((0,At.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(sD(e),(0,At.U)(([r,o])=>{const c=r.lastKeyToLoad,h=o.map(_=>_.key);return{actions:o,lastKeyToLoad:c,loadedKeys:h}}),function $8(n){return(0,Ki.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,ii.x)(t,o=>(i||(i=!n(o,r++)))&&t.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,At.U)(r=>r.actions))}(n,vj(n,e).pipe(ho((r,o)=>[...r,o],[])),t)}(n,r,t).pipe(zt.iC),valueChanges:(r,o)=>yj(n,r,t).pipe((0,At.U)(h=>h.map(_=>o&&o.idField?Object.assign(Object.assign({},_.payload.val()),{[o.idField]:_.key}):_.payload.val())),zt.iC)}}(o,this)}object(t){return function QK(n,e){return{query:n,snapshotChanges:()=>Cj(n,e.schedulers.outsideAngular)().pipe(zt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Cj(n,e.schedulers.outsideAngular)().pipe(zt.iC,(0,At.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>pj(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ji.Dh),s.LFG(Ji.xv,8),s.LFG(JK,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(zt.HU),s.LFG(XK,8),s.LFG(Fh,8),s.LFG(H_,8),s.LFG(G_,8),s.LFG(j_,8),s.LFG(Sb,8),s.LFG($_,8),s.LFG(z_,8),s.LFG(nc,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tY=(()=>{class n{constructor(){Rh.Z.registerVersion("angularfire",zt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[eY]}),n})();const ZR={firebase:{projectId:"fyp-my108-351404",appId:"1:978276168904:web:648966568a920626a3e1fd",databaseURL:"https://fyp-my108-351404-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"fyp-my108-351404.appspot.com",locationId:"asia-east2",apiKey:"AIzaSyA0QL42AMqAczuQPxLzLY5yyZ40hfxBiT0",authDomain:"fyp-my108-351404.firebaseapp.com",messagingSenderId:"978276168904",measurementId:"G-YLXFJ43G7Q"},production:!0};var KR=g(3673);function wj(n){return new Di.y(function(e){return{unsubscribe:(0,KR.q)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class YR{constructor(e){return e}}class QR{constructor(){return(0,zt.vb)("auth")}}const JR=new s.OlP("angularfire2.auth-instances");function iY(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new YR(i)}}const rY={provide:QR,deps:[[new s.FiY,JR]]},sY={provide:YR,useFactory:function nY(n,e){const t=(0,zt.JM)("auth",n,e);return t&&new YR(t)},deps:[[new s.FiY,JR],ec]};let oY=(()=>{class n{constructor(){(0,Xl.KN)("angularfire",zt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[sY,rY]}),n})();function aY(n,...e){return{ngModule:oY,providers:[{provide:JR,useFactory:iY(n),multi:!0,deps:[s.R0b,s.zs3,zt.HU,S_,[new s.FiY,nc],...e]}]}}const lY=(0,zt.u3)(wj,!0),cY=(0,zt.u3)(KR.n,!0);class XR{constructor(e){return e}}const Tj="database",eF=new s.OlP("angularfire2.database-instances");function hY(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new XR(i)}}const fY={provide:class uY{constructor(){return(0,zt.vb)(Tj)}},deps:[[new s.FiY,eF]]},pY={provide:XR,useFactory:function dY(n,e){const t=(0,zt.JM)(Tj,n,e);return t&&new XR(t)},deps:[[new s.FiY,eF],ec]};let gY=(()=>{class n{constructor(){(0,Xl.KN)("angularfire",zt.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pY,fY]}),n})();function mY(n,...e){return{ngModule:gY,providers:[{provide:eF,useFactory:hY(n),multi:!0,deps:[s.R0b,s.zs3,zt.HU,S_,[new s.FiY,QR],[new s.FiY,nc],...e]}]}}const _Y=(0,zt.u3)(vK,!0);class tF{constructor(e){return e}}const Sj="firestore",nF=new s.OlP("angularfire2.firestore-instances");function bY(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new tF(i)}}const CY={provide:class yY{constructor(){return(0,zt.vb)(Sj)}},deps:[[new s.FiY,nF]]},wY={provide:tF,useFactory:function vY(n,e){const t=(0,zt.JM)(Sj,n,e);return t&&new tF(t)},deps:[[new s.FiY,nF],ec]};let EY=(()=>{class n{constructor(){(0,Xl.KN)("angularfire",zt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wY,CY]}),n})();function TY(n,...e){return{ngModule:EY,providers:[{provide:nF,useFactory:bY(n),multi:!0,deps:[s.R0b,s.zs3,zt.HU,S_,[new s.FiY,QR],[new s.FiY,nc],...e]}]}}const SY=(0,zt.u3)(RW,!0);let Ig=(()=>{class n{constructor(t,i,r,o){this.afs=t,this.afAuth=i,this.router=r,this.ngZone=o,this.afAuth.authState.subscribe(c=>{c?(this.userData=c,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}login(t,i){return this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.ngZone.run(()=>{this.router.navigate(["./home"])}),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})}register(t,i){return this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.sendEmailForVerification(),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, please check your inbox.")}).catch(i=>{window.alert(i)})}sendEmailForVerification(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email"])})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}googleSignIn(){return this.AuthLogin(new KR.Q).then(t=>{t&&(alert("Welcome back"+lY.name),setTimeout(()=>{this.router.navigate(["./home"])},2e3))})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{this.ngZone.run(()=>{this.router.navigate(["home"])}),this.SetUserData(i.user)}).catch(i=>{window.alert(i)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}logout(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(XU),s.LFG(Fh),s.LFG(ui),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ij=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}goToFAQ(){this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header-empty"]],decls:4,vars:0,consts:[["src","https://cdn.lordicon.com/njjuilvq.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer",3,"click"]],template:function(t,i){1&t&&(s.TgZ(0,"nav")(1,"h2"),s._uU(2,"MERC"),s.qZA(),s.TgZ(3,"lord-icon",0),s.NdJ("click",function(){return i.goToFAQ()}),s.qZA()())},styles:['nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem 2rem;background:#005DE8}nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f5f5f5}.nav-items[_ngcontent-%COMP%]{list-style-type:none}.middle-nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 auto;float:center}.middle-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 10px 0}.middle-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{overflow-y:hidden;color:#fff;font-size:30px;margin:5px 10px 0;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}@media only screen and (max-width: 600px){nav[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;padding-top:.5rem}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0}}']}),n})();function IY(n,e){1&n&&(s.TgZ(0,"span",27),s._uU(1,"* Email is required!"),s.qZA(),s._UZ(2,"br"))}function DY(n,e){1&n&&s.YNc(0,IY,3,0,"ng-template")}function AY(n,e){if(1&n&&(s.TgZ(0,"span",28),s._uU(1,"* Invalid email address!"),s.qZA()),2&n){const t=s.oxw();s.Q6J("hidden",t.invalid)}}function xY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",29),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.showHidePassword())}),s._UZ(1,"i",30),s.qZA()}}function MY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",29),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.showHidePassword())}),s._UZ(1,"i",31),s.qZA()}}let PY=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.email="",this.password="",this.requiredErr=!1,this.invalid=!0,this.showPassword=!1,this.showing=!1}ngOnInit(){}showHidePassword(){this.showPassword=!this.showPassword,this.showing=!this.showing}login(){if(""==this.email&&""==this.password&&""==this.email)return alert("Please enter email"),void(this.requiredErr=!0);this.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)||(this.requiredErr=!1,this.invalid=!1),""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter password")}navigateToForgotPasswordPage(){this.router.navigate(["/forgot-password"])}signInWithGoogle(){this.auth.googleSignIn()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ig),s.Y36(ui))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:46,vars:7,consts:[[1,"login-view"],[1,"left-panel"],["src","../../../assets/login-shopping.jpg","alt","login-shopping"],[1,"right-panel"],[1,"container"],[1,"head-form"],["href","/register"],[1,"hr-style"],[1,"field-set"],[1,"input-item"],[1,"fa","fa-user-circle","fa-xl"],["id","txt-input","name","email","type","text","placeholder","Email Address","required","",1,"form-input",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["invalidErr",""],[1,"fa","fa-key","fa-xl"],["type","password","placeholder","Password","id","pwd","name","password","required","",1,"form-input",3,"type","ngModel","ngModelChange"],[3,"click",4,"ngIf","ngIfElse"],["hidden",""],[1,"log-in",3,"click"],[1,"other-methods"],["data-content","OR",1,"other-methods-text"],[1,"row","other-sign-in-methods"],[2,"text-decoration","none","cursor","pointer",3,"click"],[1,"card","text-center"],[1,"card-body"],["src","https://img.icons8.com/color/48/undefined/google-logo.png","height","24px","width","24px"],["href","/forgot-password",1,"forgot-pw"],[1,"err-msg"],[1,"err-msg",3,"hidden"],[3,"click"],["aria-hidden","true","type","button","id","eye",1,"fa","fa-eye","pw-eye"],["aria-hidden","true","type","button","id","eye",1,"fa-solid","fa-eye-slash","pw-eye"]],template:function(t,i){if(1&t&&(s._UZ(0,"app-header-empty"),s.TgZ(1,"div",0)(2,"div",1)(3,"h2"),s._uU(4,"Welcome back to MERC!"),s.qZA(),s._UZ(5,"img",2),s.qZA(),s.TgZ(6,"div",3)(7,"form")(8,"div",4)(9,"header",5)(10,"h2"),s._uU(11,"Log In"),s.qZA(),s.TgZ(12,"p"),s._uU(13,"New to MERC? "),s.TgZ(14,"a",6),s._uU(15,"Sign Up"),s.qZA()()(),s._UZ(16,"hr",7)(17,"br"),s.TgZ(18,"div",8)(19,"span",9),s._UZ(20,"i",10),s.qZA(),s.TgZ(21,"input",11),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA(),s.YNc(22,DY,1,0,null,12),s.YNc(23,AY,2,1,"ng-template",null,13,s.W1O),s._UZ(25,"br"),s.TgZ(26,"span",9),s._UZ(27,"i",14),s.qZA(),s.TgZ(28,"input",15),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA(),s.YNc(29,xY,2,0,"span",16),s.YNc(30,MY,2,0,"ng-template",null,17,s.W1O),s._UZ(32,"br"),s.TgZ(33,"button",18),s.NdJ("click",function(){return i.login()}),s._uU(34," Log In "),s.qZA()(),s.TgZ(35,"div",19),s._UZ(36,"hr",20),s.qZA(),s.TgZ(37,"div",21)(38,"a",22),s.NdJ("click",function(){return i.signInWithGoogle()}),s.TgZ(39,"div",23)(40,"div",24),s._UZ(41,"img",25),s.TgZ(42,"p"),s._uU(43,"Sign In with Google"),s.qZA()()()()(),s.TgZ(44,"a",26),s._uU(45,"Forgot Password ?"),s.qZA()()()()()),2&t){const r=s.MAs(24),o=s.MAs(31);s.xp6(21),s.Q6J("ngModel",i.email),s.xp6(1),s.Q6J("ngIf",i.requiredErr)("ngIfElse",r),s.xp6(6),s.Q6J("type",i.showPassword?"text":"password")("ngModel",i.password),s.xp6(1),s.Q6J("ngIf",i.showing)("ngIfElse",o)}},dependencies:[ti,Bm,nd,Lv,Ya,ap,Kv,jc,Ij],styles:['.login-view[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px}@media (max-width: 800px){.login-view[_ngcontent-%COMP%]{flex-direction:column}}.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:50px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:550px;height:450px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}}.right-panel[_ngcontent-%COMP%]{padding-right:5rem;margin-left:80px}@media (max-width: 800px){.right-panel[_ngcontent-%COMP%]{padding:0;margin-top:15px}}form[_ngcontent-%COMP%]{width:400px;min-height:300px;height:550px;border-radius:10px;border:10px solid;border-image-slice:1;border-width:5px;border-image-source:linear-gradient(to left,#005DE8,#09c6f9);margin:2% auto;box-shadow:0 9px 50px #95b2ea80;padding:2%;overflow-y:hidden;overflow-x:hidden}.container[_ngcontent-%COMP%]{margin:10px}.head-form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:10px}.head-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#939393;font-size:smaller}.head-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}.hr-style[_ngcontent-%COMP%]{margin-top:15px;background-image:linear-gradient(315deg,#045de9 0%,#09c6f9 74%);border:0;height:1.5px}.fa-user-circle[_ngcontent-%COMP%]{font-size:50px}.form-input[_ngcontent-%COMP%]{margin:15px 10px;padding:10px;width:80%;box-sizing:border-box;border:1.5px solid #ccc;border-radius:3px;outline:none}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active{border-color:transparent;border:2.5px solid #045de9;animation:slideup .5s ease-in 1}@keyframes slideup{0%{opacity:0}to{opacity:.8}}.log-in[_ngcontent-%COMP%]{cursor:pointer;border:0;border-radius:4px;font-weight:600;margin-left:20%;margin-top:20px;margin-bottom:20px;width:200px;padding:10px 0;box-shadow:0 0 20px #5a79dc4d;transition:.4s;color:#fff;background-color:#005de8}.log-in[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #5a79dc99}.field-set[_ngcontent-%COMP%]{margin:10px 0}.other-methods[_ngcontent-%COMP%]{max-width:90%;margin-left:10px;text-align:center}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]{font-size:20px;position:relative;border:0;height:1.5em;background:transparent;color:#000;opacity:1}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:before{content:"";background:linear-gradient(315deg,#045de9 0%,#09c6f9 74%);position:absolute;left:0;top:50%;width:100%;height:1.5px}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:after{content:attr(data-content);position:relative;display:inline-block;color:#000;padding:0 .5em;line-height:1.5em;background-color:#fff;font-size:smaller}.card[_ngcontent-%COMP%]{border:1px solid #696969;border-radius:50px;margin-top:10px}.card-body[_ngcontent-%COMP%]{padding:10px;cursor:pointer;display:flex;justify-content:center;align-items:center}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 3px}.other-sign-in-methods[_ngcontent-%COMP%]{max-width:250px;margin:0 auto}.err-msg[_ngcontent-%COMP%]{color:red;font-size:small;margin-left:40px}.forgot-pw[_ngcontent-%COMP%]{float:right;margin-top:50px;font-size:smaller}']}),n})();function NY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",18),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.showHidePassword())}),s._UZ(1,"i",19),s.qZA()}}function kY(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",18),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.showHidePassword())}),s._UZ(1,"i",20),s.qZA()}}let OY=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password="",this.showPassword=!1,this.showing=!1}ngOnInit(){}showHidePassword(){this.showPassword=!this.showPassword,this.showing=!this.showing}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}onStrengthChange(t){console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],decls:33,vars:5,consts:[[1,"login-view"],[1,"left-panel"],["src","../../../assets/login-shopping.jpg","alt","login-shopping"],[1,"right-panel"],[1,"container"],[1,"head-form"],["href","/login",2,"float","right"],[1,"hr-style"],[1,"field-set"],[1,"input-item"],[1,"fa","fa-user-circle","fa-xl"],["id","txt-input","name","email","type","text","placeholder","Email Address","required","",1,"form-input",3,"ngModel","ngModelChange"],[1,"fa","fa-key","fa-xl"],["placeholder","Password","id","pwd","name","password","required","",1,"form-input",3,"type","ngModel","ngModelChange"],["passwordInput",""],[3,"click",4,"ngIf","ngIfElse"],["hidden",""],[1,"log-in",3,"click"],[3,"click"],["aria-hidden","true","type","button","id","eye",1,"fa","fa-eye","pw-eye"],["aria-hidden","true","type","button","id","eye",1,"fa-solid","fa-eye-slash","pw-eye"]],template:function(t,i){if(1&t&&(s._UZ(0,"app-header-empty"),s.TgZ(1,"div",0)(2,"div",1)(3,"h2"),s._uU(4,"Welcome to MERC!"),s.qZA(),s._UZ(5,"img",2),s.qZA(),s.TgZ(6,"div",3)(7,"form")(8,"div",4)(9,"header",5)(10,"h2"),s._uU(11,"Sign Up"),s.qZA(),s.TgZ(12,"p"),s._uU(13,"Have an account?\xa0 "),s.TgZ(14,"a",6),s._uU(15,"Sign In"),s.qZA()()(),s._UZ(16,"hr",7)(17,"br"),s.TgZ(18,"div",8)(19,"span",9),s._UZ(20,"i",10),s.qZA(),s.TgZ(21,"input",11),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA(),s._UZ(22,"br"),s.TgZ(23,"span",9),s._UZ(24,"i",12),s.qZA(),s.TgZ(25,"input",13,14),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA(),s.YNc(27,NY,2,0,"span",15),s.YNc(28,kY,2,0,"ng-template",null,16,s.W1O),s._UZ(30,"br"),s.qZA(),s.TgZ(31,"button",17),s.NdJ("click",function(){return i.register()}),s._uU(32," Register "),s.qZA()()()()()),2&t){const r=s.MAs(29);s.xp6(21),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("type",i.showPassword?"text":"password")("ngModel",i.password),s.xp6(2),s.Q6J("ngIf",i.showing)("ngIfElse",r)}},dependencies:[ti,Bm,nd,Lv,Ya,ap,Kv,jc,Ij],styles:['.login-view[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px}@media (max-width: 800px){.login-view[_ngcontent-%COMP%]{flex-direction:column}}.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:50px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:550px;height:450px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}}.right-panel[_ngcontent-%COMP%]{padding-right:5rem;margin-left:80px}@media (max-width: 800px){.right-panel[_ngcontent-%COMP%]{padding:0;margin-top:15px}}form[_ngcontent-%COMP%]{width:400px;min-height:300px;height:550px;border-radius:10px;border:10px solid;border-image-slice:1;border-width:5px;border-image-source:linear-gradient(to left,#005DE8,#09c6f9);margin:2% auto;box-shadow:0 9px 50px #95b2ea80;padding:2%;overflow-y:hidden;overflow-x:hidden}.container[_ngcontent-%COMP%]{margin:10px}.head-form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:10px}.head-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#939393;font-size:smaller}.head-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}.hr-style[_ngcontent-%COMP%]{margin-top:15px;background-image:linear-gradient(315deg,#045de9 0%,#09c6f9 74%);border:0;height:1.5px}.fa-user-circle[_ngcontent-%COMP%]{font-size:50px}.form-input[_ngcontent-%COMP%]{margin:15px 10px;padding:10px;width:80%;box-sizing:border-box;border:1.5px solid #ccc;border-radius:3px;outline:none}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active{border-color:transparent;border:2.5px solid #045de9;animation:slideup .5s ease-in 1}@keyframes slideup{0%{opacity:0}to{opacity:.8}}.log-in[_ngcontent-%COMP%]{cursor:pointer;border:0;border-radius:4px;font-weight:600;margin-left:20%;margin-top:20px;margin-bottom:20px;width:200px;padding:10px 0;box-shadow:0 0 20px #5a79dc4d;transition:.4s;color:#fff;background-color:#005de8}.log-in[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #5a79dc99}.field-set[_ngcontent-%COMP%]{margin:10px 0}.other-methods[_ngcontent-%COMP%]{max-width:90%;margin-left:10px;text-align:center}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]{font-size:20px;position:relative;border:0;height:1.5em}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:before{content:"";background:linear-gradient(to right,transparent,#045de9,transparent);position:absolute;left:0;top:50%;width:100%;height:1px}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:after{content:attr(data-content);position:relative;display:inline-block;color:#000;padding:0 .5em;line-height:1.5em;background-color:#fff;font-size:smaller}.card[_ngcontent-%COMP%]{border:1px solid #696969;border-radius:50px;margin-top:10px}.card-body[_ngcontent-%COMP%]{padding:10px;cursor:pointer;display:flex}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px 0 0 5px}.other-sign-in-methods[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}.err-msg[_ngcontent-%COMP%]{color:red;font-size:small;margin-left:40px}.forgot-pw[_ngcontent-%COMP%]{float:right;margin-top:50px;font-size:smaller}']}),n})();var RY=g(1144);const FY=["addListener","removeListener"],LY=["addEventListener","removeEventListener"],VY=["on","off"];function Ys(n,e,t,i){if((0,ts.m)(t)&&(i=t,t=void 0),i)return Ys(n,e,t).pipe(Vu(i));const[r,o]=function HY(n){return(0,ts.m)(n.addEventListener)&&(0,ts.m)(n.removeEventListener)}(n)?LY.map(c=>h=>n[c](e,h,t)):function BY(n){return(0,ts.m)(n.addListener)&&(0,ts.m)(n.removeListener)}(n)?FY.map(Dj(n,e)):function UY(n){return(0,ts.m)(n.on)&&(0,ts.m)(n.off)}(n)?VY.map(Dj(n,e)):[];if(!r&&(0,RY.z)(n))return(0,Pn.z)(c=>Ys(c,e,t))((0,Os.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Di.y(c=>{const h=(..._)=>c.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function Dj(n,e){return t=>i=>n[t](e,i)}var GY=g(3532);function iF(n=0,e,t=hr.P){let i=-1;return null!=e&&((0,GY.K)(e)?t=e:i=e),new Di.y(r=>{let o=function jY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:$Y}=Array;function Aj(n){return 1===n.length&&$Y(n[0])?n[0]:n}const Mj=new Di.y(rD.Z);function jD(...n){const e=(0,Lr.jO)(n),t=Aj(n);return t.length?new Di.y(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let c=0;!i.closed&&c<t.length;c++)(0,Os.Xf)(t[c]).subscribe((0,ii.x)(i,h=>{if(r[c].push(h),r.every(_=>_.length)){const _=r.map(w=>w.shift());i.next(e?e(..._):_),r.some((w,S)=>!w.length&&o[S])&&i.complete()}},()=>{o[c]=!0,!r[c].length&&i.complete()}));return()=>{r=o=null}}):zo.E}function Or(n){return(0,Ki.e)((e,t)=>{(0,Os.Xf)(n).subscribe((0,ii.x)(t,()=>t.complete(),rD.Z)),!t.closed&&e.subscribe(t)})}function X9(n,e){}function eQ(n,e){if(1&n&&(s.TgZ(0,"button",3),s._uU(1),s.YNc(2,X9,0,0,"ng-template",4),s.qZA()),2&n){const t=e.$implicit;s.Q6J("ngbPanelToggle",t),s.xp6(1),s.hij(" ",t.title,""),s.xp6(1),s.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function tQ(n,e){}function nQ(n,e){}function iQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",8),s.NdJ("ngbRef",function(r){s.CHM(t);const o=s.oxw().$implicit;return s.KtG(o.panelDiv=r)}),s.TgZ(1,"div",9),s.YNc(2,nQ,0,0,"ng-template",4),s.qZA()()}if(2&n){const t=s.oxw().$implicit;s.s9C("id",t.id),s.uIk("aria-labelledby",t.id+"-header"),s.xp6(2),s.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const rQ=function(n,e){return{$implicit:n,opened:e}};function sQ(n,e){if(1&n&&(s.TgZ(0,"div")(1,"div",5),s.YNc(2,tQ,0,0,"ng-template",6),s.qZA(),s.YNc(3,iQ,3,3,"div",7),s.qZA()),2&n){const t=e.$implicit,i=s.oxw(),r=s.MAs(1);s.Tol("accordion-item "+(t.cardClass||"")),s.xp6(1),s.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),s.MGl("id","",t.id,"-header"),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||r)("ngTemplateOutletContext",s.WLB(8,rQ,t,t.isOpen)),s.xp6(1),s.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}const oQ=["*"];function aQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw();return c.focus(),s.KtG(c.select(o.id,c.NgbSlideEventSource.INDICATOR))}),s.qZA()}if(2&n){const t=e.$implicit,i=s.oxw();s.ekj("active",t.id===i.activeId),s.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function lQ(n,e){}function cQ(n,e){if(1&n&&(s.TgZ(0,"div",7)(1,"span",8),s.SDv(2,9),s.qZA(),s.YNc(3,lQ,0,0,"ng-template",10),s.qZA()),2&n){const t=e.$implicit,i=e.index,r=e.count;s.Q6J("id","slide-"+t.id),s.xp6(2),s.pQV(i+1)(r),s.QtT(2),s.xp6(1),s.Q6J("ngTemplateOutlet",t.tplRef)}}function uQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.arrowLeft())}),s._UZ(1,"span",12),s.TgZ(2,"span",8),s.SDv(3,13),s.qZA()()}}function dQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(t);const r=s.oxw();return s.KtG(r.arrowRight())}),s._UZ(1,"span",15),s.TgZ(2,"span",8),s.SDv(3,16),s.qZA()()}}const TQ=["dialog"];function rJ(n,e){1&n&&s._uU(0),2&n&&s.Oqu(100===e.fill?"\u2605":"\u2606")}function sJ(n,e){}function oJ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"span",2),s._uU(1),s.qZA(),s.TgZ(2,"span",3),s.NdJ("mouseenter",function(){const o=s.CHM(t).index,c=s.oxw();return s.KtG(c.enter(o+1))})("click",function(){const o=s.CHM(t).index,c=s.oxw();return s.KtG(c.handleClick(o+1))}),s.YNc(3,sJ,0,0,"ng-template",4),s.qZA()}if(2&n){const t=e.index,i=s.oxw(),r=s.MAs(1);s.xp6(1),s.hij("(",t<i.nextRate?"*":" ",")"),s.xp6(1),s.Udp("cursor",i.isInteractive()?"pointer":"default"),s.xp6(1),s.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||r)("ngTemplateOutletContext",i.contexts[t])}}function pF(n,e,t=0){return Math.max(Math.min(n,e),t)}function gF(n){return"string"==typeof n}function Ag(n){return null!=n}function Xy(n){return(n||document.body).getBoundingClientRect()}const Zj={animation:!0,transitionTimerDelayMs:5},vJ=()=>{},{transitionTimerDelayMs:bJ}=Zj,zC=new Map,Qs=(n,e,t,i)=>{let r=i.context||{};const o=zC.get(e);if(o)switch(i.runningTransition){case"continue":return zo.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),zC.delete(e)}const c=t(e,i.animation,r)||vJ;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),Dt(void 0).pipe(function _J(n){return e=>new Di.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new Zn.x,_=new Zn.x,w=h.pipe(function WY(...n){return e=>Rc(e,Dt(...n))}(!0));zC.set(e,{transition$:h,complete:()=>{_.next(),_.complete()},context:r});const S=function yJ(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const k=Ys(e,"transitionend").pipe(Or(w),Ai(({target:ne})=>ne===e));(function xj(...n){return 1===(n=Aj(n)).length?(0,Os.Xf)(n[0]):new Di.y(function zY(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Os.Xf)(n[i]).subscribe((0,ii.x)(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))})(iF(S+bJ).pipe(Or(w)),k,_).pipe(Or(w)).subscribe(()=>{zC.delete(e),n.run(()=>{c(),h.next(),h.complete()})})}),h.asObservable()},Kj=(n,e,t)=>{let{direction:i,maxHeight:r}=t;const{classList:o}=n;function c(){o.add("collapse"),"show"===i?o.add("show"):o.remove("show")}if(e)return r||(r=function wJ(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const i=n.getBoundingClientRect().height+"px";return t||e.remove("show"),i}(n),t.maxHeight=r,n.style.height="show"!==i?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),Xy(n),o.add("collapsing")),n.style.height="show"===i?r:"0px",()=>{c(),o.remove("collapsing"),n.style.height=""};c()};let KD=(()=>{class n{constructor(){this.animation=Zj.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EJ=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(KD))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TJ=0,_F=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]]}),n})(),yF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]]}),n})(),vF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]]}),n})(),YD=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+TJ++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new s.vpe,this.hidden=new s.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,r){if(1&t&&(s.Suo(r,yF,4),s.Suo(r,_F,4),s.Suo(r,vF,4)),2&t){let o;s.iGM(o=s.CRH())&&(i.titleTpls=o),s.iGM(o=s.CRH())&&(i.headerTpls=o),s.iGM(o=s.CRH())&&(i.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),n})(),SJ=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new s.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),n})(),bF=(()=>{class n{constructor(t,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new s.vpe,this.shown=new s.vpe,this.hidden=new s.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){gF(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,Qs(this._ngZone,i,Kj,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let r=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{r=!0}}),r||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(r=>{r.id!==t&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Qs(this._ngZone,i.panelDiv,Kj,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide"}}).subscribe(()=>{i.transitionRunning=!1;const{id:o}=i;i.isOpen?(i.shown.emit(),this.shown.emit(o)):(i.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(EJ),s.Y36(s.R0b),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,YD,4),2&t){let o;s.iGM(o=s.CRH())&&(i.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&s.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(s.YNc(0,eQ,3,3,"ng-template",0,1,s.W1O),s.YNc(2,sQ,4,11,"ng-template",2)),2&t&&(s.xp6(2),s.Q6J("ngForOf",i.panels))},dependencies:function(){return[_F,Yj,_r,qi,ti,SJ]},encapsulation:2}),n})(),Yj=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(bF),s.Y36(YD,9))},n.\u0275dir=s.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&s.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(s.Ikx("disabled",i.panel.disabled),s.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),s.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),n})(),Qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),e$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var vf=(()=>(function(n){n.START="start",n.END="end"}(vf||(vf={})),vf))();const t$=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),WC=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},QD=n=>{WC(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},AJ=(n,e,{direction:t})=>{const{classList:i}=n;return e?(t$(n)?WC(i):(i.add("carousel-item-"+(t===vf.START?"next":"prev")),Xy(n),i.add("carousel-item-"+t)),()=>{QD(i),i.add("active")}):(WC(i),QD(i),void i.add("active"))},xJ=(n,e,{direction:t})=>{const{classList:i}=n;return e?(t$(n)?WC(i):i.add("carousel-item-"+t),()=>{QD(i),i.remove("active")}):(WC(i),QD(i),void i.remove("active"))};let MJ=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(KD))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PJ=0,wF=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+PJ++,this.slid=new s.vpe}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),n$=(()=>{class n{constructor(t,i,r,o,c){this._platformId=i,this._ngZone=r,this._cd=o,this._container=c,this.NgbSlideEventSource=du,this._destroy$=new Zn.x,this._interval$=new gi(0),this._mouseHover$=new gi(!1),this._focused$=new gi(!1),this._pauseOnHover$=new gi(!1),this._pauseOnFocus$=new gi(!1),this._pause$=new gi(!1),this._wrap$=new gi(!1),this.slide=new s.vpe,this.slid=new s.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(du.ARROW_LEFT)}arrowRight(){this.focus(),this.next(du.ARROW_RIGHT)}ngAfterContentInit(){_l(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Ns([this.slide.pipe((0,At.U)(i=>i.current),Ir(this.activeId)),this._wrap$,this.slides.changes.pipe(Ir(null))]).pipe((0,At.U)(([i,r])=>{const o=this.slides.toArray(),c=this._getSlideIdxById(i);return r?o.length>1:c<o.length-1}),ey());Ns([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,At.U)(([i,r,o,c,h,_,w])=>i||r&&o||c&&h||!w?0:_),ey(),ai(i=>i>0?iF(i,i):Mj),Or(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(du.TIMER)))}),this.slides.changes.pipe(Or(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{zC.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),vf.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),vf.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,r){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:i,paused:this._pause$.value,source:r});const h={animation:this.animation,runningTransition:"stop",context:{direction:i}},_=[],w=this._getSlideById(this.activeId);if(w){const ne=Qs(this._ngZone,this._getSlideElement(w.id),xJ,h);ne.subscribe(()=>{w.slid.emit({isShown:!1,direction:i,source:r})}),_.push(ne)}const S=this.activeId;this.activeId=c.id;const k=this._getSlideById(this.activeId),K=Qs(this._ngZone,this._getSlideElement(c.id),AJ,h);K.subscribe(()=>{k?.slid.emit({isShown:!0,direction:i,source:r})}),_.push(K),jD(..._).pipe((0,hn.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:S,current:c.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?vf.END:vf.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(MJ),s.Y36(s.Lbi),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,wF,4),2&t){let o;s.iGM(o=s.CRH())&&(i.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&s.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(s.uIk("aria-activedescendant","slide-"+i.activeId),s.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(s.TgZ(0,"div",0),s.YNc(1,aQ,1,5,"button",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,cQ,4,4,"div",3),s.qZA(),s.YNc(4,uQ,4,0,"button",4),s.YNc(5,dQ,4,0,"button",5)),2&t&&(s.ekj("visually-hidden",!i.showNavigationIndicators),s.xp6(1),s.Q6J("ngForOf",i.slides),s.xp6(2),s.Q6J("ngForOf",i.slides),s.xp6(1),s.Q6J("ngIf",i.showNavigationArrows),s.xp6(1),s.Q6J("ngIf",i.showNavigationArrows))},dependencies:[qi,_r,ti],encapsulation:2,changeDetection:0}),n})();var du=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(du||(du={})),du))();let i$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),r$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var ki=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(ki||(ki={})),ki))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const o$=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function a$(n){const e=Array.from(n.querySelectorAll(o$)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let g$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn,d0]]}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),y$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class Pg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let hX=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,hn.q)(1)).subscribe(()=>{Qs(this._zone,this._el.nativeElement,(t,i)=>{i&&Xy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class v${close(e){}dismiss(e){}}class fX{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Zn.x,this._dismissed=new Zn.x,this._hidden=new Zn.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Or(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Or(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function qj(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Dt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),jD(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var KC=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(KC||(KC={})),KC))();let pX=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Zn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new Zn.x,this.hidden=new Zn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":gF(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,hn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=jD(Qs(this._zone,t,()=>t.classList.remove("show"),i),Qs(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};jD(Qs(this._zone,this._elRef.nativeElement,(o,c)=>{c&&Xy(o),o.classList.add("show")},t),Qs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ys(t,"keydown").pipe(Or(this._closed$),Ai(r=>r.which===ki.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(KC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ys(this._dialogEl.nativeElement,"mousedown").pipe(Or(this._closed$),(0,xi.b)(()=>i=!1),ai(()=>Ys(t,"mouseup").pipe(Or(this._closed$),(0,hn.q)(1))),Ai(({target:r})=>t===r)).subscribe(()=>{i=!0}),Ys(t,"click").pipe(Or(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(KC.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=a$(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(H),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&s.Gf(TQ,7),2&t){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:oQ,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&t&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),gX=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:c}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mX=(()=>{class n{constructor(t,i,r,o,c,h){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=c,this._ngZone=h,this._activeWindowCmptHasChanged=new Zn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Ys(e,"focusin").pipe(Or(t),(0,At.U)(o=>o.target));Ys(e,"keydown").pipe(Or(t),Ai(o=>o.which===ki.Tab),sD(r)).subscribe(([o,c])=>{const[h,_]=a$(e);(c===h||c===e)&&o.shiftKey&&(_.focus(),o.preventDefault()),c===_&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&Ys(e,"click").pipe(Or(t),sD(r),(0,At.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r,o){const c=o.container instanceof HTMLElement?o.container:Ag(o.container)?this._document.querySelector(o.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _=new v$,w=this._getContentRef(t,o.injector||i,r,_,o);let S=!1!==o.backdrop?this._attachBackdrop(t,c):void 0,k=this._attachWindowComponent(t,c,w),K=new fX(k,w,S,o.beforeDismiss);return this._registerModalRef(K),this._registerWindowCmpt(k),K.hidden.pipe((0,hn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=ne=>{K.close(ne)},_.dismiss=ne=>{K.dismiss(ne)},this._applyWindowOptions(k.instance,o),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),S&&S.instance&&(this._applyBackdropOptions(S.instance,o),S.changeDetectorRef.detectChanges()),k.changeDetectorRef.detectChanges(),K}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let o=t.resolveComponentFactory(hX).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(t,i,r){let c=t.resolveComponentFactory(pX).create(this._injector,r.nodes);return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Ag(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Ag(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,o,c){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,o):gF(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,c):new Pg([])}_createFromTemplateRef(t,i){const o=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(o),new Pg([o.rootNodes],o)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Pg([[i]])}_createFromComponent(t,i,r,o,c){const h=t.resolveComponentFactory(r),_=s.zs3.create({providers:[{provide:v$,useValue:o}],parent:i}),w=h.create(_),S=w.location.nativeElement;return c.scrollable&&S.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new Pg([[S]],w.hostView,w)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(H),s.LFG(gX),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_X=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(KD))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b$=(()=>{class n{constructor(t,i,r,o){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=o}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(mX),s.LFG(_X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[b$]}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),k$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),R$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),F$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),AX=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xX=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new s.vpe,this.leave=new s.vpe,this.rateChange=new s.vpe(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case ki.ArrowDown:case ki.ArrowLeft:this.update(this.rate-1);break;case ki.ArrowUp:case ki.ArrowRight:this.update(this.rate+1);break;case ki.Home:this.update(0);break;case ki.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const r=pF(t,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,r)=>i.fill=Math.round(100*pF(t-r,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(AX),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,r){if(1&t&&s.Suo(r,s.Rgc,5),2&t){let o;s.iGM(o=s.CRH())&&(i.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&s.NdJ("blur",function(){return i.handleBlur()})("keydown",function(o){return i.handleKeyDown(o)})("mouseleave",function(){return i.reset()}),2&t&&(s.Ikx("tabindex",i.disabled?-1:0),s.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[s._Bn([{provide:Us,useExisting:(0,s.Gpc)(()=>n),multi:!0}]),s.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(s.YNc(0,rJ,1,1,"ng-template",null,0,s.W1O),s.YNc(2,oJ,4,5,"ng-template",1)),2&t&&(s.xp6(2),s.Q6J("ngForOf",i.contexts))},dependencies:[qi,_r],encapsulation:2,changeDetection:0}),n})(),L$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),V$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),B$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),U$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function NX(){return 100}});let H$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})(),G$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const kX=[Qj,Jj,e$,i$,r$,g$,y$,C$,S$,G$,k$,R$,F$,L$,V$,B$,U$,H$];let OX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[kX,Qj,Jj,e$,i$,r$,g$,y$,C$,S$,G$,k$,R$,F$,L$,V$,B$,U$,H$]}),n})();function RX(n,e){if(1&n&&(s.TgZ(0,"div",7)(1,"div",20)(2,"div",21),s._UZ(3,"img",22),s.TgZ(4,"div",23)(5,"h1"),s._uU(6," Hello: "),s.TgZ(7,"strong"),s._uU(8),s.qZA()(),s.TgZ(9,"p"),s._uU(10," User ID: "),s.TgZ(11,"strong"),s._uU(12),s.qZA()(),s.TgZ(13,"p"),s._uU(14," Email: "),s.TgZ(15,"strong"),s._uU(16),s.qZA()()()()()()),2&n){const t=e.ngIf;s.xp6(3),s.s9C("src",t.photoURL?t.photoURL:"/assets/dummy-user.png",s.LSH),s.s9C("alt",t.displayName),s.xp6(5),s.Oqu(t.displayName?t.displayName:"Super Admin"),s.xp6(4),s.Oqu(t.uid),s.xp6(4),s.Oqu(t.email)}}let FX=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],decls:26,vars:1,consts:[[1,"navbar","navbar-dark","fixed-top","bg-dark","flex-md-nowrap","p-0","shadow"],[1,"navbar-brand","col-sm-3","col-md-2","mr-0"],[1,"navbar-nav","px-3"],[1,"nav-item","text-nowrap"],["routerLink","/login",1,"nav-link"],[1,"fas","fa-sign-in-alt"],[1,"container-fluid","dashboardContainer"],[1,"row"],[1,"col-md-2","d-md-block","bg-light","sidebar"],[1,"sidebar-sticky"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link","active"],[3,"click"],[1,"nav-link"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"media"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(t,i){1&t&&(s.TgZ(0,"nav",0)(1,"span",1),s._uU(2," Dashboard "),s.qZA(),s.TgZ(3,"ul",2)(4,"li",3)(5,"a",4),s._UZ(6,"i",5),s._uU(7," Sign in "),s.qZA()()()(),s.TgZ(8,"div",6)(9,"div",7)(10,"nav",8)(11,"div",9)(12,"ul",10)(13,"li",11)(14,"a",12),s._uU(15," User Profile "),s.qZA()(),s.TgZ(16,"li",11)(17,"button",13),s.NdJ("click",function(){return i.authService.logout()}),s.TgZ(18,"a",14),s._uU(19," Log out "),s.qZA()()()()()(),s.TgZ(20,"main",15)(21,"div",16)(22,"div",17)(23,"h1",18),s._uU(24,"User Profile"),s.qZA()(),s.YNc(25,RX,17,5,"div",19),s.qZA()()()()),2&t&&(s.xp6(25),s.Q6J("ngIf",i.authService.userData))},dependencies:[ti,Hc,IF]}),n})(),LX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-faq"]],decls:2,vars:0,template:function(t,i){1&t&&(s.TgZ(0,"p"),s._uU(1,"faq works!"),s.qZA())}}),n})();var j$=g(7123);let VX=(()=>{class n{constructor(){}ngOnInit(){}test(){alert("it worked")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-search"]],decls:8,vars:0,consts:[[1,"search-box"],[1,"search-icon"],["src","../../../../assets/img/search.png","alt","search-icon"],["action","",1,"search-form"],["type","text","placeholder","Search","id","search","autocomplete","off",1,"input-class"],[1,"go-icon"],[1,"material-symbols-outlined","search-btn",3,"click"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"form",3),s._UZ(4,"input",4),s.qZA(),s.TgZ(5,"div",5)(6,"span",6),s.NdJ("click",function(){return i.test()}),s._uU(7," arrow_forward "),s.qZA()()())},dependencies:[Bm,Ya,jc],styles:[".search-box[_ngcontent-%COMP%]{display:flex;background-color:#fff;padding:7px;border-radius:120px;margin-right:10px}.search-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.input-class[_ngcontent-%COMP%]{outline:0;border:none;margin-left:10px;height:100%}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]}),n})(),$$=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.checkLoggedIn=!1,this.checkLoggedIn=!!this.auth.isLoggedIn}goToFAQ(){this.router.navigate(["/register"])}goToHome(){this.router.navigate(["/home"])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ig),s.Y36(ui))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header-normal"]],decls:27,vars:0,consts:[[3,"click"],[1,"nav-items",2,"display","flex"],[1,"middle-nav"],["routerLink","categories","routerLinkActive","active"],["routerLink","FAQ","routerLinkActive","active"],["src","https://cdn.lordicon.com/ndydpcaq.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer"],["href",""],["src","https://cdn.lordicon.com/uvextprq.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer"],["src","https://cdn.lordicon.com/aoggitwj.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer"],["src","https://cdn.lordicon.com/dklbhvrt.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer"],["href","",3,"click"],[1,"material-symbols-outlined"]],template:function(t,i){1&t&&(s.TgZ(0,"nav")(1,"h2",0),s.NdJ("click",function(){return i.goToHome()}),s._uU(2,"MERC"),s.qZA(),s.TgZ(3,"ul",1)(4,"div",2),s._UZ(5,"app-search"),s.TgZ(6,"li")(7,"a",3),s._uU(8,"Categories"),s.qZA()(),s.TgZ(9,"li")(10,"a",4),s._uU(11,"FAQ"),s.qZA()()(),s.TgZ(12,"li"),s._UZ(13,"lord-icon",5),s.qZA(),s.TgZ(14,"li")(15,"a",6),s._UZ(16,"lord-icon",7),s.qZA()(),s.TgZ(17,"li")(18,"a",6),s._UZ(19,"lord-icon",8),s.qZA()(),s.TgZ(20,"li")(21,"a",6),s._UZ(22,"lord-icon",9),s.qZA()(),s.TgZ(23,"li")(24,"a",10),s.NdJ("click",function(){return i.auth.logout()}),s.TgZ(25,"span",11),s._uU(26," logout "),s.qZA()()()()())},dependencies:[Hc,Yf,VX],styles:['nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem 2rem;background:#005DE8}nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f5f5f5;text-align:center;cursor:pointer;margin:0}.nav-items[_ngcontent-%COMP%]{list-style-type:none;margin:0}.nav-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 8px}.middle-nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 auto;float:center}.middle-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 10px 0}.middle-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{overflow-y:hidden;color:#fff;font-size:30px;margin:5px 10px 0;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}@media only screen and (max-width: 600px){nav[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;padding-top:.5rem}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0}}']}),n})();const BX=["ngcarousel"];function UX(n,e){1&n&&(s.TgZ(0,"div",3),s._UZ(1,"img",4),s.qZA())}function HX(n,e){1&n&&(s.TgZ(0,"div",3),s._UZ(1,"img",5),s.qZA())}let GX=(()=>{class n{constructor(){}ngOnInit(){}slideActivate(t){console.log(t.source),console.log(t.paused),console.log(du.INDICATOR),console.log(du.ARROW_LEFT),console.log(du.ARROW_RIGHT)}navigateToSlide(t){this.ngCarousel.select(t),console.log(t)}getToPrev(){this.ngCarousel.prev()}goToNext(){this.ngCarousel.next()}stopCarousel(){this.ngCarousel.pause()}restartCarousel(){this.ngCarousel.cycle()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-banner"]],viewQuery:function(t,i){if(1&t&&s.Gf(BX,7),2&t){let r;s.iGM(r=s.CRH())&&(i.ngCarousel=r.first)}},decls:3,vars:6,consts:[["id","slider",3,"showNavigationArrows","showNavigationIndicators","keyboard","pauseOnHover","wrap","activeId"],["ngbSlide","","id","firstSlide"],["ngbSlide","","id","secondSlide"],[1,"picsum-img-wrapper"],["src","../../../../assets/img/banner/1.jpg","alt","Angular Carousel 1"],["src","../../../../assets/img/banner/2.jpg","alt","Angular Carousel 2"]],template:function(t,i){1&t&&(s.TgZ(0,"ngb-carousel",0),s.YNc(1,UX,2,0,"ng-template",1),s.YNc(2,HX,2,0,"ng-template",2),s.qZA()),2&t&&s.Q6J("showNavigationArrows",!0)("showNavigationIndicators",!0)("keyboard",!0)("pauseOnHover",!0)("wrap",!0)("activeId","secondSlide")},dependencies:[n$,wF],styles:["ngb-carousel[_ngcontent-%COMP%]{max-width:700px;margin:50px auto}ngb-carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;outline:none}ngb-carousel[_ngcontent-%COMP%]{width:inherit;height:inherit}.carousel-inner[_ngcontent-%COMP%]{overflow:visible}.carousel-item[_ngcontent-%COMP%]{display:flex!important;opacity:0;visibility:hidden;transition:opacity 1.2s ease-in-out,visibility 1.2s;z-index:-1}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;z-index:10}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%], .carousel-indicators[_ngcontent-%COMP%]{z-index:20}","ngb-carousel[_ngcontent-%COMP%] {\n    max-width: 700px;\n    margin: 50px auto;\n  }\n\n  ngb-carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    width: 100%;\n    outline: none;\n  }\n\n  ngb-carousel[_ngcontent-%COMP%] {\n    width: inherit;\n    height: inherit;\n  }\n\n  .carousel-inner[_ngcontent-%COMP%] {\n    overflow: visible;\n  }\n\n  .carousel-item[_ngcontent-%COMP%] {\n    display: flex !important;\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity 1.2s ease-in-out, visibility 1.2s;\n    z-index: -1;\n  }\n\n  .carousel-item.active[_ngcontent-%COMP%] {\n    opacity: 1;\n    visibility: visible;\n    z-index: 10;\n  }\n\n  .carousel-control-prev[_ngcontent-%COMP%] {\n    z-index: 20;\n  }\n\n  .carousel-control-next[_ngcontent-%COMP%] {\n    z-index: 20;\n  }\n\n  .carousel-indicators[_ngcontent-%COMP%] {\n    z-index: 20;\n  }"]}),n})(),jX=(()=>{class n{constructor(){}ngOnInit(){}goToMore(){alert("works")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories"]],decls:36,vars:0,consts:[[1,"category"],[1,"category-header"],[1,"category-list"],[1,"category-item"],["src","../../../../assets/img/categories/phone.png","alt","phone"],["src","../../../../assets/img/categories/watch.png","alt","watch"],["src","../../../../assets/img/categories/shoe.png","alt","shoe"],["src","../../../../assets/img/categories/fashion.png","alt","fashion"],["src","../../../../assets/img/categories/computer.png","alt","computer"],[1,"category-more",3,"click"],["src","https://cdn.lordicon.com/iifryyua.json","trigger","loop-on-hover",2,"width","32px","height","32px"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Categories"),s.qZA(),s._UZ(4,"p"),s.qZA(),s.TgZ(5,"ul",2)(6,"li")(7,"div",3),s._UZ(8,"img",4),s.TgZ(9,"p"),s._uU(10,"Mobile & Accessories"),s.qZA()()(),s.TgZ(11,"li")(12,"div",3),s._UZ(13,"img",5),s.TgZ(14,"p"),s._uU(15,"Watches"),s.qZA()()(),s.TgZ(16,"li")(17,"div",3),s._UZ(18,"img",6),s.TgZ(19,"p"),s._uU(20,"Shoes"),s.qZA()()(),s.TgZ(21,"li")(22,"div",3),s._UZ(23,"img",7),s.TgZ(24,"p"),s._uU(25,"Fashion"),s.qZA()()(),s.TgZ(26,"li")(27,"div",3),s._UZ(28,"img",8),s.TgZ(29,"p"),s._uU(30,"Computer & Accessories"),s.qZA()()(),s.TgZ(31,"li")(32,"div",9),s.NdJ("click",function(){return i.goToMore()}),s._UZ(33,"lord-icon",10),s.TgZ(34,"p"),s._uU(35,"More"),s.qZA()()()()())},styles:[".category[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 auto;background-image:linear-gradient(315deg,#2a2a72 20%,#009ffd 94%);background-clip:text;-moz-background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center}.category[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:center;align-items:center}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{margin:5px;width:160px;height:220px;border:1px solid #ccc;border-radius:15px}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 2px #69696940;-webkit-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25);-moz-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25)}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;padding:5px;margin-left:5px}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;word-wrap:break-word;padding:0 5px}.category[_ngcontent-%COMP%]   .category-more[_ngcontent-%COMP%]{margin-left:35px;cursor:pointer}"]}),n})(),MF=(()=>{class n{constructor(t){this.http=t,this.status=["OUTOFSTOCK","INSTOCK","LOWSTOCK"],this.productNames=["Bamboo Watch","Black Watch","Blue Band","Blue T-Shirt","Bracelet","Brown Purse","Chakra Bracelet","Galaxy Earrings","Game Controller","Gaming Set","Gold Phone Case","Green Earbuds","Green T-Shirt","Grey T-Shirt","Headphones","Light Green T-Shirt","Lime Band","Mini Speakers","Painted Phone Case","Pink Band","Pink Purse","Purple Band","Purple Gemstone Necklace","Purple T-Shirt","Shoes","Sneakers","Teal T-Shirt","Yellow Earbuds","Yoga Mat","Yoga Set"]}getDiscountedProducts(){return this.http.get("/assets/data/discountedProducts.json").toPromise().then(t=>t.data).then(t=>t)}getAllProducts(){return this.http.get("/assets/data/products.json").toPromise().then(t=>t.data).then(t=>t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(EE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function $X(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",23),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.navigateToProductDetails(r.id,r.type))}),s._UZ(1,"img",24)(2,"img",25)(3,"img",26),s.qZA()}if(2&n){const t=s.oxw().$implicit,i=s.oxw();s.s9C("id",t.id),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image1,"",s.LSH),s.Q6J("ngClass",i.product1mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image2,"",s.LSH),s.Q6J("ngClass",i.product1subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image3,"",s.LSH),s.Q6J("ngClass",i.product1subImg1)}}function zX(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",23),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.navigateToProductDetails(r.id,r.type))}),s._UZ(1,"img",24)(2,"img",25)(3,"img",26),s.qZA()}if(2&n){const t=s.oxw().$implicit,i=s.oxw();s.s9C("id",t.id),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image1,"",s.LSH),s.Q6J("ngClass",i.product2mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image2,"",s.LSH),s.Q6J("ngClass",i.product2subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image3,"",s.LSH),s.Q6J("ngClass",i.product2subImg1)}}function WX(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",27),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.navigateToProductDetails(r.id,r.type))}),s._UZ(1,"img",24)(2,"img",25)(3,"img",26),s.qZA()}if(2&n){const t=s.oxw().$implicit,i=s.oxw();s.s9C("id",t.id),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image1,"",s.LSH),s.Q6J("ngClass",i.product3mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image2,"",s.LSH),s.Q6J("ngClass",i.product3subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",t.image3,"",s.LSH),s.Q6J("ngClass",i.product3subImg1)}}function qX(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50"),s.qZA())}function ZX(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50"),s.qZA())}function KX(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50"),s.qZA())}function YX(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50"),s.qZA())}function QX(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50\u2b50"),s.qZA())}function JX(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"span",28),s._uU(2,"Colour:"),s.qZA(),s.TgZ(3,"div",29)(4,"span",30),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color0,r.id))}),s.qZA(),s.TgZ(5,"span",31),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color1,r.id))}),s.qZA(),s.TgZ(6,"span",32),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color2,r.id))}),s.qZA()()()}if(2&n){const t=s.oxw(2);s.xp6(4),s.Q6J("ngClass",t.product1MainColor),s.xp6(1),s.Q6J("ngClass",t.product1SubColor0),s.xp6(1),s.Q6J("ngClass",t.product1SubColor1)}}function XX(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"span",28),s._uU(2,"Colour:"),s.qZA(),s.TgZ(3,"div",29)(4,"span",30),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color0,r.id))}),s.qZA(),s.TgZ(5,"span",31),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color1,r.id))}),s.qZA(),s.TgZ(6,"span",32),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color2,r.id))}),s.qZA()()()}if(2&n){const t=s.oxw(2);s.xp6(4),s.Q6J("ngClass",t.product2MainColor),s.xp6(1),s.Q6J("ngClass",t.product2SubColor0),s.xp6(1),s.Q6J("ngClass",t.product2SubColor1)}}function eee(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"span",28),s._uU(2,"Colour:"),s.qZA(),s.TgZ(3,"div",29)(4,"span",30),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color0,r.id))}),s.qZA(),s.TgZ(5,"span",31),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color1,r.id))}),s.qZA(),s.TgZ(6,"span",32),s.NdJ("click",function(){s.CHM(t);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.changeColor(r.color2,r.id))}),s.qZA()()()}if(2&n){const t=s.oxw(2);s.xp6(4),s.Q6J("ngClass",t.product3MainColor),s.xp6(1),s.Q6J("ngClass",t.product3SubColor0),s.xp6(1),s.Q6J("ngClass",t.product3SubColor1)}}function tee(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",3)(1,"div",4),s._UZ(2,"img",5)(3,"i",6),s.qZA(),s.TgZ(4,"div",7)(5,"div",8)(6,"lord-icon",9),s.NdJ("click",function(){const o=s.CHM(t).$implicit,c=s.oxw();return s.KtG(c.addToCart(o.id))}),s.qZA()(),s._UZ(7,"div")(8,"div"),s.qZA(),s.TgZ(9,"div",10),s.YNc(10,$X,4,7,"div",11),s.YNc(11,zX,4,7,"div",11),s.YNc(12,WX,4,7,"div",12),s.qZA(),s.TgZ(13,"div",13)(14,"p",14),s._uU(15),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA(),s.TgZ(18,"div",15)(19,"div",16),s.YNc(20,qX,2,0,"p",17),s.YNc(21,ZX,2,0,"p",17),s.YNc(22,KX,2,0,"p",17),s.YNc(23,YX,2,0,"p",17),s.YNc(24,QX,2,0,"p",17),s.qZA(),s.TgZ(25,"p"),s._uU(26),s.qZA()()(),s.TgZ(27,"div",18)(28,"div",19),s.YNc(29,JX,7,3,"div",17),s.YNc(30,XX,7,3,"div",17),s.YNc(31,eee,7,3,"div",17),s.qZA(),s.TgZ(32,"div",20)(33,"span",21),s._uU(34),s.qZA(),s.TgZ(35,"span",22),s._uU(36),s.qZA()()()()}if(2&n){const t=e.$implicit;s.xp6(2),s.MGl("src","../../../../assets/img/",t.logo,"",s.LSH),s.xp6(7),s.Q6J("ngSwitch",t.id),s.xp6(1),s.Q6J("ngSwitchCase",1e3),s.xp6(1),s.Q6J("ngSwitchCase",1001),s.xp6(1),s.Q6J("ngSwitchCase",1002),s.xp6(3),s.Oqu(t.name),s.xp6(2),s.Oqu(t.description),s.xp6(2),s.Q6J("ngSwitch",t.rating),s.xp6(1),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2),s.xp6(1),s.Q6J("ngSwitchCase",3),s.xp6(1),s.Q6J("ngSwitchCase",4),s.xp6(1),s.Q6J("ngSwitchCase",5),s.xp6(2),s.hij("(",t.sold," sold)"),s.xp6(2),s.Q6J("ngSwitch",t.id),s.xp6(1),s.Q6J("ngSwitchCase",1e3),s.xp6(1),s.Q6J("ngSwitchCase",1001),s.xp6(1),s.Q6J("ngSwitchCase",1002),s.xp6(3),s.hij("RM ",t.discountedPrice,""),s.xp6(2),s.hij("RM ",t.oldPrice,"")}}let nee=(()=>{class n{constructor(t,i){this.productService=t,this.router=i,this.discountedProducts=[],this.product1mainImg="active",this.product1subImg0="",this.product1subImg1="",this.product1MainColor=["circle","blue","active"],this.product1SubColor0=["circle","pink"],this.product1SubColor1=["circle","yellow"],this.product2mainImg="active",this.product2subImg0="",this.product2subImg1="",this.product2MainColor=["circle","black","active"],this.product2SubColor0=["circle","blue"],this.product2SubColor1=["circle","white"],this.product3mainImg="active",this.product3subImg0="",this.product3subImg1="",this.product3MainColor=["circle","burgundy","active"],this.product3SubColor0=["circle","green"],this.product3SubColor1=["circle","white"],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){this.productService.getDiscountedProducts().then(t=>{this.discountedProducts=t,console.log(this.discountedProducts)})}changeColor(t,i){1e3==i?(this.productColor0=this.discountedProducts.find(r=>r.id===i).color0,this.productColor1=this.discountedProducts.find(r=>r.id===i).color1,this.productColor2=this.discountedProducts.find(r=>r.id===i).color2,t==this.productColor0?(this.product1MainColor=["circle","blue","active"],this.product1SubColor0=["circle","pink"],this.product1SubColor1=["circle","yellow"],this.product1mainImg="active",this.product1subImg0="",this.product1subImg1=""):t==this.productColor1?(this.product1MainColor=["circle","blue"],this.product1SubColor0=["circle","pink","active"],this.product1SubColor1=["circle","yellow"],this.product1mainImg="",this.product1subImg0="active",this.product1subImg1=""):t==this.productColor2&&(this.product1MainColor=["circle","blue"],this.product1SubColor0=["circle","pink"],this.product1SubColor1=["circle","yellow","active"],this.product1mainImg="",this.product1subImg0="",this.product1subImg1="active")):1001==i?(this.productColor0=this.discountedProducts.find(r=>r.id===i).color0,this.productColor1=this.discountedProducts.find(r=>r.id===i).color1,this.productColor2=this.discountedProducts.find(r=>r.id===i).color2,t==this.productColor0?(this.product2MainColor=["circle","black","active"],this.product2SubColor0=["circle","blue"],this.product2SubColor1=["circle","white"],this.product2mainImg="active",this.product2subImg0="",this.product2subImg1=""):t==this.productColor1?(this.product2MainColor=["circle","black"],this.product2SubColor0=["circle","blue","active"],this.product2SubColor1=["circle","yellow"],this.product2mainImg="",this.product2subImg0="active",this.product2subImg1=""):t==this.productColor2&&(this.product2MainColor=["circle","black"],this.product2SubColor0=["circle","blue"],this.product2SubColor1=["circle","white","active"],this.product2mainImg="",this.product2subImg0="",this.product2subImg1="active")):1002==i&&(this.productColor0=this.discountedProducts.find(r=>r.id===i).color0,this.productColor1=this.discountedProducts.find(r=>r.id===i).color1,this.productColor2=this.discountedProducts.find(r=>r.id===i).color2,t==this.productColor0?(this.product3MainColor=["circle","burgundy","active"],this.product3SubColor0=["circle","green"],this.product3SubColor1=["circle","white"],this.product3mainImg="active",this.product3subImg0="",this.product3subImg1=""):t==this.productColor1?(this.product3MainColor=["circle","burgundy"],this.product3SubColor0=["circle","green","active"],this.product3SubColor1=["circle","white"],this.product3mainImg="",this.product3subImg0="active",this.product3subImg1=""):t==this.productColor2&&(this.product3MainColor=["circle","burgundy"],this.product3SubColor0=["circle","green"],this.product3SubColor1=["circle","white","active"],this.product3mainImg="",this.product3subImg0="",this.product3subImg1="active"))}navigateToProductDetails(t,i){this.router.navigate(["/product_details/",t,i])}addToCart(t){this.router.navigate(["/cart/",t])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(MF),s.Y36(ui))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-discounted-products"]],decls:7,vars:1,consts:[[1,"header"],[1,"product-container"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"logo-cart"],["alt","logo",3,"src"],[1,"bx","bx-shopping-bag"],[1,"product-right-panel"],[1,"add-to-cart"],["src","https://cdn.lordicon.com/aoggitwj.json","trigger","loop-on-hover","colors","primary:#005de8",2,"width","40px","height","40px","cursor","pointer",3,"click"],[3,"ngSwitch"],["class","main-images",3,"id","click",4,"ngSwitchCase"],["class","main-images last",3,"id","click",4,"ngSwitchCase"],[1,"shoe-details"],[1,"shoe_name"],[1,"rating-sold"],[1,"stars",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"color-price"],[1,"color-option",3,"ngSwitch"],[1,"price"],[1,"price_num"],[1,"price_letter"],[1,"main-images",3,"id","click"],["id","blue","alt","mainImg",3,"ngClass","src"],["id","pink","alt","subImg0",3,"ngClass","src"],["id","yellow","alt","subImg1",3,"ngClass","src"],[1,"main-images","last",3,"id","click"],[1,"color"],[1,"circles"],["id","mainColor",3,"ngClass","click"],["id","subColor0",3,"ngClass","click"],["id","subColor1",3,"ngClass","click"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Products on"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"SALE"),s.qZA()(),s.TgZ(5,"div",1),s.YNc(6,tee,37,20,"div",2),s.qZA()),2&t&&(s.xp6(6),s.Q6J("ngForOf",i.discountedProducts))},dependencies:[mc,qi,no,cr],styles:[".product-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card[_ngcontent-%COMP%]{position:relative;max-width:355px;width:100%;border-radius:25px;padding:20px 30px 30px;background:#fff;box-shadow:0 5px 10px #0003;z-index:3;overflow:hidden;margin:10px}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px 1px #005de8bf;-webkit-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75);-moz-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75)}.header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:uppercase;background-image:linear-gradient(315deg,#2a2a72 20%,#009ffd 94%);background-clip:text;-moz-background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center;padding-top:15px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:100px;font-weight:800;color:transparent;background-image:url(https://media.giphy.com/media/LnEeDF1IzKdZlHruw9/giphy-downsized-large.gif);background-position:center;-webkit-background-clip:text;margin:0 0 0 15px}.product-right-panel[_ngcontent-%COMP%]{float:right;margin-top:-35px}.product-right-panel[_ngcontent-%COMP%]:hover{transform:scale(1.15)}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;object-fit:cover}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:27px;color:#707070;cursor:pointer;transition:color .3s ease}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#333}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]{position:relative;height:250px;margin-top:10px;transition:.5s ease;cursor:pointer}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]:hover{transform:rotate(8deg)}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;height:300px;width:300px;object-fit:cover;transform:rotate(18deg);left:12px;top:-40px;z-index:-1;opacity:0;transition:opacity .5s ease}.last[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:15px;height:250px!important;width:250px!important}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{opacity:1}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]   .shoe_name[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#161616;text-align:center}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]{margin-top:-25px}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:justify}.rating-sold[_ngcontent-%COMP%]{display:flex}.rating-sold[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:5px}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 -1px;color:#333}.product-card[_ngcontent-%COMP%]   .color-price[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;align-items:center}.color-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.color-price[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#333;margin-right:8px}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]{display:flex}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:18px;width:18px;background:#0071C7;border-radius:50%;margin:0 4px;cursor:pointer;transition:all .4s ease}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.blue.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #0071c7}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.pink[_ngcontent-%COMP%]{background:#FA1795}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.pink.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #fa1795}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.yellow[_ngcontent-%COMP%]{background:#F5DA00}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.yellow.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #f5da00}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.black[_ngcontent-%COMP%]{background:#414a4c}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.black.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #414a4c}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.white[_ngcontent-%COMP%]{background:#FBFAF5;border:1px solid #ccc}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.white.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #414a4c}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.burgundy[_ngcontent-%COMP%]{background:#65081F}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.burgundy.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #65081f}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.green[_ngcontent-%COMP%]{background:#013220}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.green.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #013220}.color-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.color-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .price_num[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:#ff160c}.color-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .price_letter[_ngcontent-%COMP%]{font-size:10px;font-weight:600;margin-top:-4px;color:#707070;text-decoration:line-through}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;height:50px;width:100%;border-radius:25px;margin-top:30px;overflow:hidden}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-layer[_ngcontent-%COMP%]{position:absolute;height:100%;width:300%;left:-100%;background-image:linear-gradient(135deg,#9708CC,#43CBFF,#9708CC,#43CBFF);transition:all .4s ease;border-radius:25PX}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .button-layer[_ngcontent-%COMP%]{left:0}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;background:none;outline:none;border:none;font-size:18px;font-weight:600;letter-spacing:1px;color:#fff}"]}),n})(),iee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ar"]],decls:2,vars:0,template:function(t,i){1&t&&(s.TgZ(0,"p"),s._uU(1,"ar works!"),s.qZA())}}),n})(),ree=(()=>{class n{constructor(t,i){this.router=t,this.route=i,this.body=document.body,this.html=document.documentElement,this.id="#banner",this.height=Math.max(this.body.scrollHeight,this.body.offsetHeight,this.html.clientHeight,this.html.scrollHeight,this.html.offsetHeight),this.test=this.height-74,this.style={height:"800",margin:"0","background-color":"#5ca0f2","background-image":"linear-gradient(315deg, #5ca0f2 0%, #f5f7f6 74%)"}}ngOnInit(){j$.init()}scrollDown(){this.router.navigateByUrl("/home#banner")}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ui),s.Y36(I))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-head"]],decls:18,vars:1,consts:[[3,"ngStyle"],["src","https://thumbs.dreamstime.com/b/imitation-transparent-background-seamless-vector-illustration-69028332.jpg","alt","img",2,"opacity","0"],["data-aos","fade-up","data-aos-duration","2000",1,"left-panel"],["src","../../../../assets/img/banner/left.png","alt","left-panel"],[1,"right-panel"],[1,"container"],[1,"heading"],["data-aos","fade-up","data-aos-duration","2000",1,"ar-text"],["data-text","The Future of AR",1,"hero","glitch","layers"],["id","section10",1,"demo"],[2,"cursor","pointer",3,"click"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"img",1),s.TgZ(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),s._uU(7,"Welcome"),s.qZA()(),s.TgZ(8,"h1"),s._uU(9," to Malaysia's first Augmented Reality based Ecommerce Platform"),s.qZA()(),s.TgZ(10,"div",7)(11,"h2",8)(12,"span"),s._uU(13,"The Future of AR"),s.qZA()()(),s.TgZ(14,"section",9)(15,"a",10),s.NdJ("click",function(){return i.scrollDown()}),s._UZ(16,"span"),s._uU(17,"Scroll"),s.qZA()()()),2&t&&s.Q6J("ngStyle",i.style)},dependencies:[ba],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%!important;margin:0}.bg[_ngcontent-%COMP%]{background-color:#5ca0f2;background-image:linear-gradient(315deg,#5ca0f2 0%,#f5f7f6 74%);background-position:center;background-repeat:no-repeat;background-size:cover}.left-panel[_ngcontent-%COMP%]{position:absolute;top:15%;margin-left:15px}.right-panel[_ngcontent-%COMP%]{position:absolute;top:10%;right:0;width:50%;font-family:Playfair Display,serif;font-weight:700;color:#414a4c;font-size:x-large;letter-spacing:1px;line-height:55px;margin:.5em .5em 0;font-style:italic}.right-panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:3rem 0 2rem}.right-panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#2a2ad1;font-size:10vw;text-shadow:2px 2px 15px #4d8eef;animation:fadeIn 2.5s linear forwards;font-style:italic}.right-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-style:normal}.ar-text[_ngcontent-%COMP%]{position:absolute;bottom:25%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center}.ar-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.hero[_ngcontent-%COMP%]{font-size:clamp(40px,10vw,50px);line-height:1;display:inline-block;color:#fff;z-index:2;letter-spacing:10px;filter:drop-shadow(0 1px 3px)}.layers[_ngcontent-%COMP%]{position:relative}.layers[_ngcontent-%COMP%]:before, .layers[_ngcontent-%COMP%]:after{content:attr(data-text);position:absolute;width:110%;z-index:-1}.layers[_ngcontent-%COMP%]:before{top:10px;left:15px;color:#e0287d}.layers[_ngcontent-%COMP%]:after{top:5px;left:-10px;color:#1bc7fb}.glitch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation:paths 5s step-end infinite}.glitch[_ngcontent-%COMP%]:before{animation:paths 5s step-end infinite,opacity 5s step-end infinite,font 8s step-end infinite,movement 10s step-end infinite}.glitch[_ngcontent-%COMP%]:after{animation:paths 5s step-end infinite,opacity 5s step-end infinite,font 7s step-end infinite,movement 8s step-end infinite}.hero-container[_ngcontent-%COMP%]{position:relative;padding:200px 0;text-align:center}.single-path[_ngcontent-%COMP%]{clip-path:polygon(0% 12%,53% 12%,53% 26%,25% 26%,25% 86%,31% 86%,31% 0%,53% 0%,53% 84%,92% 84%,92% 82%,70% 82%,70% 29%,78% 29%,78% 65%,69% 65%,69% 66%,77% 66%,77% 45%,85% 45%,85% 26%,97% 26%,97% 28%,84% 28%,84% 34%,54% 34%,54% 89%,30% 89%,30% 58%,83% 58%,83% 5%,68% 5%,68% 36%,62% 36%,62% 1%,12% 1%,12% 34%,60% 34%,60% 57%,98% 57%,98% 83%,1% 83%,1% 53%,91% 53%,91% 84%,8% 84%,8% 83%,4% 83%)}.paths[_ngcontent-%COMP%]{animation:paths 5s step-end infinite}@keyframes paths{0%{clip-path:polygon(0% 43%,83% 43%,83% 22%,23% 22%,23% 24%,91% 24%,91% 26%,18% 26%,18% 83%,29% 83%,29% 17%,41% 17%,41% 39%,18% 39%,18% 82%,54% 82%,54% 88%,19% 88%,19% 4%,39% 4%,39% 14%,76% 14%,76% 52%,23% 52%,23% 35%,19% 35%,19% 8%,36% 8%,36% 31%,73% 31%,73% 16%,1% 16%,1% 56%,50% 56%,50% 8%)}5%{clip-path:polygon(0% 29%,44% 29%,44% 83%,94% 83%,94% 56%,11% 56%,11% 64%,94% 64%,94% 70%,88% 70%,88% 32%,18% 32%,18% 96%,10% 96%,10% 62%,9% 62%,9% 84%,68% 84%,68% 50%,52% 50%,52% 55%,35% 55%,35% 87%,25% 87%,25% 39%,15% 39%,15% 88%,52% 88%)}30%{clip-path:polygon(0% 53%,93% 53%,93% 62%,68% 62%,68% 37%,97% 37%,97% 89%,13% 89%,13% 45%,51% 45%,51% 88%,17% 88%,17% 54%,81% 54%,81% 75%,79% 75%,79% 76%,38% 76%,38% 28%,61% 28%,61% 12%,55% 12%,55% 62%,68% 62%,68% 51%,0% 51%,0% 92%,63% 92%,63% 4%,65% 4%)}45%{clip-path:polygon(0% 33%,2% 33%,2% 69%,58% 69%,58% 94%,55% 94%,55% 25%,33% 25%,33% 85%,16% 85%,16% 19%,5% 19%,5% 20%,79% 20%,79% 96%,93% 96%,93% 50%,5% 50%,5% 74%,55% 74%,55% 57%,96% 57%,96% 59%,87% 59%,87% 65%,82% 65%,82% 39%,63% 39%,63% 92%,4% 92%,4% 36%,24% 36%,24% 70%,1% 70%,1% 43%,15% 43%,15% 28%,23% 28%,23% 71%,90% 71%,90% 86%,97% 86%,97% 1%,60% 1%,60% 67%,71% 67%,71% 91%,17% 91%,17% 14%,39% 14%,39% 30%,58% 30%,58% 11%,52% 11%,52% 83%,68% 83%)}76%{clip-path:polygon(0% 26%,15% 26%,15% 73%,72% 73%,72% 70%,77% 70%,77% 75%,8% 75%,8% 42%,4% 42%,4% 61%,17% 61%,17% 12%,26% 12%,26% 63%,73% 63%,73% 43%,90% 43%,90% 67%,50% 67%,50% 41%,42% 41%,42% 46%,50% 46%,50% 84%,96% 84%,96% 78%,49% 78%,49% 25%,63% 25%,63% 14%)}90%{clip-path:polygon(0% 41%,13% 41%,13% 6%,87% 6%,87% 93%,10% 93%,10% 13%,89% 13%,89% 6%,3% 6%,3% 8%,16% 8%,16% 79%,0% 79%,0% 99%,92% 99%,92% 90%,5% 90%,5% 60%,0% 60%,0% 48%,89% 48%,89% 13%,80% 13%,80% 43%,95% 43%,95% 19%,80% 19%,80% 85%,38% 85%,38% 62%)}1%,7%,33%,47%,78%,93%{clip-path:none}}.movement[_ngcontent-%COMP%]{position:relative;animation:movement 8s step-end infinite}@keyframes movement{0%{top:0px;left:-20px}15%{top:10px;left:10px}60%{top:5px;left:-10px}75%{top:-5px;left:20px}to{top:10px;left:5px}}.opacity[_ngcontent-%COMP%]{animation:opacity 5s step-end infinite}@keyframes opacity{0%{opacity:.1}5%{opacity:.7}30%{opacity:.4}45%{opacity:.6}76%{opacity:.4}90%{opacity:.8}1%,7%,33%,47%,78%,93%{opacity:0}}.font[_ngcontent-%COMP%]{animation:font 7s step-end infinite}@keyframes font{0%{font-weight:100;color:#e0287d;filter:blur(3px)}20%{font-weight:500;color:#fff;filter:blur(0)}50%{font-weight:300;color:#1bc7fb;filter:blur(2px)}60%{font-weight:700;color:#fff;filter:blur(0)}90%{font-weight:500;color:#e0287d;filter:blur(6px)}}.demo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;z-index:2;display:inline-block;transform:translateY(-50%);color:#fff;font: 400 20px/1 Josefin Sans,sans-serif;letter-spacing:.1em;text-decoration:none;transition:opacity .3s}.demo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.5}#section10[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-top:60px}#section10[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:30px;height:50px;margin-left:-15px;border:2px solid #fff;border-radius:50px;box-sizing:border-box}#section10[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{position:absolute;top:10px;left:50%;content:"";width:6px;height:6px;margin-left:-3px;background-color:#fff;border-radius:100%;animation:sdb10 2s infinite;box-sizing:border-box}@keyframes sdb10{0%{transform:translate(0);opacity:0}40%{opacity:1}80%{transform:translateY(20px);opacity:0}to{opacity:0}}']}),n})(),z$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:73,vars:0,consts:[[1,"footer"],[1,"container","p-4"],[1,"mb-4","text-center"],["href","#!","role","button",1,"btn","btn-outline-light","btn-floating","m-1"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-google"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin-in"],[1,"fab","fa-github"],[1,""],["action",""],[1,"row","d-flex","justify-content-center"],[1,"col-auto"],[1,"pt-2"],[1,"col-md-5","col-12"],[1,"form-outline","form-white","mb-4"],["type","email","id","form5Example21",1,"form-control"],["for","form5Example21",1,"form-label"],["type","submit",1,"btn","btn-outline-light","mb-4"],[1,"row"],[1,"col-lg-3","col-md-6","mb-4","mb-md-0","links"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["href","#!",1,"text-white"],[1,"col-lg-3","col-md-6","mb-4","mb-md-0","qr"],["src","../../../assets/img/qr.png","alt","qr-code"],[1,"col-lg-2","col-md-6","mb-4","mb-md-0","store"],["src","../../../assets/img/googleplay.png","alt","play-store"],["src","../../../assets/img/appstore.png","alt","app-store"],[1,"text-center","p-3",2,"background-color","rgba(0, 0, 0, 0.2)"]],template:function(t,i){1&t&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"section",2)(3,"a",3),s._UZ(4,"i",4),s.qZA(),s.TgZ(5,"a",3),s._UZ(6,"i",5),s.qZA(),s.TgZ(7,"a",3),s._UZ(8,"i",6),s.qZA(),s.TgZ(9,"a",3),s._UZ(10,"i",7),s.qZA(),s.TgZ(11,"a",3),s._UZ(12,"i",8),s.qZA(),s.TgZ(13,"a",3),s._UZ(14,"i",9),s.qZA()(),s.TgZ(15,"section",10)(16,"form",11)(17,"div",12)(18,"div",13)(19,"p",14)(20,"strong"),s._uU(21,"Sign up for our newsletter"),s.qZA()()(),s.TgZ(22,"div",15)(23,"div",16),s._UZ(24,"input",17),s.TgZ(25,"label",18),s._uU(26,"Email address"),s.qZA()()(),s.TgZ(27,"div",13)(28,"button",19),s._uU(29," Subscribe "),s.qZA()()()()(),s.TgZ(30,"section",10)(31,"div",20)(32,"div",21)(33,"h5",22),s._uU(34,"Useful Links"),s.qZA(),s.TgZ(35,"ul",23)(36,"li")(37,"a",24),s._uU(38,"Home"),s.qZA()(),s.TgZ(39,"li")(40,"a",24),s._uU(41,"Categories"),s.qZA()(),s.TgZ(42,"li")(43,"a",24),s._uU(44,"Shopping Cart"),s.qZA()(),s.TgZ(45,"li")(46,"a",24),s._uU(47,"FAQ"),s.qZA()()()(),s.TgZ(48,"div",21)(49,"h5",22),s._uU(50,"MERC"),s.qZA(),s.TgZ(51,"ul",23)(52,"li")(53,"a",24),s._uU(54,"About Us"),s.qZA()(),s.TgZ(55,"li")(56,"a",24),s._uU(57,"Contact Us"),s.qZA()(),s.TgZ(58,"li")(59,"a",24),s._uU(60,"Seller Center"),s.qZA()(),s.TgZ(61,"li")(62,"a",24),s._uU(63,"Privacy Policy"),s.qZA()()()(),s.TgZ(64,"div",25)(65,"h5",22),s._uU(66,"MERC APP DOWNLOAD"),s.qZA(),s._UZ(67,"img",26),s.qZA(),s.TgZ(68,"div",27),s._UZ(69,"img",28)(70,"img",29),s.qZA()()()(),s.TgZ(71,"div",30),s._uU(72," Copyright \xa9 2022 Ryan Wong Yi Syen. All Rights Reserved "),s.qZA()())},dependencies:[Bm,Ya,jc],styles:[".footer[_ngcontent-%COMP%]{background-color:#005de8;color:#f6f6f6}.links[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-decoration:underline}.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.qr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}.store[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}.store[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){margin-top:-100px}"]}),n})(),see=(()=>{class n{constructor(){this.body=document.body,this.html=document.documentElement,this.height=Math.max(this.body.scrollHeight,this.body.offsetHeight,this.html.clientHeight,this.html.scrollHeight,this.html.offsetHeight),this.test=this.height-74,this.style={height:"800",margin:"0","background-color":"#5ca0f2","background-image":"linear-gradient(315deg, #5ca0f2 0%, #f5f7f6 74%)"}}ngOnInit(){j$.init()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-main"]],decls:9,vars:0,consts:[["id","banner"]],template:function(t,i){1&t&&(s.TgZ(0,"body"),s._UZ(1,"app-header-normal")(2,"app-head")(3,"div",0)(4,"app-banner")(5,"app-categories")(6,"app-discounted-products")(7,"app-ar")(8,"app-footer"),s.qZA())},dependencies:[$$,GX,jX,nee,iee,ree,z$]}),n})(),oee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories-main"]],decls:2,vars:0,template:function(t,i){1&t&&(s.TgZ(0,"p"),s._uU(1,"categories-main works!"),s.qZA())}}),n})();const aee=["*"];let W$=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.platformId=r,this.afterChange=new s.vpe,this.beforeChange=new s.vpe,this.breakpoint=new s.vpe,this.destroy=new s.vpe,this.init=new s.vpe,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!yu(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const t=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===t?this.unslick():(this._addedSlides.forEach(i=>{this.slides.push(i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",i.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(i=>{const r=this.slides.indexOf(i);this.slides=this.slides.filter(o=>o!==i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",r)})}),this._removedSlides=[]):t>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(t,i)=>{this.zone.run(()=>{this.init.emit({event:t,slick:i})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(t,i,r)=>{this.zone.run(()=>{this.afterChange.emit({event:t,slick:i,currentSlide:r,first:0===r,last:i.$slides.length===r+i.options.slidesToScroll}),this.currentIndex=r})}),this.$instance.on("beforeChange",(t,i,r,o)=>{this.zone.run(()=>{this.beforeChange.emit({event:t,slick:i,currentSlide:r,nextSlide:o}),this.currentIndex=o})}),this.$instance.on("breakpoint",(t,i,r)=>{this.zone.run(()=>{this.breakpoint.emit({event:t,slick:i,breakpoint:r})})}),this.$instance.on("destroy",(t,i)=>{this.zone.run(()=>{this.destroy.emit({event:t,slick:i}),this.initialized=!1})})})}addSlide(t){this._addedSlides.push(t)}removeSlide(t){this._removedSlides.push(t)}slickGoTo(t){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",t)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(t){if(this.initialized){const i=t.config;if(i.previousValue!==i.currentValue&&void 0!==i.currentValue){const r=i.currentValue.refresh,o=Object.assign({},i.currentValue);delete o.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",o,r)})}}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[s._Bn([{provide:Us,useExisting:(0,s.Gpc)(()=>n),multi:!0}]),s.TTD],ngContentSelectors:aee,decls:1,vars:0,template:function(t,i){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),lee=(()=>{class n{constructor(t,i,r){this.el=t,this.platformId=i,this.carousel=r}ngOnInit(){_l(this.platformId)&&this.carousel.addSlide(this)}ngOnDestroy(){_l(this.platformId)&&this.carousel.removeSlide(this)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Lbi),s.Y36(W$,1))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngxSlickItem",""]]}),n})(),cee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Mn]]}),n})();function uee(n,e){if(1&n&&(s.TgZ(0,"div",4),s._UZ(1,"img",5),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.s9C("src",t.img,s.LSH)}}let dee=(()=>{class n{constructor(){this.slides=[{img:"https://via.placeholder.com/600.png/09f/fff"},{img:"https://via.placeholder.com/600.png/021/fff"},{img:"https://via.placeholder.com/600.png/321/fff"},{img:"https://via.placeholder.com/600.png/422/fff"},{img:"https://via.placeholder.com/600.png/654/fff"}],this.slideConfig={slidesToShow:4,slidesToScroll:4}}addSlide(){this.slides.push({img:"http://placehold.it/350x150/777777"})}removeSlide(){this.slides.length=this.slides.length-1}slickInit(t){console.log("slick initialized")}breakpoint(t){console.log("breakpoint")}afterChange(t){console.log("afterChange")}beforeChange(t){console.log("beforeChange")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-test"]],decls:11,vars:2,consts:[[1,"carousel",2,"width","88%","margin","auto","background","rgb(14, 13, 13)",3,"config","init","breakpoint","afterChange","beforeChange"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf"],[3,"click"],["ngxSlickItem","",1,"slide"],["alt","","width","100%",3,"src"]],template:function(t,i){if(1&t){const r=s.EpF();s.TgZ(0,"ngx-slick-carousel",0,1),s.NdJ("init",function(c){return i.slickInit(c)})("breakpoint",function(c){return i.breakpoint(c)})("afterChange",function(c){return i.afterChange(c)})("beforeChange",function(c){return i.beforeChange(c)}),s.YNc(2,uee,2,1,"div",2),s.qZA(),s.TgZ(3,"button",3),s.NdJ("click",function(){return i.addSlide()}),s._uU(4,"Add"),s.qZA(),s.TgZ(5,"button",3),s.NdJ("click",function(){return i.removeSlide()}),s._uU(6,"Remove"),s.qZA(),s.TgZ(7,"button",3),s.NdJ("click",function(){s.CHM(r);const c=s.MAs(1);return s.KtG(c.slickGoTo(2))}),s._uU(8,"slickGoto 2"),s.qZA(),s.TgZ(9,"button",3),s.NdJ("click",function(){s.CHM(r);const c=s.MAs(1);return s.KtG(c.unslick())}),s._uU(10,"unslick"),s.qZA()}2&t&&(s.Q6J("config",i.slideConfig),s.xp6(2),s.Q6J("ngForOf",i.slides))},dependencies:[qi,W$,lee],styles:[".slick-slider[_ngcontent-%COMP%] {\n    width: 88%;\n    margin: auto;\n    background: rgb(14, 13, 13);\n  }\n\n  body[_ngcontent-%COMP%]   .slick-prev[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .slick-next[_ngcontent-%COMP%] {\n    height: 45px;\n    width: 40px;\n    background: grey !important;\n    z-index: 100;\n  }"]}),n})(),hee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-similar-products"]],decls:0,vars:0,template:function(t,i){}}),n})();function fee(n,e){1&n&&(s.TgZ(0,"p",5),s._uU(1,"Highlights"),s.qZA())}function pee(n,e){1&n&&(s.TgZ(0,"div",6)(1,"div",7),s._UZ(2,"img",8),s.TgZ(3,"h4"),s._uU(4,"WRAPPED BOOST MIDSOLE"),s.qZA(),s.TgZ(5,"p"),s._uU(6,"The responsive midsole with a striking gradient delivers the cushioned comfort of wrapped Boost."),s.qZA()(),s.TgZ(7,"div",7),s._UZ(8,"img",9),s.TgZ(9,"h4"),s._uU(10,"LIGHTWEIGHT MESH UPPER"),s.qZA(),s.TgZ(11,"p"),s._uU(12,"A smooth mesh upper with TPU overlays wraps the foot in adaptive support and breathable comfort."),s.qZA(),s._UZ(13,"br"),s.qZA(),s.TgZ(14,"div",7),s._UZ(15,"img",10),s.TgZ(16,"h4"),s._uU(17,"NEXT-LEVEL COMFORT"),s.qZA(),s.TgZ(18,"p"),s._uU(19,"Innovated for the ultimate squish, new wrapped Boost makes every step a sensation."),s.qZA(),s._UZ(20,"br"),s.qZA()())}function gee(n,e){1&n&&(s.TgZ(0,"p",5),s._uU(1,"Description"),s.qZA())}function mee(n,e){1&n&&(s.TgZ(0,"div",11)(1,"div",12)(2,"h4"),s._uU(3,"FUTURE-READY TRAINERS WITH WRAPPED BOOST CUSHIONING IN A VIVID GRADIENT."),s.qZA(),s.TgZ(4,"p"),s._uU(5,"Slip in to experience what can't be explained. ZX never felt so good. Innovated for the ultimate squish with new wrapped Boost. Swaddled in a TPU heel cage, it makes stepping a sensation. Feeling starts before you even take the first squishy step."),s.qZA()(),s._UZ(6,"img",13),s.qZA())}function _ee(n,e){1&n&&(s.TgZ(0,"p",5),s._uU(1,"Details"),s.qZA())}function yee(n,e){if(1&n&&(s.TgZ(0,"div",14)(1,"div",15)(2,"ul")(3,"li"),s._uU(4,"Lace closure"),s.qZA(),s.TgZ(5,"li"),s._uU(6,"Mesh upper with TPU overlays"),s.qZA(),s.TgZ(7,"li"),s._uU(8,"Responsive, supportive sneakers"),s.qZA(),s.TgZ(9,"li"),s._uU(10,"Distinctive Boost midsole"),s.qZA()()(),s.TgZ(11,"div",16)(12,"ul")(13,"li"),s._uU(14,"Rubber outsole"),s.qZA(),s.TgZ(15,"li"),s._uU(16,"Color: Cloud White / Cloud White / Shock Pink"),s.qZA(),s.TgZ(17,"li"),s._uU(18),s.qZA()()()()),2&n){const t=s.oxw();s.xp6(18),s.hij("Product ID: ",t.productId,"")}}let vee=(()=>{class n{constructor(t,i){this._Activatedroute=t,this.router=i}ngOnInit(){this._Activatedroute.paramMap.subscribe(t=>{this.productId=t.get("id")}),this.router.events.subscribe(t=>{t instanceof Wo&&window.scrollTo(0,0)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(I),s.Y36(ui))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-product-details-accordion"]],decls:12,vars:0,consts:[[1,"container"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"title"],[1,"highlights-container"],[1,"highlight-section"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/3.png","alt","img3"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/2.png","alt","img2"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/1.png","alt","img1"],[1,"description-container"],[1,"description"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/4.png","alt","img4"],[1,"details-container"],[1,"left-section"],[1,"right-section"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"ngb-accordion",1,2)(3,"ngb-panel"),s.YNc(4,fee,2,0,"ng-template",3),s.YNc(5,pee,21,0,"ng-template",4),s.qZA(),s.TgZ(6,"ngb-panel"),s.YNc(7,gee,2,0,"ng-template",3),s.YNc(8,mee,7,0,"ng-template",4),s.qZA(),s.TgZ(9,"ngb-panel"),s.YNc(10,_ee,2,0,"ng-template",3),s.YNc(11,yee,19,1,"ng-template",4),s.qZA()()())},dependencies:[bF,YD,yF,vF],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.title[_ngcontent-%COMP%]{font-weight:600;color:#005de8}.highlights-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 20px}.highlight-section[_ngcontent-%COMP%]{max-width:250px;padding-top:10px;display:flex;flex-direction:column;justify-content:center}.highlight-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.highlight-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}.highlight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify;font-size:smaller}.description-container[_ngcontent-%COMP%]{margin:20px;display:flex}.description-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding-right:30px;display:flex;flex-direction:column;justify-content:center}.description-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:360px}.description-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:italic;font-family:AdihausDIN Cn,Helvetica,Arial,sans-serif;font-weight:600}.description-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.details-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px}"]}),n})(),q$=(()=>{class n{constructor(t){this.http=t}getFirstProductImages(){return this.http.get("assets/data/gallery.json").toPromise().then(t=>t.data).then(t=>t)}getSecondProductImages(){return this.http.get("assets/data/gallery.json").toPromise().then(t=>t.data1).then(t=>t)}getThirdProductImages(){return this.http.get("assets/data/gallery.json").toPromise().then(t=>t.data2).then(t=>t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(EE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ma=(()=>{class n{static addClass(t,i){t.classList?t.classList.add(i):t.className+=" "+i}static addMultipleClasses(t,i){if(t.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)t.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)t.className+=" "+r[o]}}static removeClass(t,i){t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,i){return t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return t?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==t)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],o=0;for(var c=0;c<r.length;c++){if(r[c]==t)return o;r[c].attributes&&r[c].attributes[i]&&1==r[c].nodeType&&o++}return-1}static relativePosition(t,i){let r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const o=i.offsetHeight,c=i.getBoundingClientRect(),h=this.getViewport();let _,w;c.top+o+r.height>h.height?(_=-1*r.height,t.style.transformOrigin="bottom",c.top+_<0&&(_=-1*c.top)):(_=o,t.style.transformOrigin="top"),w=r.width>h.width?-1*c.left:c.left+r.width>h.width?-1*(c.left+r.width-h.width):0,t.style.top=_+"px",t.style.left=w+"px"}static absolutePosition(t,i){let ne,ue,r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.height,c=r.width,h=i.offsetHeight,_=i.offsetWidth,w=i.getBoundingClientRect(),S=this.getWindowScrollTop(),k=this.getWindowScrollLeft(),K=this.getViewport();w.top+h+o>K.height?(ne=w.top+S-o,t.style.transformOrigin="bottom",ne<0&&(ne=S)):(ne=h+w.top+S,t.style.transformOrigin="top"),ue=w.left+c>K.width?Math.max(0,w.left+k+_-c):w.left+k,t.style.top=ne+"px",t.style.left=ue+"px"}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t);const o=/(auto|scroll)/,c=h=>{let _=window.getComputedStyle(h,null);return o.test(_.getPropertyValue("overflow"))||o.test(_.getPropertyValue("overflowX"))||o.test(_.getPropertyValue("overflowY"))};for(let h of r){let _=1===h.nodeType&&h.dataset.scrollselectors;if(_){let w=_.split(",");for(let S of w){let k=this.findSingle(h,S);k&&c(k)&&i.push(k)}}9!==h.nodeType&&c(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,c=getComputedStyle(t).getPropertyValue("paddingTop"),h=c?parseFloat(c):0,_=t.getBoundingClientRect(),S=i.getBoundingClientRect().top+document.body.scrollTop-(_.top+document.body.scrollTop)-o-h,k=t.scrollTop,K=t.clientHeight,ne=this.getOuterHeight(i);S<0?t.scrollTop=k+S:S+ne>K&&(t.scrollTop=k+S-K+ne)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,o=0,c=function(){o=+t.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,t.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(t,i){var r=1,h=50/i;let _=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(_)),t.style.opacity=r},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let o=getComputedStyle(t);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||o.clientWidth,height:t.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let i=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})(),bee=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(ma.removeClass(i,"p-ink-active"),!ma.getHeight(i)&&!ma.getWidth(i)){let h=Math.max(ma.getOuterWidth(this.el.nativeElement),ma.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=ma.getOffset(this.el.nativeElement),o=t.pageX-r.left+document.body.scrollTop-ma.getWidth(i)/2,c=t.pageY-r.top+document.body.scrollLeft-ma.getHeight(i)/2;i.style.top=c+"px",i.style.left=o+"px",ma.addClass(i,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&ma.removeClass(t,"p-ink-active")}onAnimationEnd(t){ma.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),ma.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Ra,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();var Z$=0;!function wee(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0}();const Eee=["itemsContainer"];function Tee(n,e){1&n&&s.GkF(0)}function See(n,e){if(1&n&&(s.TgZ(0,"div",11),s.Hsn(1),s.YNc(2,Tee,1,0,"ng-container",12),s.qZA()),2&n){const t=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",t.headerTemplate)}}const Iee=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},Dee=function(n,e){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":e}};function Aee(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.navBackward(r))}),s._UZ(1,"span",2),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("ngClass",s.VKq(3,Iee,t.isBackwardNavDisabled()))("disabled",t.isBackwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,Dee,!t.isVertical(),t.isVertical()))}}function xee(n,e){1&n&&s.GkF(0)}const K$=function(n,e,t){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":e,"p-carousel-item-end":t}},NF=function(n){return{$implicit:n}};function Mee(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,xee,1,0,"ng-container",14),s.qZA()),2&n){const t=e.$implicit,i=e.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,K$,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,NF,t))}}function Pee(n,e){1&n&&s.GkF(0)}const Nee=function(n,e,t){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":e,"p-carousel-item-end":t}};function kee(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,Pee,1,0,"ng-container",14),s.qZA()),2&n){const t=e.$implicit,i=e.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,Nee,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,NF,t))}}function Oee(n,e){1&n&&s.GkF(0)}function Ree(n,e){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,Oee,1,0,"ng-container",14),s.qZA()),2&n){const t=e.$implicit,i=e.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,K$,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,NF,t))}}const Fee=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},Lee=function(n,e){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":e}};function Vee(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(r){s.CHM(t);const o=s.oxw();return s.KtG(o.navForward(r))}),s._UZ(1,"span",2),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("ngClass",s.VKq(3,Fee,t.isForwardNavDisabled()))("disabled",t.isForwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,Lee,!t.isVertical(),t.isVertical()))}}const Bee=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function Uee(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li",2)(1,"button",15),s.NdJ("click",function(r){const c=s.CHM(t).index,h=s.oxw(2);return s.KtG(h.onDotClick(r,c))}),s.qZA()()}if(2&n){const t=e.index,i=s.oxw(2);s.Q6J("ngClass",s.VKq(5,Bee,i._page===t)),s.xp6(1),s.Tol(i.indicatorStyleClass),s.Q6J("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function Hee(n,e){if(1&n&&(s.TgZ(0,"ul",0),s.YNc(1,Uee,2,7,"li",8),s.qZA()),2&n){const t=s.oxw();s.Tol(t.indicatorsContentClass),s.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",t.indicatorsContentStyle),s.xp6(1),s.Q6J("ngForOf",t.totalDotsArray())}}function Gee(n,e){1&n&&s.GkF(0)}function jee(n,e){if(1&n&&(s.TgZ(0,"div",16),s.Hsn(1,1),s.YNc(2,Gee,1,0,"ng-container",12),s.qZA()),2&n){const t=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",t.footerTemplate)}}const $ee=[[["p-header"]],[["p-footer"]]],zee=function(n,e){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":e}},Wee=function(n){return{height:n}},qee=["p-header","p-footer"];let Zee=(()=>{class n{constructor(t,i,r){this.el=t,this.zone=i,this.cd=r,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new s.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(t){this.isCreated&&t!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),t>this._page&&t<=this.totalDots()-1?this.step(-1,t):t<this._page&&this.step(1,t)),this._page=t}get numVisible(){return this._numVisible}set numVisible(t){this._numVisible=t}get numScroll(){return this._numVisible}set numScroll(t){this._numScroll=t}get value(){return this._value}set value(t){this._value=t}ngOnChanges(t){t.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(t.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),t.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=function Cee(){return"pr_id_"+ ++Z$}(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngAfterContentChecked(){const t=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,t&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}t&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let t=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const o=i.breakpoint,c=r.breakpoint;let h=null;return h=null==o&&null!=c?-1:null!=o&&null==c?1:null==o&&null==c?0:"string"==typeof o&&"string"==typeof c?o.localeCompare(c,void 0,{numeric:!0}):o<c?-1:o>c?1:0,-1*h});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];t+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=t}calculatePosition(){if(this.responsiveOptions){let t=window.innerWidth,i={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let r=0;r<this.responsiveOptions.length;r++){let o=this.responsiveOptions[r];parseInt(o.breakpoint,10)>=t&&(i=o)}if(this._numScroll!==i.numScroll){let r=this._page;r=Math.floor(r*this._numScroll/i.numScroll);let o=i.numScroll*this.page*-1;this.isCircular()&&(o-=i.numVisible),this.totalShiftedItems=o,this._numScroll=i.numScroll,this._page=r,this.onPage.emit({page:this.page})}this._numVisible!==i.numVisible&&(this._numVisible=i.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const t=this.totalDots();return t<=0?[]:Array(t).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(t,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),t&&t.cancelable&&t.preventDefault()}navBackward(t,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),t&&t.cancelable&&t.preventDefault()}onDotClick(t,i){let r=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>r?this.navForward(t,i):i<r&&this.navBackward(t,i)}step(t,i){let r=this.totalShiftedItems;const o=this.isCircular();null!=i?(r=this._numScroll*i*-1,o&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*t,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*t,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((o?r+this._numVisible:r)/this._numScroll))),o&&this.page===this.totalDots()-1&&-1===t?(r=-1*(this.value.length+this._numVisible),i=0):o&&0===this.page&&1===t?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*t,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(t){let i=t.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(t){t.cancelable&&t.preventDefault()}onTouchEnd(t){let i=t.changedTouches[0];this.isVertical()?this.changePageOnTouch(t,i.pageY-this.startPos.y):this.changePageOnTouch(t,i.pageX-this.startPos.x)}changePageOnTouch(t,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(t):this.navBackward(t))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=t=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-carousel"]],contentQueries:function(t,i,r){if(1&t&&(s.Suo(r,oo,5),s.Suo(r,Xr,5),s.Suo(r,$o,4)),2&t){let o;s.iGM(o=s.CRH())&&(i.headerFacet=o.first),s.iGM(o=s.CRH())&&(i.footerFacet=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(t,i){if(1&t&&s.Gf(Eee,5),2&t){let r;s.iGM(r=s.CRH())&&(i.itemsContainer=r.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[s.TTD],ngContentSelectors:qee,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(t,i){1&t&&(s.F$t($ee),s.TgZ(0,"div",0),s.YNc(1,See,3,1,"div",1),s.TgZ(2,"div",2)(3,"div",3),s.YNc(4,Aee,2,8,"button",4),s.TgZ(5,"div",5)(6,"div",6,7),s.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchend",function(o){return i.onTouchEnd(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchmove",function(o){return i.onTouchMove(o)}),s.YNc(8,Mee,2,9,"div",8),s.YNc(9,kee,2,9,"div",8),s.YNc(10,Ree,2,9,"div",8),s.qZA()(),s.YNc(11,Vee,2,8,"button",4),s.qZA(),s.YNc(12,Hee,2,5,"ul",9),s.qZA(),s.YNc(13,jee,3,1,"div",10),s.qZA()),2&t&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(17,zee,i.isVertical(),!i.isVertical()))("ngStyle",i.style),s.uIk("id",i.id),s.xp6(1),s.Q6J("ngIf",i.headerFacet||i.headerTemplate),s.xp6(1),s.Tol(i.contentClass),s.Q6J("ngClass","p-carousel-content"),s.xp6(2),s.Q6J("ngIf",i.showNavigators),s.xp6(1),s.Q6J("ngStyle",s.VKq(20,Wee,i.isVertical()?i.verticalViewPortHeight:"auto")),s.xp6(3),s.Q6J("ngForOf",i.clonedItemsForStarting),s.xp6(1),s.Q6J("ngForOf",i.value),s.xp6(1),s.Q6J("ngForOf",i.clonedItemsForFinishing),s.xp6(1),s.Q6J("ngIf",i.showNavigators),s.xp6(1),s.Q6J("ngIf",i.showIndicators),s.xp6(1),s.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[mc,qi,ti,_r,ba,bee],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),Kee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,ao,PF,Mn,ao]}),n})();function Yee(n,e){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5)(2,"div",6),s._UZ(3,"img",7),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(3),s.s9C("src",t.previewImageSrc,s.LSH)}}function Qee(n,e){if(1&n&&(s.TgZ(0,"p-carousel",2),s.YNc(1,Yee,4,1,"ng-template",3),s.qZA()),2&n){const t=s.oxw();s.Q6J("value",t.firstProductImages)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",t.responsiveOptions)}}function Jee(n,e){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5)(2,"div",6),s._UZ(3,"img",7),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(3),s.s9C("src",t.previewImageSrc,s.LSH)}}function Xee(n,e){if(1&n&&(s.TgZ(0,"p-carousel",2),s.YNc(1,Jee,4,1,"ng-template",3),s.qZA()),2&n){const t=s.oxw();s.Q6J("value",t.secondProductImages)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",t.responsiveOptions)}}function ete(n,e){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5)(2,"div",6),s._UZ(3,"img",7),s.qZA()()()),2&n){const t=e.$implicit;s.xp6(3),s.s9C("src",t.previewImageSrc,s.LSH)}}function tte(n,e){if(1&n&&(s.TgZ(0,"p-carousel",2),s.YNc(1,ete,4,1,"ng-template",3),s.qZA()),2&n){const t=s.oxw();s.Q6J("value",t.thirdProductImages)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",t.responsiveOptions)}}let nte=(()=>{class n{constructor(t){this.imageService=t,this.imgChanged=new s.vpe,this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){this.imageService.getFirstProductImages().then(t=>{this.firstProductImages=t}),this.imageService.getSecondProductImages().then(t=>{this.secondProductImages=t}),this.imageService.getThirdProductImages().then(t=>{this.thirdProductImages=t})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(q$))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-product-details-gallery"]],inputs:{activeImage:"activeImage"},outputs:{imgChanged:"imgChanged"},decls:4,vars:4,consts:[[3,"ngSwitch"],["styleClass","custom-carousel",3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions",4,"ngSwitchCase"],["styleClass","custom-carousel",3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions"],["pTemplate","item"],[1,"product-item"],[1,"product-item-content"],[1,"slide-img"],["alt","img",3,"src"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0),s.YNc(1,Qee,2,6,"p-carousel",1),s.YNc(2,Xee,2,6,"p-carousel",1),s.YNc(3,tte,2,6,"p-carousel",1),s.qZA()),2&t&&(s.Q6J("ngSwitch",i.activeImage),s.xp6(1),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2),s.xp6(1),s.Q6J("ngSwitchCase",3))},dependencies:[no,cr,Zee,$o],styles:[".product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:.3rem;text-align:center;padding:2rem 0}.product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:50%;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.slide-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}"]}),n})();function ite(n,e){if(1&n&&(s.TgZ(0,"span",24)(1,"span",25),s._uU(2,"\u2605"),s.qZA(),s._uU(3,"\u2605 "),s.qZA()),2&n){const t=e.fill;s.ekj("full",100===t),s.xp6(1),s.Udp("width",t,"%")}}function rte(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50"),s.qZA())}function ste(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50"),s.qZA())}function ote(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50"),s.qZA())}function ate(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50"),s.qZA())}function lte(n,e){1&n&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50\u2b50"),s.qZA())}let cte=(()=>{class n{constructor(){this.currentRate=4.5,this.rating=5}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rating"]],decls:58,vars:10,consts:[[1,"container"],[1,"top"],[1,"stars"],[1,"stars-value"],["t",""],[3,"rate","starTemplate","readonly","max","rateChange"],[1,"options"],[1,"active"],[1,"comments-container"],[1,"comment"],[1,"profile-pic"],["src","../../../../assets/diamond.png","alt",""],[1,"comment-details"],[1,"comment-details-top"],[1,"username"],[1,"user-rating"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"vl"],[1,"date-and-time"],[1,"media"],["src","../../../../assets/img/discountedProducts/addidas-shoes/blue.png","alt","media",2,"width","80px"],[1,"report"],["src","https://cdn.lordicon.com/rslnizbt.json","trigger","loop-on-hover",1,"report-btn",2,"width","32px","height","32px"],[1,"star"],[1,"half"]],template:function(t,i){if(1&t&&(s.TgZ(0,"div",0)(1,"h4"),s._uU(2,"Product Rating"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"p")(6,"span",3),s._uU(7,"5"),s.qZA(),s._uU(8," out of 5"),s.qZA(),s.YNc(9,ite,4,4,"ng-template",null,4,s.W1O),s.TgZ(11,"ngb-rating",5),s.NdJ("rateChange",function(o){return i.currentRate=o}),s.qZA()(),s.TgZ(12,"div",6)(13,"button",7),s._uU(14,"All"),s.qZA(),s.TgZ(15,"button"),s._uU(16,"5 \u2b50 (5)"),s.qZA(),s.TgZ(17,"button"),s._uU(18,"4 \u2b50 (0)"),s.qZA(),s.TgZ(19,"button"),s._uU(20,"3 \u2b50 (0)"),s.qZA(),s.TgZ(21,"button"),s._uU(22,"2 \u2b50 (0)"),s.qZA(),s.TgZ(23,"button"),s._uU(24,"1 \u2b50 (0)"),s.qZA(),s.TgZ(25,"button"),s._uU(26,"With Comments (2)"),s.qZA(),s.TgZ(27,"button"),s._uU(28,"With Media (2)"),s.qZA()()(),s.TgZ(29,"div",8)(30,"div",9)(31,"div",10),s._UZ(32,"img",11),s.qZA(),s.TgZ(33,"div",12)(34,"div",13)(35,"div")(36,"p",14),s._uU(37,"username"),s.qZA(),s.TgZ(38,"div",15)(39,"div",16),s.YNc(40,rte,2,0,"p",17),s.YNc(41,ste,2,0,"p",17),s.YNc(42,ote,2,0,"p",17),s.YNc(43,ate,2,0,"p",17),s.YNc(44,lte,2,0,"p",17),s.qZA()()(),s._UZ(45,"div",18),s.TgZ(46,"div",19)(47,"span"),s._uU(48,"$date and time"),s.qZA(),s.TgZ(49,"span"),s._uU(50,"Variation: $variation"),s.qZA()()(),s.TgZ(51,"p"),s._uU(52,"Lorem"),s.qZA(),s.TgZ(53,"div",20),s._UZ(54,"img",21),s.qZA()()(),s.TgZ(55,"div",22),s._UZ(56,"lord-icon",23),s.qZA()(),s._UZ(57,"hr"),s.qZA()),2&t){const r=s.MAs(10);s.xp6(11),s.Q6J("rate",i.currentRate)("starTemplate",r)("readonly",!0)("max",5),s.xp6(28),s.Q6J("ngSwitch",i.rating),s.xp6(1),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2),s.xp6(1),s.Q6J("ngSwitchCase",3),s.xp6(1),s.Q6J("ngSwitchCase",4),s.xp6(1),s.Q6J("ngSwitchCase",5)}},dependencies:[no,cr,xX],styles:[".star[_ngcontent-%COMP%]{position:relative;display:inline-block;font-size:2rem;color:#d3d3d3}.full[_ngcontent-%COMP%]{color:gold}.half[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:gold}.top[_ngcontent-%COMP%]{display:flex;padding:20px;margin:5px;border:1px solid rgba(0,93,232,.125);background-color:#005de80d}.stars[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:1.1rem;font-weight:500;color:#005de8;margin-right:20px}.stars[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.stars[_ngcontent-%COMP%]   .stars-value[_ngcontent-%COMP%]{font-size:2rem}.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;line-height:2rem;min-width:6.25rem;text-align:center;padding:.2rem .625rem;color:#000c;background-color:#fff;border:1px solid rgba(0,93,232,.5);box-sizing:border-box;display:inline-block;margin-right:.5rem;text-decoration:none;color:#000000de;text-transform:capitalize;border-radius:2px;margin-bottom:.3125rem;margin-top:.3125rem}.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .options[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#005de8;color:#f6f6f6}.comments-container[_ngcontent-%COMP%]{padding:20px;margin:5px}.comment[_ngcontent-%COMP%]{display:flex}.comment[_ngcontent-%COMP%]   .comment-details[_ngcontent-%COMP%]{margin-left:20px;position:relative}.comment[_ngcontent-%COMP%]   .comment-details[_ngcontent-%COMP%]   .comment-details-top[_ngcontent-%COMP%]{display:flex}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;border:1px solid #ccc;border-radius:50%;padding:5px}.username[_ngcontent-%COMP%]{margin:0}.vl[_ngcontent-%COMP%]{border-left:2px solid rgba(0,93,232,.5);height:45px;margin:0 8px}.date-and-time[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:small;color:#696969}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;border:1px solid #ccc}.report[_ngcontent-%COMP%]{margin:10px 0}.report[_ngcontent-%COMP%]   .report-btn[_ngcontent-%COMP%]{float:right;cursor:pointer}"]}),n})();function ute(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",37)(1,"h4",38),s._uU(2,"Shoe Size Chart"),s.qZA(),s.TgZ(3,"button",39),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return s.KtG(o.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",40),s._UZ(5,"img",41),s.qZA(),s.TgZ(6,"div",42)(7,"button",43),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return s.KtG(o.close("Close click"))}),s._uU(8,"Close"),s.qZA()()}}function dte(n,e){1&n&&s._UZ(0,"img",44)}let hte=(()=>{class n{constructor(t,i,r,o){this._Activatedroute=t,this.productService=i,this.router=r,this.modalService=o,this.activeImg=1,this.mainImg="active",this.subImg0="",this.subImg1=""}ngOnInit(){this._Activatedroute.paramMap.subscribe(t=>{this.productId=t.get("id"),this.productType=t.get("type")}),this.productService.getAllProducts().then(t=>{this.product=t.find(i=>i.id===this.productId),this.MainColor=["circle",this.product.color0,"active"],this.SubColor0=["circle",this.product.color1],this.SubColor1=["circle",this.product.color2],console.log(this.product),console.log(this.product.name),console.log(this.product.image1)})}openBackDropCustomClass(t){this.modalService.open(t,{backdropClass:"light-blue-backdrop"})}changeColor(t){t==this.product.color0?(this.MainColor=["circle",this.product.color0,"active"],this.SubColor0=["circle",this.product.color1],this.SubColor1=["circle",this.product.color2],this.mainImg="active",this.subImg0="",this.subImg1="",this.activeImg=1,console.log(this.activeImg)):t==this.product.color1?(this.MainColor=["circle",this.product.color0],this.SubColor0=["circle",this.product.color1,"active"],this.SubColor1=["circle",this.product.color2],this.mainImg="",this.subImg0="active",this.subImg1="",this.activeImg=2,console.log(this.activeImg)):t==this.product.color2&&(this.MainColor=["circle",this.product.color0],this.SubColor0=["circle",this.product.color1],this.SubColor1=["circle",this.product.color2,"active"],this.mainImg="",this.subImg0="",this.subImg1="active",this.activeImg=3,console.log(this.activeImg))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(I),s.Y36(MF),s.Y36(ui),s.Y36(b$))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main-product-details"]],decls:86,vars:21,consts:[["style","background-color: #5cb3fd;"],["content",""],[1,"container","product-details-container"],[1,"row-container"],[1,"imgContainer"],["alt","activeImg",1,"activeImg",3,"ngClass","src"],[1,"subImages"],[1,"subImages-container"],["alt","firstImg",1,"subImages-img",3,"ngClass","src","click"],["alt","secondImg",1,"subImages-img",3,"ngClass","src","click"],["alt","thirdImg",1,"subImages-img",3,"ngClass","src","click"],[1,"col-md-6"],[1,"title"],["src","../../../../assets/img/productDetails/discount.png","alt","discount-logo",4,"ngIf"],[1,"description"],[1,"price-guarantee"],[1,"price"],[1,"authentic-guarantee"],[1,"guarantee"],["id","Layer_1","data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","width","24","height","24",1,"NM0h58"],["d","M28.65,16.92V4.73S19,4.46,15.94,0C12.45,4.41,3.23,4.73,3.23,4.73V16.92S3,27.22,15.94,32C28.9,27.22,28.65,16.92,28.65,16.92Z",1,"cls-1","orignal-guarantee-icon__path--fill"],["d","M25.56,13.67,15.26,24a.68.68,0,0,1-1,0L8.33,18a.68.68,0,0,1,0-1l1.55-1.55a.68.68,0,0,1,1,0l3.44,3.43a.68.68,0,0,0,1,0L23,11.15a.68.68,0,0,1,1,0l1.55,1.54A.69.69,0,0,1,25.56,13.67Z",1,"cls-2"],[1,"guarantee-last"],[1,"size-container"],[1,"sizes"],[1,"size-chart-link",3,"click"],[1,"color-container"],[1,"colors"],[1,"circles"],["id","mainColor",3,"ngClass","click"],["id","subColor0",3,"ngClass","click"],["id","subColor1",3,"ngClass","click"],["type","button",1,"add-to-cart-btn","button"],[1,"fa-solid","fa-cart-shopping"],["type","button",1,"btn","btn-primary","button"],[1,"gallery-container","container"],[3,"activeImage","imgChanged"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["src","../../../../assets/img/productDetails/sizeChart.png","alt","size-chart",1,"size-chart-img"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["src","../../../../assets/img/productDetails/discount.png","alt","discount-logo"]],template:function(t,i){if(1&t){const r=s.EpF();s._UZ(0,"app-header-normal"),s.YNc(1,ute,9,0,"ng-template",0,1,s.W1O),s.TgZ(3,"div",2)(4,"div",3)(5,"div",4),s._UZ(6,"img",5)(7,"img",5)(8,"img",5)(9,"br"),s.TgZ(10,"div",6)(11,"div",7)(12,"img",8),s.NdJ("click",function(){return i.changeColor(i.product.color0)}),s.qZA()(),s.TgZ(13,"div",7)(14,"img",9),s.NdJ("click",function(){return i.changeColor(i.product.color1)}),s.qZA()(),s.TgZ(15,"div",7)(16,"img",10),s.NdJ("click",function(){return i.changeColor(i.product.color2)}),s.qZA()()()(),s.TgZ(17,"div",11)(18,"div",12)(19,"h2"),s._uU(20),s.qZA(),s.YNc(21,dte,1,0,"img",13),s.qZA(),s._UZ(22,"br"),s.TgZ(23,"p",14),s._uU(24),s.qZA(),s._UZ(25,"br"),s.TgZ(26,"div",15)(27,"div",16)(28,"h2"),s._uU(29),s.qZA(),s.TgZ(30,"p"),s._uU(31),s.qZA()(),s.TgZ(32,"div",17)(33,"div",18),s.O4$(),s.TgZ(34,"svg",19)(35,"defs")(36,"style"),s._uU(37," .cls-1 { fill: #005DE8; } .cls-2 { fill: #fff; } "),s.qZA()(),s._UZ(38,"path",20)(39,"path",21)(40,"path",21),s.qZA(),s.kcU(),s.TgZ(41,"p"),s._uU(42,"100% Authentic Guarantee"),s.qZA()(),s.TgZ(43,"div",22),s._uU(44,"Guarantee Authentic or Money Back"),s.qZA()()(),s._UZ(45,"br"),s.TgZ(46,"div",23)(47,"h5",24),s._uU(48,"Sizes: "),s.qZA(),s.TgZ(49,"span"),s._uU(50,"UK 7"),s.qZA(),s.TgZ(51,"span"),s._uU(52,"UK 7.5"),s.qZA(),s.TgZ(53,"span"),s._uU(54,"UK 8"),s.qZA(),s.TgZ(55,"span"),s._uU(56,"UK 8.5"),s.qZA(),s.TgZ(57,"span"),s._uU(58,"UK 9"),s.qZA(),s.TgZ(59,"span"),s._uU(60,"UK 9.5"),s.qZA()(),s.TgZ(61,"a",25),s.NdJ("click",function(){s.CHM(r);const c=s.MAs(2);return s.KtG(i.openBackDropCustomClass(c))}),s._uU(62,"Size chart"),s.qZA(),s._UZ(63,"br")(64,"br"),s.TgZ(65,"div",26)(66,"h5",27),s._uU(67,"Colors:"),s.qZA(),s.TgZ(68,"div",28)(69,"span",29),s.NdJ("click",function(){return i.changeColor(i.product.color0)}),s.qZA(),s.TgZ(70,"span",30),s.NdJ("click",function(){return i.changeColor(i.product.color1)}),s.qZA(),s.TgZ(71,"span",31),s.NdJ("click",function(){return i.changeColor(i.product.color2)}),s.qZA()()(),s._UZ(72,"br"),s.TgZ(73,"button",32),s._UZ(74,"i",33),s._uU(75," Add To Cart"),s.qZA(),s.TgZ(76,"button",34),s._uU(77,"Buy Now"),s.qZA()()()(),s.TgZ(78,"div",35)(79,"h1"),s._uU(80,"Gallery"),s.qZA()(),s.TgZ(81,"app-product-details-gallery",36),s.NdJ("imgChanged",function(c){return i.activeImg=c}),s.qZA(),s._UZ(82,"app-product-details-accordion")(83,"app-rating")(84,"app-similar-products")(85,"app-footer")}2&t&&(s.xp6(6),s.MGl("src","../../../../assets/img/",i.product.image1,"",s.LSH),s.Q6J("ngClass",i.mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",i.product.image2,"",s.LSH),s.Q6J("ngClass",i.subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",i.product.image3,"",s.LSH),s.Q6J("ngClass",i.subImg1),s.xp6(4),s.MGl("src","../../../../assets/img/",i.product.image1,"",s.LSH),s.Q6J("ngClass",i.mainImg),s.xp6(2),s.MGl("src","../../../../assets/img/",i.product.image2,"",s.LSH),s.Q6J("ngClass",i.subImg0),s.xp6(2),s.MGl("src","../../../../assets/img/",i.product.image3,"",s.LSH),s.Q6J("ngClass",i.subImg1),s.xp6(4),s.Oqu(i.product.name),s.xp6(1),s.Q6J("ngIf","discounted"==i.product.type),s.xp6(3),s.Oqu(i.product.description),s.xp6(5),s.hij(" RM ",i.product.discountedPrice,""),s.xp6(2),s.hij(" RM ",i.product.oldPrice,""),s.xp6(38),s.Q6J("ngClass",i.MainColor),s.xp6(1),s.Q6J("ngClass",i.SubColor0),s.xp6(1),s.Q6J("ngClass",i.SubColor1),s.xp6(10),s.Q6J("activeImage",i.activeImg))},dependencies:[mc,ti,$$,hee,vee,nte,z$,cte],styles:[".product-details-container[_ngcontent-%COMP%]{margin-top:20px}.activeImg[_ngcontent-%COMP%]{position:absolute;max-width:350px;opacity:0;transition:opacity .5s ease}.activeImg.active[_ngcontent-%COMP%]{opacity:1}.row-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:solid 1px #808080;padding:15px}.imgContainer[_ngcontent-%COMP%]{position:relative}.subImages[_ngcontent-%COMP%]{display:flex;margin-top:100%}.subImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;cursor:pointer;border:1px solid #ccc}.subImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px 1px #005de8bf;-webkit-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75);-moz-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75);border:solid 1px #ADD8E6}.subImages[_ngcontent-%COMP%]   .subImages-container[_ngcontent-%COMP%]{border-radius:5px;margin:0 8px}.subImages[_ngcontent-%COMP%]   .subImages-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:solid 1px #005DE8}.title[_ngcontent-%COMP%]{display:flex}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-left:10px}.description[_ngcontent-%COMP%]{text-align:justify;margin:0;padding:0}.price[_ngcontent-%COMP%]{display:flex}.price[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff160c}.price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px 0 0 5px;text-decoration:line-through}.authentic-guarantee[_ngcontent-%COMP%]{background-color:#005de81a;max-width:52%;padding:10px 5px 5px 8px}.guarantee[_ngcontent-%COMP%]{display:flex}.guarantee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#005de8;margin-left:5px}.guarantee-last[_ngcontent-%COMP%]{font-size:12px}.size-container[_ngcontent-%COMP%]{display:flex}.size-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:40px;padding:5px;border:1px solid #ccc;text-align:center;margin:0 5px;cursor:pointer}.size-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 2px #69696940;-webkit-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25);-moz-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25)}.sizes[_ngcontent-%COMP%], .colors[_ngcontent-%COMP%]{color:#636363;padding:5px 5px 0 0}.size-chart-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;font-size:smaller}.size-chart-img[_ngcontent-%COMP%]{width:450px}.light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd}.color-container[_ngcontent-%COMP%]{display:flex}.circles[_ngcontent-%COMP%]{display:flex;padding-top:10px}.circles[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:18px;width:18px;border-radius:50%;margin:0 4px;cursor:pointer;transition:all .4s ease}.circle.blue[_ngcontent-%COMP%]{background:#0071C7}.circle.blue.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #0071c7}.circle.pink[_ngcontent-%COMP%]{background:#FA1795}.circle.pink.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #fa1795}.circle.yellow[_ngcontent-%COMP%]{background:#F5DA00}.circle.yellow.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #f5da00}.add-to-cart-btn[_ngcontent-%COMP%]{border-color:#0d6efd;color:#0d6efd;background-color:#f6f6f6;line-height:1.5;text-align:center;text-decoration:none;vertical-align:middle;padding:5px;font-size:1rem;border-radius:.25rem;margin-right:15px}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background-color:#0d6efd33}.button[_ngcontent-%COMP%]{height:48px;padding:0 20px;font-weight:600}.gallery-container[_ngcontent-%COMP%]{margin:40px auto}.gallery-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 auto;background-image:linear-gradient(315deg,#2a2a72 20%,#009ffd 94%);background-clip:text;-moz-background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center}",".light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd!important}"]}),n})(),Y$=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&(window.alert("Access Denied, Login is Required to Access This Page!"),this.router.navigate(["login"])),!0}canActivateChild(t,i){return!0}canDeactivate(t,i,r,o){return!0}canLoad(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ig),s.LFG(ui))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q$=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn&&(window.alert("Access denied!"),this.router.navigate(["user-profile"])),!0}canActivateChild(t,i){return!0}canDeactivate(t,i,r,o){return!0}canLoad(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ig),s.LFG(ui))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fte=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:PY,canActivate:[Q$]},{path:"user-profile",component:FX,canActivate:[Y$]},{path:"register",component:OY},{path:"faq",component:LX},{path:"home",component:see},{path:"categories",component:oee},{path:"test",component:dee},{path:"product_details/:id/:type",component:hte}];let J$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,xw.forRoot(fte),xw]}),n})();var pte=g(4487),gte=g.n(pte);function Ss(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const mte={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function X$(n){return n.startsWith("#")?4===n.length?`#${n[1]}${n[1]}${n[2]}${n[2]}${n[3]}${n[3]}`:n:mte[n.toLowerCase()]||"#000000"}function _te(n){return JSON.parse(JSON.stringify(n))}function kF(n){return null!==n&&"object"==typeof n}function yte(n,e){const t=Array.isArray(e)?e:e.split(".");let i=n;for(const r of t){if(!kF(i)||!(r in i))return!1;i=i[r]}return!0}function OF(n,e,t){const i=Array.isArray(e)?e:e.split(".");let r=n;for(const o of i){if(!kF(r)||!(o in r))return t;r=r[o]}return void 0===r?t:r}function fu(n,e,t){let i=n;const r=Array.isArray(e)?e:e.split(".");for(let o=0;o<r.length;++o)o===r.length-1?i[r[o]]=t:i=i[r[o]]}function Pd(n){return null==n}function RF(n){var e=n.toString(16);return 1==e.length?"0"+e:e}function tv(n){return Math.round(n/255*1e3)/1e3}function FF(n){return Math.round(255*n)}function t6(n){const{r:e,g:t,b:i}=function bte(n){let e=parseInt("#"!=n[0]?n:n.substring(1),16);return{r:e>>16&255,g:e>>8&255,b:255&e}}(n);return[tv(e),tv(t),tv(i)]}function Cte(n){return function vte(n){return"#"+RF(n.r)+RF(n.g)+RF(n.b)}({r:FF(n[0]),g:FF(n[1]),b:FF(n[2])})}function LF(n,e,t){for(const i of e)"color"!==i.type||i.name.toLowerCase()!==t.toLowerCase()||fu(n,i.path,i.value)}function n6(n,e,t,i){for(const r of e)"color"!==r.type||r.name.toLowerCase()!==t.toLowerCase()||("object"==typeof i?"r"in i&&"g"in i&&"b"in i?fu(n,r.path,[tv(i.r),tv(i.g),tv(i.b)]):Array.isArray(i)&&fu(n,r.path,i):"string"==typeof i&&fu(n,r.path,t6(X$(i))))}function i6(n,e,t){const i=t.split(",");if(i.length)for(const r of i){const o=r.split(":");if(2===o.length)for(const c of e)"color"===c.type&&c.name.toLowerCase()===o[0].toLowerCase()&&fu(n,c.path,t6(X$(o[1])))}}function YC(n,e,t,i){for(const r of e)r.name.toLowerCase()===t.toLowerCase()&&(i?fu(n,r.path+`.${i}`,OF(r.value,i)):fu(n,r.path,r.value))}function bf(n,e,t,i,r){for(const o of e){if(o.name.toLowerCase()!==t.toLowerCase())continue;const c=o.path+(r?`.${r}`:"");let h=1;"slider"===o.type?h=o.value/50:"point"===o.type&&(h=(o.value[0]+o.value[1])/2/50),fu(n,c,i*h)}}function rA(n,e,t,i,r){for(const o of e)o.name.toLowerCase()===t.toLowerCase()&&fu(n,o.path+(r?`.${r}`:""),i)}let VF;const sA=new Set,r6=new Map,oA=new Map,BF=new Map;function Nte(n){return UF.apply(this,arguments)}function UF(){return UF=(0,Ge.Z)(function*(n){return yield(yield fetch(n)).json()}),UF.apply(this,arguments)}function HF(){return HF=(0,Ge.Z)(function*(n){if(oA.has(n))return;const e=BF.get(n);if(e)yield e;else if(void 0===e){const t=Nte(n);BF.set(n,t);const i=yield t;BF.delete(n),oA.set(n,i)}}),HF.apply(this,arguments)}const Nd="State-",Fte="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,o6="\n    :host {\n      display: inline-flex;\n      width: 32px;\n      height: 32px;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      vertical-align: middle;\n      overflow: hidden;\n    }\n\n    :host(.current-color) svg path[fill] {\n      fill: currentColor;\n    }\n\n    :host(.current-color) svg path[stroke] {\n      stroke: currentColor;\n    }\n\n    :host(:not(.current-color)) svg .primary path[fill] {\n      fill: var(--lord-icon-primary, var(--lord-icon-primary-base));\n    }\n\n    :host(:not(.current-color)) svg .primary path[stroke] {\n      stroke: var(--lord-icon-primary, var(--lord-icon-primary-base));\n    }\n\n    :host(:not(.current-color)) svg .secondary path[fill] {\n      fill: var(--lord-icon-secondary, var(--lord-icon-secondary-base));\n    }\n\n    :host(:not(.current-color)) svg .secondary path[stroke] {\n      stroke: var(--lord-icon-secondary, var(--lord-icon-secondary-base));\n    }\n\n    svg {\n      pointer-events: none;\n      display: block;\n    }\n\n    div {\n      width: 100%;\n      height: 100%;\n    }\n\n    div.slot {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 2;\n    }\n";let aA;const Lte=["colors","src","icon","state","trigger","speed","stroke","scale","axis-x","axis-y"];class kd extends HTMLElement{static registerAnimationLoader(e){!function Dte(n){VF=n}(e)}static registerIcon(e,t){!function Ste(n,e){oA.set(n,e);for(const t of sA)t.notify(n,"icon")}(e,t)}static registerTrigger(e,t){!function Ite(n,e){r6.set(n,e);for(const t of sA)t.notify(n,"trigger")}(e,t)}static get observedAttributes(){return Lte}static get version(){return"3.4.0"}constructor(){super(),Ss(this,"_root",void 0),Ss(this,"_isReady",!1),Ss(this,"_lottie",void 0),Ss(this,"_properties",void 0),Ss(this,"_connectedTrigger",void 0),Ss(this,"_storedIconData",void 0),Ss(this,"_palette",void 0),this._root=this.attachShadow({mode:"open"})}connectedCallback(){(function Ate(n){sA.add(n)})(this),this._isReady||this.init()}disconnectedCallback(){this.unregisterLottie(),function xte(n){sA.delete(n)}(this)}attributeChangedCallback(e,t,i){if("axis-x"===e)this.axisXChanged();else if("axis-y"===e)this.axisYChanged();else{const r=this[`${e}Changed`];r&&r.call(this)}}init(){if(this._isReady)return;if(this._isReady=!0,Fte)aA||(aA=new CSSStyleSheet,aA.replaceSync(o6)),this._root.adoptedStyleSheets=[aA];else{const i=document.createElement("style");i.innerHTML=o6,this._root.appendChild(i)}const e=document.createElement("div");e.innerHTML="<slot></slot>",e.classList.add("slot"),this._root.appendChild(e);const t=document.createElement("div");t.classList.add("body"),this._root.appendChild(t),this.registerLottie()}registerLottie(){let e=this.iconData;if(e){if(this._lottie=function Ote(n){if(!VF)throw new Error("Unregistered Lottie.");return VF(n)}({container:this.container,renderer:"svg",loop:!1,autoplay:!1,animationData:_te(e),rendererSettings:{preserveAspectRatio:"xMidYMid meet",progressiveLoad:!1,hideOnTransparent:!0}}),this.state||this.colors||this.stroke||this.scale||this.axisX||this.axisY){const t=this.properties;if(t){if(this.colors&&i6(this._lottie,t,this.colors),this.state){for(const i of this.states)rA(this._lottie,t,Nd+i,0);rA(this._lottie,t,Nd+this.state,1)}this.stroke&&bf(this._lottie,t,"stroke",this.stroke),this.scale&&bf(this._lottie,t,"scale",this.scale),this.axisX&&bf(this._lottie,t,"axis",this.axisX,"0"),this.axisY&&bf(this._lottie,t,"axis",this.axisY,"1"),this._lottie.renderer.renderFrame(null)}}this._lottie.setSpeed(this.animationSpeed),this._lottie.addEventListener("complete",()=>{this.dispatchEvent(new CustomEvent("animation-complete"))}),this.triggerChanged(),this.dispatchEvent(new CustomEvent("icon-ready")),function Tte(n){return n&&n.features&&Array.isArray(n.features)?n.features:[]}(e).includes("css-variables")&&this.movePaletteToCssVariables()}}unregisterLottie(){this._properties=void 0,this._connectedTrigger&&(this._connectedTrigger.disconnectedCallback(),this._connectedTrigger=void 0),this._lottie&&(this._lottie.destroy(),this._lottie=void 0,this.container.innerHTML="")}refresh(){this._lottie?.renderer.renderFrame(null),this.movePaletteToCssVariables()}notify(e,t){this[t]===e&&("icon"===t?(this._lottie&&this.unregisterLottie(),this.registerLottie()):"trigger"===t&&!this._connectedTrigger&&this.triggerChanged())}triggerChanged(){if(this._connectedTrigger&&(this._connectedTrigger.disconnectedCallback(),this._connectedTrigger=void 0),this.trigger&&this._lottie){const e=function Pte(n){return r6.get(n)}(this.trigger);e&&(this._connectedTrigger=new e(this,this._lottie),this._connectedTrigger.connectedCallback())}}colorsChanged(){!this._isReady||!this.properties||(this.colors?i6(this._lottie,this.properties,this.colors):function Ete(n,e){for(const t of e)"color"===t.type&&fu(n,t.path,t.value)}(this._lottie,this.properties),this.refresh())}strokeChanged(){!this._isReady||!this.properties||(Pd(this.stroke)?YC(this._lottie,this.properties,"stroke"):bf(this._lottie,this.properties,"stroke",this.stroke),this.refresh())}stateChanged(){if(this._isReady&&this.properties){if(this.state){for(const e of this.states)rA(this._lottie,this.properties,Nd+e,0);rA(this._lottie,this.properties,Nd+this.state,1)}else for(const e of this.states)YC(this._lottie,this.properties,Nd+e);this.refresh()}}scaleChanged(){!this._isReady||!this.properties||(Pd(this.scale)?YC(this._lottie,this.properties,"scale"):bf(this._lottie,this.properties,"scale",this.scale),this.refresh())}axisXChanged(){!this._isReady||!this.properties||(Pd(this.axisX)?YC(this._lottie,this.properties,"axis","0"):bf(this._lottie,this.properties,"axis",this.axisX,"0"),this.refresh())}axisYChanged(){!this._isReady||!this.properties||(Pd(this.axisY)?YC(this._lottie,this.properties,"axis","1"):bf(this._lottie,this.properties,"axis",this.axisY,"1"),this.refresh())}speedChanged(){this._lottie&&this._lottie.setSpeed(this.animationSpeed)}iconChanged(){!this._isReady||(this.unregisterLottie(),this.registerLottie())}srcChanged(){var e=this;return(0,Ge.Z)(function*(){e.src&&(yield function kte(n){return HF.apply(this,arguments)}(e.src)),e._isReady&&(e.unregisterLottie(),e.registerLottie())})()}movePaletteToCssVariables(){for(const[e,t]of Object.entries(this.palette))this._root.querySelector(".body").style.setProperty(`--lord-icon-${e}-base`,t)}get connectedTrigger(){return this._connectedTrigger}get properties(){return!this._properties&&this.iconData&&(this._properties=function wte(n,e=!1){const t=[];if(!n||!n.layers)return t;for(const[i,r]of Object.entries(n.layers))if(r.nm&&r.nm.toLowerCase().includes("change")&&r.ef)for(const[o,c]of Object.entries(r.ef)){const h="ef.0.v.k";let _;if(_=e?`renderer.elements.${i}.effectsManager.effectElements.${o}.effectElements.0.p.v`:`layers.${i}.ef.${o}.${h}`,!yte(c,h))continue;const S=OF(c,h);let k="unkown";"ADBE Color Control"===c.mn?k="color":"ADBE Slider Control"===c.mn?k="slider":"ADBE Point Control"===c.mn?k="point":"ADBE Checkbox Control"===c.mn&&(k="checkbox"),"unkown"!==k&&t.push({name:c.nm,path:_,value:S,type:k})}return t}(this.iconData,!0)),this._properties||[]}get states(){return this.properties.filter(e=>e.name.startsWith(Nd)).map(e=>e.name.substr(Nd.length).toLowerCase())}get defaultState(){const e=this.properties.filter(t=>t.name.startsWith(Nd)&&t.value);if(e.length)return e[0].name.substr(Nd.length).toLowerCase()}get isReady(){return this._isReady}get lottie(){return this._lottie}set palette(e){if(e&&"object"==typeof e){for(const t of this.properties){if("color"!==t.type)continue;const i=t.name.toLowerCase();i in e&&e[i]?n6(this._lottie,this.properties,i,e[i]):LF(this._lottie,this.properties,i)}this.refresh()}}get palette(){return this._palette||(this._palette=new Proxy(this,{set:(e,t,i,r)=>{for(const o of e.properties)"color"==o.type&&"string"==typeof t&&t.toLowerCase()==o.name.toLowerCase()&&(i?n6(e._lottie,e.properties,t,i):void 0===i&&LF(e._lottie,e.properties,t),e.refresh());return!0},get:(e,t,i)=>{for(const r of e.properties)if("color"==r.type&&"string"==typeof t&&t.toLowerCase()==r.name.toLowerCase())return Cte(OF(e._lottie,r.path))},deleteProperty:(e,t)=>{for(const i of e.properties)"color"==i.type&&"string"==typeof t&&t.toLowerCase()==i.name.toLowerCase()&&(LF(e._lottie,e.properties,t),e.refresh());return!0},ownKeys:e=>e.properties.filter(t=>"color"==t.type).map(t=>t.name.toLowerCase()),has:(e,t)=>{for(const i of e.properties)if("color"==i.type&&"string"==typeof t&&t.toLowerCase()==i.name.toLowerCase())return!0;return!1},getOwnPropertyDescriptor:e=>({enumerable:!0,configurable:!0})})),this._palette}set icon(e){if(e&&kF(e))this._storedIconData=e,this.hasAttribute("icon")?this.removeAttribute("icon"):this.iconChanged();else{const t=this._storedIconData;this._storedIconData=void 0,e?this.setAttribute("icon",e):(this.removeAttribute("icon"),t&&this.iconChanged())}}get icon(){return this._storedIconData||this.getAttribute("icon")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get src(){return this.getAttribute("src")}set state(e){e?this.setAttribute("state",e):this.removeAttribute("state")}get state(){return this.getAttribute("state")}set colors(e){e?this.setAttribute("colors",e):this.removeAttribute("colors")}get colors(){return this.getAttribute("colors")}set trigger(e){e?this.setAttribute("trigger",e):this.removeAttribute("trigger")}get trigger(){return this.getAttribute("trigger")}set speed(e){Pd(e)?this.removeAttribute("speed"):this.setAttribute("speed",e)}get speed(){return this.hasAttribute("speed")?parseFloat(this.getAttribute("speed")):null}set stroke(e){Pd(e)?this.removeAttribute("stroke"):this.setAttribute("stroke",e)}get stroke(){return this.hasAttribute("stroke")?parseFloat(this.getAttribute("stroke")):null}set scale(e){Pd(e)?this.removeAttribute("scale"):this.setAttribute("scale",e)}get scale(){return this.hasAttribute("scale")?parseFloat(this.getAttribute("scale")):null}set axisX(e){Pd(e)?this.removeAttribute("axis-x"):this.setAttribute("axis-x",e)}get axisX(){return this.hasAttribute("axis-x")?parseFloat(this.getAttribute("axis-x")):null}set axisY(e){Pd(e)?this.removeAttribute("axis-y"):this.setAttribute("axis-y",e)}get axisY(){return this.hasAttribute("axis-y")?parseFloat(this.getAttribute("axis-y")):null}get container(){return this._root.lastElementChild}get iconData(){return this.icon&&"object"==typeof this.icon?this.icon:function Mte(n){return oA.get(n)}(this.icon||this.src)}get animationSpeed(){if(this.hasAttribute("speed")){const e=this.getAttribute("speed");return null===e?1:parseFloat(e)}return 1}get version(){return"3.4.0"}}class Ng extends class Vte{constructor(e,t){Ss(this,"element",void 0),Ss(this,"lottie",void 0),Ss(this,"_inAnimation",!1),Ss(this,"_isReady",!1),Ss(this,"_connected",!1),this.element=e,this.lottie=t;const i=()=>{this._isReady||(this._isReady=!0,this.ready())};t.addEventListener("complete",()=>{this._inAnimation=!1,this.complete()}),t.addEventListener("config_ready",i),this.lottie.isLoaded&&i()}connectedCallback(){this._connected=!0}disconnectedCallback(){this._connected=!1}ready(){}complete(){}play(){this._inAnimation=!0,this.lottie.play()}playFromBegining(){this._inAnimation=!0,this.lottie.goToAndPlay(0)}stop(){this.lottie.stop()}goToFrame(e){this.lottie.goToAndStop(e,!0)}goToFirstFrame(){this.goToFrame(0)}goToLastFrame(){this.goToFrame(Math.max(0,this.lottie.getDuration(!0)-1))}setDirection(e){this.lottie.setDirection(e)}setLoop(e){this.lottie.loop=e}setSpeed(e){this.lottie.setSpeed(e)}get inAnimation(){return this._inAnimation}get isReady(){return this._isReady}get connected(){return this._connected}}{constructor(...e){super(...e),Ss(this,"_events",[])}addTargetEventListener(e,t){const i="string"==typeof e?{name:e}:e,r=i.name;this._events.push({name:r,callback:t}),this.targetElement.addEventListener(r,t,i.options)}clearAllTargetEventsListeners(){for(const e of this._events)this.targetElement.removeEventListener(e.name,e.callback);this._events=[]}disconnectedCallback(){this.clearAllTargetEventsListeners(),super.disconnectedCallback()}get targetElement(){const e=this.element,t=e.getAttribute("target");return(t?e.closest(t):null)||e}}const Bte=["mousedown",{name:"touchstart",options:{passive:!0}}];class Ute extends Ng{connectedCallback(){super.connectedCallback();for(const e of Bte)this.addTargetEventListener(e,()=>{this.inAnimation||this.playFromBegining()})}}class Hte extends Ng{connectedCallback(){super.connectedCallback(),this.addTargetEventListener("mouseenter",()=>{this.inAnimation||this.playFromBegining()})}}class Gte extends Ng{connectedCallback(){super.connectedCallback(),this.addTargetEventListener("mouseenter",()=>{this.setDirection(1),this.play()}),this.addTargetEventListener("mouseleave",()=>{this.setDirection(-1),this.play()})}disconnectedCallback(){this.setDirection(1),super.disconnectedCallback()}}class jte extends Ng{constructor(...e){super(...e),Ss(this,"playDelay",null),Ss(this,"active",!1)}connectedCallback(){super.connectedCallback(),this.addTargetEventListener("mouseenter",()=>{this.active=!0,this.inAnimation||this.playFromBegining()}),this.addTargetEventListener("mouseleave",()=>{this.active=!1})}disconnectedCallback(){this.resetPlayDelayTimer(),super.disconnectedCallback()}complete(){this.resetPlayDelayTimer(),this.active&&this.connected&&(this.delay>0?this.playDelay=setTimeout(()=>{this.playFromBegining()},this.delay):this.playFromBegining())}resetPlayDelayTimer(){!this.playDelay||(clearTimeout(this.playDelay),this.playDelay=null)}get delay(){const e=this.element.hasAttribute("delay")?+(this.element.getAttribute("delay")||0):0;return Math.max(e,0)}}class $te extends Ng{constructor(...e){super(...e),Ss(this,"playDelay",null)}ready(){this.play()}disconnectedCallback(){this.resetPlayDelayTimer(),super.disconnectedCallback()}complete(){this.resetPlayDelayTimer(),this.connected&&(this.delay>0?this.playDelay=setTimeout(()=>{this.playFromBegining()},this.delay):this.playFromBegining())}resetPlayDelayTimer(){!this.playDelay||(clearTimeout(this.playDelay),this.playDelay=null)}get delay(){const e=this.element.hasAttribute("delay")?+(this.element.getAttribute("delay")||0):0;return Math.max(e,0)}}class zte extends Ng{connectedCallback(){super.connectedCallback(),this.addTargetEventListener("mouseenter",()=>{this.setDirection(1),this.play()})}disconnectedCallback(){this.setDirection(1),super.disconnectedCallback()}complete(){this.setDirection(-1),this.play()}}let Zte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,PF]}),n})(),Yte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,PF,ao]}),n})(),Qte=(()=>{class n{constructor(){!function Wte(n){kd.registerAnimationLoader(n),kd.registerTrigger("basic",Ng),kd.registerTrigger("click",Ute),kd.registerTrigger("hover",Hte),kd.registerTrigger("loop",$te),kd.registerTrigger("loop-on-hover",jte),kd.registerTrigger("morph",Gte),kd.registerTrigger("boomerang",zte),(!customElements.get||!customElements.get("lord-icon"))&&customElements.define("lord-icon",kd)}(gte().loadAnimation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[JA]}),n.\u0275inj=s.cJS({providers:[Ig,Y$,MF,q$,Q$,{provide:Ji.Dh,useValue:ZR.firebase}],imports:[Ic,PM,Ji.hO,DT(()=>LM(ZR.firebase)),JT,j8,YP,tY,J$,aY(()=>cY()),mY(()=>_Y()),TY(()=>SY()),J$,d0,AE,OX,cee,Kee,Zte,Yte]}),n})();ZR.production&&(0,s.G48)(),Na().bootstrapModule(Qte).catch(n=>console.error(n))},7123:function(d){d.exports=function(p){function g(y){if(s[y])return s[y].exports;var b=s[y]={exports:{},id:y,loaded:!1};return p[y].call(b.exports,b,b.exports,g),b.loaded=!0,b.exports}var s={};return g.m=p,g.c=s,g.p="dist/",g(0)}([function(p,g,s){"use strict";function y(ye){return ye&&ye.__esModule?ye:{default:ye}}var b=Object.assign||function(ye){for(var me=1;me<arguments.length;me++){var de=arguments[me];for(var ie in de)Object.prototype.hasOwnProperty.call(de,ie)&&(ye[ie]=de[ie])}return ye},F=(y(s(1)),s(6)),L=y(F),j=y(s(7)),x=y(s(8)),G=y(s(9)),X=y(s(10)),U=y(s(11)),P=y(s(14)),q=[],Y=!1,J={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ee=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Y=!0),Y)return q=(0,U.default)(q,J),(0,X.default)(q,J.once),q},fe=function(){q=(0,P.default)(),ee()};p.exports={init:function(ye){J=b(J,ye),q=(0,P.default)();var me=document.all&&!window.atob;return function(ye){return!0===ye||"mobile"===ye&&G.default.mobile()||"phone"===ye&&G.default.phone()||"tablet"===ye&&G.default.tablet()||"function"==typeof ye&&!0===ye()}(J.disable)||me?void q.forEach(function(ye,me){ye.node.removeAttribute("data-aos"),ye.node.removeAttribute("data-aos-easing"),ye.node.removeAttribute("data-aos-duration"),ye.node.removeAttribute("data-aos-delay")}):(J.disableMutationObserver||x.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),J.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",J.easing),document.querySelector("body").setAttribute("data-aos-duration",J.duration),document.querySelector("body").setAttribute("data-aos-delay",J.delay),"DOMContentLoaded"===J.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?ee(!0):"load"===J.startEvent?window.addEventListener(J.startEvent,function(){ee(!0)}):document.addEventListener(J.startEvent,function(){ee(!0)}),window.addEventListener("resize",(0,j.default)(ee,J.debounceDelay,!0)),window.addEventListener("orientationchange",(0,j.default)(ee,J.debounceDelay,!0)),window.addEventListener("scroll",(0,L.default)(function(){(0,X.default)(q,J.once)},J.throttleDelay)),J.disableMutationObserver||x.default.ready("[data-aos]",fe),q)},refresh:ee,refreshHard:fe}},function(p,g){},,,,,function(p,g){(function(s){"use strict";function y(le,pe,ye){function me(qe){var jt=Be,Sn=ot;return Be=ot=void 0,kt=qe,ct=le.apply(Sn,jt)}function de(qe){return kt=qe,yt=setTimeout(Z,pe),Ht?me(qe):ct}function te(qe){var jt=qe-Ct;return void 0===Ct||jt>=pe||jt<0||sn&&qe-kt>=Ot}function Z(){var qe=we();return te(qe)?ae(qe):void(yt=setTimeout(Z,function ie(qe){var Jn=pe-(qe-Ct);return sn?fe(Jn,Ot-(qe-kt)):Jn}(qe)))}function ae(qe){return yt=void 0,Rt&&Be?me(qe):(Be=ot=void 0,ct)}function Ze(){var qe=we(),jt=te(qe);if(Be=arguments,ot=this,Ct=qe,jt){if(void 0===yt)return de(Ct);if(sn)return yt=setTimeout(Z,pe),me(Ct)}return void 0===yt&&(yt=setTimeout(Z,pe)),ct}var Be,ot,Ot,ct,yt,Ct,kt=0,Ht=!1,sn=!1,Rt=!0;if("function"!=typeof le)throw new TypeError(Q);return pe=H(pe)||0,A(ye)&&(Ht=!!ye.leading,Ot=(sn="maxWait"in ye)?ee(H(ye.maxWait)||0,pe):Ot,Rt="trailing"in ye?!!ye.trailing:Rt),Ze.cancel=function Ne(){void 0!==yt&&clearTimeout(yt),kt=0,Be=Ct=ot=yt=void 0},Ze.flush=function De(){return void 0===yt?ct:ae(we())},Ze}function A(le){var pe=typeof le>"u"?"undefined":j(le);return!!le&&("object"==pe||"function"==pe)}function L(le){return"symbol"==(typeof le>"u"?"undefined":j(le))||function F(le){return!!le&&"object"==(typeof le>"u"?"undefined":j(le))}(le)&&J.call(le)==V}function H(le){if("number"==typeof le)return le;if(L(le))return x;if(A(le)){var pe="function"==typeof le.valueOf?le.valueOf():le;le=A(pe)?pe+"":pe}if("string"!=typeof le)return 0===le?le:+le;le=le.replace(G,"");var ye=X.test(le);return ye||O.test(le)?U(le.slice(2),ye?2:8):W.test(le)?x:+le}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},Q="Expected a function",x=NaN,V="[object Symbol]",G=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,O=/^0o[0-7]+$/i,U=parseInt,N="object"==(typeof s>"u"?"undefined":j(s))&&s&&s.Object===Object&&s,P="object"==(typeof self>"u"?"undefined":j(self))&&self&&self.Object===Object&&self,q=N||P||Function("return this")(),J=Object.prototype.toString,ee=Math.max,fe=Math.min,we=function(){return q.Date.now()};p.exports=function b(le,pe,ye){var me=!0,de=!0;if("function"!=typeof le)throw new TypeError(Q);return A(ye)&&(me="leading"in ye?!!ye.leading:me,de="trailing"in ye?!!ye.trailing:de),y(le,pe,{leading:me,maxWait:pe,trailing:de})}}).call(g,function(){return this}())},function(p,g){(function(s){"use strict";function b(we){var le=typeof we>"u"?"undefined":H(we);return!!we&&("object"==le||"function"==le)}function F(we){return"symbol"==(typeof we>"u"?"undefined":H(we))||function A(we){return!!we&&"object"==(typeof we>"u"?"undefined":H(we))}(we)&&Y.call(we)==x}function L(we){if("number"==typeof we)return we;if(F(we))return Q;if(b(we)){var le="function"==typeof we.valueOf?we.valueOf():we;we=b(le)?le+"":le}if("string"!=typeof we)return 0===we?we:+we;we=we.replace(V,"");var pe=W.test(we);return pe||X.test(we)?O(we.slice(2),pe?2:8):G.test(we)?Q:+we}var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},j="Expected a function",Q=NaN,x="[object Symbol]",V=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,X=/^0o[0-7]+$/i,O=parseInt,U="object"==(typeof s>"u"?"undefined":H(s))&&s&&s.Object===Object&&s,N="object"==(typeof self>"u"?"undefined":H(self))&&self&&self.Object===Object&&self,P=U||N||Function("return this")(),Y=Object.prototype.toString,J=Math.max,ee=Math.min,fe=function(){return P.Date.now()};p.exports=function y(we,le,pe){function ye(Rt){var qe=Ze,jt=Be;return Ze=Be=void 0,Ct=Rt,Ot=we.apply(jt,qe)}function me(Rt){return Ct=Rt,ct=setTimeout(te,le),kt?ye(Rt):Ot}function ie(Rt){var qe=Rt-yt;return void 0===yt||qe>=le||qe<0||Ht&&Rt-Ct>=ot}function te(){var Rt=fe();return ie(Rt)?Z(Rt):void(ct=setTimeout(te,function de(Rt){var Sn=le-(Rt-yt);return Ht?ee(Sn,ot-(Rt-Ct)):Sn}(Rt)))}function Z(Rt){return ct=void 0,sn&&Ze?ye(Rt):(Ze=Be=void 0,Ot)}function De(){var Rt=fe(),qe=ie(Rt);if(Ze=arguments,Be=this,yt=Rt,qe){if(void 0===ct)return me(yt);if(Ht)return ct=setTimeout(te,le),ye(yt)}return void 0===ct&&(ct=setTimeout(te,le)),Ot}var Ze,Be,ot,Ot,ct,yt,Ct=0,kt=!1,Ht=!1,sn=!0;if("function"!=typeof we)throw new TypeError(j);return le=L(le)||0,b(pe)&&(kt=!!pe.leading,ot=(Ht="maxWait"in pe)?J(L(pe.maxWait)||0,le):ot,sn="trailing"in pe?!!pe.trailing:sn),De.cancel=function ae(){void 0!==ct&&clearTimeout(ct),Ct=0,Ze=yt=Be=ct=void 0},De.flush=function Ne(){return void 0===ct?Ot:Z(fe())},De}}).call(g,function(){return this}())},function(p,g){"use strict";function s(H){var j=void 0,Q=void 0;for(j=0;j<H.length;j+=1)if((Q=H[j]).dataset&&Q.dataset.aos||Q.children&&s(Q.children))return!0;return!1}function y(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function F(H){H&&H.forEach(function(j){var Q=Array.prototype.slice.call(j.addedNodes),x=Array.prototype.slice.call(j.removedNodes);if(s(Q.concat(x)))return L()})}Object.defineProperty(g,"__esModule",{value:!0});var L=function(){};g.default={isSupported:function b(){return!!y()},ready:function A(H,j){var Q=window.document,V=new(y())(F);L=j,V.observe(Q.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(p,g){"use strict";function y(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(g,"__esModule",{value:!0});var b=function(){function Q(x,V){for(var G=0;G<V.length;G++){var W=V[G];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(x,W.key,W)}}return function(x,V,G){return V&&Q(x.prototype,V),G&&Q(x,G),x}}(),A=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,F=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,L=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,H=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,j=function(){function Q(){!function s(Q,x){if(!(Q instanceof x))throw new TypeError("Cannot call a class as a function")}(this,Q)}return b(Q,[{key:"phone",value:function(){var x=y();return!(!A.test(x)&&!F.test(x.substr(0,4)))}},{key:"mobile",value:function(){var x=y();return!(!L.test(x)&&!H.test(x.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Q}();g.default=new j},function(p,g){"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.default=function(b,A){var F=window.pageYOffset,L=window.innerHeight;b.forEach(function(H,j){!function(b,A,F){var L=b.node.getAttribute("data-aos-once");A>b.position?b.node.classList.add("aos-animate"):typeof L<"u"&&("false"===L||!F&&"true"!==L)&&b.node.classList.remove("aos-animate")}(H,L+F,A)})}},function(p,g,s){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var A=function y(L){return L&&L.__esModule?L:{default:L}}(s(12));g.default=function(L,H){return L.forEach(function(j,Q){j.node.classList.add("aos-init"),j.position=(0,A.default)(j.node,H.offset)}),L}},function(p,g,s){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var A=function y(L){return L&&L.__esModule?L:{default:L}}(s(13));g.default=function(L,H){var j=0,Q=0,x=window.innerHeight,V={offset:L.getAttribute("data-aos-offset"),anchor:L.getAttribute("data-aos-anchor"),anchorPlacement:L.getAttribute("data-aos-anchor-placement")};switch(V.offset&&!isNaN(V.offset)&&(Q=parseInt(V.offset)),V.anchor&&document.querySelectorAll(V.anchor)&&(L=document.querySelectorAll(V.anchor)[0]),j=(0,A.default)(L).top,V.anchorPlacement){case"top-bottom":break;case"center-bottom":j+=L.offsetHeight/2;break;case"bottom-bottom":j+=L.offsetHeight;break;case"top-center":j+=x/2;break;case"bottom-center":j+=x/2+L.offsetHeight;break;case"center-center":j+=x/2+L.offsetHeight/2;break;case"top-top":j+=x;break;case"bottom-top":j+=L.offsetHeight+x;break;case"center-top":j+=L.offsetHeight/2+x}return V.anchorPlacement||V.offset||isNaN(H)||(Q=H),j+Q}},function(p,g){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(y){for(var b=0,A=0;y&&!isNaN(y.offsetLeft)&&!isNaN(y.offsetTop);)b+=y.offsetLeft-("BODY"!=y.tagName?y.scrollLeft:0),A+=y.offsetTop-("BODY"!=y.tagName?y.scrollTop:0),y=y.offsetParent;return{top:A,left:b}}},function(p,g){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(y){return y=y||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(y,function(b){return{node:b}})}}])},5867:(d,p,g)=>{"use strict";g.d(p,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=g(9681);(0,s.registerVersion)("firebase","9.8.4","app")},127:(d,p,g)=>{"use strict";g.d(p,{Z:()=>s.Z});var s=g(3942);s.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(d,p,g)=>{"use strict";g.r(p);var s=g(5861),y=g(3942),b=g(3673),A=g(2090),H=(g(9681),g(1877),g(4859));function j(){return window}function V(){return(V=(0,s.Z)(function*(Re,Ee,Te){var $e;const{BuildInfo:st}=j();(0,b.aq)(Ee.sessionId,"AuthEvent did not contain a session ID");const Ft=yield P(Ee.sessionId),Ye={};return(0,b.ar)()?Ye.ibi=st.packageName:(0,b.as)()?Ye.apn=st.packageName:(0,b.at)(Re,"operation-not-supported-in-this-environment"),st.displayName&&(Ye.appDisplayName=st.displayName),Ye.sessionId=Ft,(0,b.au)(Re,Te,Ee.type,void 0,null!==($e=Ee.eventId)&&void 0!==$e?$e:void 0,Ye)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(Re){const{BuildInfo:Ee}=j(),Te={};(0,b.ar)()?Te.iosBundleId=Ee.packageName:(0,b.as)()?Te.androidPackageName=Ee.packageName:(0,b.at)(Re,"operation-not-supported-in-this-environment"),yield(0,b.av)(Re,Te)})).apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(Re,Ee,Te){const{cordova:$e}=j();let st=()=>{};try{yield new Promise((Ft,Ye)=>{let pt=null;function Gt(){var Bt;Ft();const Fi=null===(Bt=$e.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof Fi&&Fi(),"function"==typeof Te?.close&&Te.close()}function xn(){pt||(pt=window.setTimeout(()=>{Ye((0,b.aw)(Re,"redirect-cancelled-by-user"))},2e3))}function zi(){"visible"===document?.visibilityState&&xn()}Ee.addPassiveListener(Gt),document.addEventListener("resume",xn,!1),(0,b.as)()&&document.addEventListener("visibilitychange",zi,!1),st=()=>{Ee.removePassiveListener(Gt),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",zi,!1),pt&&window.clearTimeout(pt)}})}finally{st()}})).apply(this,arguments)}function P(Re){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(Re){const Ee=Y(Re),Te=yield crypto.subtle.digest("SHA-256",Ee);return Array.from(new Uint8Array(Te)).map(st=>st.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Y(Re){if((0,b.aq)(/[0-9a-zA-Z]+/.test(Re),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Re);const Ee=new ArrayBuffer(Re.length),Te=new Uint8Array(Ee);for(let $e=0;$e<Re.length;$e++)Te[$e]=Re.charCodeAt($e);return Te}class ee extends b.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ee=>{this.resolveInialized=Ee})}addPassiveListener(Ee){this.passiveListeners.add(Ee)}removePassiveListener(Ee){this.passiveListeners.delete(Ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ee){return this.resolveInialized(),this.passiveListeners.forEach(Te=>Te(Ee)),super.onEvent(Ee)}initialized(){var Ee=this;return(0,s.Z)(function*(){yield Ee.initPromise})()}}function le(Re){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(Re){const Ee=yield de()._get(ie(Re));return Ee&&(yield de()._remove(ie(Re))),Ee})).apply(this,arguments)}function me(){const Re=[],Ee="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Te=0;Te<20;Te++){const $e=Math.floor(Math.random()*Ee.length);Re.push(Ee.charAt($e))}return Re.join("")}function de(){return(0,b.ay)(b.b)}function ie(Re){return(0,b.az)("authEvent",Re.config.apiKey,Re.name)}function ae(Re){if(!Re?.includes("?"))return{};const[Ee,...Te]=Re.split("?");return(0,A.zd)(Te.join("?"))}function Be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,b.aw)("no-auth-event")}}function Ct(){var Re;return(null===(Re=self?.location)||void 0===Re?void 0:Re.protocol)||null}function Ht(Re=(0,A.z$)()){return!("file:"!==Ct()&&"ionic:"!==Ct()&&"capacitor:"!==Ct()||!Re.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sn(){try{const Re=self.localStorage,Ee=b.aI();if(Re)return Re.setItem(Ee,"1"),Re.removeItem(Ee),!function jt(Re=(0,A.z$)()){return function Rt(){return(0,A.w1)()&&11===document?.documentMode}()||function qe(Re=(0,A.z$)()){return/Edge\/\d+/.test(Re)}(Re)}()||(0,A.hl)()}catch{return Jn()&&(0,A.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function In(){return(function kt(){return"http:"===Ct()||"https:"===Ct()}()||(0,A.ru)()||Ht())&&!function sn(){return(0,A.b$)()||(0,A.UG)()}()&&Sn()&&!Jn()}function hi(){return Ht()&&typeof document<"u"}function Wn(){return(Wn=(0,s.Z)(function*(){return!!hi()&&new Promise(Re=>{const Ee=setTimeout(()=>{Re(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ee),Re(!0)})})})).apply(this,arguments)}const Yt={LOCAL:"local",NONE:"none",SESSION:"session"},jn=b.ax,An="persistence";function dn(Re){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(Re){yield Re._initializationPromise;const Ee=Xt(),Te=b.az(An,Re.config.apiKey,Re.name);Ee&&Ee.setItem(Te,Re._getPersistence())})).apply(this,arguments)}function Xt(){var Re;try{return(null===(Re=function ln(){return typeof window<"u"?window:null}())||void 0===Re?void 0:Re.sessionStorage)||null}catch{return null}}const ut=b.ax;class St{constructor(){this.browserResolver=b.ay(b.k),this.cordovaResolver=b.ay(class De{constructor(){this._redirectPersistence=b.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=b.aB,this._overrideRedirectResult=b.aC}_initialize(Ee){var Te=this;return(0,s.Z)(function*(){const $e=Ee._key();let st=Te.eventManagers.get($e);return st||(st=new ee(Ee),Te.eventManagers.set($e,st),Te.attachCallbackListeners(Ee,st)),st})()}_openPopup(Ee){(0,b.at)(Ee,"operation-not-supported-in-this-environment")}_openRedirect(Ee,Te,$e,st){var Ft=this;return(0,s.Z)(function*(){!function N(Re){var Ee,Te,$e,st,Ft,Ye,pt,Gt,xn,zi;const Bt=j();(0,b.ax)("function"==typeof(null===(Ee=Bt?.universalLinks)||void 0===Ee?void 0:Ee.subscribe),Re,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,b.ax)(typeof(null===(Te=Bt?.BuildInfo)||void 0===Te?void 0:Te.packageName)<"u",Re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,b.ax)("function"==typeof(null===(Ft=null===(st=null===($e=Bt?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===st?void 0:st.browsertab)||void 0===Ft?void 0:Ft.openUrl),Re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.ax)("function"==typeof(null===(Gt=null===(pt=null===(Ye=Bt?.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),Re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.ax)("function"==typeof(null===(zi=null===(xn=Bt?.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===zi?void 0:zi.open),Re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ee);const Ye=yield Ft._initialize(Ee);yield Ye.initialized(),Ye.resetRedirect(),(0,b.aD)(),yield Ft._originValidation(Ee);const pt=function fe(Re,Ee,Te=null){return{type:Ee,eventId:Te,urlResponse:null,sessionId:me(),postBody:null,tenantId:Re.tenantId,error:(0,b.aw)(Re,"no-auth-event")}}(Ee,$e,st);yield function we(Re,Ee){return de()._set(ie(Re),Ee)}(Ee,pt);const Gt=yield function x(Re,Ee,Te){return V.apply(this,arguments)}(Ee,pt,Te),xn=yield function X(Re){const{cordova:Ee}=j();return new Promise(Te=>{Ee.plugins.browsertab.isAvailable($e=>{let st=null;$e?Ee.plugins.browsertab.openUrl(Re):st=Ee.InAppBrowser.open(Re,(0,b.ap)()?"_blank":"_system","location=yes"),Te(st)})})}(Gt);return function O(Re,Ee,Te){return U.apply(this,arguments)}(Ee,Ye,xn)})()}_isIframeWebStorageSupported(Ee,Te){throw new Error("Method not implemented.")}_originValidation(Ee){const Te=Ee._key();return this.originValidationPromises[Te]||(this.originValidationPromises[Te]=function G(Re){return W.apply(this,arguments)}(Ee)),this.originValidationPromises[Te]}attachCallbackListeners(Ee,Te){const{universalLinks:$e,handleOpenURL:st,BuildInfo:Ft}=j(),Ye=setTimeout((0,s.Z)(function*(){yield le(Ee),Te.onEvent(Be())}),500),pt=function(){var zi=(0,s.Z)(function*(Bt){clearTimeout(Ye);const Fi=yield le(Ee);let Un=null;Fi&&Bt?.url&&(Un=function ye(Re,Ee){var Te,$e;const st=function Z(Re){const Ee=ae(Re),Te=Ee.link?decodeURIComponent(Ee.link):void 0,$e=ae(Te).link,st=Ee.deep_link_id?decodeURIComponent(Ee.deep_link_id):void 0;return ae(st).link||st||$e||Te||Re}(Ee);if(st.includes("/__/auth/callback")){const Ft=ae(st),Ye=Ft.firebaseError?function te(Re){try{return JSON.parse(Re)}catch{return null}}(decodeURIComponent(Ft.firebaseError)):null,pt=null===($e=null===(Te=Ye?.code)||void 0===Te?void 0:Te.split("auth/"))||void 0===$e?void 0:$e[1],Gt=pt?(0,b.aw)(pt):null;return Gt?{type:Re.type,eventId:Re.eventId,tenantId:Re.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:Re.type,eventId:Re.eventId,tenantId:Re.tenantId,sessionId:Re.sessionId,urlResponse:st,postBody:null}}return null}(Fi,Bt.url)),Te.onEvent(Un||Be())});return function(Fi){return zi.apply(this,arguments)}}();typeof $e<"u"&&"function"==typeof $e.subscribe&&$e.subscribe(null,pt);const Gt=st,xn=`${Ft.packageName.toLowerCase()}://`;j().handleOpenURL=function(){var zi=(0,s.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(xn)&&pt({url:Bt}),"function"==typeof Gt)try{Gt(Bt)}catch(Fi){console.error(Fi)}});return function(Bt){return zi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=b.a,this._completeRedirectFn=b.aB,this._overrideRedirectResult=b.aC}_initialize(Ee){var Te=this;return(0,s.Z)(function*(){return yield Te.selectUnderlyingResolver(),Te.assertedUnderlyingResolver._initialize(Ee)})()}_openPopup(Ee,Te,$e,st){var Ft=this;return(0,s.Z)(function*(){return yield Ft.selectUnderlyingResolver(),Ft.assertedUnderlyingResolver._openPopup(Ee,Te,$e,st)})()}_openRedirect(Ee,Te,$e,st){var Ft=this;return(0,s.Z)(function*(){return yield Ft.selectUnderlyingResolver(),Ft.assertedUnderlyingResolver._openRedirect(Ee,Te,$e,st)})()}_isIframeWebStorageSupported(Ee,Te){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ee,Te)}_originValidation(Ee){return this.assertedUnderlyingResolver._originValidation(Ee)}get _shouldInitProactively(){return hi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ee=this;return(0,s.Z)(function*(){if(Ee.underlyingResolver)return;const Te=yield function bt(){return Wn.apply(this,arguments)}();Ee.underlyingResolver=Te?Ee.cordovaResolver:Ee.browserResolver})()}}function Yr(Re){return Re.unwrap()}function qt(Re){return ei(Re)}function ei(Re){const{_tokenResponse:Ee}=Re instanceof A.ZR?Re.customData:Re;if(!Ee)return null;if(!(Re instanceof A.ZR)&&"temporaryProof"in Ee&&"phoneNumber"in Ee)return b.P.credentialFromResult(Re);const Te=Ee.providerId;if(!Te||Te===b.o.PASSWORD)return null;let $e;switch(Te){case b.o.GOOGLE:$e=b.Q;break;case b.o.FACEBOOK:$e=b.N;break;case b.o.GITHUB:$e=b.T;break;case b.o.TWITTER:$e=b.W;break;default:const{oauthIdToken:st,oauthAccessToken:Ft,oauthTokenSecret:Ye,pendingToken:pt,nonce:Gt}=Ee;return Ft||Ye||st||pt?pt?Te.startsWith("saml.")?b.aL._create(Te,pt):b.J._fromParams({providerId:Te,signInMethod:Te,pendingToken:pt,idToken:st,accessToken:Ft}):new b.U(Te).credential({idToken:st,accessToken:Ft,rawNonce:Gt}):null}return Re instanceof A.ZR?$e.credentialFromError(Re):$e.credentialFromResult(Re)}function $n(Re,Ee){return Ee.catch(Te=>{throw Te instanceof A.ZR&&function ar(Re,Ee){var Te,$e;const st=null===(Te=Ee.customData)||void 0===Te?void 0:Te._tokenResponse;if("auth/multi-factor-auth-required"===(null===($e=Ee)||void 0===$e?void 0:$e.code))Ee.resolver=new be(Re,b.an(Re,Ee));else if(st){const Ft=ei(Ee),Ye=Ee;Ft&&(Ye.credential=Ft,Ye.tenantId=st.tenantId||void 0,Ye.email=st.email||void 0,Ye.phoneNumber=st.phoneNumber||void 0)}}(Re,Te),Te}).then(Te=>{const st=Te.user;return{operationType:Te.operationType,credential:qt(Te),additionalUserInfo:b.al(Te),user:Me.getOrCreate(st)}})}function Dn(Re,Ee){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(Re,Ee){const Te=yield Ee;return{verificationId:Te.verificationId,confirm:$e=>$n(Re,Te.confirm($e))}})).apply(this,arguments)}class be{constructor(Ee,Te){this.resolver=Te,this.auth=function Ri(Re){return Re.wrapped()}(Ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ee){return $n(Yr(this.auth),this.resolver.resolveSignIn(Ee))}}class Me{constructor(Ee){this._delegate=Ee,this.multiFactor=b.ao(Ee)}static getOrCreate(Ee){return Me.USER_MAP.has(Ee)||Me.USER_MAP.set(Ee,new Me(Ee)),Me.USER_MAP.get(Ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ee){return this._delegate.getIdTokenResult(Ee)}getIdToken(Ee){return this._delegate.getIdToken(Ee)}linkAndRetrieveDataWithCredential(Ee){return this.linkWithCredential(Ee)}linkWithCredential(Ee){var Te=this;return(0,s.Z)(function*(){return $n(Te.auth,b.Z(Te._delegate,Ee))})()}linkWithPhoneNumber(Ee,Te){var $e=this;return(0,s.Z)(function*(){return Dn($e.auth,b.l($e._delegate,Ee,Te))})()}linkWithPopup(Ee){var Te=this;return(0,s.Z)(function*(){return $n(Te.auth,b.d(Te._delegate,Ee,St))})()}linkWithRedirect(Ee){var Te=this;return(0,s.Z)(function*(){return yield dn(b.aE(Te.auth)),b.g(Te._delegate,Ee,St)})()}reauthenticateAndRetrieveDataWithCredential(Ee){return this.reauthenticateWithCredential(Ee)}reauthenticateWithCredential(Ee){var Te=this;return(0,s.Z)(function*(){return $n(Te.auth,b._(Te._delegate,Ee))})()}reauthenticateWithPhoneNumber(Ee,Te){return Dn(this.auth,b.r(this._delegate,Ee,Te))}reauthenticateWithPopup(Ee){return $n(this.auth,b.e(this._delegate,Ee,St))}reauthenticateWithRedirect(Ee){var Te=this;return(0,s.Z)(function*(){return yield dn(b.aE(Te.auth)),b.h(Te._delegate,Ee,St)})()}sendEmailVerification(Ee){return b.ab(this._delegate,Ee)}unlink(Ee){var Te=this;return(0,s.Z)(function*(){return yield b.ak(Te._delegate,Ee),Te})()}updateEmail(Ee){return b.ag(this._delegate,Ee)}updatePassword(Ee){return b.ah(this._delegate,Ee)}updatePhoneNumber(Ee){return b.u(this._delegate,Ee)}updateProfile(Ee){return b.af(this._delegate,Ee)}verifyBeforeUpdateEmail(Ee,Te){return b.ac(this._delegate,Ee,Te)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Me.USER_MAP=new WeakMap;const Pe=b.ax;let ve=(()=>{class Re{constructor(Te,$e){if(this.app=Te,$e.isInitialized())return this._delegate=$e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:st}=Te.options;Pe(st,"invalid-api-key",{appName:Te.name}),Pe(st,"invalid-api-key",{appName:Te.name});const Ft=typeof window<"u"?St:void 0;this._delegate=$e.initialize({options:{persistence:rt(st,Te.name),popupRedirectResolver:Ft}}),this._delegate._updateErrorMap(b.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Me.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Te){this._delegate.languageCode=Te}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Te){this._delegate.tenantId=Te}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Te,$e){b.G(this._delegate,Te,$e)}applyActionCode(Te){return b.a2(this._delegate,Te)}checkActionCode(Te){return b.a3(this._delegate,Te)}confirmPasswordReset(Te,$e){return b.a1(this._delegate,Te,$e)}createUserWithEmailAndPassword(Te,$e){var st=this;return(0,s.Z)(function*(){return $n(st._delegate,b.a5(st._delegate,Te,$e))})()}fetchProvidersForEmail(Te){return this.fetchSignInMethodsForEmail(Te)}fetchSignInMethodsForEmail(Te){return b.aa(this._delegate,Te)}isSignInWithEmailLink(Te){return b.a8(this._delegate,Te)}getRedirectResult(){var Te=this;return(0,s.Z)(function*(){Pe(In(),Te._delegate,"operation-not-supported-in-this-environment");const $e=yield b.j(Te._delegate,St);return $e?$n(Te._delegate,Promise.resolve($e)):{credential:null,user:null}})()}addFrameworkForLogging(Te){!function ot(Re,Ee){(0,b.aE)(Re)._logFramework(Ee)}(this._delegate,Te)}onAuthStateChanged(Te,$e,st){const{next:Ft,error:Ye,complete:pt}=je(Te,$e,st);return this._delegate.onAuthStateChanged(Ft,Ye,pt)}onIdTokenChanged(Te,$e,st){const{next:Ft,error:Ye,complete:pt}=je(Te,$e,st);return this._delegate.onIdTokenChanged(Ft,Ye,pt)}sendSignInLinkToEmail(Te,$e){return b.a7(this._delegate,Te,$e)}sendPasswordResetEmail(Te,$e){return b.a0(this._delegate,Te,$e||void 0)}setPersistence(Te){var $e=this;return(0,s.Z)(function*(){let st;switch(function Xn(Re,Ee){jn(Object.values(Yt).includes(Ee),Re,"invalid-persistence-type"),(0,A.b$)()?jn(Ee!==Yt.SESSION,Re,"unsupported-persistence-type"):(0,A.UG)()?jn(Ee===Yt.NONE,Re,"unsupported-persistence-type"):Jn()?jn(Ee===Yt.NONE||Ee===Yt.LOCAL&&(0,A.hl)(),Re,"unsupported-persistence-type"):jn(Ee===Yt.NONE||Sn(),Re,"unsupported-persistence-type")}($e._delegate,Te),Te){case Yt.SESSION:st=b.a;break;case Yt.LOCAL:st=(yield b.ay(b.i)._isAvailable())?b.i:b.b;break;case Yt.NONE:st=b.L;break;default:return b.at("argument-error",{appName:$e._delegate.name})}return $e._delegate.setPersistence(st)})()}signInAndRetrieveDataWithCredential(Te){return this.signInWithCredential(Te)}signInAnonymously(){return $n(this._delegate,b.X(this._delegate))}signInWithCredential(Te){return $n(this._delegate,b.Y(this._delegate,Te))}signInWithCustomToken(Te){return $n(this._delegate,b.$(this._delegate,Te))}signInWithEmailAndPassword(Te,$e){return $n(this._delegate,b.a6(this._delegate,Te,$e))}signInWithEmailLink(Te,$e){return $n(this._delegate,b.a9(this._delegate,Te,$e))}signInWithPhoneNumber(Te,$e){return Dn(this._delegate,b.s(this._delegate,Te,$e))}signInWithPopup(Te){var $e=this;return(0,s.Z)(function*(){return Pe(In(),$e._delegate,"operation-not-supported-in-this-environment"),$n($e._delegate,b.c($e._delegate,Te,St))})()}signInWithRedirect(Te){var $e=this;return(0,s.Z)(function*(){return Pe(In(),$e._delegate,"operation-not-supported-in-this-environment"),yield dn($e._delegate),b.f($e._delegate,Te,St)})()}updateCurrentUser(Te){return this._delegate.updateCurrentUser(Te)}verifyPasswordResetCode(Te){return b.a4(this._delegate,Te)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Re.Persistence=Yt,Re})();function je(Re,Ee,Te){let $e=Re;"function"!=typeof Re&&({next:$e,error:Ee,complete:Te}=Re);const st=$e;return{next:Ye=>st(Ye&&Me.getOrCreate(Ye)),error:Ee,complete:Te}}function rt(Re,Ee){const Te=function mr(Re,Ee){const Te=Xt();if(!Te)return[];const $e=b.az(An,Re,Ee);switch(Te.getItem($e)){case Yt.NONE:return[b.L];case Yt.LOCAL:return[b.i,b.a];case Yt.SESSION:return[b.a];default:return[]}}(Re,Ee);if(typeof self<"u"&&!Te.includes(b.i)&&Te.push(b.i),typeof window<"u")for(const $e of[b.b,b.a])Te.includes($e)||Te.push($e);return Te.includes(b.L)||Te.push(b.L),Te}class Tt{constructor(){this.providerId="phone",this._delegate=new b.P(Yr(y.Z.auth()))}static credential(Ee,Te){return b.P.credential(Ee,Te)}verifyPhoneNumber(Ee,Te){return this._delegate.verifyPhoneNumber(Ee,Te)}unwrap(){return this._delegate}}Tt.PHONE_SIGN_IN_METHOD=b.P.PHONE_SIGN_IN_METHOD,Tt.PROVIDER_ID=b.P.PROVIDER_ID;const en=b.ax;class vn{constructor(Ee,Te,$e=y.Z.app()){var st;en(null===(st=$e.options)||void 0===st?void 0:st.apiKey,"invalid-api-key",{appName:$e.name}),this._delegate=new b.R(Ee,Te,$e.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function un(Re){Re.INTERNAL.registerComponent(new H.wA("auth-compat",Ee=>{const Te=Ee.getProvider("app-compat").getImmediate(),$e=Ee.getProvider("auth");return new ve(Te,$e)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:b.A.EMAIL_SIGNIN,PASSWORD_RESET:b.A.PASSWORD_RESET,RECOVER_EMAIL:b.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:b.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:b.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:b.A.VERIFY_EMAIL}},EmailAuthProvider:b.M,FacebookAuthProvider:b.N,GithubAuthProvider:b.T,GoogleAuthProvider:b.Q,OAuthProvider:b.U,SAMLAuthProvider:b.V,PhoneAuthProvider:Tt,PhoneMultiFactorGenerator:b.m,RecaptchaVerifier:vn,TwitterAuthProvider:b.W,Auth:ve,AuthCredential:b.H,Error:A.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Re.registerVersion("@firebase/auth-compat","0.2.17")}(y.Z)},4487:function(module,exports,__webpack_require__){var p;typeof navigator<"u"&&(p=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(p){_useWebWorker=!!p},getWebWorker=function(){return _useWebWorker},setLocationHref=function(p){locationHref=p},getLocationHref=function(){return locationHref};function createTag(d){return document.createElement(d)}function extendPrototype(d,p){var g,y,s=d.length;for(g=0;g<s;g+=1)for(var b in y=d[g].prototype)Object.prototype.hasOwnProperty.call(y,b)&&(p.prototype[b]=y[b])}function getDescriptor(d,p){return Object.getOwnPropertyDescriptor(d,p)}function createProxyFunction(d){function p(){}return p.prototype=d,p}var audioControllerFactory=function(){function d(p){this.audios=[],this.audioFactory=p,this._volume=1,this._isMuted=!1}return d.prototype={addAudio:function(g){this.audios.push(g)},pause:function(){var g,s=this.audios.length;for(g=0;g<s;g+=1)this.audios[g].pause()},resume:function(){var g,s=this.audios.length;for(g=0;g<s;g+=1)this.audios[g].resume()},setRate:function(g){var s,y=this.audios.length;for(s=0;s<y;s+=1)this.audios[s].setRate(g)},createAudio:function(g){return this.audioFactory?this.audioFactory(g):window.Howl?new window.Howl({src:[g]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(g){this.audioFactory=g},setVolume:function(g){this._volume=g,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var g,s=this.audios.length;for(g=0;g<s;g+=1)this.audios[g].volume(this._volume*(this._isMuted?0:1))}},function(){return new d}}(),createTypedArray=function(){function d(g,s){var A,y=0,b=[];switch(g){case"int16":case"uint8c":A=1;break;default:A=1.1}for(y=0;y<s;y+=1)b.push(A);return b}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function p(g,s){return"float32"===g?new Float32Array(s):"int16"===g?new Int16Array(s):"uint8c"===g?new Uint8ClampedArray(s):d(g,s)}:d}();function createSizedArray(d){return Array.apply(null,{length:d})}function _typeof$6(d){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var p,d=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],g=d.length;for(p=0;p<g;p+=1)BMMath[d[p]]=Math[d[p]]}(),BMMath.random=Math.random,BMMath.abs=function(d){if("object"===_typeof$6(d)&&d.length){var s,g=createSizedArray(d.length),y=d.length;for(s=0;s<y;s+=1)g[s]=Math.abs(d[s]);return g}return Math.abs(d)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(d){_shouldRoundValues=!!d}function bmRnd(d){return _shouldRoundValues?Math.round(d):d}function styleDiv(d){d.style.position="absolute",d.style.top=0,d.style.left=0,d.style.display="block",d.style.transformOrigin="0 0",d.style.webkitTransformOrigin="0 0",d.style.backfaceVisibility="visible",d.style.webkitBackfaceVisibility="visible",d.style.transformStyle="preserve-3d",d.style.webkitTransformStyle="preserve-3d",d.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(d,p,g,s){this.type=d,this.currentTime=p,this.totalTime=g,this.direction=s<0?-1:1}function BMCompleteEvent(d,p){this.type=d,this.direction=p<0?-1:1}function BMCompleteLoopEvent(d,p,g,s){this.type=d,this.currentLoop=g,this.totalLoops=p,this.direction=s<0?-1:1}function BMSegmentStartEvent(d,p,g){this.type=d,this.firstFrame=p,this.totalFrames=g}function BMDestroyEvent(d,p){this.type=d,this.target=p}function BMRenderFrameErrorEvent(d,p){this.type="renderFrameError",this.nativeError=d,this.currentTime=p}function BMConfigErrorEvent(d){this.type="configError",this.nativeError=d}function BMAnimationConfigErrorEvent(d,p){this.type=d,this.nativeError=p}var createElementID=(d=0,function(){return idPrefix$1+"__lottie_element_"+(d+=1)}),d;function HSVtoRGB(d,p,g){var s,y,b,A,F,L,H,j;switch(L=g*(1-p),H=g*(1-(F=6*d-(A=Math.floor(6*d)))*p),j=g*(1-(1-F)*p),A%6){case 0:s=g,y=j,b=L;break;case 1:s=H,y=g,b=L;break;case 2:s=L,y=g,b=j;break;case 3:s=L,y=H,b=g;break;case 4:s=j,y=L,b=g;break;case 5:s=g,y=L,b=H}return[s,y,b]}function RGBtoHSV(d,p,g){var A,s=Math.max(d,p,g),y=Math.min(d,p,g),b=s-y,F=0===s?0:b/s,L=s/255;switch(s){case y:A=0;break;case d:A=p-g+b*(p<g?6:0),A/=6*b;break;case p:A=g-d+2*b,A/=6*b;break;case g:A=d-p+4*b,A/=6*b}return[A,F,L]}function addSaturationToRGB(d,p){var g=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return g[1]+=p,g[1]>1?g[1]=1:g[1]<=0&&(g[1]=0),HSVtoRGB(g[0],g[1],g[2])}function addBrightnessToRGB(d,p){var g=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return g[2]+=p,g[2]>1?g[2]=1:g[2]<0&&(g[2]=0),HSVtoRGB(g[0],g[1],g[2])}function addHueToRGB(d,p){var g=RGBtoHSV(255*d[0],255*d[1],255*d[2]);return g[0]+=p/360,g[0]>1?g[0]-=1:g[0]<0&&(g[0]+=1),HSVtoRGB(g[0],g[1],g[2])}var rgbToHex=function(){var p,g,d=[];for(p=0;p<256;p+=1)g=p.toString(16),d[p]=1===g.length?"0"+g:g;return function(s,y,b){return s<0&&(s=0),y<0&&(y=0),b<0&&(b=0),"#"+d[s]+d[y]+d[b]}}(),setSubframeEnabled=function(p){subframeEnabled=!!p},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(p){expressionsPlugin=p},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(p){defaultCurveSegments=p},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(p){idPrefix$1=p},getIdPrefix=function(){return idPrefix$1};function createNS(d){return document.createElementNS(svgNS,d)}function _typeof$5(d){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}var dataManager=function(){var g,s,d=1,p=[],y={onmessage:function(){},postMessage:function(V){g({data:V})}},b={postMessage:function(V){y.onmessage({data:V})}};function F(){s||((s=function A(x){if(window.Worker&&window.Blob&&getWebWorker()){var V=new Blob(["var _workerSelf = self; self.onmessage = ",x.toString()],{type:"text/javascript"}),G=URL.createObjectURL(V);return new Worker(G)}return g=x,y}(function(V){if(b.dataManager||(b.dataManager=function G(){function X(de,ie){var te,Z,Ne,De,Ze,Be,ae=de.length;for(Z=0;Z<ae;Z+=1)if("ks"in(te=de[Z])&&!te.completed){if(te.completed=!0,te.tt&&(de[Z-1].td=te.tt),te.hasMask){var ot=te.masksProperties;for(De=ot.length,Ne=0;Ne<De;Ne+=1)if(ot[Ne].pt.k.i)q(ot[Ne].pt.k);else for(Be=ot[Ne].pt.k.length,Ze=0;Ze<Be;Ze+=1)ot[Ne].pt.k[Ze].s&&q(ot[Ne].pt.k[Ze].s[0]),ot[Ne].pt.k[Ze].e&&q(ot[Ne].pt.k[Ze].e[0])}0===te.ty?(te.layers=N(te.refId,ie),X(te.layers,ie)):4===te.ty&&P(te.shapes)}}function N(de,ie){var te=function U(de,ie){for(var te=0,Z=ie.length;te<Z;){if(ie[te].id===de)return ie[te];te+=1}return null}(de,ie);return te?te.layers.__used?JSON.parse(JSON.stringify(te.layers)):(te.layers.__used=!0,te.layers):null}function P(de){var ie,Z,ae;for(ie=de.length-1;ie>=0;ie-=1)if("sh"===de[ie].ty)if(de[ie].ks.k.i)q(de[ie].ks.k);else for(ae=de[ie].ks.k.length,Z=0;Z<ae;Z+=1)de[ie].ks.k[Z].s&&q(de[ie].ks.k[Z].s[0]),de[ie].ks.k[Z].e&&q(de[ie].ks.k[Z].e[0]);else"gr"===de[ie].ty&&P(de[ie].it)}function q(de){var ie,te=de.i.length;for(ie=0;ie<te;ie+=1)de.i[ie][0]+=de.v[ie][0],de.i[ie][1]+=de.v[ie][1],de.o[ie][0]+=de.v[ie][0],de.o[ie][1]+=de.v[ie][1]}function Y(de,ie){var te=ie?ie.split("."):[100,100,100];return de[0]>te[0]||!(te[0]>de[0])&&(de[1]>te[1]||!(te[1]>de[1])&&(de[2]>te[2]||!(te[2]>de[2])&&null))}var de,J=function(){var de=[4,4,14];function ie(Z){Z.t.d={k:[{s:Z.t.d,t:0}]}}function te(Z){var ae,Ne=Z.length;for(ae=0;ae<Ne;ae+=1)5===Z[ae].ty&&ie(Z[ae])}return function(Z){if(Y(de,Z.v)&&(te(Z.layers),Z.assets)){var ae,Ne=Z.assets.length;for(ae=0;ae<Ne;ae+=1)Z.assets[ae].layers&&te(Z.assets[ae].layers)}}}(),ee=(de=[4,7,99],function(ie){if(ie.chars&&!Y(de,ie.v)){var te,Z=ie.chars.length;for(te=0;te<Z;te+=1){var ae=ie.chars[te];ae.data&&ae.data.shapes&&(P(ae.data.shapes),ae.data.ip=0,ae.data.op=99999,ae.data.st=0,ae.data.sr=1,ae.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},ie.chars[te].t||(ae.data.shapes.push({ty:"no"}),ae.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),fe=function(){var de=[5,7,15];function ie(Z){var ae=Z.t.p;"number"==typeof ae.a&&(ae.a={a:0,k:ae.a}),"number"==typeof ae.p&&(ae.p={a:0,k:ae.p}),"number"==typeof ae.r&&(ae.r={a:0,k:ae.r})}function te(Z){var ae,Ne=Z.length;for(ae=0;ae<Ne;ae+=1)5===Z[ae].ty&&ie(Z[ae])}return function(Z){if(Y(de,Z.v)&&(te(Z.layers),Z.assets)){var ae,Ne=Z.assets.length;for(ae=0;ae<Ne;ae+=1)Z.assets[ae].layers&&te(Z.assets[ae].layers)}}}(),we=function(){var de=[4,1,9];function ie(Z){var ae,De,Ze,Ne=Z.length;for(ae=0;ae<Ne;ae+=1)if("gr"===Z[ae].ty)ie(Z[ae].it);else if("fl"===Z[ae].ty||"st"===Z[ae].ty)if(Z[ae].c.k&&Z[ae].c.k[0].i)for(Ze=Z[ae].c.k.length,De=0;De<Ze;De+=1)Z[ae].c.k[De].s&&(Z[ae].c.k[De].s[0]/=255,Z[ae].c.k[De].s[1]/=255,Z[ae].c.k[De].s[2]/=255,Z[ae].c.k[De].s[3]/=255),Z[ae].c.k[De].e&&(Z[ae].c.k[De].e[0]/=255,Z[ae].c.k[De].e[1]/=255,Z[ae].c.k[De].e[2]/=255,Z[ae].c.k[De].e[3]/=255);else Z[ae].c.k[0]/=255,Z[ae].c.k[1]/=255,Z[ae].c.k[2]/=255,Z[ae].c.k[3]/=255}function te(Z){var ae,Ne=Z.length;for(ae=0;ae<Ne;ae+=1)4===Z[ae].ty&&ie(Z[ae].shapes)}return function(Z){if(Y(de,Z.v)&&(te(Z.layers),Z.assets)){var ae,Ne=Z.assets.length;for(ae=0;ae<Ne;ae+=1)Z.assets[ae].layers&&te(Z.assets[ae].layers)}}}(),le=function(){var de=[4,4,18];function ie(Z){var ae,De,Ze;for(ae=Z.length-1;ae>=0;ae-=1)if("sh"===Z[ae].ty)if(Z[ae].ks.k.i)Z[ae].ks.k.c=Z[ae].closed;else for(Ze=Z[ae].ks.k.length,De=0;De<Ze;De+=1)Z[ae].ks.k[De].s&&(Z[ae].ks.k[De].s[0].c=Z[ae].closed),Z[ae].ks.k[De].e&&(Z[ae].ks.k[De].e[0].c=Z[ae].closed);else"gr"===Z[ae].ty&&ie(Z[ae].it)}function te(Z){var ae,Ne,Ze,Be,ot,Ot,De=Z.length;for(Ne=0;Ne<De;Ne+=1){if((ae=Z[Ne]).hasMask){var ct=ae.masksProperties;for(Be=ct.length,Ze=0;Ze<Be;Ze+=1)if(ct[Ze].pt.k.i)ct[Ze].pt.k.c=ct[Ze].cl;else for(Ot=ct[Ze].pt.k.length,ot=0;ot<Ot;ot+=1)ct[Ze].pt.k[ot].s&&(ct[Ze].pt.k[ot].s[0].c=ct[Ze].cl),ct[Ze].pt.k[ot].e&&(ct[Ze].pt.k[ot].e[0].c=ct[Ze].cl)}4===ae.ty&&ie(ae.shapes)}}return function(Z){if(Y(de,Z.v)&&(te(Z.layers),Z.assets)){var ae,Ne=Z.assets.length;for(ae=0;ae<Ne;ae+=1)Z.assets[ae].layers&&te(Z.assets[ae].layers)}}}(),me={completeData:function pe(de){de.__complete||(we(de),J(de),ee(de),fe(de),le(de),X(de.layers,de.assets),function O(de,ie){if(de){var te=0,Z=de.length;for(te=0;te<Z;te+=1)1===de[te].t&&(de[te].data.layers=N(de[te].data.refId,ie),X(de[te].data.layers,ie))}}(de.chars,de.assets),de.__complete=!0)}};return me.checkColors=we,me.checkChars=ee,me.checkPathProperties=fe,me.checkShapes=le,me.completeLayers=X,me}()),b.assetLoader||(b.assetLoader=function(){function X(U){var N=U.getResponseHeader("content-type");return N&&"json"===U.responseType&&-1!==N.indexOf("json")||U.response&&"object"===_typeof$5(U.response)?U.response:U.response&&"string"==typeof U.response?JSON.parse(U.response):U.responseText?JSON.parse(U.responseText):null}return{load:function O(U,N,P,q){var Y,J=new XMLHttpRequest;try{J.responseType="json"}catch{}J.onreadystatechange=function(){if(4===J.readyState)if(200===J.status)Y=X(J),P(Y);else try{Y=X(J),P(Y)}catch(ee){q&&q(ee)}};try{J.open("GET",U,!0)}catch{J.open("GET",N+"/"+U,!0)}J.send()}}}()),"loadAnimation"===V.data.type)b.assetLoader.load(V.data.path,V.data.fullPath,function(X){b.dataManager.completeData(X),b.postMessage({id:V.data.id,payload:X,status:"success"})},function(){b.postMessage({id:V.data.id,status:"error"})});else if("complete"===V.data.type){var W=V.data.animation;b.dataManager.completeData(W),b.postMessage({id:V.data.id,payload:W,status:"success"})}else"loadData"===V.data.type&&b.assetLoader.load(V.data.path,V.data.fullPath,function(X){b.postMessage({id:V.data.id,payload:X,status:"success"})},function(){b.postMessage({id:V.data.id,status:"error"})})})).onmessage=function(x){var V=x.data,G=V.id,W=p[G];p[G]=null,"success"===V.status?W.onComplete(V.payload):W.onError&&W.onError()})}function L(x,V){var G="processId_"+(d+=1);return p[G]={onComplete:x,onError:V},G}return{loadAnimation:function H(x,V,G){F();var W=L(V,G);s.postMessage({type:"loadAnimation",path:x,fullPath:window.location.origin+window.location.pathname,id:W})},loadData:function j(x,V,G){F();var W=L(V,G);s.postMessage({type:"loadData",path:x,fullPath:window.location.origin+window.location.pathname,id:W})},completeAnimation:function Q(x,V,G){F();var W=L(V,G);s.postMessage({type:"complete",animation:x,id:W})}}}(),ImagePreloader=function(){var d=function(){var O=createTag("canvas");O.width=1,O.height=1;var U=O.getContext("2d");return U.fillStyle="rgba(0,0,0,0)",U.fillRect(0,0,1,1),O}();function p(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function g(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(O,U,N){var P="";if(O.e)P=O.p;else if(U){var q=O.p;-1!==q.indexOf("images/")&&(q=q.split("/")[1]),P=U+q}else P=N,P+=O.u?O.u:"",P+=O.p;return P}function y(O){var U=0,N=setInterval(function(){(O.getBBox().width||U>500)&&(this._imageLoaded(),clearInterval(N)),U+=1}.bind(this),50)}function F(O){var U={assetData:O},N=s(O,this.assetsPath,this.path);return dataManager.loadData(N,function(P){U.img=P,this._footageLoaded()}.bind(this),function(){U.img={},this._footageLoaded()}.bind(this)),U}function X(){this._imageLoaded=p.bind(this),this._footageLoaded=g.bind(this),this.testImageLoaded=y.bind(this),this.createFootageData=F.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return X.prototype={loadAssets:function L(O,U){this.imagesLoadedCb=U;var N,P=O.length;for(N=0;N<P;N+=1)O[N].layers||(O[N].t&&"seq"!==O[N].t?3===O[N].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(O[N]))):(this.totalImages+=1,this.images.push(this._createImageData(O[N]))))},setAssetsPath:function j(O){this.assetsPath=O||""},setPath:function H(O){this.path=O||""},loadedImages:function V(){return this.totalImages===this.loadedAssets},loadedFootages:function G(){return this.totalFootages===this.loadedFootagesCount},destroy:function x(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function Q(O){for(var U=0,N=this.images.length;U<N;){if(this.images[U].assetData===O)return this.images[U].img;U+=1}return null},createImgData:function A(O){var U=s(O,this.assetsPath,this.path),N=createTag("img");N.crossOrigin="anonymous",N.addEventListener("load",this._imageLoaded,!1),N.addEventListener("error",function(){P.img=d,this._imageLoaded()}.bind(this),!1),N.src=U;var P={img:N,assetData:O};return P},createImageData:function b(O){var U=s(O,this.assetsPath,this.path),N=createNS("image");isSafari?this.testImageLoaded(N):N.addEventListener("load",this._imageLoaded,!1),N.addEventListener("error",function(){P.img=d,this._imageLoaded()}.bind(this),!1),N.setAttributeNS("http://www.w3.org/1999/xlink","href",U),this._elementHelper.append?this._elementHelper.append(N):this._elementHelper.appendChild(N);var P={img:N,assetData:O};return P},imageLoaded:p,footageLoaded:g,setCacheType:function W(O,U){"svg"===O?(this._elementHelper=U,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},X}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(p,g){if(this._cbs[p])for(var s=this._cbs[p],y=0;y<s.length;y+=1)s[y](g)},addEventListener:function(p,g){return this._cbs[p]||(this._cbs[p]=[]),this._cbs[p].push(g),function(){this.removeEventListener(p,g)}.bind(this)},removeEventListener:function(p,g){if(g){if(this._cbs[p]){for(var s=0,y=this._cbs[p].length;s<y;)this._cbs[p][s]===g&&(this._cbs[p].splice(s,1),s-=1,y-=1),s+=1;this._cbs[p].length||(this._cbs[p]=null)}}else this._cbs[p]=null}};var markerParser=function(){function d(p){for(var y,g=p.split("\r\n"),s={},b=0,A=0;A<g.length;A+=1)2===(y=g[A].split(":")).length&&(s[y[0]]=y[1].trim(),b+=1);if(0===b)throw new Error;return s}return function(p){for(var g=[],s=0;s<p.length;s+=1){var y=p[s],b={time:y.tm,duration:y.dr};try{b.payload=JSON.parse(p[s].cm)}catch{try{b.payload=d(p[s].cm)}catch{b.payload={name:p[s].cm}}}g.push(b)}return g}}(),ProjectInterface=function(){function d(p){this.compositions.push(p)}return function(){function p(g){for(var s=0,y=this.compositions.length;s<y;){if(this.compositions[s].data&&this.compositions[s].data.nm===g)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return p.compositions=[],p.currentFrame=0,p.registerComposition=d,p}}(),renderers={},registerRenderer=function(p,g){renderers[p]=g};function getRenderer(d){return renderers[d]}function _typeof$4(d){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(d){(d.wrapper||d.container)&&(this.wrapper=d.wrapper||d.container);var p="svg";d.animType?p=d.animType:d.renderer&&(p=d.renderer);var g=getRenderer(p);this.renderer=new g(this,d.rendererSettings),this.imagePreloader.setCacheType(p,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=p,this.loop=""===d.loop||null==d.loop||!0===d.loop||!1!==d.loop&&parseInt(d.loop,10),this.autoplay=!("autoplay"in d)||d.autoplay,this.name=d.name?d.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(d,"autoloadSegments")||d.autoloadSegments,this.assetsPath=d.assetsPath,this.initialSegment=d.initialSegment,d.audioFactory&&this.audioController.setAudioFactory(d.audioFactory),d.animationData?this.setupAnimation(d.animationData):d.path&&(this.path=-1!==d.path.lastIndexOf("\\")?d.path.substr(0,d.path.lastIndexOf("\\")+1):d.path.substr(0,d.path.lastIndexOf("/")+1),this.fileName=d.path.substr(d.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(d.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(d){dataManager.completeAnimation(d,this.configAnimation)},AnimationItem.prototype.setData=function(d,p){p&&"object"!==_typeof$4(p)&&(p=JSON.parse(p));var g={wrapper:d,animationData:p},s=d.attributes;g.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",g.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:"canvas";var y=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===y?g.loop=!1:"true"===y?g.loop=!0:""!==y&&(g.loop=parseInt(y,10));var b=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;g.autoplay="false"!==b,g.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(g.prerender=!1),this.setParams(g)},AnimationItem.prototype.includeLayers=function(d){d.op>this.animationData.op&&(this.animationData.op=d.op,this.totalFrames=Math.floor(d.op-this.animationData.ip));var g,b,p=this.animationData.layers,s=p.length,y=d.layers,A=y.length;for(b=0;b<A;b+=1)for(g=0;g<s;){if(p[g].id===y[b].id){p[g]=y[b];break}g+=1}if((d.chars||d.fonts)&&(this.renderer.globalData.fontManager.addChars(d.chars),this.renderer.globalData.fontManager.addFonts(d.fonts,this.renderer.globalData.defs)),d.assets)for(s=d.assets.length,g=0;g<s;g+=1)this.animationData.assets.push(d.assets[g]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(d){this.animationData=d;var p=getExpressionsPlugin();p&&p.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var d=this.animationData.segments;if(!d||0===d.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var p=d.shift();this.timeCompleted=p.time*this.frameRate;var g=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(g,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(d){if(this.renderer)try{this.animationData=d,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(d),d.assets||(d.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(d.assets),this.markers=markerParser(d.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(p){this.triggerConfigError(p)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var d=getExpressionsPlugin();d&&d.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(d){this.isSubframeEnabled=!!d},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(d){this.triggerRenderFrameError(d)}},AnimationItem.prototype.play=function(d){d&&this.name!==d||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(d){d&&this.name!==d||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(d){d&&this.name!==d||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(d){d&&this.name!==d||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(d){for(var p,g=0;g<this.markers.length;g+=1)if((p=this.markers[g]).payload&&p.payload.name===d)return p;return null},AnimationItem.prototype.goToAndStop=function(d,p,g){if(!g||this.name===g){var s=Number(d);if(isNaN(s)){var y=this.getMarkerData(d);y&&this.goToAndStop(y.time,!0)}else this.setCurrentRawFrameValue(p?d:d*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(d,p,g){if(!g||this.name===g){var s=Number(d);if(isNaN(s)){var y=this.getMarkerData(d);y&&(y.duration?this.playSegments([y.time,y.time+y.duration],!0):this.goToAndStop(y.time,!0))}else this.goToAndStop(s,p,g);this.play()}},AnimationItem.prototype.advanceTime=function(d){if(!0!==this.isPaused&&!1!==this.isLoaded){var p=this.currentRawFrame+d*this.frameModifier,g=!1;p>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?p>=this.totalFrames?(this.playCount+=1,this.checkSegments(p%this.totalFrames)||(this.setCurrentRawFrameValue(p%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(p):this.checkSegments(p>this.totalFrames?p%this.totalFrames:0)||(g=!0,p=this.totalFrames-1):p<0?this.checkSegments(p%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(g=!0,p=0):(this.setCurrentRawFrameValue(this.totalFrames+p%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(p),g&&(this.setCurrentRawFrameValue(p),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(d,p){this.playCount=0,d[1]<d[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=d[0]-d[1],this.timeCompleted=this.totalFrames,this.firstFrame=d[1],this.setCurrentRawFrameValue(this.totalFrames-.001-p)):d[1]>d[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=d[1]-d[0],this.timeCompleted=this.totalFrames,this.firstFrame=d[0],this.setCurrentRawFrameValue(.001+p)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(d,p){var g=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<d?g=d:this.currentRawFrame+this.firstFrame>p&&(g=p-d)),this.firstFrame=d,this.totalFrames=p-d,this.timeCompleted=this.totalFrames,-1!==g&&this.goToAndStop(g,!0)},AnimationItem.prototype.playSegments=function(d,p){if(p&&(this.segments.length=0),"object"===_typeof$4(d[0])){var g,s=d.length;for(g=0;g<s;g+=1)this.segments.push(d[g])}else this.segments.push(d);this.segments.length&&p&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(d){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),d&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(d){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),d),!0)},AnimationItem.prototype.destroy=function(d){d&&this.name!==d||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(d){this.currentRawFrame=d,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(d){this.playSpeed=d,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(d){this.playDirection=d<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(d,p){p&&this.name!==p||this.audioController.setVolume(d)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(d){d&&this.name!==d||this.audioController.mute()},AnimationItem.prototype.unmute=function(d){d&&this.name!==d||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(d){var p="";if(d.e)p=d.p;else if(this.assetsPath){var g=d.p;-1!==g.indexOf("images/")&&(g=g.split("/")[1]),p=this.assetsPath+g}else p=this.path,p+=d.u?d.u:"",p+=d.p;return p},AnimationItem.prototype.getAssetData=function(d){for(var p=0,g=this.assets.length;p<g;){if(d===this.assets[p].id)return this.assets[p];p+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(d){return d?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(d,p,g){try{this.renderer.getElementByPath(d).updateDocumentData(p,g)}catch{}},AnimationItem.prototype.trigger=function(d){if(this._cbs&&this._cbs[d])switch(d){case"enterFrame":this.triggerEvent(d,new BMEnterFrameEvent(d,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(d,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(d,new BMCompleteLoopEvent(d,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(d,new BMCompleteEvent(d,this.frameMult));break;case"segmentStart":this.triggerEvent(d,new BMSegmentStartEvent(d,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(d,new BMDestroyEvent(d,this));break;default:this.triggerEvent(d)}"enterFrame"===d&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(d,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===d&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(d,this.loop,this.playCount,this.frameMult)),"complete"===d&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(d,this.frameMult)),"segmentStart"===d&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(d,this.firstFrame,this.totalFrames)),"destroy"===d&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(d,this))},AnimationItem.prototype.triggerRenderFrameError=function(d){var p=new BMRenderFrameErrorEvent(d,this.currentFrame);this.triggerEvent("error",p),this.onError&&this.onError.call(this,p)},AnimationItem.prototype.triggerConfigError=function(d){var p=new BMConfigErrorEvent(d,this.currentFrame);this.triggerEvent("error",p),this.onError&&this.onError.call(this,p)};var animationManager=function(){var d={},p=[],g=0,s=0,y=0,b=!0,A=!1;function F(ie){for(var te=0,Z=ie.target;te<s;)p[te].animation===Z&&(p.splice(te,1),te-=1,s-=1,Z.isPaused||Q()),te+=1}function L(ie,te){if(!ie)return null;for(var Z=0;Z<s;){if(p[Z].elem===ie&&null!==p[Z].elem)return p[Z].animation;Z+=1}var ae=new AnimationItem;return x(ae,ie),ae.setData(ie,te),ae}function j(){y+=1,we()}function Q(){y-=1}function x(ie,te){ie.addEventListener("destroy",F),ie.addEventListener("_active",j),ie.addEventListener("_idle",Q),p.push({elem:te,animation:ie}),s+=1}function O(ie){var Z,te=ie-g;for(Z=0;Z<s;Z+=1)p[Z].animation.advanceTime(te);g=ie,y&&!A?window.requestAnimationFrame(O):b=!0}function U(ie){g=ie,window.requestAnimationFrame(O)}function we(){!A&&y&&b&&(window.requestAnimationFrame(U),b=!1)}return d.registerAnimation=L,d.loadAnimation=function V(ie){var te=new AnimationItem;return x(te,null),te.setParams(ie),te},d.setSpeed=function G(ie,te){var Z;for(Z=0;Z<s;Z+=1)p[Z].animation.setSpeed(ie,te)},d.setDirection=function W(ie,te){var Z;for(Z=0;Z<s;Z+=1)p[Z].animation.setDirection(ie,te)},d.play=function X(ie){var te;for(te=0;te<s;te+=1)p[te].animation.play(ie)},d.pause=function N(ie){var te;for(te=0;te<s;te+=1)p[te].animation.pause(ie)},d.stop=function q(ie){var te;for(te=0;te<s;te+=1)p[te].animation.stop(ie)},d.togglePause=function Y(ie){var te;for(te=0;te<s;te+=1)p[te].animation.togglePause(ie)},d.searchAnimations=function ee(ie,te,Z){var Ne,ae=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),De=ae.length;for(Ne=0;Ne<De;Ne+=1)Z&&ae[Ne].setAttribute("data-bm-type",Z),L(ae[Ne],ie);if(te&&0===De){Z||(Z="svg");var Ze=document.getElementsByTagName("body")[0];Ze.innerText="";var Be=createTag("div");Be.style.width="100%",Be.style.height="100%",Be.setAttribute("data-bm-type",Z),Ze.appendChild(Be),L(Be,ie)}},d.resize=function fe(){var ie;for(ie=0;ie<s;ie+=1)p[ie].animation.resize()},d.goToAndStop=function P(ie,te,Z){var ae;for(ae=0;ae<s;ae+=1)p[ae].animation.goToAndStop(ie,te,Z)},d.destroy=function J(ie){var te;for(te=s-1;te>=0;te-=1)p[te].animation.destroy(ie)},d.freeze=function le(){A=!0},d.unfreeze=function pe(){A=!1,we()},d.setVolume=function ye(ie,te){var Z;for(Z=0;Z<s;Z+=1)p[Z].animation.setVolume(ie,te)},d.mute=function me(ie){var te;for(te=0;te<s;te+=1)p[te].animation.mute(ie)},d.unmute=function de(ie){var te;for(te=0;te<s;te+=1)p[te].animation.unmute(ie)},d.getRegisteredAnimations=function H(){var ie,te=p.length,Z=[];for(ie=0;ie<te;ie+=1)Z.push(p[ie].animation);return Z},d}(),BezierFactory=function(){var d={getBezierEasing:function g(U,N,P,q,Y){var J=Y||("bez_"+U+"_"+N+"_"+P+"_"+q).replace(/\./g,"p");if(p[J])return p[J];var ee=new O([U,N,P,q]);return p[J]=ee,ee}},p={},L=.1,H="function"==typeof Float32Array;function j(U,N){return 1-3*N+3*U}function Q(U,N){return 3*N-6*U}function x(U){return 3*U}function V(U,N,P){return((j(N,P)*U+Q(N,P))*U+x(N))*U}function G(U,N,P){return 3*j(N,P)*U*U+2*Q(N,P)*U+x(N)}function O(U){this._p=U,this._mSampleValues=H?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return O.prototype={get:function(N){var P=this._p[0],q=this._p[1],Y=this._p[2],J=this._p[3];return this._precomputed||this._precompute(),P===q&&Y===J?N:0===N?0:1===N?1:V(this._getTForX(N),q,J)},_precompute:function(){var N=this._p[0],P=this._p[1],q=this._p[2],Y=this._p[3];this._precomputed=!0,(N!==P||q!==Y)&&this._calcSampleValues()},_calcSampleValues:function(){for(var N=this._p[0],P=this._p[2],q=0;q<11;++q)this._mSampleValues[q]=V(q*L,N,P)},_getTForX:function(N){for(var P=this._p[0],q=this._p[2],Y=this._mSampleValues,J=0,ee=1;10!==ee&&Y[ee]<=N;++ee)J+=L;var le=J+(N-Y[--ee])/(Y[ee+1]-Y[ee])*L,pe=G(le,P,q);return pe>=.001?function X(U,N,P,q){for(var Y=0;Y<4;++Y){var J=G(N,P,q);if(0===J)return N;N-=(V(N,P,q)-U)/J}return N}(N,le,P,q):0===pe?le:function W(U,N,P,q,Y){var J,ee,fe=0;do{(J=V(ee=N+(P-N)/2,q,Y)-U)>0?P=ee:N=ee}while(Math.abs(J)>1e-7&&++fe<10);return ee}(N,J,J+L,P,q)}},d}(),pooling={double:function d(p){return p.concat(createSizedArray(p.length))}},poolFactory=function(d,p,g){var s=0,y=d,b=createSizedArray(y);return{newElement:function F(){return s?b[s-=1]:p()},release:function L(H){s===y&&(b=pooling.double(b),y*=2),g&&g(H),b[s]=H,s+=1}}},bezierLengthPool=poolFactory(8,function d(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function d(){return{lengths:[],totalLength:0}},function p(g){var s,y=g.lengths.length;for(s=0;s<y;s+=1)bezierLengthPool.release(g.lengths[s]);g.lengths.length=0});function bezFunction(){var d=Math;function p(x,V,G,W,X,O){var U=x*W+V*X+G*O-X*W-O*x-G*V;return U>-.001&&U<.001}var s=function(x,V,G,W){var O,U,N,P,q,J,X=getDefaultCurveSegments(),Y=0,ee=[],fe=[],we=bezierLengthPool.newElement();for(N=G.length,O=0;O<X;O+=1){for(q=O/(X-1),J=0,U=0;U<N;U+=1)P=bmPow(1-q,3)*x[U]+3*bmPow(1-q,2)*q*G[U]+3*(1-q)*bmPow(q,2)*W[U]+bmPow(q,3)*V[U],ee[U]=P,null!==fe[U]&&(J+=bmPow(ee[U]-fe[U],2)),fe[U]=ee[U];J&&(Y+=J=bmSqrt(J)),we.percents[O]=q,we.lengths[O]=Y}return we.addedLength=Y,we};function b(x){this.segmentLength=0,this.points=new Array(x)}function A(x,V){this.partialLength=x,this.point=V}var x,F=(x={},function(V,G,W,X){var O=(V[0]+"_"+V[1]+"_"+G[0]+"_"+G[1]+"_"+W[0]+"_"+W[1]+"_"+X[0]+"_"+X[1]).replace(/\./g,"p");if(!x[O]){var N,P,q,Y,J,fe,we,U=getDefaultCurveSegments(),ee=0,le=null;2===V.length&&(V[0]!==G[0]||V[1]!==G[1])&&p(V[0],V[1],G[0],G[1],V[0]+W[0],V[1]+W[1])&&p(V[0],V[1],G[0],G[1],G[0]+X[0],G[1]+X[1])&&(U=2);var pe=new b(U);for(q=W.length,N=0;N<U;N+=1){for(we=createSizedArray(q),J=N/(U-1),fe=0,P=0;P<q;P+=1)Y=bmPow(1-J,3)*V[P]+3*bmPow(1-J,2)*J*(V[P]+W[P])+3*(1-J)*bmPow(J,2)*(G[P]+X[P])+bmPow(J,3)*G[P],we[P]=Y,null!==le&&(fe+=bmPow(we[P]-le[P],2));ee+=fe=bmSqrt(fe),pe.points[N]=new A(fe,we),le=we}pe.segmentLength=ee,x[O]=pe}return x[O]});function L(x,V){var G=V.percents,W=V.lengths,X=G.length,O=bmFloor((X-1)*x),U=x*V.addedLength,N=0;if(O===X-1||0===O||U===W[O])return G[O];for(var P=W[O]>U?-1:1,q=!0;q;)if(W[O]<=U&&W[O+1]>U?(N=(U-W[O])/(W[O+1]-W[O]),q=!1):O+=P,O<0||O>=X-1){if(O===X-1)return G[O];q=!1}return G[O]+(G[O+1]-G[O])*N}var j=createTypedArray("float32",8);return{getSegmentsLength:function y(x){var U,V=segmentsLengthPool.newElement(),G=x.c,W=x.v,X=x.o,O=x.i,N=x._length,P=V.lengths,q=0;for(U=0;U<N-1;U+=1)P[U]=s(W[U],W[U+1],X[U],O[U+1]),q+=P[U].addedLength;return G&&N&&(P[U]=s(W[U],W[0],X[U],O[0]),q+=P[U].addedLength),V.totalLength=q,V},getNewSegment:function Q(x,V,G,W,X,O,U){X<0?X=0:X>1&&(X=1);var q,N=L(X,U),P=L(O=O>1?1:O,U),Y=x.length,J=1-N,ee=1-P,fe=J*J*J,we=N*J*J*3,le=N*N*J*3,pe=N*N*N,ye=J*J*ee,me=N*J*ee+J*N*ee+J*J*P,de=N*N*ee+J*N*P+N*J*P,ie=N*N*P,te=J*ee*ee,Z=N*ee*ee+J*P*ee+J*ee*P,ae=N*P*ee+J*P*P+N*ee*P,Ne=N*P*P,De=ee*ee*ee,Ze=P*ee*ee+ee*P*ee+ee*ee*P,Be=P*P*ee+ee*P*P+P*ee*P,ot=P*P*P;for(q=0;q<Y;q+=1)j[4*q]=d.round(1e3*(fe*x[q]+we*G[q]+le*W[q]+pe*V[q]))/1e3,j[4*q+1]=d.round(1e3*(ye*x[q]+me*G[q]+de*W[q]+ie*V[q]))/1e3,j[4*q+2]=d.round(1e3*(te*x[q]+Z*G[q]+ae*W[q]+Ne*V[q]))/1e3,j[4*q+3]=d.round(1e3*(De*x[q]+Ze*G[q]+Be*W[q]+ot*V[q]))/1e3;return j},getPointInSegment:function H(x,V,G,W,X,O){var U=L(X,O),N=1-U;return[d.round(1e3*(N*N*N*x[0]+(U*N*N+N*U*N+N*N*U)*G[0]+(U*U*N+N*U*U+U*N*U)*W[0]+U*U*U*V[0]))/1e3,d.round(1e3*(N*N*N*x[1]+(U*N*N+N*U*N+N*N*U)*G[1]+(U*U*N+N*U*U+U*N*U)*W[1]+U*U*U*V[1]))/1e3]},buildBezierData:F,pointOnLine2D:p,pointOnLine3D:function g(x,V,G,W,X,O,U,N,P){if(0===G&&0===O&&0===P)return p(x,V,W,X,U,N);var ee,q=d.sqrt(d.pow(W-x,2)+d.pow(X-V,2)+d.pow(O-G,2)),Y=d.sqrt(d.pow(U-x,2)+d.pow(N-V,2)+d.pow(P-G,2)),J=d.sqrt(d.pow(U-W,2)+d.pow(N-X,2)+d.pow(P-O,2));return(ee=q>Y?q>J?q-Y-J:J-Y-q:J>Y?J-Y-q:Y-q-J)>-1e-4&&ee<1e-4}}}var bez=bezFunction(),PropertyFactory=function(){var d=initialDefaultFrame,p=Math.abs;function g(X,O){var N,U=this.offsetTime;"multidimensional"===this.propType&&(N=createTypedArray("float32",this.pv.length));for(var ee,fe,we,P=O.lastIndex,q=P,Y=this.keyframes.length-1,J=!0;J;){if(ee=this.keyframes[q],fe=this.keyframes[q+1],q===Y-1&&X>=fe.t-U){ee.h&&(ee=fe),P=0;break}if(fe.t-U>X){P=q;break}q<Y-1?q+=1:(P=0,J=!1)}we=this.keyframesMetadata[q]||{};var le,pe,ye,me,de,ie,ae,te=fe.t-U,Z=ee.t-U;if(ee.to){we.bezierData||(we.bezierData=bez.buildBezierData(ee.s,fe.s||ee.e,ee.to,ee.ti));var Ne=we.bezierData;if(X>=te||X<Z){var De=X>=te?Ne.points.length-1:0;for(pe=Ne.points[De].point.length,le=0;le<pe;le+=1)N[le]=Ne.points[De].point[le]}else{we.__fnct?ie=we.__fnct:(ie=BezierFactory.getBezierEasing(ee.o.x,ee.o.y,ee.i.x,ee.i.y,ee.n).get,we.__fnct=ie),ye=ie((X-Z)/(te-Z));var Be,Ze=Ne.segmentLength*ye,ot=O.lastFrame<X&&O._lastKeyframeIndex===q?O._lastAddedLength:0;for(de=O.lastFrame<X&&O._lastKeyframeIndex===q?O._lastPoint:0,J=!0,me=Ne.points.length;J;){if(ot+=Ne.points[de].partialLength,0===Ze||0===ye||de===Ne.points.length-1){for(pe=Ne.points[de].point.length,le=0;le<pe;le+=1)N[le]=Ne.points[de].point[le];break}if(Ze>=ot&&Ze<ot+Ne.points[de+1].partialLength){for(Be=(Ze-ot)/Ne.points[de+1].partialLength,pe=Ne.points[de].point.length,le=0;le<pe;le+=1)N[le]=Ne.points[de].point[le]+(Ne.points[de+1].point[le]-Ne.points[de].point[le])*Be;break}de<me-1?de+=1:J=!1}O._lastPoint=de,O._lastAddedLength=ot-Ne.points[de].partialLength,O._lastKeyframeIndex=q}}else{var kt;if(Y=ee.s.length,ae=fe.s||ee.e,this.sh&&1!==ee.h)X>=te?(N[0]=ae[0],N[1]=ae[1],N[2]=ae[2]):X<=Z?(N[0]=ee.s[0],N[1]=ee.s[1],N[2]=ee.s[2]):function y(X,O){var U=O[0],N=O[1],P=O[2],q=O[3],Y=Math.atan2(2*N*q-2*U*P,1-2*N*N-2*P*P),J=Math.asin(2*U*N+2*P*q),ee=Math.atan2(2*U*q-2*N*P,1-2*U*U-2*P*P);X[0]=Y/degToRads,X[1]=J/degToRads,X[2]=ee/degToRads}(N,function s(X,O,U){var pe,ye,me,de,ie,N=[],P=X[0],q=X[1],Y=X[2],J=X[3],ee=O[0],fe=O[1],we=O[2],le=O[3];return(ye=P*ee+q*fe+Y*we+J*le)<0&&(ye=-ye,ee=-ee,fe=-fe,we=-we,le=-le),1-ye>1e-6?(pe=Math.acos(ye),me=Math.sin(pe),de=Math.sin((1-U)*pe)/me,ie=Math.sin(U*pe)/me):(de=1-U,ie=U),N[0]=de*P+ie*ee,N[1]=de*q+ie*fe,N[2]=de*Y+ie*we,N[3]=de*J+ie*le,N}(b(ee.s),b(ae),(X-Z)/(te-Z)));else for(q=0;q<Y;q+=1)1!==ee.h&&(X>=te?ye=1:X<Z?ye=0:(ee.o.x.constructor===Array?(we.__fnct||(we.__fnct=[]),we.__fnct[q]?ie=we.__fnct[q]:(ie=BezierFactory.getBezierEasing(void 0===ee.o.x[q]?ee.o.x[0]:ee.o.x[q],void 0===ee.o.y[q]?ee.o.y[0]:ee.o.y[q],void 0===ee.i.x[q]?ee.i.x[0]:ee.i.x[q],void 0===ee.i.y[q]?ee.i.y[0]:ee.i.y[q]).get,we.__fnct[q]=ie)):we.__fnct?ie=we.__fnct:(ie=BezierFactory.getBezierEasing(ee.o.x,ee.o.y,ee.i.x,ee.i.y).get,ee.keyframeMetadata=ie),ye=ie((X-Z)/(te-Z)))),ae=fe.s||ee.e,kt=1===ee.h?ee.s[q]:ee.s[q]+(ae[q]-ee.s[q])*ye,"multidimensional"===this.propType?N[q]=kt:N=kt}return O.lastIndex=P,N}function b(X){var O=X[0]*degToRads,U=X[1]*degToRads,N=X[2]*degToRads,P=Math.cos(O/2),q=Math.cos(U/2),Y=Math.cos(N/2),J=Math.sin(O/2),ee=Math.sin(U/2),fe=Math.sin(N/2);return[J*ee*Y+P*q*fe,J*q*Y+P*ee*fe,P*ee*Y-J*q*fe,P*q*Y-J*ee*fe]}function A(){var X=this.comp.renderedFrame-this.offsetTime,O=this.keyframes[0].t-this.offsetTime,U=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(X===this._caching.lastFrame||this._caching.lastFrame!==d&&(this._caching.lastFrame>=U&&X>=U||this._caching.lastFrame<O&&X<O))){this._caching.lastFrame>=X&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var N=this.interpolateValue(X,this._caching);this.pv=N}return this._caching.lastFrame=X,this.pv}function F(X){var O;if("unidimensional"===this.propType)p(this.v-(O=X*this.mult))>1e-5&&(this.v=O,this._mdf=!0);else for(var U=0,N=this.v.length;U<N;)p(this.v[U]-(O=X[U]*this.mult))>1e-5&&(this.v[U]=O,this._mdf=!0),U+=1}function L(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var X,O=this.effectsSequence.length,U=this.kf?this.pv:this.data.k;for(X=0;X<O;X+=1)U=this.effectsSequence[X](U);this.setVValue(U),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function H(X){this.effectsSequence.push(X),this.container.addDynamicProperty(this)}function j(X,O,U,N){this.propType="unidimensional",this.mult=U||1,this.data=O,this.v=U?O.k*U:O.k,this.pv=O.k,this._mdf=!1,this.elem=X,this.container=N,this.comp=X.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=L,this.setVValue=F,this.addEffect=H}function Q(X,O,U,N){this.propType="multidimensional",this.mult=U||1,this.data=O,this._mdf=!1,this.elem=X,this.container=N,this.comp=X.comp,this.k=!1,this.kf=!1,this.frameId=-1;var P,q=O.k.length;for(this.v=createTypedArray("float32",q),this.pv=createTypedArray("float32",q),this.vel=createTypedArray("float32",q),P=0;P<q;P+=1)this.v[P]=O.k[P]*this.mult,this.pv[P]=O.k[P];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=L,this.setVValue=F,this.addEffect=H}function x(X,O,U,N){this.propType="unidimensional",this.keyframes=O.k,this.keyframesMetadata=[],this.offsetTime=X.data.st,this.frameId=-1,this._caching={lastFrame:d,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=O,this.mult=U||1,this.elem=X,this.container=N,this.comp=X.comp,this.v=d,this.pv=d,this._isFirstFrame=!0,this.getValue=L,this.setVValue=F,this.interpolateValue=g,this.effectsSequence=[A.bind(this)],this.addEffect=H}function V(X,O,U,N){this.propType="multidimensional";var P,Y,J,ee,fe,q=O.k.length;for(P=0;P<q-1;P+=1)O.k[P].to&&O.k[P].s&&O.k[P+1]&&O.k[P+1].s&&(J=O.k[P+1].s,ee=O.k[P].to,fe=O.k[P].ti,(2===(Y=O.k[P].s).length&&!(Y[0]===J[0]&&Y[1]===J[1])&&bez.pointOnLine2D(Y[0],Y[1],J[0],J[1],Y[0]+ee[0],Y[1]+ee[1])&&bez.pointOnLine2D(Y[0],Y[1],J[0],J[1],J[0]+fe[0],J[1]+fe[1])||3===Y.length&&!(Y[0]===J[0]&&Y[1]===J[1]&&Y[2]===J[2])&&bez.pointOnLine3D(Y[0],Y[1],Y[2],J[0],J[1],J[2],Y[0]+ee[0],Y[1]+ee[1],Y[2]+ee[2])&&bez.pointOnLine3D(Y[0],Y[1],Y[2],J[0],J[1],J[2],J[0]+fe[0],J[1]+fe[1],J[2]+fe[2]))&&(O.k[P].to=null,O.k[P].ti=null),Y[0]===J[0]&&Y[1]===J[1]&&0===ee[0]&&0===ee[1]&&0===fe[0]&&0===fe[1]&&(2===Y.length||Y[2]===J[2]&&0===ee[2]&&0===fe[2])&&(O.k[P].to=null,O.k[P].ti=null));this.effectsSequence=[A.bind(this)],this.data=O,this.keyframes=O.k,this.keyframesMetadata=[],this.offsetTime=X.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=U||1,this.elem=X,this.container=N,this.comp=X.comp,this.getValue=L,this.setVValue=F,this.interpolateValue=g,this.frameId=-1;var we=O.k[0].s.length;for(this.v=createTypedArray("float32",we),this.pv=createTypedArray("float32",we),P=0;P<we;P+=1)this.v[P]=d,this.pv[P]=d;this._caching={lastFrame:d,lastIndex:0,value:createTypedArray("float32",we)},this.addEffect=H}return{getProp:function G(X,O,U,N,P){var q;if(O.k.length)if("number"==typeof O.k[0])q=new Q(X,O,N,P);else switch(U){case 0:q=new x(X,O,N,P);break;case 1:q=new V(X,O,N,P)}else q=new j(X,O,N,P);return q.effectsSequence.length&&P.addDynamicProperty(q),q}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&(this.dynamicProperties.push(p),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var p,g=this.dynamicProperties.length;for(p=0;p<g;p+=1)this.dynamicProperties[p].getValue(),this.dynamicProperties[p]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(p){this.container=p,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function d(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(d,p){this.c=d,this.setLength(p);for(var g=0;g<p;)this.v[g]=pointPool.newElement(),this.o[g]=pointPool.newElement(),this.i[g]=pointPool.newElement(),g+=1},ShapePath.prototype.setLength=function(d){for(;this._maxLength<d;)this.doubleArrayLength();this._length=d},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(d,p,g,s,y){var b;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),g){case"v":b=this.v;break;case"i":b=this.i;break;case"o":b=this.o;break;default:b=[]}(!b[s]||b[s]&&!y)&&(b[s]=pointPool.newElement()),b[s][0]=d,b[s][1]=p},ShapePath.prototype.setTripleAt=function(d,p,g,s,y,b,A,F){this.setXYAt(d,p,"v",A,F),this.setXYAt(g,s,"o",A,F),this.setXYAt(y,b,"i",A,F)},ShapePath.prototype.reverse=function(){var d=new ShapePath;d.setPathData(this.c,this._length);var p=this.v,g=this.o,s=this.i,y=0;this.c&&(d.setTripleAt(p[0][0],p[0][1],s[0][0],s[0][1],g[0][0],g[0][1],0,!1),y=1);var F,b=this._length-1,A=this._length;for(F=y;F<A;F+=1)d.setTripleAt(p[b][0],p[b][1],s[b][0],s[b][1],g[b][0],g[b][1],F,!1),b-=1;return d};var shapePool=(s=poolFactory(4,function d(){return new ShapePath},function p(y){var A,b=y._length;for(A=0;A<b;A+=1)pointPool.release(y.v[A]),pointPool.release(y.i[A]),pointPool.release(y.o[A]),y.v[A]=null,y.i[A]=null,y.o[A]=null;y._length=0,y.c=!1}),s.clone=function g(y){var A,b=s.newElement(),F=void 0===y._length?y.v.length:y._length;for(b.setLength(F),b.c=y.c,A=0;A<F;A+=1)b.setTripleAt(y.v[A][0],y.v[A][1],y.o[A][0],y.o[A][1],y.i[A][0],y.i[A][1],A);return b},s),s;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(d){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=d,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var d;for(d=0;d<this._length;d+=1)shapePool.release(this.shapes[d]);this._length=0};var shapeCollectionPool=function(){var d={newShapeCollection:function y(){return p?s[p-=1]:new ShapeCollection},release:function b(A){var F,L=A._length;for(F=0;F<L;F+=1)shapePool.release(A.shapes[F]);A._length=0,p===g&&(s=pooling.double(s),g*=2),s[p]=A,p+=1}},p=0,g=4,s=createSizedArray(g);return d}(),ShapePropertyFactory=function(){var d=-999999;function p(O,U,N){var q,Y,J,ee,fe,we,le,pe,P=N.lastIndex,me=this.keyframes;if(O<me[0].t-this.offsetTime)q=me[0].s[0],J=!0,P=0;else if(O>=me[me.length-1].t-this.offsetTime)q=me[me.length-1].s?me[me.length-1].s[0]:me[me.length-2].e[0],J=!0;else{for(var Z,ae,Ne,de=P,ie=me.length-1,te=!0;te&&(Z=me[de],!((ae=me[de+1]).t-this.offsetTime>O));)de<ie-1?de+=1:te=!1;if(Ne=this.keyframesMetadata[de]||{},P=de,!(J=1===Z.h)){if(O>=ae.t-this.offsetTime)pe=1;else if(O<Z.t-this.offsetTime)pe=0;else{var De;Ne.__fnct?De=Ne.__fnct:(De=BezierFactory.getBezierEasing(Z.o.x,Z.o.y,Z.i.x,Z.i.y).get,Ne.__fnct=De),pe=De((O-(Z.t-this.offsetTime))/(ae.t-this.offsetTime-(Z.t-this.offsetTime)))}Y=ae.s?ae.s[0]:Z.e[0]}q=Z.s[0]}for(we=U._length,le=q.i[0].length,N.lastIndex=P,ee=0;ee<we;ee+=1)for(fe=0;fe<le;fe+=1)U.i[ee][fe]=J?q.i[ee][fe]:q.i[ee][fe]+(Y.i[ee][fe]-q.i[ee][fe])*pe,U.o[ee][fe]=J?q.o[ee][fe]:q.o[ee][fe]+(Y.o[ee][fe]-q.o[ee][fe])*pe,U.v[ee][fe]=J?q.v[ee][fe]:q.v[ee][fe]+(Y.v[ee][fe]-q.v[ee][fe])*pe}function g(){var O=this.comp.renderedFrame-this.offsetTime,U=this.keyframes[0].t-this.offsetTime,N=this.keyframes[this.keyframes.length-1].t-this.offsetTime,P=this._caching.lastFrame;return P!==d&&(P<U&&O<U||P>N&&O>N)||(this._caching.lastIndex=P<O?this._caching.lastIndex:0,this.interpolateShape(O,this.pv,this._caching)),this._caching.lastFrame=O,this.pv}function s(){this.paths=this.localShapeCollection}function b(O){(function y(O,U){if(O._length!==U._length||O.c!==U.c)return!1;var N,P=O._length;for(N=0;N<P;N+=1)if(O.v[N][0]!==U.v[N][0]||O.v[N][1]!==U.v[N][1]||O.o[N][0]!==U.o[N][0]||O.o[N][1]!==U.o[N][1]||O.i[N][0]!==U.i[N][0]||O.i[N][1]!==U.i[N][1])return!1;return!0})(this.v,O)||(this.v=shapePool.clone(O),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function A(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var O;this.lock=!0,this._mdf=!1,O=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var U,N=this.effectsSequence.length;for(U=0;U<N;U+=1)O=this.effectsSequence[U](O);this.setVValue(O),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function F(O,U,N){this.propType="shape",this.comp=O.comp,this.container=O,this.elem=O,this.data=U,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===N?U.pt.k:U.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function L(O){this.effectsSequence.push(O),this.container.addDynamicProperty(this)}function H(O,U,N){this.propType="shape",this.comp=O.comp,this.elem=O,this.container=O,this.offsetTime=O.data.st,this.keyframes=3===N?U.pt.k:U.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var P=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,P),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=d,this.reset=s,this._caching={lastFrame:d,lastIndex:0},this.effectsSequence=[g.bind(this)]}F.prototype.interpolateShape=p,F.prototype.getValue=A,F.prototype.setVValue=b,F.prototype.addEffect=L,H.prototype.getValue=A,H.prototype.interpolateShape=p,H.prototype.setVValue=b,H.prototype.addEffect=L;var j=function(){var O=roundCorner;function U(N,P){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=P.d,this.elem=N,this.comp=N.comp,this.frameId=-1,this.initDynamicPropertyContainer(N),this.p=PropertyFactory.getProp(N,P.p,1,0,this),this.s=PropertyFactory.getProp(N,P.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return U.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var P=this.p.v[0],q=this.p.v[1],Y=this.s.v[0]/2,J=this.s.v[1]/2,ee=3!==this.d,fe=this.v;fe.v[0][0]=P,fe.v[0][1]=q-J,fe.v[1][0]=ee?P+Y:P-Y,fe.v[1][1]=q,fe.v[2][0]=P,fe.v[2][1]=q+J,fe.v[3][0]=ee?P-Y:P+Y,fe.v[3][1]=q,fe.i[0][0]=ee?P-Y*O:P+Y*O,fe.i[0][1]=q-J,fe.i[1][0]=ee?P+Y:P-Y,fe.i[1][1]=q-J*O,fe.i[2][0]=ee?P+Y*O:P-Y*O,fe.i[2][1]=q+J,fe.i[3][0]=ee?P-Y:P+Y,fe.i[3][1]=q+J*O,fe.o[0][0]=ee?P+Y*O:P-Y*O,fe.o[0][1]=q-J,fe.o[1][0]=ee?P+Y:P-Y,fe.o[1][1]=q+J*O,fe.o[2][0]=ee?P-Y*O:P+Y*O,fe.o[2][1]=q+J,fe.o[3][0]=ee?P-Y:P+Y,fe.o[3][1]=q-J*O}},extendPrototype([DynamicPropertyContainer],U),U}(),Q=function(){function O(U,N){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=U,this.comp=U.comp,this.data=N,this.frameId=-1,this.d=N.d,this.initDynamicPropertyContainer(U),1===N.sy?(this.ir=PropertyFactory.getProp(U,N.ir,0,0,this),this.is=PropertyFactory.getProp(U,N.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(U,N.pt,0,0,this),this.p=PropertyFactory.getProp(U,N.p,1,0,this),this.r=PropertyFactory.getProp(U,N.r,0,degToRads,this),this.or=PropertyFactory.getProp(U,N.or,0,0,this),this.os=PropertyFactory.getProp(U,N.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return O.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var pe,ye,me,de,N=2*Math.floor(this.pt.v),P=2*Math.PI/N,q=!0,Y=this.or.v,J=this.ir.v,ee=this.os.v,fe=this.is.v,we=2*Math.PI*Y/(2*N),le=2*Math.PI*J/(2*N),ie=-Math.PI/2;ie+=this.r.v;var te=3===this.data.d?-1:1;for(this.v._length=0,pe=0;pe<N;pe+=1){me=q?ee:fe,de=q?we:le;var Z=(ye=q?Y:J)*Math.cos(ie),ae=ye*Math.sin(ie),Ne=0===Z&&0===ae?0:ae/Math.sqrt(Z*Z+ae*ae),De=0===Z&&0===ae?0:-Z/Math.sqrt(Z*Z+ae*ae);this.v.setTripleAt(Z+=+this.p.v[0],ae+=+this.p.v[1],Z-Ne*de*me*te,ae-De*de*me*te,Z+Ne*de*me*te,ae+De*de*me*te,pe,!0),q=!q,ie+=P*te}},convertPolygonToPath:function(){var ee,N=Math.floor(this.pt.v),P=2*Math.PI/N,q=this.or.v,Y=this.os.v,J=2*Math.PI*q/(4*N),fe=.5*-Math.PI,we=3===this.data.d?-1:1;for(fe+=this.r.v,this.v._length=0,ee=0;ee<N;ee+=1){var le=q*Math.cos(fe),pe=q*Math.sin(fe),ye=0===le&&0===pe?0:pe/Math.sqrt(le*le+pe*pe),me=0===le&&0===pe?0:-le/Math.sqrt(le*le+pe*pe);this.v.setTripleAt(le+=+this.p.v[0],pe+=+this.p.v[1],le-ye*J*Y*we,pe-me*J*Y*we,le+ye*J*Y*we,pe+me*J*Y*we,ee,!0),fe+=P*we}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],O),O}(),x=function(){function O(U,N){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=U,this.comp=U.comp,this.frameId=-1,this.d=N.d,this.initDynamicPropertyContainer(U),this.p=PropertyFactory.getProp(U,N.p,1,0,this),this.s=PropertyFactory.getProp(U,N.s,1,0,this),this.r=PropertyFactory.getProp(U,N.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return O.prototype={convertRectToPath:function(){var N=this.p.v[0],P=this.p.v[1],q=this.s.v[0]/2,Y=this.s.v[1]/2,J=bmMin(q,Y,this.r.v),ee=J*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(N+q,P-Y+J,N+q,P-Y+J,N+q,P-Y+ee,0,!0),this.v.setTripleAt(N+q,P+Y-J,N+q,P+Y-ee,N+q,P+Y-J,1,!0),0!==J?(this.v.setTripleAt(N+q-J,P+Y,N+q-J,P+Y,N+q-ee,P+Y,2,!0),this.v.setTripleAt(N-q+J,P+Y,N-q+ee,P+Y,N-q+J,P+Y,3,!0),this.v.setTripleAt(N-q,P+Y-J,N-q,P+Y-J,N-q,P+Y-ee,4,!0),this.v.setTripleAt(N-q,P-Y+J,N-q,P-Y+ee,N-q,P-Y+J,5,!0),this.v.setTripleAt(N-q+J,P-Y,N-q+J,P-Y,N-q+ee,P-Y,6,!0),this.v.setTripleAt(N+q-J,P-Y,N+q-ee,P-Y,N+q-J,P-Y,7,!0)):(this.v.setTripleAt(N-q,P+Y,N-q+ee,P+Y,N-q,P+Y,2),this.v.setTripleAt(N-q,P-Y,N-q,P-Y+ee,N-q,P-Y,3))):(this.v.setTripleAt(N+q,P-Y+J,N+q,P-Y+ee,N+q,P-Y+J,0,!0),0!==J?(this.v.setTripleAt(N+q-J,P-Y,N+q-J,P-Y,N+q-ee,P-Y,1,!0),this.v.setTripleAt(N-q+J,P-Y,N-q+ee,P-Y,N-q+J,P-Y,2,!0),this.v.setTripleAt(N-q,P-Y+J,N-q,P-Y+J,N-q,P-Y+ee,3,!0),this.v.setTripleAt(N-q,P+Y-J,N-q,P+Y-ee,N-q,P+Y-J,4,!0),this.v.setTripleAt(N-q+J,P+Y,N-q+J,P+Y,N-q+ee,P+Y,5,!0),this.v.setTripleAt(N+q-J,P+Y,N+q-ee,P+Y,N+q-J,P+Y,6,!0),this.v.setTripleAt(N+q,P+Y-J,N+q,P+Y-J,N+q,P+Y-ee,7,!0)):(this.v.setTripleAt(N-q,P-Y,N-q+ee,P-Y,N-q,P-Y,1,!0),this.v.setTripleAt(N-q,P+Y,N-q,P+Y-ee,N-q,P+Y,2,!0),this.v.setTripleAt(N+q,P+Y,N+q-ee,P+Y,N+q,P+Y,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],O),O}();return{getShapeProp:function V(O,U,N){var P;return 3===N||4===N?P=(3===N?U.pt:U.ks).k.length?new H(O,U,N):new F(O,U,N):5===N?P=new x(O,U):6===N?P=new j(O,U):7===N&&(P=new Q(O,U)),P.k&&O.addDynamicProperty(P),P},getConstructorFunction:function G(){return F},getKeyframedConstructorFunction:function W(){return H}}}(),Matrix=function(){var d=Math.cos,p=Math.sin,g=Math.tan,s=Math.round;function y(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function b(te){if(0===te)return this;var Z=d(te),ae=p(te);return this._t(Z,-ae,0,0,ae,Z,0,0,0,0,1,0,0,0,0,1)}function A(te){if(0===te)return this;var Z=d(te),ae=p(te);return this._t(1,0,0,0,0,Z,-ae,0,0,ae,Z,0,0,0,0,1)}function F(te){if(0===te)return this;var Z=d(te),ae=p(te);return this._t(Z,0,ae,0,0,1,0,0,-ae,0,Z,0,0,0,0,1)}function L(te){if(0===te)return this;var Z=d(te),ae=p(te);return this._t(Z,-ae,0,0,ae,Z,0,0,0,0,1,0,0,0,0,1)}function H(te,Z){return this._t(1,Z,te,1,0,0)}function j(te,Z){return this.shear(g(te),g(Z))}function Q(te,Z){var ae=d(Z),Ne=p(Z);return this._t(ae,Ne,0,0,-Ne,ae,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,g(te),1,0,0,0,0,1,0,0,0,0,1)._t(ae,-Ne,0,0,Ne,ae,0,0,0,0,1,0,0,0,0,1)}function x(te,Z,ae){return!ae&&0!==ae&&(ae=1),1===te&&1===Z&&1===ae?this:this._t(te,0,0,0,0,Z,0,0,0,0,ae,0,0,0,0,1)}function V(te,Z,ae,Ne,De,Ze,Be,ot,Ot,ct,yt,Ct,kt,Ht,sn,Rt){return this.props[0]=te,this.props[1]=Z,this.props[2]=ae,this.props[3]=Ne,this.props[4]=De,this.props[5]=Ze,this.props[6]=Be,this.props[7]=ot,this.props[8]=Ot,this.props[9]=ct,this.props[10]=yt,this.props[11]=Ct,this.props[12]=kt,this.props[13]=Ht,this.props[14]=sn,this.props[15]=Rt,this}function G(te,Z,ae){return ae=ae||0,0!==te||0!==Z||0!==ae?this._t(1,0,0,0,0,1,0,0,0,0,1,0,te,Z,ae,1):this}function W(te,Z,ae,Ne,De,Ze,Be,ot,Ot,ct,yt,Ct,kt,Ht,sn,Rt){var qe=this.props;if(1===te&&0===Z&&0===ae&&0===Ne&&0===De&&1===Ze&&0===Be&&0===ot&&0===Ot&&0===ct&&1===yt&&0===Ct)return qe[12]=qe[12]*te+qe[15]*kt,qe[13]=qe[13]*Ze+qe[15]*Ht,qe[14]=qe[14]*yt+qe[15]*sn,qe[15]*=Rt,this._identityCalculated=!1,this;var jt=qe[0],Sn=qe[1],Jn=qe[2],In=qe[3],hi=qe[4],bt=qe[5],Wn=qe[6],ln=qe[7],Yt=qe[8],jn=qe[9],An=qe[10],Xn=qe[11],dn=qe[12],Bn=qe[13],mr=qe[14],Xt=qe[15];return qe[0]=jt*te+Sn*De+Jn*Ot+In*kt,qe[1]=jt*Z+Sn*Ze+Jn*ct+In*Ht,qe[2]=jt*ae+Sn*Be+Jn*yt+In*sn,qe[3]=jt*Ne+Sn*ot+Jn*Ct+In*Rt,qe[4]=hi*te+bt*De+Wn*Ot+ln*kt,qe[5]=hi*Z+bt*Ze+Wn*ct+ln*Ht,qe[6]=hi*ae+bt*Be+Wn*yt+ln*sn,qe[7]=hi*Ne+bt*ot+Wn*Ct+ln*Rt,qe[8]=Yt*te+jn*De+An*Ot+Xn*kt,qe[9]=Yt*Z+jn*Ze+An*ct+Xn*Ht,qe[10]=Yt*ae+jn*Be+An*yt+Xn*sn,qe[11]=Yt*Ne+jn*ot+An*Ct+Xn*Rt,qe[12]=dn*te+Bn*De+mr*Ot+Xt*kt,qe[13]=dn*Z+Bn*Ze+mr*ct+Xt*Ht,qe[14]=dn*ae+Bn*Be+mr*yt+Xt*sn,qe[15]=dn*Ne+Bn*ot+mr*Ct+Xt*Rt,this._identityCalculated=!1,this}function X(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function O(te){for(var Z=0;Z<16;){if(te.props[Z]!==this.props[Z])return!1;Z+=1}return!0}function U(te){var Z;for(Z=0;Z<16;Z+=1)te.props[Z]=this.props[Z];return te}function N(te){var Z;for(Z=0;Z<16;Z+=1)this.props[Z]=te[Z]}function P(te,Z,ae){return{x:te*this.props[0]+Z*this.props[4]+ae*this.props[8]+this.props[12],y:te*this.props[1]+Z*this.props[5]+ae*this.props[9]+this.props[13],z:te*this.props[2]+Z*this.props[6]+ae*this.props[10]+this.props[14]}}function q(te,Z,ae){return te*this.props[0]+Z*this.props[4]+ae*this.props[8]+this.props[12]}function Y(te,Z,ae){return te*this.props[1]+Z*this.props[5]+ae*this.props[9]+this.props[13]}function J(te,Z,ae){return te*this.props[2]+Z*this.props[6]+ae*this.props[10]+this.props[14]}function ee(){var te=this.props[0]*this.props[5]-this.props[1]*this.props[4],Z=this.props[5]/te,ae=-this.props[1]/te,Ne=-this.props[4]/te,De=this.props[0]/te,Ze=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/te,Be=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/te,ot=new Matrix;return ot.props[0]=Z,ot.props[1]=ae,ot.props[4]=Ne,ot.props[5]=De,ot.props[12]=Ze,ot.props[13]=Be,ot}function fe(te){return this.getInverseMatrix().applyToPointArray(te[0],te[1],te[2]||0)}function we(te){var Z,ae=te.length,Ne=[];for(Z=0;Z<ae;Z+=1)Ne[Z]=fe(te[Z]);return Ne}function le(te,Z,ae){var Ne=createTypedArray("float32",6);if(this.isIdentity())Ne[0]=te[0],Ne[1]=te[1],Ne[2]=Z[0],Ne[3]=Z[1],Ne[4]=ae[0],Ne[5]=ae[1];else{var De=this.props[0],Ze=this.props[1],Be=this.props[4],ot=this.props[5],Ot=this.props[12],ct=this.props[13];Ne[0]=te[0]*De+te[1]*Be+Ot,Ne[1]=te[0]*Ze+te[1]*ot+ct,Ne[2]=Z[0]*De+Z[1]*Be+Ot,Ne[3]=Z[0]*Ze+Z[1]*ot+ct,Ne[4]=ae[0]*De+ae[1]*Be+Ot,Ne[5]=ae[0]*Ze+ae[1]*ot+ct}return Ne}function pe(te,Z,ae){return this.isIdentity()?[te,Z,ae]:[te*this.props[0]+Z*this.props[4]+ae*this.props[8]+this.props[12],te*this.props[1]+Z*this.props[5]+ae*this.props[9]+this.props[13],te*this.props[2]+Z*this.props[6]+ae*this.props[10]+this.props[14]]}function ye(te,Z){if(this.isIdentity())return te+","+Z;var ae=this.props;return Math.round(100*(te*ae[0]+Z*ae[4]+ae[12]))/100+","+Math.round(100*(te*ae[1]+Z*ae[5]+ae[13]))/100}function me(){for(var te=0,Z=this.props,ae="matrix3d(";te<16;)ae+=s(1e4*Z[te])/1e4,ae+=15===te?")":",",te+=1;return ae}function de(te){return te<1e-6&&te>0||te>-1e-6&&te<0?s(1e4*te)/1e4:te}function ie(){var te=this.props;return"matrix("+de(te[0])+","+de(te[1])+","+de(te[4])+","+de(te[5])+","+de(te[12])+","+de(te[13])+")"}return function(){this.reset=y,this.rotate=b,this.rotateX=A,this.rotateY=F,this.rotateZ=L,this.skew=j,this.skewFromAxis=Q,this.shear=H,this.scale=x,this.setTransform=V,this.translate=G,this.transform=W,this.applyToPoint=P,this.applyToX=q,this.applyToY=Y,this.applyToZ=J,this.applyToPointArray=pe,this.applyToTriplePoints=le,this.applyToPointStringified=ye,this.toCSS=me,this.to2dCSS=ie,this.clone=U,this.cloneFromProps=N,this.equals=O,this.inversePoints=we,this.inversePoint=fe,this.getInverseMatrix=ee,this._t=this.transform,this.isIdentity=X,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(d){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(d){setLocationHref(d)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(d){setSubframeEnabled(d)}function setPrefix(d){setIdPrefix(d)}function loadAnimation(d){return!0===standalone&&(d.animationData=JSON.parse(animationData)),animationManager.loadAnimation(d)}function setQuality(d){if("string"==typeof d)switch(d){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(d)&&d>1&&setDefaultCurveSegments(d);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(d,p){"expressions"===d&&setExpressionsPlugin(p)}function getFactory(d){switch(d){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(d){for(var p=queryString.split("&"),g=0;g<p.length;g+=1){var s=p[g].split("=");if(decodeURIComponent(s[0])==d)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.5";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(d){}var ShapeModifiers=function(){var d={},p={};return d.registerModifier=function g(y,b){p[y]||(p[y]=b)},d.getModifier=function s(y,b,A){return new p[y](b,A)},d}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(d){if(!this.closed){d.sh.container.addDynamicProperty(d.sh);var p={shape:d.sh,data:d,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(p),this.addShapeToModifier(p),this._isAnimated&&d.setAsAnimated()}},ShapeModifier.prototype.init=function(d,p){this.shapes=[],this.elem=d,this.initDynamicPropertyContainer(d),this.initModifierProperties(d,p),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(d,p){this.s=PropertyFactory.getProp(d,p.s,0,.01,this),this.e=PropertyFactory.getProp(d,p.e,0,.01,this),this.o=PropertyFactory.getProp(d,p.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=p.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(d){d.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(d,p,g,s,y){var b=[];p<=1?b.push({s:d,e:p}):d>=1?b.push({s:d-1,e:p-1}):(b.push({s:d,e:1}),b.push({s:0,e:p-1}));var F,H,A=[],L=b.length;for(F=0;F<L;F+=1)(H=b[F]).e*y<s||H.s*y>s+g||A.push([H.s*y<=s?0:(H.s*y-s)/g,H.e*y>=s+g?1:(H.e*y-s)/g]);return A.length||A.push([0,0]),A},TrimModifier.prototype.releasePathsData=function(d){var p,g=d.length;for(p=0;p<g;p+=1)segmentsLengthPool.release(d[p]);return d.length=0,d},TrimModifier.prototype.processShapes=function(d){var p,g;if(this._mdf||d){var s=this.o.v%360/360;if(s<0&&(s+=1),(p=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(g=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var y=p;p=g,g=y}p=1e-4*Math.round(1e4*p),g=1e-4*Math.round(1e4*g),this.sValue=p,this.eValue=g}else p=this.sValue,g=this.eValue;var b,A,L,H,j,Q,x,F=this.shapes.length,V=0;if(g===p)for(A=0;A<F;A+=1)this.shapes[A].localShapeCollection.releaseShapes(),this.shapes[A].shape._mdf=!0,this.shapes[A].shape.paths=this.shapes[A].localShapeCollection,this._mdf&&(this.shapes[A].pathsData.length=0);else if(1===g&&0===p||0===g&&1===p){if(this._mdf)for(A=0;A<F;A+=1)this.shapes[A].pathsData.length=0,this.shapes[A].shape._mdf=!0}else{var W,X,G=[];for(A=0;A<F;A+=1)if((W=this.shapes[A]).shape._mdf||this._mdf||d||2===this.m){if(H=(b=W.shape.paths)._length,x=0,!W.shape._mdf&&W.pathsData.length)x=W.totalShapeLength;else{for(j=this.releasePathsData(W.pathsData),L=0;L<H;L+=1)Q=bez.getSegmentsLength(b.shapes[L]),j.push(Q),x+=Q.totalLength;W.totalShapeLength=x,W.pathsData=j}V+=x,W.shape._mdf=!0}else W.shape.paths=W.localShapeCollection;var P,O=p,U=g,N=0;for(A=F-1;A>=0;A-=1)if((W=this.shapes[A]).shape._mdf){for((X=W.localShapeCollection).releaseShapes(),2===this.m&&F>1?(P=this.calculateShapeEdges(p,g,W.totalShapeLength,N,V),N+=W.totalShapeLength):P=[[O,U]],H=P.length,L=0;L<H;L+=1){O=P[L][0],U=P[L][1],G.length=0,U<=1?G.push({s:W.totalShapeLength*O,e:W.totalShapeLength*U}):O>=1?G.push({s:W.totalShapeLength*(O-1),e:W.totalShapeLength*(U-1)}):(G.push({s:W.totalShapeLength*O,e:W.totalShapeLength}),G.push({s:0,e:W.totalShapeLength*(U-1)}));var q=this.addShapes(W,G[0]);if(G[0].s!==G[0].e){if(G.length>1)if(W.shape.paths.shapes[W.shape.paths._length-1].c){var J=q.pop();this.addPaths(q,X),q=this.addShapes(W,G[1],J)}else this.addPaths(q,X),q=this.addShapes(W,G[1]);this.addPaths(q,X)}}W.shape.paths=X}}},TrimModifier.prototype.addPaths=function(d,p){var g,s=d.length;for(g=0;g<s;g+=1)p.addShape(d[g])},TrimModifier.prototype.addSegment=function(d,p,g,s,y,b,A){y.setXYAt(p[0],p[1],"o",b),y.setXYAt(g[0],g[1],"i",b+1),A&&y.setXYAt(d[0],d[1],"v",b),y.setXYAt(s[0],s[1],"v",b+1)},TrimModifier.prototype.addSegmentFromArray=function(d,p,g,s){p.setXYAt(d[1],d[5],"o",g),p.setXYAt(d[2],d[6],"i",g+1),s&&p.setXYAt(d[0],d[4],"v",g),p.setXYAt(d[3],d[7],"v",g+1)},TrimModifier.prototype.addShapes=function(d,p,g){var b,F,L,j,Q,x,V,W,s=d.pathsData,y=d.shape.paths.shapes,A=d.shape.paths._length,H=0,G=[],X=!0;for(g?(Q=g._length,W=g._length):(g=shapePool.newElement(),Q=0,W=0),G.push(g),b=0;b<A;b+=1){for(x=s[b].lengths,g.c=y[b].c,L=y[b].c?x.length:x.length+1,F=1;F<L;F+=1)if(H+(j=x[F-1]).addedLength<p.s)H+=j.addedLength,g.c=!1;else{if(H>p.e){g.c=!1;break}p.s<=H&&p.e>=H+j.addedLength?(this.addSegment(y[b].v[F-1],y[b].o[F-1],y[b].i[F],y[b].v[F],g,Q,X),X=!1):(V=bez.getNewSegment(y[b].v[F-1],y[b].v[F],y[b].o[F-1],y[b].i[F],(p.s-H)/j.addedLength,(p.e-H)/j.addedLength,x[F-1]),this.addSegmentFromArray(V,g,Q,X),X=!1,g.c=!1),H+=j.addedLength,Q+=1}if(y[b].c&&x.length){if(j=x[F-1],H<=p.e){var O=x[F-1].addedLength;p.s<=H&&p.e>=H+O?(this.addSegment(y[b].v[F-1],y[b].o[F-1],y[b].i[0],y[b].v[0],g,Q,X),X=!1):(V=bez.getNewSegment(y[b].v[F-1],y[b].v[0],y[b].o[F-1],y[b].i[0],(p.s-H)/O,(p.e-H)/O,x[F-1]),this.addSegmentFromArray(V,g,Q,X),X=!1,g.c=!1)}else g.c=!1;H+=j.addedLength,Q+=1}if(g._length&&(g.setXYAt(g.v[W][0],g.v[W][1],"i",W),g.setXYAt(g.v[g._length-1][0],g.v[g._length-1][1],"o",g._length-1)),H>p.e)break;b<A-1&&(g=shapePool.newElement(),X=!0,G.push(g),Q=0)}return G},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(d,p){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(d,p.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(d,p){var g=p/100,s=[0,0],y=d._length,b=0;for(b=0;b<y;b+=1)s[0]+=d.v[b][0],s[1]+=d.v[b][1];s[0]/=y,s[1]/=y;var A=shapePool.newElement();for(A.c=d.c,b=0;b<y;b+=1)A.setTripleAt(d.v[b][0]+(s[0]-d.v[b][0])*g,d.v[b][1]+(s[1]-d.v[b][1])*g,d.o[b][0]+(s[0]-d.o[b][0])*-g,d.o[b][1]+(s[1]-d.o[b][1])*-g,d.i[b][0]+(s[0]-d.i[b][0])*-g,d.i[b][1]+(s[1]-d.i[b][1])*-g,b);return A},PuckerAndBloatModifier.prototype.processShapes=function(d){var p,g,y,b,F,L,s=this.shapes.length,A=this.amount.v;if(0!==A)for(g=0;g<s;g+=1){if(L=(F=this.shapes[g]).localShapeCollection,F.shape._mdf||this._mdf||d)for(L.releaseShapes(),F.shape._mdf=!0,p=F.shape.paths.shapes,b=F.shape.paths._length,y=0;y<b;y+=1)L.addShape(this.processPath(p[y],A));F.shape.paths=F.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var d=[0,0];function A(L,H,j){if(this.elem=L,this.frameId=-1,this.propType="transform",this.data=H,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(j||L),H.p&&H.p.s?(this.px=PropertyFactory.getProp(L,H.p.x,0,0,this),this.py=PropertyFactory.getProp(L,H.p.y,0,0,this),H.p.z&&(this.pz=PropertyFactory.getProp(L,H.p.z,0,0,this))):this.p=PropertyFactory.getProp(L,H.p||{k:[0,0,0]},1,0,this),H.rx){if(this.rx=PropertyFactory.getProp(L,H.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(L,H.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(L,H.rz,0,degToRads,this),H.or.k[0].ti){var Q,x=H.or.k.length;for(Q=0;Q<x;Q+=1)H.or.k[Q].to=null,H.or.k[Q].ti=null}this.or=PropertyFactory.getProp(L,H.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(L,H.r||{k:0},0,degToRads,this);H.sk&&(this.sk=PropertyFactory.getProp(L,H.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(L,H.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(L,H.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(L,H.s||{k:[100,100,100]},1,.01,this),this.o=H.o?PropertyFactory.getProp(L,H.o,0,.01,L):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return A.prototype={applyToMatrix:function p(L){var H=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||H,this.a&&L.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&L.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&L.skewFromAxis(-this.sk.v,this.sa.v),this.r?L.rotate(-this.r.v):L.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?L.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):L.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function g(L){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||L){var H;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var j,Q;if(H=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(j=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/H,0),Q=this.p.getValueAtTime(this.p.keyframes[0].t/H,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(j=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/H,0),Q=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/H,0)):(j=this.p.pv,Q=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/H,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){j=[],Q=[];var x=this.px,V=this.py;x._caching.lastFrame+x.offsetTime<=x.keyframes[0].t?(j[0]=x.getValueAtTime((x.keyframes[0].t+.01)/H,0),j[1]=V.getValueAtTime((V.keyframes[0].t+.01)/H,0),Q[0]=x.getValueAtTime(x.keyframes[0].t/H,0),Q[1]=V.getValueAtTime(V.keyframes[0].t/H,0)):x._caching.lastFrame+x.offsetTime>=x.keyframes[x.keyframes.length-1].t?(j[0]=x.getValueAtTime(x.keyframes[x.keyframes.length-1].t/H,0),j[1]=V.getValueAtTime(V.keyframes[V.keyframes.length-1].t/H,0),Q[0]=x.getValueAtTime((x.keyframes[x.keyframes.length-1].t-.01)/H,0),Q[1]=V.getValueAtTime((V.keyframes[V.keyframes.length-1].t-.01)/H,0)):(j=[x.pv,V.pv],Q[0]=x.getValueAtTime((x._caching.lastFrame+x.offsetTime-.01)/H,x.offsetTime),Q[1]=V.getValueAtTime((V._caching.lastFrame+V.offsetTime-.01)/H,V.offsetTime))}else j=Q=d;this.v.rotate(-Math.atan2(j[1]-Q[1],j[0]-Q[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function s(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function y(){}},extendPrototype([DynamicPropertyContainer],A),A.prototype.addDynamicProperty=function b(L){this._addDynamicProperty(L),this.elem.addDynamicProperty(L),this._isDirty=!0},A.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function F(L,H,j){return new A(L,H,j)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function getFontProperties(d){for(var b,p=d.fStyle?d.fStyle.split(" "):[],g="normal",s="normal",y=p.length,A=0;A<y;A+=1)switch(b=p[A].toLowerCase(),b){case"italic":s="italic";break;case"bold":g="700";break;case"black":g="900";break;case"medium":g="500";break;case"regular":case"normal":g="400";break;case"light":case"thin":g="200"}return{style:s,weight:d.fWeight||g}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(d,p){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(d,p.c,0,null,this),this.o=PropertyFactory.getProp(d,p.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(d,p.tr,this),this.so=PropertyFactory.getProp(d,p.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(d,p.tr.eo,0,.01,this),this.data=p,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(d,p,g,s,y,b){var A=b?-1:1,F=s.s.v[0]+(1-s.s.v[0])*(1-y),L=s.s.v[1]+(1-s.s.v[1])*(1-y);d.translate(s.p.v[0]*A*y,s.p.v[1]*A*y,s.p.v[2]),p.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),p.rotate(-s.r.v*A*y),p.translate(s.a.v[0],s.a.v[1],s.a.v[2]),g.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),g.scale(b?1/F:F,b?1/L:L),g.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(d,p,g,s){for(this.elem=d,this.arr=p,this.pos=g,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(d),this.initModifierProperties(d,p[g]);g>0;)this._elements.unshift(p[g-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(d){var p,g=d.length;for(p=0;p<g;p+=1)d[p]._processed=!1,"gr"===d[p].ty&&this.resetElements(d[p].it)},RepeaterModifier.prototype.cloneElements=function(d){var p=JSON.parse(JSON.stringify(d));return this.resetElements(p),p},RepeaterModifier.prototype.changeGroupRender=function(d,p){var g,s=d.length;for(g=0;g<s;g+=1)d[g]._render=p,"gr"===d[g].ty&&this.changeGroupRender(d[g].it,p)},RepeaterModifier.prototype.processShapes=function(d){var p,g,s,y,b,A=!1;if(this._mdf||d){var H,F=Math.ceil(this.c.v);if(this._groups.length<F){for(;this._groups.length<F;){var L={it:this.cloneElements(this._elements),ty:"gr"};L.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,L),this._groups.splice(0,0,L),this._currentCopies+=1}this.elem.reloadShapes(),A=!0}for(b=0,s=0;s<=this._groups.length-1;s+=1){if(this._groups[s]._render=H=b<F,this.changeGroupRender(this._groups[s].it,H),!H){var j=this.elemsData[s].it,Q=j[j.length-1];0!==Q.transform.op.v?(Q.transform.op._mdf=!0,Q.transform.op.v=0):Q.transform.op._mdf=!1}b+=1}this._currentCopies=F;var x=this.o.v,V=x%1,G=x>0?Math.floor(x):Math.ceil(x),W=this.pMatrix.props,X=this.rMatrix.props,O=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var N,P,U=0;if(x>0){for(;U<G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),U+=1;V&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,V,!1),U+=V)}else if(x<0){for(;U>G;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),U-=1;V&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-V,!0),U-=V)}for(s=1===this.data.m?0:this._currentCopies-1,y=1===this.data.m?1:-1,b=this._currentCopies;b;){if(P=(g=(p=this.elemsData[s].it)[p.length-1].transform.mProps.v.props).length,p[p.length-1].transform.mProps._mdf=!0,p[p.length-1].transform.op._mdf=!0,p[p.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+s/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==U){for((0!==s&&1===y||s!==this._currentCopies-1&&-1===y)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15]),this.matrix.transform(O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],O[8],O[9],O[10],O[11],O[12],O[13],O[14],O[15]),this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),N=0;N<P;N+=1)g[N]=this.matrix.props[N];this.matrix.reset()}else for(this.matrix.reset(),N=0;N<P;N+=1)g[N]=this.matrix.props[N];U+=1,b-=1,s+=y}}else for(b=this._currentCopies,s=0,y=1;b;)g=(p=this.elemsData[s].it)[p.length-1].transform.mProps.v.props,p[p.length-1].transform.mProps._mdf=!1,p[p.length-1].transform.op._mdf=!1,b-=1,s+=y;return A},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(d,p){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(d,p.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(d,p){var g=shapePool.newElement();g.c=d.c;var s,b,A,F,L,H,j,x,V,G,W,X,O,y=d._length,Q=0;for(s=0;s<y;s+=1)A=d.i[s],(b=d.v[s])[0]===(F=d.o[s])[0]&&b[1]===F[1]&&b[0]===A[0]&&b[1]===A[1]?0!==s&&s!==y-1||d.c?(L=0===s?d.v[y-1]:d.v[s-1],j=(H=Math.sqrt(Math.pow(b[0]-L[0],2)+Math.pow(b[1]-L[1],2)))?Math.min(H/2,p)/H:0,g.setTripleAt(x=X=b[0]+(L[0]-b[0])*j,V=O=b[1]-(b[1]-L[1])*j,x-(x-b[0])*roundCorner,V-(V-b[1])*roundCorner,X,O,Q),Q+=1,L=s===y-1?d.v[0]:d.v[s+1],j=(H=Math.sqrt(Math.pow(b[0]-L[0],2)+Math.pow(b[1]-L[1],2)))?Math.min(H/2,p)/H:0,g.setTripleAt(x=G=b[0]+(L[0]-b[0])*j,V=W=b[1]+(L[1]-b[1])*j,G,W,X=x-(x-b[0])*roundCorner,O=V-(V-b[1])*roundCorner,Q),Q+=1):(g.setTripleAt(b[0],b[1],F[0],F[1],A[0],A[1],Q),Q+=1):(g.setTripleAt(d.v[s][0],d.v[s][1],d.o[s][0],d.o[s][1],d.i[s][0],d.i[s][1],Q),Q+=1);return g},RoundCornersModifier.prototype.processShapes=function(d){var p,g,y,b,F,L,s=this.shapes.length,A=this.rd.v;if(0!==A)for(g=0;g<s;g+=1){if(L=(F=this.shapes[g]).localShapeCollection,F.shape._mdf||this._mdf||d)for(L.releaseShapes(),F.shape._mdf=!0,p=F.shape.paths.shapes,b=F.shape.paths._length,y=0;y<b;y+=1)L.addShape(this.processPath(p[y],A));F.shape.paths=F.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var p={w:0,size:0,shapes:[],data:{shapes:[]}},g=[];g=g.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],y=[65039,8205];function A(P,q){var Y=createTag("span");Y.setAttribute("aria-hidden",!0),Y.style.fontFamily=q;var J=createTag("span");J.innerText="giItT1WQy@!-/#",Y.style.position="absolute",Y.style.left="-10000px",Y.style.top="-10000px",Y.style.fontSize="300px",Y.style.fontVariant="normal",Y.style.fontStyle="normal",Y.style.fontWeight="normal",Y.style.letterSpacing="0",Y.appendChild(J),document.body.appendChild(Y);var ee=J.offsetWidth;return J.style.fontFamily=function b(P){var Y,q=P.split(","),J=q.length,ee=[];for(Y=0;Y<J;Y+=1)"sans-serif"!==q[Y]&&"monospace"!==q[Y]&&ee.push(q[Y]);return ee.join(",")}(P)+", "+q,{node:J,w:ee,parent:Y}}function L(P,q){var J,Y=document.body&&q?"svg":"canvas",ee=getFontProperties(P);if("svg"===Y){var fe=createNS("text");fe.style.fontSize="100px",fe.setAttribute("font-family",P.fFamily),fe.setAttribute("font-style",ee.style),fe.setAttribute("font-weight",ee.weight),fe.textContent="1",P.fClass?(fe.style.fontFamily="inherit",fe.setAttribute("class",P.fClass)):fe.style.fontFamily=P.fFamily,q.appendChild(fe),J=fe}else{var we=new OffscreenCanvas(500,500).getContext("2d");we.font=ee.style+" "+ee.weight+" 100px "+P.fFamily,J=we}return{measureText:function le(pe){return"svg"===Y?(J.textContent=pe,J.getComputedTextLength()):J.measureText(pe).width}}}var U=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return U.isModifier=function G(P,q){var Y=P.toString(16)+q.toString(16);return-1!==s.indexOf(Y)},U.isZeroWidthJoiner=function W(P,q){return q?P===y[0]&&q===y[1]:P===y[1]},U.isCombinedCharacter=function X(P){return-1!==g.indexOf(P)},U.prototype={addChars:function j(P){if(P){this.chars||(this.chars=[]);var q,J,fe,Y=P.length,ee=this.chars.length;for(q=0;q<Y;q+=1){for(J=0,fe=!1;J<ee;)this.chars[J].style===P[q].style&&this.chars[J].fFamily===P[q].fFamily&&this.chars[J].ch===P[q].ch&&(fe=!0),J+=1;fe||(this.chars.push(P[q]),ee+=1)}}},addFonts:function H(P,q){if(P){if(this.chars)return this.isLoaded=!0,void(this.fonts=P.list);if(!document.body)return this.isLoaded=!0,P.list.forEach(function(ie){ie.helper=L(ie),ie.cache={}}),void(this.fonts=P.list);var J,Y=P.list,ee=Y.length,fe=ee;for(J=0;J<ee;J+=1){var le,pe,we=!0;if(Y[J].loaded=!1,Y[J].monoCase=A(Y[J].fFamily,"monospace"),Y[J].sansCase=A(Y[J].fFamily,"sans-serif"),Y[J].fPath){if("p"===Y[J].fOrigin||3===Y[J].origin){if((le=document.querySelectorAll('style[f-forigin="p"][f-family="'+Y[J].fFamily+'"], style[f-origin="3"][f-family="'+Y[J].fFamily+'"]')).length>0&&(we=!1),we){var ye=createTag("style");ye.setAttribute("f-forigin",Y[J].fOrigin),ye.setAttribute("f-origin",Y[J].origin),ye.setAttribute("f-family",Y[J].fFamily),ye.type="text/css",ye.innerText="@font-face {font-family: "+Y[J].fFamily+"; font-style: normal; src: url('"+Y[J].fPath+"');}",q.appendChild(ye)}}else if("g"===Y[J].fOrigin||1===Y[J].origin){for(le=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),pe=0;pe<le.length;pe+=1)-1!==le[pe].href.indexOf(Y[J].fPath)&&(we=!1);if(we){var me=createTag("link");me.setAttribute("f-forigin",Y[J].fOrigin),me.setAttribute("f-origin",Y[J].origin),me.type="text/css",me.rel="stylesheet",me.href=Y[J].fPath,document.body.appendChild(me)}}else if("t"===Y[J].fOrigin||2===Y[J].origin){for(le=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),pe=0;pe<le.length;pe+=1)Y[J].fPath===le[pe].src&&(we=!1);if(we){var de=createTag("link");de.setAttribute("f-forigin",Y[J].fOrigin),de.setAttribute("f-origin",Y[J].origin),de.setAttribute("rel","stylesheet"),de.setAttribute("href",Y[J].fPath),q.appendChild(de)}}}else Y[J].loaded=!0,fe-=1;Y[J].helper=L(Y[J],q),Y[J].cache={},this.fonts.push(Y[J])}0===fe?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function Q(P,q,Y){for(var J=0,ee=this.chars.length;J<ee;){if(this.chars[J].ch===P&&this.chars[J].style===q&&this.chars[J].fFamily===Y)return this.chars[J];J+=1}return("string"==typeof P&&13!==P.charCodeAt(0)||!P)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",P,q,Y)),p},getFontByName:function V(P){for(var q=0,Y=this.fonts.length;q<Y;){if(this.fonts[q].fName===P)return this.fonts[q];q+=1}return this.fonts[0]},measureText:function x(P,q,Y){var J=this.getFontByName(q),ee=P.charCodeAt(0);if(!J.cache[ee+1]){var fe=J.helper;if(" "===P){var we=fe.measureText("|"+P+"|"),le=fe.measureText("||");J.cache[ee+1]=(we-le)/100}else J.cache[ee+1]=fe.measureText(P)/100}return J.cache[ee+1]*Y},checkLoadedFonts:function F(){var P,q=this.fonts.length,ee=q;for(P=0;P<q;P+=1)this.fonts[P].loaded?ee-=1:"n"===this.fonts[P].fOrigin||0===this.fonts[P].origin?this.fonts[P].loaded=!0:((this.fonts[P].monoCase.node.offsetWidth!==this.fonts[P].monoCase.w||this.fonts[P].sansCase.node.offsetWidth!==this.fonts[P].sansCase.w)&&(ee-=1,this.fonts[P].loaded=!0),this.fonts[P].loaded&&(this.fonts[P].sansCase.parent.parentNode.removeChild(this.fonts[P].sansCase.parent),this.fonts[P].monoCase.parent.parentNode.removeChild(this.fonts[P].monoCase.parent)));0!==ee&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function O(){this.isLoaded=!0}},U}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(p){-1===this.renderableComponents.indexOf(p)&&this.renderableComponents.push(p)},removeRenderableComponent:function(p){-1!==this.renderableComponents.indexOf(p)&&this.renderableComponents.splice(this.renderableComponents.indexOf(p),1)},prepareRenderableFrame:function(p){this.checkLayerLimits(p)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(p){this.data.ip-this.data.st<=p&&this.data.op-this.data.st>p?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var p,g=this.renderableComponents.length;for(p=0;p<g;p+=1)this.renderableComponents[p].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function d(g,s){this._mask=g,this._data=s}return Object.defineProperty(d.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(d.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(s){var b,y=createSizedArray(s.viewData.length),A=s.viewData.length;for(b=0;b<A;b+=1)y[b]=new d(s.viewData[b],s.masksProperties[b]);return function(H){for(b=0;b<A;){if(s.masksProperties[b].nm===H)return y[b];b+=1}return null}}}(),ExpressionPropertyInterface=function(){var d={pv:0,v:0,mult:1},p={pv:[0,0,0],v:[0,0,0],mult:1};function g(A,F,L){Object.defineProperty(A,"velocity",{get:function(){return F.getVelocityAtTime(F.comp.currentFrame)}}),A.numKeys=F.keyframes?F.keyframes.length:0,A.key=function(H){if(!A.numKeys)return 0;var j;j="s"in F.keyframes[H-1]?F.keyframes[H-1].s:"e"in F.keyframes[H-2]?F.keyframes[H-2].e:F.keyframes[H-2].s;var Q="unidimensional"===L?new Number(j):Object.assign({},j);return Q.time=F.keyframes[H-1].t/F.elem.comp.globalData.frameRate,Q.value="unidimensional"===L?j[0]:j,Q},A.valueAtTime=F.getValueAtTime,A.speedAtTime=F.getSpeedAtTime,A.velocityAtTime=F.getVelocityAtTime,A.propertyGroup=F.propertyGroup}function b(){return d}return function(A){return A?"unidimensional"===A.propType?function s(A){(!A||!("pv"in A))&&(A=d);var F=1/A.mult,L=A.pv*F,H=new Number(L);return H.value=L,g(H,A,"unidimensional"),function(){return A.k&&A.getValue(),H.value!==(L=A.v*F)&&((H=new Number(L)).value=L,g(H,A,"unidimensional")),H}}(A):function y(A){(!A||!("pv"in A))&&(A=p);var F=1/A.mult,L=A.data&&A.data.l||A.pv.length,H=createTypedArray("float32",L),j=createTypedArray("float32",L);return H.value=j,g(H,A,"multidimensional"),function(){A.k&&A.getValue();for(var Q=0;Q<L;Q+=1)j[Q]=A.v[Q]*F,H[Q]=j[Q];return H}}(A):b}}(),TransformExpressionInterface=function(d){function p(A){switch(A){case"scale":case"Scale":case"ADBE Scale":case 6:return p.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return p.rotation;case"ADBE Rotate X":return p.xRotation;case"ADBE Rotate Y":return p.yRotation;case"position":case"Position":case"ADBE Position":case 2:return p.position;case"ADBE Position_0":return p.xPosition;case"ADBE Position_1":return p.yPosition;case"ADBE Position_2":return p.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return p.anchorPoint;case"opacity":case"Opacity":case 11:return p.opacity;default:return null}}var g,s,y,b;return Object.defineProperty(p,"rotation",{get:ExpressionPropertyInterface(d.r||d.rz)}),Object.defineProperty(p,"zRotation",{get:ExpressionPropertyInterface(d.rz||d.r)}),Object.defineProperty(p,"xRotation",{get:ExpressionPropertyInterface(d.rx)}),Object.defineProperty(p,"yRotation",{get:ExpressionPropertyInterface(d.ry)}),Object.defineProperty(p,"scale",{get:ExpressionPropertyInterface(d.s)}),d.p?b=ExpressionPropertyInterface(d.p):(g=ExpressionPropertyInterface(d.px),s=ExpressionPropertyInterface(d.py),d.pz&&(y=ExpressionPropertyInterface(d.pz))),Object.defineProperty(p,"position",{get:function(){return d.p?b():[g(),s(),y?y():0]}}),Object.defineProperty(p,"xPosition",{get:ExpressionPropertyInterface(d.px)}),Object.defineProperty(p,"yPosition",{get:ExpressionPropertyInterface(d.py)}),Object.defineProperty(p,"zPosition",{get:ExpressionPropertyInterface(d.pz)}),Object.defineProperty(p,"anchorPoint",{get:ExpressionPropertyInterface(d.a)}),Object.defineProperty(p,"opacity",{get:ExpressionPropertyInterface(d.o)}),Object.defineProperty(p,"skew",{get:ExpressionPropertyInterface(d.sk)}),Object.defineProperty(p,"skewAxis",{get:ExpressionPropertyInterface(d.sa)}),Object.defineProperty(p,"orientation",{get:ExpressionPropertyInterface(d.or)}),p},LayerExpressionInterface=function(){function d(H){var j=new Matrix;return void 0!==H?this._elem.finalTransform.mProp.getValueAtTime(H).clone(j):this._elem.finalTransform.mProp.applyToMatrix(j),j}function p(H,j){var Q=this.getMatrix(j);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.applyPoint(Q,H)}function g(H,j){var Q=this.getMatrix(j);return this.applyPoint(Q,H)}function s(H,j){var Q=this.getMatrix(j);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.invertPoint(Q,H)}function y(H,j){var Q=this.getMatrix(j);return this.invertPoint(Q,H)}function b(H,j){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,x=this._elem.hierarchy.length;for(Q=0;Q<x;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(H)}return H.applyToPointArray(j[0],j[1],j[2]||0)}function A(H,j){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,x=this._elem.hierarchy.length;for(Q=0;Q<x;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(H)}return H.inversePoint(j)}function F(H){var j=new Matrix;if(j.reset(),this._elem.finalTransform.mProp.applyToMatrix(j),this._elem.hierarchy&&this._elem.hierarchy.length){var Q,x=this._elem.hierarchy.length;for(Q=0;Q<x;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(j);return j.inversePoint(H)}return j.inversePoint(H)}function L(){return[1,1,1,1]}return function(H){var j;function V(W){switch(W){case"ADBE Root Vectors Group":case"Contents":case 2:return V.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return j;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return V.effect;case"ADBE Text Properties":return V.textInterface;default:return null}}V.getMatrix=d,V.invertPoint=A,V.applyPoint=b,V.toWorld=g,V.toWorldVec=p,V.fromWorld=y,V.fromWorldVec=s,V.toComp=g,V.fromComp=F,V.sampleImage=L,V.sourceRectAtTime=H.sourceRectAtTime.bind(H),V._elem=H;var G=getDescriptor(j=TransformExpressionInterface(H.finalTransform.mProp),"anchorPoint");return Object.defineProperties(V,{hasParent:{get:function(){return H.hierarchy.length}},parent:{get:function(){return H.hierarchy[0].layerInterface}},rotation:getDescriptor(j,"rotation"),scale:getDescriptor(j,"scale"),position:getDescriptor(j,"position"),opacity:getDescriptor(j,"opacity"),anchorPoint:G,anchor_point:G,transform:{get:function(){return j}},active:{get:function(){return H.isInRange}}}),V.startTime=H.data.st,V.index=H.data.ind,V.source=H.data.refId,V.height=0===H.data.ty?H.data.h:100,V.width=0===H.data.ty?H.data.w:100,V.inPoint=H.data.ip/H.comp.globalData.frameRate,V.outPoint=H.data.op/H.comp.globalData.frameRate,V._name=H.data.nm,V.registerMaskInterface=function Q(W){V.mask=new MaskManagerInterface(W,H)},V.registerEffectsInterface=function x(W){V.effect=W},V}}(),propertyGroupFactory=function(d,p){return function(g){return(g=void 0===g?1:g)<=0?d:p(g-1)}},PropertyInterface=function(d,p){var g={_name:d};return function s(y){return(y=void 0===y?1:y)<=0?g:p(y-1)}},EffectsExpressionInterface=function(){function g(y,b,A,F){function L(V){for(var G=y.ef,W=0,X=G.length;W<X;){if(V===G[W].nm||V===G[W].mn||V===G[W].ix)return 5===G[W].ty?j[W]:j[W]();W+=1}throw new Error}var Q,H=propertyGroupFactory(L,A),j=[],x=y.ef.length;for(Q=0;Q<x;Q+=1)j.push(5===y.ef[Q].ty?g(y.ef[Q],b.effectElements[Q],b.effectElements[Q].propertyGroup,F):s(b.effectElements[Q],y.ef[Q].ty,F,H));return"ADBE Color Control"===y.mn&&Object.defineProperty(L,"color",{get:function(){return j[0]()}}),Object.defineProperties(L,{numProperties:{get:function(){return y.np}},_name:{value:y.nm},propertyGroup:{value:H}}),L.active=L.enabled=0!==y.en,L}function s(y,b,A,F){var L=ExpressionPropertyInterface(y.p);return y.p.setGroupProperty&&y.p.setGroupProperty(PropertyInterface("",F)),function H(){return 10===b?A.comp.compInterface(y.p.v):L()}}return{createEffectsInterface:function p(y,b){if(y.effectsManager){var L,A=[],F=y.data.ef,H=y.effectsManager.effectElements.length;for(L=0;L<H;L+=1)A.push(g(F[L],y.effectsManager.effectElements[L],b,y));var j=y.data.ef||[],Q=function(V){for(L=0,H=j.length;L<H;){if(V===j[L].nm||V===j[L].mn||V===j[L].ix)return A[L];L+=1}return null};return Object.defineProperty(Q,"numProperties",{get:function(){return j.length}}),Q}return null}}}(),CompExpressionInterface=function(d){function p(g){for(var s=0,y=d.layers.length;s<y;){if(d.layers[s].nm===g||d.layers[s].ind===g)return d.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(p,"_name",{value:d.data.nm}),p.layer=p,p.pixelAspect=1,p.height=d.data.h||d.globalData.compSize.h,p.width=d.data.w||d.globalData.compSize.w,p.pixelAspect=1,p.frameDuration=1/d.globalData.frameRate,p.displayStartTime=0,p.numLayers=d.layers.length,p},ShapePathInterface=function(p,g,s){var y=g.sh;function b(F){return"Shape"===F||"shape"===F||"Path"===F||"path"===F||"ADBE Vector Shape"===F||2===F?b.path:null}var A=propertyGroupFactory(b,s);return y.setGroupProperty(PropertyInterface("Path",A)),Object.defineProperties(b,{path:{get:function(){return y.k&&y.getValue(),y}},shape:{get:function(){return y.k&&y.getValue(),y}},_name:{value:p.nm},ix:{value:p.ix},propertyIndex:{value:p.ix},mn:{value:p.mn},propertyGroup:{value:s}}),b},ShapeExpressionInterface=function(){function d(G,W,X){var U,O=[],N=G?G.length:0;for(U=0;U<N;U+=1)"gr"===G[U].ty?O.push(g(G[U],W[U],X)):"fl"===G[U].ty?O.push(s(G[U],W[U],X)):"st"===G[U].ty?O.push(A(G[U],W[U],X)):"tm"===G[U].ty?O.push(F(G[U],W[U],X)):"tr"===G[U].ty||O.push("el"===G[U].ty?H(G[U],W[U],X):"sr"===G[U].ty?j(G[U],W[U],X):"sh"===G[U].ty?ShapePathInterface(G[U],W[U],X):"rc"===G[U].ty?Q(G[U],W[U],X):"rd"===G[U].ty?x(G[U],W[U],X):"rp"===G[U].ty?V(G[U],W[U],X):"gf"===G[U].ty?y(G[U],W[U],X):function G(){return null});return O}function g(G,W,X){var O=function(q){switch(q){case"ADBE Vectors Group":case"Contents":case 2:return O.content;default:return O.transform}};O.propertyGroup=propertyGroupFactory(O,X);var U=function p(G,W,X){var O,U=function(q){for(var Y=0,J=O.length;Y<J;){if(O[Y]._name===q||O[Y].mn===q||O[Y].propertyIndex===q||O[Y].ix===q||O[Y].ind===q)return O[Y];Y+=1}return"number"==typeof q?O[q-1]:null};U.propertyGroup=propertyGroupFactory(U,X),O=d(G.it,W.it,U.propertyGroup),U.numProperties=O.length;var N=L(G.it[G.it.length-1],W.it[W.it.length-1],U.propertyGroup);return U.transform=N,U.propertyIndex=G.cix,U._name=G.nm,U}(G,W,O.propertyGroup),N=L(G.it[G.it.length-1],W.it[W.it.length-1],O.propertyGroup);return O.content=U,O.transform=N,Object.defineProperty(O,"_name",{get:function(){return G.nm}}),O.numProperties=G.np,O.propertyIndex=G.ix,O.nm=G.nm,O.mn=G.mn,O}function s(G,W,X){function O(U){return"Color"===U||"color"===U?O.color:"Opacity"===U||"opacity"===U?O.opacity:null}return Object.defineProperties(O,{color:{get:ExpressionPropertyInterface(W.c)},opacity:{get:ExpressionPropertyInterface(W.o)},_name:{value:G.nm},mn:{value:G.mn}}),W.c.setGroupProperty(PropertyInterface("Color",X)),W.o.setGroupProperty(PropertyInterface("Opacity",X)),O}function y(G,W,X){function O(U){return"Start Point"===U||"start point"===U?O.startPoint:"End Point"===U||"end point"===U?O.endPoint:"Opacity"===U||"opacity"===U?O.opacity:null}return Object.defineProperties(O,{startPoint:{get:ExpressionPropertyInterface(W.s)},endPoint:{get:ExpressionPropertyInterface(W.e)},opacity:{get:ExpressionPropertyInterface(W.o)},type:{get:function(){return"a"}},_name:{value:G.nm},mn:{value:G.mn}}),W.s.setGroupProperty(PropertyInterface("Start Point",X)),W.e.setGroupProperty(PropertyInterface("End Point",X)),W.o.setGroupProperty(PropertyInterface("Opacity",X)),O}function A(G,W,X){var P,ee,O=propertyGroupFactory(J,X),U=propertyGroupFactory(Y,O),q=G.d?G.d.length:0,Y={};for(P=0;P<q;P+=1)ee=P,Object.defineProperty(Y,G.d[ee].nm,{get:ExpressionPropertyInterface(W.d.dataProps[ee].p)}),W.d.dataProps[P].p.setGroupProperty(U);function J(ee){return"Color"===ee||"color"===ee?J.color:"Opacity"===ee||"opacity"===ee?J.opacity:"Stroke Width"===ee||"stroke width"===ee?J.strokeWidth:null}return Object.defineProperties(J,{color:{get:ExpressionPropertyInterface(W.c)},opacity:{get:ExpressionPropertyInterface(W.o)},strokeWidth:{get:ExpressionPropertyInterface(W.w)},dash:{get:function(){return Y}},_name:{value:G.nm},mn:{value:G.mn}}),W.c.setGroupProperty(PropertyInterface("Color",O)),W.o.setGroupProperty(PropertyInterface("Opacity",O)),W.w.setGroupProperty(PropertyInterface("Stroke Width",O)),J}function F(G,W,X){function O(N){return N===G.e.ix||"End"===N||"end"===N?O.end:N===G.s.ix?O.start:N===G.o.ix?O.offset:null}var U=propertyGroupFactory(O,X);return O.propertyIndex=G.ix,W.s.setGroupProperty(PropertyInterface("Start",U)),W.e.setGroupProperty(PropertyInterface("End",U)),W.o.setGroupProperty(PropertyInterface("Offset",U)),O.propertyIndex=G.ix,O.propertyGroup=X,Object.defineProperties(O,{start:{get:ExpressionPropertyInterface(W.s)},end:{get:ExpressionPropertyInterface(W.e)},offset:{get:ExpressionPropertyInterface(W.o)},_name:{value:G.nm}}),O.mn=G.mn,O}function L(G,W,X){function O(N){return G.a.ix===N||"Anchor Point"===N?O.anchorPoint:G.o.ix===N||"Opacity"===N?O.opacity:G.p.ix===N||"Position"===N?O.position:G.r.ix===N||"Rotation"===N||"ADBE Vector Rotation"===N?O.rotation:G.s.ix===N||"Scale"===N?O.scale:G.sk&&G.sk.ix===N||"Skew"===N?O.skew:G.sa&&G.sa.ix===N||"Skew Axis"===N?O.skewAxis:null}var U=propertyGroupFactory(O,X);return W.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",U)),W.transform.mProps.p.setGroupProperty(PropertyInterface("Position",U)),W.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",U)),W.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",U)),W.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",U)),W.transform.mProps.sk&&(W.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",U)),W.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",U))),W.transform.op.setGroupProperty(PropertyInterface("Opacity",U)),Object.defineProperties(O,{opacity:{get:ExpressionPropertyInterface(W.transform.mProps.o)},position:{get:ExpressionPropertyInterface(W.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(W.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(W.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(W.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(W.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(W.transform.mProps.sa)},_name:{value:G.nm}}),O.ty="tr",O.mn=G.mn,O.propertyGroup=X,O}function H(G,W,X){function O(P){return G.p.ix===P?O.position:G.s.ix===P?O.size:null}var U=propertyGroupFactory(O,X);O.propertyIndex=G.ix;var N="tm"===W.sh.ty?W.sh.prop:W.sh;return N.s.setGroupProperty(PropertyInterface("Size",U)),N.p.setGroupProperty(PropertyInterface("Position",U)),Object.defineProperties(O,{size:{get:ExpressionPropertyInterface(N.s)},position:{get:ExpressionPropertyInterface(N.p)},_name:{value:G.nm}}),O.mn=G.mn,O}function j(G,W,X){function O(P){return G.p.ix===P?O.position:G.r.ix===P?O.rotation:G.pt.ix===P?O.points:G.or.ix===P||"ADBE Vector Star Outer Radius"===P?O.outerRadius:G.os.ix===P?O.outerRoundness:!G.ir||G.ir.ix!==P&&"ADBE Vector Star Inner Radius"!==P?G.is&&G.is.ix===P?O.innerRoundness:null:O.innerRadius}var U=propertyGroupFactory(O,X),N="tm"===W.sh.ty?W.sh.prop:W.sh;return O.propertyIndex=G.ix,N.or.setGroupProperty(PropertyInterface("Outer Radius",U)),N.os.setGroupProperty(PropertyInterface("Outer Roundness",U)),N.pt.setGroupProperty(PropertyInterface("Points",U)),N.p.setGroupProperty(PropertyInterface("Position",U)),N.r.setGroupProperty(PropertyInterface("Rotation",U)),G.ir&&(N.ir.setGroupProperty(PropertyInterface("Inner Radius",U)),N.is.setGroupProperty(PropertyInterface("Inner Roundness",U))),Object.defineProperties(O,{position:{get:ExpressionPropertyInterface(N.p)},rotation:{get:ExpressionPropertyInterface(N.r)},points:{get:ExpressionPropertyInterface(N.pt)},outerRadius:{get:ExpressionPropertyInterface(N.or)},outerRoundness:{get:ExpressionPropertyInterface(N.os)},innerRadius:{get:ExpressionPropertyInterface(N.ir)},innerRoundness:{get:ExpressionPropertyInterface(N.is)},_name:{value:G.nm}}),O.mn=G.mn,O}function Q(G,W,X){function O(P){return G.p.ix===P?O.position:G.r.ix===P?O.roundness:G.s.ix===P||"Size"===P||"ADBE Vector Rect Size"===P?O.size:null}var U=propertyGroupFactory(O,X),N="tm"===W.sh.ty?W.sh.prop:W.sh;return O.propertyIndex=G.ix,N.p.setGroupProperty(PropertyInterface("Position",U)),N.s.setGroupProperty(PropertyInterface("Size",U)),N.r.setGroupProperty(PropertyInterface("Rotation",U)),Object.defineProperties(O,{position:{get:ExpressionPropertyInterface(N.p)},roundness:{get:ExpressionPropertyInterface(N.r)},size:{get:ExpressionPropertyInterface(N.s)},_name:{value:G.nm}}),O.mn=G.mn,O}function x(G,W,X){function O(P){return G.r.ix===P||"Round Corners 1"===P?O.radius:null}var U=propertyGroupFactory(O,X),N=W;return O.propertyIndex=G.ix,N.rd.setGroupProperty(PropertyInterface("Radius",U)),Object.defineProperties(O,{radius:{get:ExpressionPropertyInterface(N.rd)},_name:{value:G.nm}}),O.mn=G.mn,O}function V(G,W,X){function O(P){return G.c.ix===P||"Copies"===P?O.copies:G.o.ix===P||"Offset"===P?O.offset:null}var U=propertyGroupFactory(O,X),N=W;return O.propertyIndex=G.ix,N.c.setGroupProperty(PropertyInterface("Copies",U)),N.o.setGroupProperty(PropertyInterface("Offset",U)),Object.defineProperties(O,{copies:{get:ExpressionPropertyInterface(N.c)},offset:{get:ExpressionPropertyInterface(N.o)},_name:{value:G.nm}}),O.mn=G.mn,O}return function(G,W,X){var O;function U(P){if("number"==typeof P)return 0===(P=void 0===P?1:P)?X:O[P-1];for(var q=0,Y=O.length;q<Y;){if(O[q]._name===P)return O[q];q+=1}return null}return U.propertyGroup=propertyGroupFactory(U,function N(){return X}),O=d(G,W,U.propertyGroup),U.numProperties=O.length,U._name="Contents",U}}(),TextExpressionInterface=function(d){var p,g;function s(y){return"ADBE Text Document"===y?s.sourceText:null}return Object.defineProperty(s,"sourceText",{get:function(){d.textProperty.getValue();var b=d.textProperty.currentData.t;return b!==p&&(d.textProperty.currentData.t=p,(g=new String(b)).value=b||new String(b)),g}}),s},getBlendMode=function(){var d={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(p){return d[p]||""}}();function SliderEffect(d,p,g){this.p=PropertyFactory.getProp(p,d.v,0,0,g)}function AngleEffect(d,p,g){this.p=PropertyFactory.getProp(p,d.v,0,0,g)}function ColorEffect(d,p,g){this.p=PropertyFactory.getProp(p,d.v,1,0,g)}function PointEffect(d,p,g){this.p=PropertyFactory.getProp(p,d.v,1,0,g)}function LayerIndexEffect(d,p,g){this.p=PropertyFactory.getProp(p,d.v,0,0,g)}function MaskIndexEffect(d,p,g){this.p=PropertyFactory.getProp(p,d.v,0,0,g)}function CheckboxEffect(d,p,g){this.p=PropertyFactory.getProp(p,d.v,0,0,g)}function NoValueEffect(){this.p={}}function EffectsManager(d,p){var g=d.ef||[];this.effectElements=[];var s,b,y=g.length;for(s=0;s<y;s+=1)b=new GroupEffect(g[s],p),this.effectElements.push(b)}function GroupEffect(d,p){this.init(d,p)}function BaseElement(){}function FrameElement(){}function _typeof$2(d){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(d,p){this.data=d,this.effectElements=[],this.initDynamicPropertyContainer(p);var g,y,s=this.data.ef.length,b=this.data.ef;for(g=0;g<s;g+=1){switch(y=null,b[g].ty){case 0:y=new SliderEffect(b[g],p,this);break;case 1:y=new AngleEffect(b[g],p,this);break;case 2:y=new ColorEffect(b[g],p,this);break;case 3:y=new PointEffect(b[g],p,this);break;case 4:case 7:y=new CheckboxEffect(b[g],p,this);break;case 10:y=new LayerIndexEffect(b[g],p,this);break;case 11:y=new MaskIndexEffect(b[g],p,this);break;case 5:y=new EffectsManager(b[g],p,this);break;default:y=new NoValueEffect(b[g],p,this)}y&&this.effectElements.push(y)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var p=0,g=this.data.masksProperties.length;p<g;){if("n"!==this.data.masksProperties[p].mode&&!1!==this.data.masksProperties[p].cl)return!0;p+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var p=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(p),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var p=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=p},initBaseData:function(p,g,s){this.globalData=g,this.comp=s,this.data=p,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(p,g){var s,y=this.dynamicProperties.length;for(s=0;s<y;s+=1)(g||this._isParent&&"transform"===this.dynamicProperties[s].propType)&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(p){-1===this.dynamicProperties.indexOf(p)&&this.dynamicProperties.push(p)}};var FootageInterface=(p=function(s){function y(b){return"Outline"===b?y.outlineInterface():null}return y._name="Outline",y.outlineInterface=function(s){var y="",b=s.getFootageData();function F(L){if(b[L])return y=L,"object"===_typeof$2(b=b[L])?F:b;var H=L.indexOf(y);if(-1!==H){var j=parseInt(L.substr(H+y.length),10);return"object"===_typeof$2(b=b[j])?F:b}return""}return function A(){return y="",b=s.getFootageData(),F}}(s),y},function(g){function s(y){return"Data"===y?s.dataInterface:null}return s._name="Data",s.dataInterface=p(g),s}),p;function FootageElement(d,p,g){this.initFrame(),this.initRenderable(),this.assetData=p.getAssetData(d.refId),this.footageData=p.imageLoader.getAsset(this.assetData),this.initBaseData(d,p,g)}function AudioElement(d,p,g){this.initFrame(),this.initRenderable(),this.assetData=p.getAssetData(d.refId),this.initBaseData(d,p,g),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,p.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,d.au&&d.au.lv?d.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(d,p,g){this.data=d,this.element=p,this.globalData=g,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var y,s=this.globalData.defs,b=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(b),this.solidPath="";var A,j,Q,V,G,W,X,F=this.masksProperties,L=0,H=[],x=createElementID(),O="clipPath",U="clip-path";for(y=0;y<b;y+=1)if(("a"!==F[y].mode&&"n"!==F[y].mode||F[y].inv||100!==F[y].o.k||F[y].o.x)&&(O="mask",U="mask"),"s"!==F[y].mode&&"i"!==F[y].mode||0!==L?V=null:((V=createNS("rect")).setAttribute("fill","#ffffff"),V.setAttribute("width",this.element.comp.data.w||0),V.setAttribute("height",this.element.comp.data.h||0),H.push(V)),A=createNS("path"),"n"===F[y].mode)this.viewData[y]={op:PropertyFactory.getProp(this.element,F[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,F[y],3),elem:A,lastPath:""},s.appendChild(A);else{var N;if(L+=1,A.setAttribute("fill","s"===F[y].mode?"#000000":"#ffffff"),A.setAttribute("clip-rule","nonzero"),0!==F[y].x.k?(O="mask",U="mask",X=PropertyFactory.getProp(this.element,F[y].x,0,null,this.element),N=createElementID(),(G=createNS("filter")).setAttribute("id",N),(W=createNS("feMorphology")).setAttribute("operator","erode"),W.setAttribute("in","SourceGraphic"),W.setAttribute("radius","0"),G.appendChild(W),s.appendChild(G),A.setAttribute("stroke","s"===F[y].mode?"#000000":"#ffffff")):(W=null,X=null),this.storedData[y]={elem:A,x:X,expan:W,lastPath:"",lastOperator:"",filterId:N,lastRadius:0},"i"===F[y].mode){Q=H.length;var P=createNS("g");for(j=0;j<Q;j+=1)P.appendChild(H[j]);var q=createNS("mask");q.setAttribute("mask-type","alpha"),q.setAttribute("id",x+"_"+L),q.appendChild(A),s.appendChild(q),P.setAttribute("mask","url("+getLocationHref()+"#"+x+"_"+L+")"),H.length=0,H.push(P)}else H.push(A);F[y].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[y]={elem:A,lastPath:"",op:PropertyFactory.getProp(this.element,F[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,F[y],3),invRect:V},this.viewData[y].prop.k||this.drawPath(F[y],this.viewData[y].prop.v,this.viewData[y])}for(this.maskElement=createNS(O),b=H.length,y=0;y<b;y+=1)this.maskElement.appendChild(H[y]);L>0&&(this.maskElement.setAttribute("id",x),this.element.maskedElement.setAttribute(U,"url("+getLocationHref()+"#"+x+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(d){this.prepareRenderableFrame(d,!0),this.prepareProperties(d,!0),this._currentTime=this.tm._placeholder?d/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var g=this._volume*this._volumeMultiplier;this._previousVolume!==g&&(this._previousVolume=g,this.audio.volume(g))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(d){this.audio.rate(d)},AudioElement.prototype.volume=function(d){this._volumeMultiplier=d,this._previousVolume=d*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(d){var p,s,g=this.layers.length;for(this.completeLayers=!0,p=g-1;p>=0;p-=1)this.elements[p]||(s=this.layers[p]).ip-s.st<=d-this.layers[p].st&&s.op-s.st>d-this.layers[p].st&&this.buildItem(p),this.completeLayers=!!this.elements[p]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(d){switch(d.ty){case 2:return this.createImage(d);case 0:return this.createComp(d);case 1:return this.createSolid(d);case 3:default:return this.createNull(d);case 4:return this.createShape(d);case 5:return this.createText(d);case 6:return this.createAudio(d);case 13:return this.createCamera(d);case 15:return this.createFootage(d)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(d){return new AudioElement(d,this.globalData,this)},BaseRenderer.prototype.createFootage=function(d){return new FootageElement(d,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var d,p=this.layers.length;for(d=0;d<p;d+=1)this.buildItem(d);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(d){this.completeLayers=!1;var p,s,g=d.length,y=this.layers.length;for(p=0;p<g;p+=1)for(s=0;s<y;){if(this.layers[s].id===d[p].id){this.layers[s]=d[p];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(d){this.globalData.projectInterface=d},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(d,p,g){for(var s=this.elements,y=this.layers,b=0,A=y.length;b<A;)y[b].ind==p&&(s[b]&&!0!==s[b]?(g.push(s[b]),s[b].setAsParent(),void 0!==y[b].parent?this.buildElementParenting(d,y[b].parent,g):d.setHierarchy(g)):(this.buildItem(b),this.addPendingElement(d))),b+=1},BaseRenderer.prototype.addPendingElement=function(d){this.pendingElements.push(d)},BaseRenderer.prototype.searchExtraCompositions=function(d){var p,g=d.length;for(p=0;p<g;p+=1)if(d[p].xt){var s=this.createComp(d[p]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementByPath=function(d){var g,p=d.shift();if("number"==typeof p)g=this.elements[p];else{var s,y=this.elements.length;for(s=0;s<y;s+=1)if(this.elements[s].data.nm===p){g=this.elements[s];break}}return 0===d.length?g:g.getElementByPath(d)},BaseRenderer.prototype.setupGlobalData=function(d,p){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(d.chars),this.globalData.fontManager.addFonts(d.fonts,p),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=d.fr,this.globalData.nm=d.nm,this.globalData.compSize={w:d.w,h:d.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var p,g=this.finalTransform.mat,s=0,y=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<y;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(g.cloneFromProps(p=this.finalTransform.mProp.v.props),s=0;s<y;s+=1)g.transform((p=this.hierarchy[s].finalTransform.mProp.v.props)[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])}},globalToLocal:function(p){var g=[];g.push(this.finalTransform);for(var s=!0,y=this.comp;s;)y.finalTransform?(y.data.hasMask&&g.splice(0,0,y.finalTransform),y=y.comp):s=!1;var b,F,A=g.length;for(b=0;b<A;b+=1)F=g[b].mat.applyToPointArray(0,0,0),p=[p[0]-F[0],p[1]-F[1],0];return p},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(d){return this.viewData[d].prop},MaskElement.prototype.renderFrame=function(d){var g,p=this.element.finalTransform.mat,s=this.masksProperties.length;for(g=0;g<s;g+=1)if((this.viewData[g].prop._mdf||d)&&this.drawPath(this.masksProperties[g],this.viewData[g].prop.v,this.viewData[g]),(this.viewData[g].op._mdf||d)&&this.viewData[g].elem.setAttribute("fill-opacity",this.viewData[g].op.v),"n"!==this.masksProperties[g].mode&&(this.viewData[g].invRect&&(this.element.finalTransform.mProp._mdf||d)&&this.viewData[g].invRect.setAttribute("transform",p.getInverseMatrix().to2dCSS()),this.storedData[g].x&&(this.storedData[g].x._mdf||d))){var y=this.storedData[g].expan;this.storedData[g].x.v<0?("erode"!==this.storedData[g].lastOperator&&(this.storedData[g].lastOperator="erode",this.storedData[g].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[g].filterId+")")),y.setAttribute("radius",-this.storedData[g].x.v)):("dilate"!==this.storedData[g].lastOperator&&(this.storedData[g].lastOperator="dilate",this.storedData[g].elem.setAttribute("filter",null)),this.storedData[g].elem.setAttribute("stroke-width",2*this.storedData[g].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var d="M0,0 ";return d+=" h"+this.globalData.compSize.w,d+=" v"+this.globalData.compSize.h,(d+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(d,p,g){var y,b,s=" M"+p.v[0][0]+","+p.v[0][1];for(b=p._length,y=1;y<b;y+=1)s+=" C"+p.o[y-1][0]+","+p.o[y-1][1]+" "+p.i[y][0]+","+p.i[y][1]+" "+p.v[y][0]+","+p.v[y][1];if(p.c&&b>1&&(s+=" C"+p.o[y-1][0]+","+p.o[y-1][1]+" "+p.i[0][0]+","+p.i[0][1]+" "+p.v[0][0]+","+p.v[0][1]),g.lastPath!==s){var A="";g.elem&&(p.c&&(A=d.inv?this.solidPath+s:s),g.elem.setAttribute("d",A)),g.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var d={createFilter:function p(s,y){var b=createNS("filter");return b.setAttribute("id",s),!0!==y&&(b.setAttribute("filterUnits","objectBoundingBox"),b.setAttribute("x","0%"),b.setAttribute("y","0%"),b.setAttribute("width","100%"),b.setAttribute("height","100%")),b},createAlphaToLuminanceFilter:function g(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}};return d}(),featureSupport=function(){var d={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(d.maskType=!1),d}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(d){var p,F,g="SourceGraphic",s=d.data.ef?d.data.ef.length:0,y=createElementID(),b=filtersFactory.createFilter(y,!0),A=0;for(this.filters=[],p=0;p<s;p+=1){F=null;var L=d.data.ef[p].ty;registeredEffects[L]&&(F=new(0,registeredEffects[L].effect)(b,d.effectsManager.effectElements[p],d,idPrefix+A,g),g=idPrefix+A,registeredEffects[L].countsAsEffect&&(A+=1)),F&&this.filters.push(F)}A&&(d.globalData.defs.appendChild(b),d.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+y+")")),this.filters.length&&d.addRenderableComponent(this)}function registerEffect(d,p,g){registeredEffects[d]={effect:p,countsAsEffect:g}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(d,p,g){this.assetData=p.getAssetData(d.refId),this.initElement(d,p,g),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(d,p){this.elem=d,this.pos=p}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(d){var p,g=this.filters.length;for(p=0;p<g;p+=1)this.filters[p].renderFrame(d)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var g,s,y,p=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var b=createNS("mask");b.setAttribute("id",this.layerId),b.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),b.appendChild(this.layerElement),p=b,this.globalData.defs.appendChild(b),!featureSupport.maskType&&1==this.data.td&&(b.setAttribute("mask-type","luminance"),g=createElementID(),s=filtersFactory.createFilter(g),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(y=createNS("g")).appendChild(this.layerElement),p=y,b.appendChild(y),y.setAttribute("filter","url("+getLocationHref()+"#"+g+")"))}else if(2==this.data.td){var A=createNS("mask");A.setAttribute("id",this.layerId),A.setAttribute("mask-type","alpha");var F=createNS("g");A.appendChild(F),g=createElementID(),s=filtersFactory.createFilter(g);var L=createNS("feComponentTransfer");L.setAttribute("in","SourceGraphic"),s.appendChild(L);var H=createNS("feFuncA");H.setAttribute("type","table"),H.setAttribute("tableValues","1.0 0.0"),L.appendChild(H),this.globalData.defs.appendChild(s);var j=createNS("rect");j.setAttribute("width",this.comp.data.w),j.setAttribute("height",this.comp.data.h),j.setAttribute("x","0"),j.setAttribute("y","0"),j.setAttribute("fill","#ffffff"),j.setAttribute("opacity","0"),F.setAttribute("filter","url("+getLocationHref()+"#"+g+")"),F.appendChild(j),F.appendChild(this.layerElement),p=F,featureSupport.maskType||(A.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),y=createNS("g"),F.appendChild(j),y.appendChild(this.layerElement),p=y,F.appendChild(y)),this.globalData.defs.appendChild(A)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),p=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var Q=createNS("clipPath"),x=createNS("path");x.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var V=createElementID();if(Q.setAttribute("id",V),Q.appendChild(x),this.globalData.defs.appendChild(Q),this.checkMasks()){var G=createNS("g");G.setAttribute("clip-path","url("+getLocationHref()+"#"+V+")"),G.appendChild(this.layerElement),this.transformedElement=G,p?p.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+V+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(p){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+p+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(p){this.hierarchy=p},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(g,s,y){this.initFrame(),this.initBaseData(g,s,y),this.initTransform(g,s,y),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(g){this._mdf=!1,this.prepareRenderableFrame(g),this.prepareProperties(g,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var d=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(p){var g,s=this.shapeModifiers.length;for(g=0;g<s;g+=1)this.shapeModifiers[g].addShape(p)},isShapeInAnimatedModifiers:function(p){for(var s=this.shapeModifiers.length;0<s;)if(this.shapeModifiers[0].isAnimatedWithShape(p))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var p,g=this.shapes.length;for(p=0;p<g;p+=1)this.shapes[p].sh.reset();for(p=(g=this.shapeModifiers.length)-1;p>=0&&!this.shapeModifiers[p].processShapes(this._isFirstFrame);p-=1);}},searchProcessedElement:function(p){for(var g=this.processedElements,s=0,y=g.length;s<y;){if(g[s].elem===p)return g[s].pos;s+=1}return 0},addProcessedElement:function(p,g){for(var s=this.processedElements,y=s.length;y;)if(s[y-=1].elem===p)return void(s[y].pos=g);s.push(new ProcessedElement(p,g))},prepareFrame:function(p){this.prepareRenderableFrame(p),this.prepareProperties(p,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(d,p,g){this.caches=[],this.styles=[],this.transformers=d,this.lStr="",this.sh=g,this.lvl=p,this._isAnimated=!!g.k;for(var s=0,y=d.length;s<y;){if(d[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(d,p){this.data=d,this.type=d.ty,this.d="",this.lvl=p,this._mdf=!1,this.closed=!0===d.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(d,p,g,s){this.elem=d,this.frameId=-1,this.dataProps=createSizedArray(p.length),this.renderer=g,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",p.length?p.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var y,A,b=p.length||0;for(y=0;y<b;y+=1)A=PropertyFactory.getProp(d,p[y].v,0,0,this),this.k=A.k||this.k,this.dataProps[y]={n:p[y].n,p:A};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(d,p,g){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(d,p.o,0,.01,this),this.w=PropertyFactory.getProp(d,p.w,0,null,this),this.d=new DashProperty(d,p.d||{},"svg",this),this.c=PropertyFactory.getProp(d,p.c,1,255,this),this.style=g,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(d,p,g){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(d,p.o,0,.01,this),this.c=PropertyFactory.getProp(d,p.c,1,255,this),this.style=g}function SVGNoStyleData(d,p,g){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.style=g}function GradientProperty(d,p,g){this.data=p,this.c=createTypedArray("uint8c",4*p.p);var s=p.k.k[0].s?p.k.k[0].s.length-4*p.p:p.k.k.length-4*p.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(g),this.prop=PropertyFactory.getProp(d,p.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(d,p,g){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.initGradientData(d,p,g)}function SVGGradientStrokeStyleData(d,p,g){this.initDynamicPropertyContainer(d),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(d,p.w,0,null,this),this.d=new DashProperty(d,p.d||{},"svg",this),this.initGradientData(d,p,g),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(d,p,g){this.transform={mProps:d,op:p,container:g},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(d){if((this.elem.globalData.frameId!==this.frameId||d)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||d,this._mdf)){var p=0,g=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),p=0;p<g;p+=1)"o"!==this.dataProps[p].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[p].p.v:this.dashArray[p]=this.dataProps[p].p.v:this.dashoffset[0]=this.dataProps[p].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(d,p){for(var g=0,s=this.o.length/2;g<s;){if(Math.abs(d[4*g]-d[4*p+2*g])>.01)return!1;g+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var d=0,p=this.data.k.k.length;d<p;){if(!this.comparePoints(this.data.k.k[d].s,this.data.p))return!1;d+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(d){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||d){var p,s,y,g=4*this.data.p;for(p=0;p<g;p+=1)s=p%4==0?100:255,y=Math.round(this.prop.v[p]*s),this.c[p]!==y&&(this.c[p]=y,this._cmdf=!d);if(this.o.length)for(g=this.prop.v.length,p=4*this.data.p;p<g;p+=1)s=p%2==0?100:1,y=p%2==0?Math.round(100*this.prop.v[p]):this.prop.v[p],this.o[p-4*this.data.p]!==y&&(this.o[p-4*this.data.p]=y,this._omdf=!d);this._mdf=!d}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(d,p,g){this.o=PropertyFactory.getProp(d,p.o,0,.01,this),this.s=PropertyFactory.getProp(d,p.s,1,null,this),this.e=PropertyFactory.getProp(d,p.e,1,null,this),this.h=PropertyFactory.getProp(d,p.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(d,p.a||{k:0},0,degToRads,this),this.g=new GradientProperty(d,p.g,this),this.style=g,this.stops=[],this.setGradientData(g.pElem,p),this.setGradientOpacity(p,g),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(d,p){var g=createElementID(),s=createNS(1===p.t?"linearGradient":"radialGradient");s.setAttribute("id",g),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var b,A,F,y=[];for(F=4*p.g.p,A=0;A<F;A+=4)b=createNS("stop"),s.appendChild(b),y.push(b);d.setAttribute("gf"===p.ty?"fill":"stroke","url("+getLocationHref()+"#"+g+")"),this.gf=s,this.cst=y},SVGGradientFillStyleData.prototype.setGradientOpacity=function(d,p){if(this.g._hasOpacity&&!this.g._collapsable){var g,s,y,b=createNS("mask"),A=createNS("path");b.appendChild(A);var F=createElementID(),L=createElementID();b.setAttribute("id",L);var H=createNS(1===d.t?"linearGradient":"radialGradient");H.setAttribute("id",F),H.setAttribute("spreadMethod","pad"),H.setAttribute("gradientUnits","userSpaceOnUse"),y=d.g.k.k[0].s?d.g.k.k[0].s.length:d.g.k.k.length;var j=this.stops;for(s=4*d.g.p;s<y;s+=2)(g=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),H.appendChild(g),j.push(g);A.setAttribute("gf"===d.ty?"fill":"stroke","url("+getLocationHref()+"#"+F+")"),"gs"===d.ty&&(A.setAttribute("stroke-linecap",lineCapEnum[d.lc||2]),A.setAttribute("stroke-linejoin",lineJoinEnum[d.lj||2]),1===d.lj&&A.setAttribute("stroke-miterlimit",d.ml)),this.of=H,this.ms=b,this.ost=j,this.maskId=L,p.msElem=A}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(p,g,s,y){if(0===g)return"";var L,b=p.o,A=p.i,F=p.v,H=" M"+y.applyToPointStringified(F[0][0],F[0][1]);for(L=1;L<g;L+=1)H+=" C"+y.applyToPointStringified(b[L-1][0],b[L-1][1])+" "+y.applyToPointStringified(A[L][0],A[L][1])+" "+y.applyToPointStringified(F[L][0],F[L][1]);return s&&g&&(H+=" C"+y.applyToPointStringified(b[L-1][0],b[L-1][1])+" "+y.applyToPointStringified(A[0][0],A[0][1])+" "+y.applyToPointStringified(F[0][0],F[0][1]),H+="z"),H},SVGElementsRenderer=function(){var d=new Matrix,p=new Matrix;function y(Q,x,V){(V||x.transform.op._mdf)&&x.transform.container.setAttribute("opacity",x.transform.op.v),(V||x.transform.mProps._mdf)&&x.transform.container.setAttribute("transform",x.transform.mProps.v.to2dCSS())}function b(){}function A(Q,x,V){var G,W,X,O,U,N,Y,J,ee,fe,we,P=x.styles.length,q=x.lvl;for(N=0;N<P;N+=1){if(O=x.sh._mdf||V,x.styles[N].lvl<q){for(J=p.reset(),fe=q-x.styles[N].lvl,we=x.transformers.length-1;!O&&fe>0;)O=x.transformers[we].mProps._mdf||O,fe-=1,we-=1;if(O)for(fe=q-x.styles[N].lvl,we=x.transformers.length-1;fe>0;)J.transform((ee=x.transformers[we].mProps.v.props)[0],ee[1],ee[2],ee[3],ee[4],ee[5],ee[6],ee[7],ee[8],ee[9],ee[10],ee[11],ee[12],ee[13],ee[14],ee[15]),fe-=1,we-=1}else J=d;if(W=(Y=x.sh.paths)._length,O){for(X="",G=0;G<W;G+=1)(U=Y.shapes[G])&&U._length&&(X+=buildShapeString(U,U._length,U.c,J));x.caches[N]=X}else X=x.caches[N];x.styles[N].d+=!0===Q.hd?"":X,x.styles[N]._mdf=O||x.styles[N]._mdf}}function F(Q,x,V){var G=x.style;(x.c._mdf||V)&&G.pElem.setAttribute("fill","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||V)&&G.pElem.setAttribute("fill-opacity",x.o.v)}function L(Q,x,V){H(Q,x,V),j(0,x,V)}function H(Q,x,V){var q,Y,J,ee,le,G=x.gf,W=x.g._hasOpacity,X=x.s.v,O=x.e.v;if((x.o._mdf||V)&&x.style.pElem.setAttribute("gf"===Q.ty?"fill-opacity":"stroke-opacity",x.o.v),x.s._mdf||V){var N=1===Q.t?"x1":"cx",P="x1"===N?"y1":"cy";G.setAttribute(N,X[0]),G.setAttribute(P,X[1]),W&&!x.g._collapsable&&(x.of.setAttribute(N,X[0]),x.of.setAttribute(P,X[1]))}if(x.g._cmdf||V){var fe=x.g.c;for(J=(q=x.cst).length,Y=0;Y<J;Y+=1)(ee=q[Y]).setAttribute("offset",fe[4*Y]+"%"),ee.setAttribute("stop-color","rgb("+fe[4*Y+1]+","+fe[4*Y+2]+","+fe[4*Y+3]+")")}if(W&&(x.g._omdf||V)){var we=x.g.o;for(J=(q=x.g._collapsable?x.cst:x.ost).length,Y=0;Y<J;Y+=1)ee=q[Y],x.g._collapsable||ee.setAttribute("offset",we[2*Y]+"%"),ee.setAttribute("stop-opacity",we[2*Y+1])}if(1===Q.t)(x.e._mdf||V)&&(G.setAttribute("x2",O[0]),G.setAttribute("y2",O[1]),W&&!x.g._collapsable&&(x.of.setAttribute("x2",O[0]),x.of.setAttribute("y2",O[1])));else if((x.s._mdf||x.e._mdf||V)&&(le=Math.sqrt(Math.pow(X[0]-O[0],2)+Math.pow(X[1]-O[1],2)),G.setAttribute("r",le),W&&!x.g._collapsable&&x.of.setAttribute("r",le)),x.e._mdf||x.h._mdf||x.a._mdf||V){le||(le=Math.sqrt(Math.pow(X[0]-O[0],2)+Math.pow(X[1]-O[1],2)));var pe=Math.atan2(O[1]-X[1],O[0]-X[0]),ye=x.h.v;ye>=1?ye=.99:ye<=-1&&(ye=-.99);var me=le*ye,de=Math.cos(pe+x.a.v)*me+X[0],ie=Math.sin(pe+x.a.v)*me+X[1];G.setAttribute("fx",de),G.setAttribute("fy",ie),W&&!x.g._collapsable&&(x.of.setAttribute("fx",de),x.of.setAttribute("fy",ie))}}function j(Q,x,V){var G=x.style,W=x.d;W&&(W._mdf||V)&&W.dashStr&&(G.pElem.setAttribute("stroke-dasharray",W.dashStr),G.pElem.setAttribute("stroke-dashoffset",W.dashoffset[0])),x.c&&(x.c._mdf||V)&&G.pElem.setAttribute("stroke","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||V)&&G.pElem.setAttribute("stroke-opacity",x.o.v),(x.w._mdf||V)&&(G.pElem.setAttribute("stroke-width",x.w.v),G.msElem&&G.msElem.setAttribute("stroke-width",x.w.v))}return{createRenderFunction:function s(Q){switch(Q.ty){case"fl":return F;case"gf":return H;case"gs":return L;case"st":return j;case"sh":case"el":case"rc":case"sr":return A;case"tr":return y;case"no":return b;default:return null}}}}();function SVGShapeElement(d,p,g){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(d,p,g),this.prevViewData=[]}function LetterProps(d,p,g,s,y,b){this.o=d,this.sw=p,this.sc=g,this.fc=s,this.m=y,this.p=b,this._mdf={o:!0,sw:!!p,sc:!!g,fc:!!s,m:!0,p:!0}}function TextProperty(d,p){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=p,this.elem=d,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var d,g,s,b,p=this.shapes.length,y=this.stylesList.length,A=[],F=!1;for(s=0;s<y;s+=1){for(b=this.stylesList[s],F=!1,A.length=0,d=0;d<p;d+=1)-1!==(g=this.shapes[d]).styles.indexOf(b)&&(A.push(g),F=g._isAnimated||F);A.length>1&&F&&this.setShapesAsAnimated(A)}},SVGShapeElement.prototype.setShapesAsAnimated=function(d){var p,g=d.length;for(p=0;p<g;p+=1)d[p].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(d,p){var g,s=new SVGStyleData(d,p),y=s.pElem;return"st"===d.ty?g=new SVGStrokeStyleData(this,d,s):"fl"===d.ty?g=new SVGFillStyleData(this,d,s):"gf"===d.ty||"gs"===d.ty?(g=new("gf"===d.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,d,s),this.globalData.defs.appendChild(g.gf),g.maskId&&(this.globalData.defs.appendChild(g.ms),this.globalData.defs.appendChild(g.of),y.setAttribute("mask","url("+getLocationHref()+"#"+g.maskId+")"))):"no"===d.ty&&(g=new SVGNoStyleData(this,d,s)),("st"===d.ty||"gs"===d.ty)&&(y.setAttribute("stroke-linecap",lineCapEnum[d.lc||2]),y.setAttribute("stroke-linejoin",lineJoinEnum[d.lj||2]),y.setAttribute("fill-opacity","0"),1===d.lj&&y.setAttribute("stroke-miterlimit",d.ml)),2===d.r&&y.setAttribute("fill-rule","evenodd"),d.ln&&y.setAttribute("id",d.ln),d.cl&&y.setAttribute("class",d.cl),d.bm&&(y.style["mix-blend-mode"]=getBlendMode(d.bm)),this.stylesList.push(s),this.addToAnimatedContents(d,g),g},SVGShapeElement.prototype.createGroupElement=function(d){var p=new ShapeGroupData;return d.ln&&p.gr.setAttribute("id",d.ln),d.cl&&p.gr.setAttribute("class",d.cl),d.bm&&(p.gr.style["mix-blend-mode"]=getBlendMode(d.bm)),p},SVGShapeElement.prototype.createTransformElement=function(d,p){var g=TransformPropertyFactory.getTransformProperty(this,d,this),s=new SVGTransformData(g,g.o,p);return this.addToAnimatedContents(d,s),s},SVGShapeElement.prototype.createShapeElement=function(d,p,g){var s=4;"rc"===d.ty?s=5:"el"===d.ty?s=6:"sr"===d.ty&&(s=7);var b=new SVGShapeData(p,g,ShapePropertyFactory.getShapeProp(this,d,s,this));return this.shapes.push(b),this.addShapeToModifiers(b),this.addToAnimatedContents(d,b),b},SVGShapeElement.prototype.addToAnimatedContents=function(d,p){for(var g=0,s=this.animatedContents.length;g<s;){if(this.animatedContents[g].element===p)return;g+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(d),element:p,data:d})},SVGShapeElement.prototype.setElementStyles=function(d){var g,p=d.styles,s=this.stylesList.length;for(g=0;g<s;g+=1)this.stylesList[g].closed||p.push(this.stylesList[g])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var d,p=this.itemsData.length;for(d=0;d<p;d+=1)this.prevViewData[d]=this.itemsData[d];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),p=this.dynamicProperties.length,d=0;d<p;d+=1)this.dynamicProperties[d].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(d,p,g,s,y,b,A){var L,j,Q,W,X,F=[].concat(b),H=d.length-1,x=[],V=[];for(L=H;L>=0;L-=1){if((X=this.searchProcessedElement(d[L]))?p[L]=g[X-1]:d[L]._render=A,"fl"===d[L].ty||"st"===d[L].ty||"gf"===d[L].ty||"gs"===d[L].ty||"no"===d[L].ty)X?p[L].style.closed=!1:p[L]=this.createStyleElement(d[L],y),d[L]._render&&p[L].style.pElem.parentNode!==s&&s.appendChild(p[L].style.pElem),x.push(p[L].style);else if("gr"===d[L].ty){if(X)for(Q=p[L].it.length,j=0;j<Q;j+=1)p[L].prevViewData[j]=p[L].it[j];else p[L]=this.createGroupElement(d[L]);this.searchShapes(d[L].it,p[L].it,p[L].prevViewData,p[L].gr,y+1,F,A),d[L]._render&&p[L].gr.parentNode!==s&&s.appendChild(p[L].gr)}else"tr"===d[L].ty?(X||(p[L]=this.createTransformElement(d[L],s)),F.push(p[L].transform)):"sh"===d[L].ty||"rc"===d[L].ty||"el"===d[L].ty||"sr"===d[L].ty?(X||(p[L]=this.createShapeElement(d[L],F,y)),this.setElementStyles(p[L])):"tm"===d[L].ty||"rd"===d[L].ty||"ms"===d[L].ty||"pb"===d[L].ty?(X?(W=p[L]).closed=!1:((W=ShapeModifiers.getModifier(d[L].ty)).init(this,d[L]),p[L]=W,this.shapeModifiers.push(W)),V.push(W)):"rp"===d[L].ty&&(X?(W=p[L]).closed=!0:(W=ShapeModifiers.getModifier(d[L].ty),p[L]=W,W.init(this,d,L,p),this.shapeModifiers.push(W),A=!1),V.push(W));this.addProcessedElement(d[L],L+1)}for(H=x.length,L=0;L<H;L+=1)x[L].closed=!0;for(H=V.length,L=0;L<H;L+=1)V[L].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var d,p=this.stylesList.length;for(d=0;d<p;d+=1)this.stylesList[d].reset();for(this.renderShape(),d=0;d<p;d+=1)(this.stylesList[d]._mdf||this._isFirstFrame)&&(this.stylesList[d].msElem&&(this.stylesList[d].msElem.setAttribute("d",this.stylesList[d].d),this.stylesList[d].d="M0 0"+this.stylesList[d].d),this.stylesList[d].pElem.setAttribute("d",this.stylesList[d].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var d,g,p=this.animatedContents.length;for(d=0;d<p;d+=1)g=this.animatedContents[d],(this._isFirstFrame||g.element._isAnimated)&&!0!==g.data&&g.fn(g.data,g.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(d,p,g,s,y,b){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var A=!1;return this.o!==d&&(this.o=d,this._mdf.o=!0,A=!0),this.sw!==p&&(this.sw=p,this._mdf.sw=!0,A=!0),this.sc!==g&&(this.sc=g,this._mdf.sc=!0,A=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,A=!0),this.m!==y&&(this.m=y,this._mdf.m=!0,A=!0),b.length&&(this.p[0]!==b[0]||this.p[1]!==b[1]||this.p[4]!==b[4]||this.p[5]!==b[5]||this.p[12]!==b[12]||this.p[13]!==b[13])&&(this.p=b,this._mdf.p=!0,A=!0),A},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(d,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(d[g]=p[g]);return d},TextProperty.prototype.setCurrentData=function(d){d.__complete||this.completeTextData(d),this.currentData=d,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(d){this.effectsSequence.push(d),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(d){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||d){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var p=this.currentData,g=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var s,y=this.effectsSequence.length,b=d||this.data.d.k[this.keysIndex].s;for(s=0;s<y;s+=1)b=this.effectsSequence[s](g!==this.keysIndex?b:this.currentData,b.t);p!==b&&this.setCurrentData(b),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var d=this.data.d.k,p=this.elem.comp.renderedFrame,g=0,s=d.length;g<=s-1&&!(g===s-1||d[g+1].t>p);)g+=1;return this.keysIndex!==g&&(this.keysIndex=g),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(d){for(var y,b,p=[],g=0,s=d.length,A=!1;g<s;)y=d.charCodeAt(g),FontManager.isCombinedCharacter(y)?p[p.length-1]+=d.charAt(g):y>=55296&&y<=56319?(b=d.charCodeAt(g+1))>=56320&&b<=57343?(A||FontManager.isModifier(y,b)?(p[p.length-1]+=d.substr(g,2),A=!1):p.push(d.substr(g,2)),g+=1):p.push(d.charAt(g)):y>56319?(b=d.charCodeAt(g+1),FontManager.isZeroWidthJoiner(y,b)?(A=!0,p[p.length-1]+=d.substr(g,2),g+=1):p.push(d.charAt(g))):FontManager.isZeroWidthJoiner(y)?(p[p.length-1]+=d.charAt(g),A=!0):p.push(d.charAt(g)),g+=1;return p},TextProperty.prototype.completeTextData=function(d){d.__complete=!0;var y,b,A,L,X,O,N,p=this.elem.globalData.fontManager,g=this.data,s=[],F=0,H=g.m.g,j=0,Q=0,x=0,V=[],G=0,W=0,U=p.getFontByName(d.f),P=0,q=getFontProperties(U);d.fWeight=q.weight,d.fStyle=q.style,d.finalSize=d.s,d.finalText=this.buildFinalText(d.t),b=d.finalText.length,d.finalLineHeight=d.lh;var J,Y=d.tr/1e3*d.finalSize;if(d.sz)for(var le,pe,ee=!0,fe=d.sz[0],we=d.sz[1];ee;){le=0,G=0,b=(pe=this.buildFinalText(d.t)).length,Y=d.tr/1e3*d.finalSize;var ye=-1;for(y=0;y<b;y+=1)J=pe[y].charCodeAt(0),A=!1," "===pe[y]?ye=y:(13===J||3===J)&&(G=0,A=!0,le+=d.finalLineHeight||1.2*d.finalSize),p.chars?(N=p.getCharData(pe[y],U.fStyle,U.fFamily),P=A?0:N.w*d.finalSize/100):P=p.measureText(pe[y],d.f,d.finalSize),G+P>fe&&" "!==pe[y]?(-1===ye?b+=1:y=ye,le+=d.finalLineHeight||1.2*d.finalSize,pe.splice(y,ye===y?1:0,"\r"),ye=-1,G=0):(G+=P,G+=Y);le+=U.ascent*d.finalSize/100,this.canResize&&d.finalSize>this.minimumFontSize&&we<le?(d.finalSize-=1,d.finalLineHeight=d.finalSize*d.lh/d.s):(d.finalText=pe,b=d.finalText.length,ee=!1)}G=-Y,P=0;var de,me=0;for(y=0;y<b;y+=1)if(A=!1,13===(J=(de=d.finalText[y]).charCodeAt(0))||3===J?(me=0,V.push(G),W=G>W?G:W,G=-2*Y,L="",A=!0,x+=1):L=de,p.chars?(N=p.getCharData(de,U.fStyle,p.getFontByName(d.f).fFamily),P=A?0:N.w*d.finalSize/100):P=p.measureText(L,d.f,d.finalSize)," "===de?me+=P+Y:(G+=P+Y+me,me=0),s.push({l:P,an:P,add:j,n:A,anIndexes:[],val:L,line:x,animatorJustifyOffset:0}),2==H){if(j+=P,""===L||" "===L||y===b-1){for((""===L||" "===L)&&(j-=P);Q<=y;)s[Q].an=j,s[Q].ind=F,s[Q].extra=P,Q+=1;F+=1,j=0}}else if(3==H){if(j+=P,""===L||y===b-1){for(""===L&&(j-=P);Q<=y;)s[Q].an=j,s[Q].ind=F,s[Q].extra=P,Q+=1;j=0,F+=1}}else s[F].ind=F,s[F].extra=0,F+=1;if(d.l=s,W=G>W?G:W,V.push(G),d.sz)d.boxWidth=d.sz[0],d.justifyOffset=0;else switch(d.boxWidth=W,d.j){case 1:d.justifyOffset=-d.boxWidth;break;case 2:d.justifyOffset=-d.boxWidth/2;break;default:d.justifyOffset=0}d.lineWidths=V;var te,Z,ie=g.a;O=ie.length;var ae,Ne,De=[];for(X=0;X<O;X+=1){for((te=ie[X]).a.sc&&(d.strokeColorAnim=!0),te.a.sw&&(d.strokeWidthAnim=!0),(te.a.fc||te.a.fh||te.a.fs||te.a.fb)&&(d.fillColorAnim=!0),Ne=0,ae=te.s.b,y=0;y<b;y+=1)(Z=s[y]).anIndexes[X]=Ne,(1==ae&&""!==Z.val||2==ae&&""!==Z.val&&" "!==Z.val||3==ae&&(Z.n||" "==Z.val||y==b-1)||4==ae&&(Z.n||y==b-1))&&(1===te.s.rn&&De.push(Ne),Ne+=1);g.a[X].s.totalChars=Ne;var Be,Ze=-1;if(1===te.s.rn)for(y=0;y<b;y+=1)Ze!=(Z=s[y]).anIndexes[X]&&(Ze=Z.anIndexes[X],Be=De.splice(Math.floor(Math.random()*De.length),1)[0]),Z.anIndexes[X]=Be}d.yOffset=d.finalLineHeight||1.2*d.finalSize,d.ls=d.ls||0,d.ascent=U.ascent*d.finalSize/100},TextProperty.prototype.updateDocumentData=function(d,p){var g=this.copyData({},this.data.d.k[p=void 0===p?this.keysIndex:p].s);g=this.copyData(g,d),this.data.d.k[p].s=g,this.recalculate(p),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(d){var p=this.data.d.k[d].s;p.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(p)},TextProperty.prototype.canResizeFont=function(d){this.canResize=d,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(d){this.minimumFontSize=Math.floor(d)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var d=Math.max,p=Math.min,g=Math.floor;function s(b,A){this._currentTextLength=-1,this.k=!1,this.data=A,this.elem=b,this.comp=b.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(b),this.s=PropertyFactory.getProp(b,A.s||{k:0},0,0,this),this.e="e"in A?PropertyFactory.getProp(b,A.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(b,A.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(b,A.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(b,A.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(b,A.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(b,A.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(A){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var F=0,L=0,H=1,j=1;this.ne.v>0?F=this.ne.v/100:L=-this.ne.v/100,this.xe.v>0?H=1-this.xe.v/100:j=1+this.xe.v/100;var Q=BezierFactory.getBezierEasing(F,L,H,j).get,x=0,V=this.finalS,G=this.finalE,W=this.data.sh;if(2===W)x=Q(x=G===V?A>=G?1:0:d(0,p(.5/(G-V)+(A-V)/(G-V),1)));else if(3===W)x=Q(x=G===V?A>=G?0:1:1-d(0,p(.5/(G-V)+(A-V)/(G-V),1)));else if(4===W)G===V?x=0:(x=d(0,p(.5/(G-V)+(A-V)/(G-V),1)))<.5?x*=2:x=1-2*(x-.5),x=Q(x);else if(5===W){if(G===V)x=0;else{var X=G-V,O=-X/2+(A=p(d(0,A+.5-V),G-V)),U=X/2;x=Math.sqrt(1-O*O/(U*U))}x=Q(x)}else 6===W?(G===V?x=0:(A=p(d(0,A+.5-V),G-V),x=(1+Math.cos(Math.PI+2*Math.PI*A/(G-V)))/2),x=Q(x)):(A>=g(V)&&(x=d(0,p(A-V<0?p(G,1)-(V-A):G-A,1))),x=Q(x));if(100!==this.sm.v){var N=.01*this.sm.v;0===N&&(N=1e-8);var P=.5-.5*N;x<P?x=0:(x=(x-P)/N)>1&&(x=1)}return x*this.a.v},getValue:function(A){this.iterateDynamicProperties(),this._mdf=A||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,A&&2===this.data.r&&(this.e.v=this._currentTextLength);var F=2===this.data.r?1:100/this.data.totalChars,L=this.o.v/F,H=this.s.v/F+L,j=this.e.v/F+L;if(H>j){var Q=H;H=j,j=Q}this.finalS=H,this.finalE=j}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function y(b,A,F){return new s(b,A,F)}}}();function TextAnimatorDataProperty(d,p,g){var s={propType:!1},y=PropertyFactory.getProp,b=p.a;this.a={r:b.r?y(d,b.r,0,degToRads,g):s,rx:b.rx?y(d,b.rx,0,degToRads,g):s,ry:b.ry?y(d,b.ry,0,degToRads,g):s,sk:b.sk?y(d,b.sk,0,degToRads,g):s,sa:b.sa?y(d,b.sa,0,degToRads,g):s,s:b.s?y(d,b.s,1,.01,g):s,a:b.a?y(d,b.a,1,0,g):s,o:b.o?y(d,b.o,0,.01,g):s,p:b.p?y(d,b.p,1,0,g):s,sw:b.sw?y(d,b.sw,0,0,g):s,sc:b.sc?y(d,b.sc,1,0,g):s,fc:b.fc?y(d,b.fc,1,0,g):s,fh:b.fh?y(d,b.fh,0,0,g):s,fs:b.fs?y(d,b.fs,0,.01,g):s,fb:b.fb?y(d,b.fb,0,.01,g):s,t:b.t?y(d,b.t,0,0,g):s},this.s=TextSelectorProp.getTextSelectorProp(d,p.s,g),this.s.t=p.s.t}function TextAnimatorProperty(d,p,g){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=d,this._renderType=p,this._elem=g,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(g)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var d,p=this._textData.a.length,s=PropertyFactory.getProp;for(d=0;d<p;d+=1)this._animatorsData[d]=new TextAnimatorDataProperty(this._elem,this._textData.a[d],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(d,p){if(this.lettersChangedFlag=p,this._mdf||this._isFirstFrame||p||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var L,H,j,Q,V,G,W,X,O,U,N,P,q,Y,J,ee,fe,le,g=this._moreOptions.alignment.v,s=this._animatorsData,y=this._textData,b=this.mHelper,A=this._renderType,F=this.renderedLetters.length,x=d.l;if(this._hasMaskedPath){if(le=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ye,pe=le.v;for(this._pathData.r.v&&(pe=pe.reverse()),V={tLength:0,segments:[]},Q=pe._length-1,ee=0,j=0;j<Q;j+=1)ye=bez.buildBezierData(pe.v[j],pe.v[j+1],[pe.o[j][0]-pe.v[j][0],pe.o[j][1]-pe.v[j][1]],[pe.i[j+1][0]-pe.v[j+1][0],pe.i[j+1][1]-pe.v[j+1][1]]),V.tLength+=ye.segmentLength,V.segments.push(ye),ee+=ye.segmentLength;j=Q,le.v.c&&(ye=bez.buildBezierData(pe.v[j],pe.v[0],[pe.o[j][0]-pe.v[j][0],pe.o[j][1]-pe.v[j][1]],[pe.i[0][0]-pe.v[0][0],pe.i[0][1]-pe.v[0][1]]),V.tLength+=ye.segmentLength,V.segments.push(ye),ee+=ye.segmentLength),this._pathData.pi=V}if(N=0,U=1,X=0,O=!0,Y=(V=this._pathData.pi).segments,(G=this._pathData.f.v)<0&&le.v.c)for(V.tLength<Math.abs(G)&&(G=-Math.abs(G)%V.tLength),U=(q=Y[N=Y.length-1].points).length-1;G<0;)G+=q[U].partialLength,(U-=1)<0&&(U=(q=Y[N-=1].points).length-1);P=(q=Y[N].points)[U-1],J=(W=q[U]).partialLength}Q=x.length,L=0,H=0;var ie,Z,ae,Ne,me=1.2*d.finalSize*.714,de=!0;ae=s.length;var De,Be,ot,Ot,Ht,sn,Rt,qe,jt,Sn,Jn,In,Wn,Ze=-1,ct=G,yt=N,Ct=U,kt=-1,hi="",bt=this.defaultPropsArray;if(2===d.j||1===d.j){var ln=0,Yt=0,jn=2===d.j?-.5:-1,An=0,Xn=!0;for(j=0;j<Q;j+=1)if(x[j].n){for(ln&&(ln+=Yt);An<j;)x[An].animatorJustifyOffset=ln,An+=1;ln=0,Xn=!0}else{for(Z=0;Z<ae;Z+=1)(ie=s[Z].a).t.propType&&(Xn&&2===d.j&&(Yt+=ie.t.v*jn),ln+=(De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars)).length?ie.t.v*De[0]*jn:ie.t.v*De*jn);Xn=!1}for(ln&&(ln+=Yt);An<j;)x[An].animatorJustifyOffset=ln,An+=1}for(j=0;j<Q;j+=1){if(b.reset(),Ht=1,x[j].n)L=0,H+=d.yOffset,H+=de?1:0,G=ct,de=!1,this._hasMaskedPath&&(P=(q=Y[N=yt].points)[(U=Ct)-1],J=(W=q[U]).partialLength,X=0),hi="",In="",Sn="",Wn="",bt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(kt!==x[j].line){switch(d.j){case 1:G+=ee-d.lineWidths[x[j].line];break;case 2:G+=(ee-d.lineWidths[x[j].line])/2}kt=x[j].line}Ze!==x[j].ind&&(x[Ze]&&(G+=x[Ze].extra),G+=x[j].an/2,Ze=x[j].ind),G+=g[0]*x[j].an*.005;var dn=0;for(Z=0;Z<ae;Z+=1)(ie=s[Z].a).p.propType&&(dn+=(De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars)).length?ie.p.v[0]*De[0]:ie.p.v[0]*De),ie.a.propType&&(dn+=(De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars)).length?ie.a.v[0]*De[0]:ie.a.v[0]*De);for(O=!0,this._pathData.a.v&&(G=.5*x[0].an+(ee-this._pathData.f.v-.5*x[0].an-.5*x[x.length-1].an)*Ze/(Q-1),G+=this._pathData.f.v);O;)X+J>=G+dn||!q?(ot=P.point[0]+(W.point[0]-P.point[0])*(fe=(G+dn-X)/W.partialLength),Ot=P.point[1]+(W.point[1]-P.point[1])*fe,b.translate(-g[0]*x[j].an*.005,-g[1]*me*.01),O=!1):q&&(X+=W.partialLength,(U+=1)>=q.length&&(U=0,Y[N+=1]?q=Y[N].points:le.v.c?(U=0,q=Y[N=0].points):(X-=W.partialLength,q=null)),q&&(P=W,J=(W=q[U]).partialLength));b.translate(-(Be=x[j].an/2-x[j].add),0,0)}else b.translate(-(Be=x[j].an/2-x[j].add),0,0),b.translate(-g[0]*x[j].an*.005,-g[1]*me*.01,0);for(Z=0;Z<ae;Z+=1)(ie=s[Z].a).t.propType&&(De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars),(0!==L||0!==d.j)&&(this._hasMaskedPath?G+=De.length?ie.t.v*De[0]:ie.t.v*De:L+=De.length?ie.t.v*De[0]:ie.t.v*De));for(d.strokeWidthAnim&&(Rt=d.sw||0),d.strokeColorAnim&&(sn=d.sc?[d.sc[0],d.sc[1],d.sc[2]]:[0,0,0]),d.fillColorAnim&&d.fc&&(qe=[d.fc[0],d.fc[1],d.fc[2]]),Z=0;Z<ae;Z+=1)(ie=s[Z].a).a.propType&&((De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars)).length?b.translate(-ie.a.v[0]*De[0],-ie.a.v[1]*De[1],ie.a.v[2]*De[2]):b.translate(-ie.a.v[0]*De,-ie.a.v[1]*De,ie.a.v[2]*De));for(Z=0;Z<ae;Z+=1)(ie=s[Z].a).s.propType&&((De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars)).length?b.scale(1+(ie.s.v[0]-1)*De[0],1+(ie.s.v[1]-1)*De[1],1):b.scale(1+(ie.s.v[0]-1)*De,1+(ie.s.v[1]-1)*De,1));for(Z=0;Z<ae;Z+=1){if(ie=s[Z].a,De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars),ie.sk.propType&&(De.length?b.skewFromAxis(-ie.sk.v*De[0],ie.sa.v*De[1]):b.skewFromAxis(-ie.sk.v*De,ie.sa.v*De)),ie.r.propType&&b.rotateZ(De.length?-ie.r.v*De[2]:-ie.r.v*De),ie.ry.propType&&b.rotateY(De.length?ie.ry.v*De[1]:ie.ry.v*De),ie.rx.propType&&b.rotateX(De.length?ie.rx.v*De[0]:ie.rx.v*De),ie.o.propType&&(Ht+=De.length?(ie.o.v*De[0]-Ht)*De[0]:(ie.o.v*De-Ht)*De),d.strokeWidthAnim&&ie.sw.propType&&(Rt+=De.length?ie.sw.v*De[0]:ie.sw.v*De),d.strokeColorAnim&&ie.sc.propType)for(jt=0;jt<3;jt+=1)sn[jt]+=De.length?(ie.sc.v[jt]-sn[jt])*De[0]:(ie.sc.v[jt]-sn[jt])*De;if(d.fillColorAnim&&d.fc){if(ie.fc.propType)for(jt=0;jt<3;jt+=1)qe[jt]+=De.length?(ie.fc.v[jt]-qe[jt])*De[0]:(ie.fc.v[jt]-qe[jt])*De;ie.fh.propType&&(qe=addHueToRGB(qe,De.length?ie.fh.v*De[0]:ie.fh.v*De)),ie.fs.propType&&(qe=addSaturationToRGB(qe,De.length?ie.fs.v*De[0]:ie.fs.v*De)),ie.fb.propType&&(qe=addBrightnessToRGB(qe,De.length?ie.fb.v*De[0]:ie.fb.v*De))}}for(Z=0;Z<ae;Z+=1)(ie=s[Z].a).p.propType&&(De=s[Z].s.getMult(x[j].anIndexes[Z],y.a[Z].s.totalChars),this._hasMaskedPath?De.length?b.translate(0,ie.p.v[1]*De[0],-ie.p.v[2]*De[1]):b.translate(0,ie.p.v[1]*De,-ie.p.v[2]*De):De.length?b.translate(ie.p.v[0]*De[0],ie.p.v[1]*De[1],-ie.p.v[2]*De[2]):b.translate(ie.p.v[0]*De,ie.p.v[1]*De,-ie.p.v[2]*De));if(d.strokeWidthAnim&&(Sn=Rt<0?0:Rt),d.strokeColorAnim&&(Jn="rgb("+Math.round(255*sn[0])+","+Math.round(255*sn[1])+","+Math.round(255*sn[2])+")"),d.fillColorAnim&&d.fc&&(In="rgb("+Math.round(255*qe[0])+","+Math.round(255*qe[1])+","+Math.round(255*qe[2])+")"),this._hasMaskedPath){if(b.translate(0,-d.ls),b.translate(0,g[1]*me*.01+H,0),this._pathData.p.v){var Bn=180*Math.atan((W.point[1]-P.point[1])/(W.point[0]-P.point[0]))/Math.PI;W.point[0]<P.point[0]&&(Bn+=180),b.rotate(-Bn*Math.PI/180)}b.translate(ot,Ot,0),G-=g[0]*x[j].an*.005,x[j+1]&&Ze!==x[j+1].ind&&(G+=x[j].an/2,G+=.001*d.tr*d.finalSize)}else{switch(b.translate(L,H,0),d.ps&&b.translate(d.ps[0],d.ps[1]+d.ascent,0),d.j){case 1:b.translate(x[j].animatorJustifyOffset+d.justifyOffset+(d.boxWidth-d.lineWidths[x[j].line]),0,0);break;case 2:b.translate(x[j].animatorJustifyOffset+d.justifyOffset+(d.boxWidth-d.lineWidths[x[j].line])/2,0,0)}b.translate(0,-d.ls),b.translate(Be,0,0),b.translate(g[0]*x[j].an*.005,g[1]*me*.01,0),L+=x[j].l+.001*d.tr*d.finalSize}"html"===A?hi=b.toCSS():"svg"===A?hi=b.to2dCSS():bt=[b.props[0],b.props[1],b.props[2],b.props[3],b.props[4],b.props[5],b.props[6],b.props[7],b.props[8],b.props[9],b.props[10],b.props[11],b.props[12],b.props[13],b.props[14],b.props[15]],Wn=Ht}F<=j?(Ne=new LetterProps(Wn,Sn,Jn,In,hi,bt),this.renderedLetters.push(Ne),F+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(Ne=this.renderedLetters[j]).update(Wn,Sn,Jn,In,hi,bt)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(d,p,g){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(d,p,g),this.textProperty=new TextProperty(this,d.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(d.t,this.renderType,this),this.initTransform(d,p,g),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(d){this._mdf=!1,this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(d,p){var g,y,s=p.length,b="";for(g=0;g<s;g+=1)"sh"===p[g].ty&&(b+=buildShapeString(y=p[g].ks.k,y.i.length,!0,d));return b},ITextElement.prototype.updateDocumentData=function(d,p){this.textProperty.updateDocumentData(d,p)},ITextElement.prototype.canResizeFont=function(d){this.textProperty.canResizeFont(d)},ITextElement.prototype.setMinimumFontSize=function(d){this.textProperty.setMinimumFontSize(d)},ITextElement.prototype.applyTextPropertiesToMatrix=function(d,p,g,s,y){switch(d.ps&&p.translate(d.ps[0],d.ps[1]+d.ascent,0),p.translate(0,-d.ls,0),d.j){case 1:p.translate(d.justifyOffset+(d.boxWidth-d.lineWidths[g]),0,0);break;case 2:p.translate(d.justifyOffset+(d.boxWidth-d.lineWidths[g])/2,0,0)}p.translate(s,y,0)},ITextElement.prototype.buildColor=function(d){return"rgb("+Math.round(255*d[0])+","+Math.round(255*d[1])+","+Math.round(255*d[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(d,p,g){this.textSpans=[],this.renderType="svg",this.initElement(d,p,g)}function ISolidElement(d,p,g){this.initElement(d,p,g)}function NullElement(d,p,g){this.initFrame(),this.initBaseData(d,p,g),this.initFrame(),this.initTransform(d,p,g),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(d,p,g){this.layers=d.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(d,p,g),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,p.frameRate,this):{_placeholder:!0}}function SVGRenderer(d,p){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var g="";if(p&&p.title){var s=createNS("title"),y=createElementID();s.setAttribute("id",y),s.textContent=p.title,this.svgElement.appendChild(s),g+=y}if(p&&p.description){var b=createNS("desc"),A=createElementID();b.setAttribute("id",A),b.textContent=p.description,this.svgElement.appendChild(b),g+=" "+A}g&&this.svgElement.setAttribute("aria-labelledby",g);var F=createNS("defs");this.svgElement.appendChild(F);var L=createNS("g");this.svgElement.appendChild(L),this.layerElement=L,this.renderConfig={preserveAspectRatio:p&&p.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:p&&p.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:p&&p.contentVisibility||"visible",progressiveLoad:p&&p.progressiveLoad||!1,hideOnTransparent:!(p&&!1===p.hideOnTransparent),viewBoxOnly:p&&p.viewBoxOnly||!1,viewBoxSize:p&&p.viewBoxSize||!1,className:p&&p.className||"",id:p&&p.id||"",focusable:p&&p.focusable,filterSize:{width:p&&p.filterSize&&p.filterSize.width||"100%",height:p&&p.filterSize&&p.filterSize.height||"100%",x:p&&p.filterSize&&p.filterSize.x||"0%",y:p&&p.filterSize&&p.filterSize.y||"0%"},width:p&&p.width,height:p&&p.height},this.globalData={_mdf:!1,frameNum:-1,defs:F,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var d;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),d=0;d<15;d+=1)this.saved[d]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVEffects(){}function CVMaskElement(d,p){this.data=d,this.element=p,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var g,s=this.masksProperties.length,y=!1;for(g=0;g<s;g+=1)"n"!==this.masksProperties[g].mode&&(y=!0),this.viewData[g]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[g],3);this.hasMasks=y,y&&this.element.addRenderableComponent(this)}function CVBaseElement(){}function CVShapeData(d,p,g,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var y=4;"rc"===p.ty?y=5:"el"===p.ty?y=6:"sr"===p.ty&&(y=7),this.sh=ShapePropertyFactory.getShapeProp(d,p,y,d);var b,F,A=g.length;for(b=0;b<A;b+=1)g[b].closed||(F={transforms:s.addTransformSequence(g[b].transforms),trNodes:[]},this.styledShapes.push(F),g[b].elements.push(F))}function CVShapeElement(d,p,g){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(d,p,g)}function CVTextElement(d,p,g){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(d,p,g)}function CVImageElement(d,p,g){this.assetData=p.getAssetData(d.refId),this.img=p.imageLoader.getAsset(this.assetData),this.initElement(d,p,g)}function CVSolidElement(d,p,g){this.initElement(d,p,g)}function CanvasRendererBase(d,p){this.animationItem=d,this.renderConfig={clearCanvas:!p||void 0===p.clearCanvas||p.clearCanvas,context:p&&p.context||null,progressiveLoad:p&&p.progressiveLoad||!1,preserveAspectRatio:p&&p.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:p&&p.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:p&&p.contentVisibility||"visible",className:p&&p.className||"",id:p&&p.id||""},this.renderConfig.dpr=p&&p.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=p&&p.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(d,p,g){this.completeLayers=!1,this.layers=d.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(d,p,g),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,p.frameRate,this):{_placeholder:!0}}function CanvasRenderer(d,p){this.animationItem=d,this.renderConfig={clearCanvas:!p||void 0===p.clearCanvas||p.clearCanvas,context:p&&p.context||null,progressiveLoad:p&&p.progressiveLoad||!1,preserveAspectRatio:p&&p.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:p&&p.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:p&&p.contentVisibility||"visible",className:p&&p.className||"",id:p&&p.id||""},this.renderConfig.dpr=p&&p.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=p&&p.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(d,p,g){this.initElement(d,p,g)}function HShapeElement(d,p,g){this.shapes=[],this.shapesData=d.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(d,p,g),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(d,p,g){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(d,p,g)}function HCameraElement(d,p,g){this.initFrame(),this.initBaseData(d,p,g),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,d.pe,0,0,this),d.ks.p.s?(this.px=s(this,d.ks.p.x,1,0,this),this.py=s(this,d.ks.p.y,1,0,this),this.pz=s(this,d.ks.p.z,1,0,this)):this.p=s(this,d.ks.p,1,0,this),d.ks.a&&(this.a=s(this,d.ks.a,1,0,this)),d.ks.or.k.length&&d.ks.or.k[0].to){var y,b=d.ks.or.k.length;for(y=0;y<b;y+=1)d.ks.or.k[y].to=null,d.ks.or.k[y].ti=null}this.or=s(this,d.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,d.ks.rx,0,degToRads,this),this.ry=s(this,d.ks.ry,0,degToRads,this),this.rz=s(this,d.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(d,p,g){this.assetData=p.getAssetData(d.refId),this.initElement(d,p,g)}function HybridRendererBase(d,p){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:p&&p.className||"",imagePreserveAspectRatio:p&&p.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(p&&!1===p.hideOnTransparent),filterSize:{width:p&&p.filterSize&&p.filterSize.width||"400%",height:p&&p.filterSize&&p.filterSize.height||"400%",x:p&&p.filterSize&&p.filterSize.x||"-100%",y:p&&p.filterSize&&p.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(d,p,g){this.layers=d.layers,this.supports3d=!d.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(d,p,g),this.tm=d.tm?PropertyFactory.getProp(this,d.tm,0,p.frameRate,this):{_placeholder:!0}}function HybridRenderer(d,p){this.animationItem=d,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:p&&p.className||"",imagePreserveAspectRatio:p&&p.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(p&&!1===p.hideOnTransparent),filterSize:{width:p&&p.filterSize&&p.filterSize.width||"400%",height:p&&p.filterSize&&p.filterSize.height||"400%",x:p&&p.filterSize&&p.filterSize.x||"-100%",y:p&&p.filterSize&&p.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(d){for(var p=0,g=d.length,s=[],y="";p<g;)d[p]===String.fromCharCode(13)||d[p]===String.fromCharCode(3)?(s.push(y),y=""):y+=d[p],p+=1;return s.push(y),s},SVGTextLottieElement.prototype.buildShapeData=function(d,p){if(d.shapes&&d.shapes.length){var g=d.shapes[0];if(g.it){var s=g.it[g.it.length-1];s.s&&(s.s.k[0]=p,s.s.k[1]=p)}}return d},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var d,p,g=this.textProperty.currentData;this.renderedLetters=createSizedArray(g?g.l.length:0),this.layerElement.setAttribute("fill",g.fc?this.buildColor(g.fc):"rgba(0,0,0,0)"),g.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(g.sc)),this.layerElement.setAttribute("stroke-width",g.sw)),this.layerElement.setAttribute("font-size",g.finalSize);var s=this.globalData.fontManager.getFontByName(g.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var y=g.fWeight;this.layerElement.setAttribute("font-style",g.fStyle),this.layerElement.setAttribute("font-weight",y)}this.layerElement.setAttribute("aria-label",g.t);var A=g.l||[],F=!!this.globalData.fontManager.chars;p=A.length;var L,H=this.mHelper,Q=this.data.singleShape,x=0,V=0,G=!0,W=.001*g.tr*g.finalSize;if(!Q||F||g.sz){var P,N=this.textSpans.length;for(d=0;d<p;d+=1){if(this.textSpans[d]||(this.textSpans[d]={span:null,childSpan:null,glyph:null}),!F||!Q||0===d){if(L=N>d?this.textSpans[d].span:createNS(F?"g":"text"),N<=d){if(L.setAttribute("stroke-linecap","butt"),L.setAttribute("stroke-linejoin","round"),L.setAttribute("stroke-miterlimit","4"),this.textSpans[d].span=L,F){var q=createNS("g");L.appendChild(q),this.textSpans[d].childSpan=q}this.textSpans[d].span=L,this.layerElement.appendChild(L)}L.style.display="inherit"}if(H.reset(),Q&&(A[d].n&&(x=-W,V+=g.yOffset,V+=G?1:0,G=!1),this.applyTextPropertiesToMatrix(g,H,A[d].line,x,V),x+=A[d].l||0,x+=W),F){var Y;if(1===(P=this.globalData.fontManager.getCharData(g.finalText[d],s.fStyle,this.globalData.fontManager.getFontByName(g.f).fFamily)).t)Y=new SVGCompElement(P.data,this.globalData,this);else{var J=emptyShapeData;P.data&&P.data.shapes&&(J=this.buildShapeData(P.data,g.finalSize)),Y=new SVGShapeElement(J,this.globalData,this)}if(this.textSpans[d].glyph){var ee=this.textSpans[d].glyph;this.textSpans[d].childSpan.removeChild(ee.layerElement),ee.destroy()}this.textSpans[d].glyph=Y,Y._debug=!0,Y.prepareFrame(0),Y.renderFrame(),this.textSpans[d].childSpan.appendChild(Y.layerElement),1===P.t&&this.textSpans[d].childSpan.setAttribute("transform","scale("+g.finalSize/100+","+g.finalSize/100+")")}else Q&&L.setAttribute("transform","translate("+H.props[12]+","+H.props[13]+")"),L.textContent=A[d].val,L.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Q&&L&&L.setAttribute("d","")}else{var X=this.textContainer,O="start";switch(g.j){case 1:O="end";break;case 2:O="middle";break;default:O="start"}X.setAttribute("text-anchor",O),X.setAttribute("letter-spacing",W);var U=this.buildTextContents(g.finalText);for(p=U.length,V=g.ps?g.ps[1]+g.ascent:0,d=0;d<p;d+=1)(L=this.textSpans[d].span||createNS("tspan")).textContent=U[d],L.setAttribute("x",0),L.setAttribute("y",V),L.style.display="inherit",X.appendChild(L),this.textSpans[d]||(this.textSpans[d]={span:null,glyph:null}),this.textSpans[d].span=L,V+=g.finalLineHeight;this.layerElement.appendChild(X)}for(;d<this.textSpans.length;)this.textSpans[d].span.style.display="none",d+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var d=this.layerElement.getBBox();this.bbox={top:d.y,left:d.x,width:d.width,height:d.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var d,g,p=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,d=0;d<p;d+=1)(g=this.textSpans[d].glyph)&&(g.prepareFrame(this.comp.renderedFrame-this.data.st),g._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var d,p,y,b,A,g=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(p=s.length,d=0;d<p;d+=1)s[d].n||(y=g[d],b=this.textSpans[d].span,(A=this.textSpans[d].glyph)&&A.renderFrame(),y._mdf.m&&b.setAttribute("transform",y.m),y._mdf.o&&b.setAttribute("opacity",y.o),y._mdf.sw&&b.setAttribute("stroke-width",y.sw),y._mdf.sc&&b.setAttribute("stroke",y.sc),y._mdf.fc&&b.setAttribute("fill",y.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var d=createNS("rect");d.setAttribute("width",this.data.sw),d.setAttribute("height",this.data.sh),d.setAttribute("fill",this.data.sc),this.layerElement.appendChild(d)},NullElement.prototype.prepareFrame=function(d){this.prepareProperties(d,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(d){return new NullElement(d,this.globalData,this)},SVGRendererBase.prototype.createShape=function(d){return new SVGShapeElement(d,this.globalData,this)},SVGRendererBase.prototype.createText=function(d){return new SVGTextLottieElement(d,this.globalData,this)},SVGRendererBase.prototype.createImage=function(d){return new IImageElement(d,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(d){return new ISolidElement(d,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(d){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+d.w+" "+d.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",d.w),this.svgElement.setAttribute("height",d.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var p=this.globalData.defs;this.setupGlobalData(d,p),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=d;var g=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",d.w),s.setAttribute("height",d.h),s.setAttribute("x",0),s.setAttribute("y",0);var y=createElementID();g.setAttribute("id",y),g.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")"),p.appendChild(g),this.layers=d.layers,this.elements=createSizedArray(d.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var d,p=this.layers?this.layers.length:0;for(d=0;d<p;d+=1)this.elements[d]&&this.elements[d].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(d){var p=this.elements;if(!p[d]&&99!==this.layers[d].ty){p[d]=!0;var g=this.createItem(this.layers[d]);p[d]=g,getExpressionsPlugin()&&(0===this.layers[d].ty&&this.globalData.projectInterface.registerComposition(g),g.initExpressions()),this.appendElementInPos(g,d),this.layers[d].tt&&(this.elements[d-1]&&!0!==this.elements[d-1]?g.setMatte(p[d-1].layerId):(this.buildItem(d-1),this.addPendingElement(g)))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var d=this.pendingElements.pop();if(d.checkParenting(),d.data.tt)for(var p=0,g=this.elements.length;p<g;){if(this.elements[p]===d){d.setMatte(this.elements[p-1].layerId);break}p+=1}}},SVGRendererBase.prototype.renderFrame=function(d){if(this.renderedFrame!==d&&!this.destroyed){null===d?d=this.renderedFrame:this.renderedFrame=d,this.globalData.frameNum=d,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=d,this.globalData._mdf=!1;var p,g=this.layers.length;for(this.completeLayers||this.checkLayers(d),p=g-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&this.elements[p].prepareFrame(d-this.layers[p].st);if(this.globalData._mdf)for(p=0;p<g;p+=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(d,p){var g=d.getBaseElement();if(g){for(var y,s=0;s<p;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(y=this.elements[s].getBaseElement()),s+=1;y?this.layerElement.insertBefore(g,y):this.layerElement.appendChild(g)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(d,p,g){this.initFrame(),this.initBaseData(d,p,g),this.initTransform(d,p,g),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!p.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(d){if(this._mdf=!1,this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=d/this.data.sr;else{var p=this.tm.v;p===this.data.op&&(p=this.data.op-1),this.renderedFrame=p}var g,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),g=s-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&(this.elements[g].prepareFrame(this.renderedFrame-this.layers[g].st),this.elements[g]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var d,p=this.layers.length;for(d=0;d<p;d+=1)(this.completeLayers||this.elements[d])&&this.elements[d].renderFrame()},ICompElement.prototype.setElements=function(d){this.elements=d},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var d,p=this.layers.length;for(d=0;d<p;d+=1)this.elements[d]&&this.elements[d].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(d){return new SVGCompElement(d,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(d){return new SVGCompElement(d,this.globalData,this)},CVContextData.prototype.duplicate=function(){var d=2*this._length,p=this.savedOp;this.savedOp=createTypedArray("float32",d),this.savedOp.set(p);var g=0;for(g=this._length;g<d;g+=1)this.saved[g]=createTypedArray("float32",16);this._length=d},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},ShapeTransformManager.prototype={addTransformSequence:function(p){var g,s=p.length,y="_";for(g=0;g<s;g+=1)y+=p[g].transform.key+"_";var b=this.sequences[y];return b||(b={transforms:[].concat(p),finalTransform:new Matrix,_mdf:!1},this.sequences[y]=b,this.sequenceList.push(b)),b},processSequence:function(p,g){for(var s=0,y=p.transforms.length,b=g;s<y&&!g;){if(p.transforms[s].transform.mProps._mdf){b=!0;break}s+=1}var A;if(b)for(p.finalTransform.reset(),s=y-1;s>=0;s-=1)p.finalTransform.transform((A=p.transforms[s].transform.mProps.v.props)[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15]);p._mdf=b},processSequences:function(p){var g,s=this.sequenceList.length;for(g=0;g<s;g+=1)this.processSequence(this.sequenceList[g],p)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var g,y,b,A,d=this.element.finalTransform.mat,p=this.element.canvasContext,s=this.masksProperties.length;for(p.beginPath(),g=0;g<s;g+=1)if("n"!==this.masksProperties[g].mode){this.masksProperties[g].inv&&(p.moveTo(0,0),p.lineTo(this.element.globalData.compSize.w,0),p.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),p.lineTo(0,this.element.globalData.compSize.h),p.lineTo(0,0)),y=d.applyToPointArray((A=this.viewData[g].v).v[0][0],A.v[0][1],0),p.moveTo(y[0],y[1]);var F,L=A._length;for(F=1;F<L;F+=1)b=d.applyToTriplePoints(A.o[F-1],A.i[F],A.v[F]),p.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);b=d.applyToTriplePoints(A.o[F-1],A.i[0],A.v[0]),p.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5])}this.element.globalData.renderer.save(!0),p.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var p=this.globalData;if(p.blendMode!==this.data.bm){p.blendMode=this.data.bm;var g=getBlendMode(this.data.bm);p.canvasContext.globalCompositeOperation=g}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var p=0===this.data.ty;this.globalData.renderer.save(p),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(p),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(d,p){var g={data:d,type:d.ty,preTransforms:this.transformsManager.addTransformSequence(p),transforms:[],elements:[],closed:!0===d.hd},s={};if("fl"===d.ty||"st"===d.ty?(s.c=PropertyFactory.getProp(this,d.c,1,255,this),s.c.k||(g.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):("gf"===d.ty||"gs"===d.ty)&&(s.s=PropertyFactory.getProp(this,d.s,1,null,this),s.e=PropertyFactory.getProp(this,d.e,1,null,this),s.h=PropertyFactory.getProp(this,d.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,d.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,d.g,this)),s.o=PropertyFactory.getProp(this,d.o,0,.01,this),"st"===d.ty||"gs"===d.ty){if(g.lc=lineCapEnum[d.lc||2],g.lj=lineJoinEnum[d.lj||2],1==d.lj&&(g.ml=d.ml),s.w=PropertyFactory.getProp(this,d.w,0,null,this),s.w.k||(g.wi=s.w.v),d.d){var y=new DashProperty(this,d.d,"canvas",this);s.d=y,s.d.k||(g.da=s.d.dashArray,g.do=s.d.dashoffset[0])}}else g.r=2===d.r?"evenodd":"nonzero";return this.stylesList.push(g),s.style=g,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(d){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,d.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,d,this)}}},CVShapeElement.prototype.createShapeElement=function(d){var p=new CVShapeData(this,d,this.stylesList,this.transformsManager);return this.shapes.push(p),this.addShapeToModifiers(p),p},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var d,p=this.itemsData.length;for(d=0;d<p;d+=1)this.prevViewData[d]=this.itemsData[d];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),p=this.dynamicProperties.length,d=0;d<p;d+=1)this.dynamicProperties[d].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(d){var p,g=this.stylesList.length;for(p=0;p<g;p+=1)this.stylesList[p].closed||this.stylesList[p].transforms.push(d)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var d,p=this.stylesList.length;for(d=0;d<p;d+=1)this.stylesList[d].closed||this.stylesList[d].transforms.pop()},CVShapeElement.prototype.closeStyles=function(d){var p,g=d.length;for(p=0;p<g;p+=1)d[p].closed=!0},CVShapeElement.prototype.searchShapes=function(d,p,g,s,y){var b,F,L,Q,x,V,A=d.length-1,H=[],j=[],G=[].concat(y);for(b=A;b>=0;b-=1){if((Q=this.searchProcessedElement(d[b]))?p[b]=g[Q-1]:d[b]._shouldRender=s,"fl"===d[b].ty||"st"===d[b].ty||"gf"===d[b].ty||"gs"===d[b].ty)Q?p[b].style.closed=!1:p[b]=this.createStyleElement(d[b],G),H.push(p[b].style);else if("gr"===d[b].ty){if(Q)for(L=p[b].it.length,F=0;F<L;F+=1)p[b].prevViewData[F]=p[b].it[F];else p[b]=this.createGroupElement(d[b]);this.searchShapes(d[b].it,p[b].it,p[b].prevViewData,s,G)}else"tr"===d[b].ty?(Q||(V=this.createTransformElement(d[b]),p[b]=V),G.push(p[b]),this.addTransformToStyleList(p[b])):"sh"===d[b].ty||"rc"===d[b].ty||"el"===d[b].ty||"sr"===d[b].ty?Q||(p[b]=this.createShapeElement(d[b])):"tm"===d[b].ty||"rd"===d[b].ty||"pb"===d[b].ty?(Q?(x=p[b]).closed=!1:((x=ShapeModifiers.getModifier(d[b].ty)).init(this,d[b]),p[b]=x,this.shapeModifiers.push(x)),j.push(x)):"rp"===d[b].ty&&(Q?(x=p[b]).closed=!0:(x=ShapeModifiers.getModifier(d[b].ty),p[b]=x,x.init(this,d,b,p),this.shapeModifiers.push(x),s=!1),j.push(x));this.addProcessedElement(d[b],b+1)}for(this.removeTransformFromStyleList(),this.closeStyles(H),A=j.length,b=0;b<A;b+=1)j[b].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(d,p){(d._opMdf||p.op._mdf||this._isFirstFrame)&&(p.opacity=d.opacity,p.opacity*=p.op.v,p._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var d,g,s,y,b,A,F,j,Q,p=this.stylesList.length,L=this.globalData.renderer,H=this.globalData.canvasContext;for(d=0;d<p;d+=1)if(("st"!==(j=(Q=this.stylesList[d]).type)&&"gs"!==j||0!==Q.wi)&&Q.data._shouldRender&&0!==Q.coOp&&0!==this.globalData.currentGlobalAlpha){for(L.save(),A=Q.elements,"st"===j||"gs"===j?(H.strokeStyle="st"===j?Q.co:Q.grd,H.lineWidth=Q.wi,H.lineCap=Q.lc,H.lineJoin=Q.lj,H.miterLimit=Q.ml||0):H.fillStyle="fl"===j?Q.co:Q.grd,L.ctxOpacity(Q.coOp),"st"!==j&&"gs"!==j&&H.beginPath(),L.ctxTransform(Q.preTransforms.finalTransform.props),s=A.length,g=0;g<s;g+=1){for(("st"===j||"gs"===j)&&(H.beginPath(),Q.da&&(H.setLineDash(Q.da),H.lineDashOffset=Q.do)),b=(F=A[g].trNodes).length,y=0;y<b;y+=1)"m"===F[y].t?H.moveTo(F[y].p[0],F[y].p[1]):"c"===F[y].t?H.bezierCurveTo(F[y].pts[0],F[y].pts[1],F[y].pts[2],F[y].pts[3],F[y].pts[4],F[y].pts[5]):H.closePath();("st"===j||"gs"===j)&&(H.stroke(),Q.da&&H.setLineDash(this.dashResetter))}"st"!==j&&"gs"!==j&&H.fill(Q.r),L.restore()}},CVShapeElement.prototype.renderShape=function(d,p,g,s){var y,A;for(A=d,y=p.length-1;y>=0;y-=1)"tr"===p[y].ty?this.renderShapeTransform(d,A=g[y].transform):"sh"===p[y].ty||"el"===p[y].ty||"rc"===p[y].ty||"sr"===p[y].ty?this.renderPath(p[y],g[y]):"fl"===p[y].ty?this.renderFill(p[y],g[y],A):"st"===p[y].ty?this.renderStroke(p[y],g[y],A):"gf"===p[y].ty||"gs"===p[y].ty?this.renderGradientFill(p[y],g[y],A):"gr"===p[y].ty&&this.renderShape(A,p[y].it,g[y].it);s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(d,p){if(this._isFirstFrame||p._mdf||d.transforms._mdf){var y,b,A,g=d.trNodes,s=p.paths,F=s._length;g.length=0;var L=d.transforms.finalTransform;for(A=0;A<F;A+=1){var H=s.shapes[A];if(H&&H.v){for(b=H._length,y=1;y<b;y+=1)1===y&&g.push({t:"m",p:L.applyToPointArray(H.v[0][0],H.v[0][1],0)}),g.push({t:"c",pts:L.applyToTriplePoints(H.o[y-1],H.i[y],H.v[y])});1===b&&g.push({t:"m",p:L.applyToPointArray(H.v[0][0],H.v[0][1],0)}),H.c&&b&&(g.push({t:"c",pts:L.applyToTriplePoints(H.o[y-1],H.i[0],H.v[0])}),g.push({t:"z"}))}}d.trNodes=g}},CVShapeElement.prototype.renderPath=function(d,p){if(!0!==d.hd&&d._shouldRender){var g,s=p.styledShapes.length;for(g=0;g<s;g+=1)this.renderStyledShape(p.styledShapes[g],p.sh)}},CVShapeElement.prototype.renderFill=function(d,p,g){var s=p.style;(p.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(p.c.v[0])+","+bmFloor(p.c.v[1])+","+bmFloor(p.c.v[2])+")"),(p.o._mdf||g._opMdf||this._isFirstFrame)&&(s.coOp=p.o.v*g.opacity)},CVShapeElement.prototype.renderGradientFill=function(d,p,g){var y,s=p.style;if(!s.grd||p.g._mdf||p.s._mdf||p.e._mdf||1!==d.t&&(p.h._mdf||p.a._mdf)){var b=this.globalData.canvasContext,A=p.s.v,F=p.e.v;if(1===d.t)y=b.createLinearGradient(A[0],A[1],F[0],F[1]);else{var L=Math.sqrt(Math.pow(A[0]-F[0],2)+Math.pow(A[1]-F[1],2)),H=Math.atan2(F[1]-A[1],F[0]-A[0]),j=p.h.v;j>=1?j=.99:j<=-1&&(j=-.99);var Q=L*j,x=Math.cos(H+p.a.v)*Q+A[0],V=Math.sin(H+p.a.v)*Q+A[1];y=b.createRadialGradient(x,V,0,A[0],A[1],L)}var G,W=d.g.p,X=p.g.c,O=1;for(G=0;G<W;G+=1)p.g._hasOpacity&&p.g._collapsable&&(O=p.g.o[2*G+1]),y.addColorStop(X[4*G]/100,"rgba("+X[4*G+1]+","+X[4*G+2]+","+X[4*G+3]+","+O+")");s.grd=y}s.coOp=p.o.v*g.opacity},CVShapeElement.prototype.renderStroke=function(d,p,g){var s=p.style,y=p.d;y&&(y._mdf||this._isFirstFrame)&&(s.da=y.dashArray,s.do=y.dashoffset[0]),(p.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(p.c.v[0])+","+bmFloor(p.c.v[1])+","+bmFloor(p.c.v[2])+")"),(p.o._mdf||g._opMdf||this._isFirstFrame)&&(s.coOp=p.o.v*g.opacity),(p.w._mdf||this._isFirstFrame)&&(s.wi=p.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var p=!1;d.fc?(p=!0,this.values.fill=this.buildColor(d.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=p;var g=!1;d.sc&&(g=!0,this.values.stroke=this.buildColor(d.sc),this.values.sWidth=d.sw);var y,b,s=this.globalData.fontManager.getFontByName(d.f),A=d.l,F=this.mHelper;this.stroke=g,this.values.fValue=d.finalSize+"px "+this.globalData.fontManager.getFontByName(d.f).fFamily,b=d.finalText.length;var L,H,j,Q,x,V,G,W,X,O,U=this.data.singleShape,N=.001*d.tr*d.finalSize,P=0,q=0,Y=!0,J=0;for(y=0;y<b;y+=1){H=(L=this.globalData.fontManager.getCharData(d.finalText[y],s.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily))&&L.data||{},F.reset(),U&&A[y].n&&(P=-N,q+=d.yOffset,q+=Y?1:0,Y=!1),G=(x=H.shapes?H.shapes[0].it:[]).length,F.scale(d.finalSize/100,d.finalSize/100),U&&this.applyTextPropertiesToMatrix(d,F,A[y].line,P,q),X=createSizedArray(G-1);var ee=0;for(V=0;V<G;V+=1)if("sh"===x[V].ty){for(Q=x[V].ks.k.i.length,W=x[V].ks.k,O=[],j=1;j<Q;j+=1)1===j&&O.push(F.applyToX(W.v[0][0],W.v[0][1],0),F.applyToY(W.v[0][0],W.v[0][1],0)),O.push(F.applyToX(W.o[j-1][0],W.o[j-1][1],0),F.applyToY(W.o[j-1][0],W.o[j-1][1],0),F.applyToX(W.i[j][0],W.i[j][1],0),F.applyToY(W.i[j][0],W.i[j][1],0),F.applyToX(W.v[j][0],W.v[j][1],0),F.applyToY(W.v[j][0],W.v[j][1],0));O.push(F.applyToX(W.o[j-1][0],W.o[j-1][1],0),F.applyToY(W.o[j-1][0],W.o[j-1][1],0),F.applyToX(W.i[0][0],W.i[0][1],0),F.applyToY(W.i[0][0],W.i[0][1],0),F.applyToX(W.v[0][0],W.v[0][1],0),F.applyToY(W.v[0][0],W.v[0][1],0)),X[ee]=O,ee+=1}U&&(P+=A[y].l,P+=N),this.textSpans[J]?this.textSpans[J].elem=X:this.textSpans[J]={elem:X},J+=1}},CVTextElement.prototype.renderInnerContent=function(){var d=this.canvasContext;d.font=this.values.fValue,d.lineCap="butt",d.lineJoin="miter",d.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var p,g,s,y,b,A,F=this.textAnimator.renderedLetters,L=this.textProperty.currentData.l;g=L.length;var H,V,G,j=null,Q=null,x=null;for(p=0;p<g;p+=1)if(!L[p].n){if((H=F[p])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(H.p),this.globalData.renderer.ctxOpacity(H.o)),this.fill){for(H&&H.fc?j!==H.fc&&(j=H.fc,d.fillStyle=H.fc):j!==this.values.fill&&(j=this.values.fill,d.fillStyle=this.values.fill),y=(V=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<y;s+=1)for(A=(G=V[s]).length,this.globalData.canvasContext.moveTo(G[0],G[1]),b=2;b<A;b+=6)this.globalData.canvasContext.bezierCurveTo(G[b],G[b+1],G[b+2],G[b+3],G[b+4],G[b+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(H&&H.sw?x!==H.sw&&(x=H.sw,d.lineWidth=H.sw):x!==this.values.sWidth&&(x=this.values.sWidth,d.lineWidth=this.values.sWidth),H&&H.sc?Q!==H.sc&&(Q=H.sc,d.strokeStyle=H.sc):Q!==this.values.stroke&&(Q=this.values.stroke,d.strokeStyle=this.values.stroke),y=(V=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<y;s+=1)for(A=(G=V[s]).length,this.globalData.canvasContext.moveTo(G[0],G[1]),b=2;b<A;b+=6)this.globalData.canvasContext.bezierCurveTo(G[b],G[b+1],G[b+2],G[b+3],G[b+4],G[b+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}H&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var d=createTag("canvas");d.width=this.assetData.w,d.height=this.assetData.h;var A,F,p=d.getContext("2d"),g=this.img.width,s=this.img.height,y=g/s,b=this.assetData.w/this.assetData.h,L=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;y>b&&"xMidYMid slice"===L||y<b&&"xMidYMid slice"!==L?A=(F=s)*b:F=(A=g)/b,p.drawImage(this.img,(g-A)/2,(s-F)/2,A,F,0,0,this.assetData.w,this.assetData.h),this.img=d}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var d=this.canvasContext;d.fillStyle=this.data.sc,d.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(d){return new CVShapeElement(d,this.globalData,this)},CanvasRendererBase.prototype.createText=function(d){return new CVTextElement(d,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(d){return new CVImageElement(d,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(d){return new CVSolidElement(d,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(d){if(1!==d[0]||0!==d[1]||0!==d[4]||1!==d[5]||0!==d[12]||0!==d[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(d[0],d[1],d[4],d[5],d[12],d[13]);this.transformMat.cloneFromProps(d);var p=this.contextData.cTr.props;this.transformMat.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var g=this.contextData.cTr.props;this.canvasContext.setTransform(g[0],g[1],g[4],g[5],g[12],g[13])}},CanvasRendererBase.prototype.ctxOpacity=function(d){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=d<0?0:d,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=d<0?0:d,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(d){if(this.renderConfig.clearCanvas){d&&this.canvasContext.save();var p=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var g,s=this.contextData.saved[this.contextData.cArrPos];for(g=0;g<16;g+=1)s[g]=p[g];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(d){if(this.renderConfig.clearCanvas){d&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var g,p=this.contextData.saved[this.contextData.cArrPos],s=this.contextData.cTr.props;for(g=0;g<16;g+=1)s[g]=p[g];this.canvasContext.setTransform(p[0],p[1],p[4],p[5],p[12],p[13]),this.contextData.cO=p=this.contextData.savedOp[this.contextData.cArrPos],this.globalData.currentGlobalAlpha!==p&&(this.canvasContext.globalAlpha=p,this.globalData.currentGlobalAlpha=p)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(d){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var p=this.animationItem.container.style;p.width="100%",p.height="100%";var g="0px 0px 0px";p.transformOrigin=g,p.mozTransformOrigin=g,p.webkitTransformOrigin=g,p["-webkit-transform"]=g,p.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=d,this.layers=d.layers,this.transformCanvas={w:d.w,h:d.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(d,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(d.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){var d,p,g,s;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(p=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",(d=this.animationItem.wrapper.offsetWidth)*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",p*this.renderConfig.dpr)):(d=this.canvasContext.canvas.width*this.renderConfig.dpr,p=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var y=this.renderConfig.preserveAspectRatio.split(" "),b=y[1]||"meet",A=y[0]||"xMidYMid",F=A.substr(0,4),L=A.substr(4);(s=this.transformCanvas.w/this.transformCanvas.h)>(g=d/p)&&"meet"===b||s<g&&"slice"===b?(this.transformCanvas.sx=d/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=d/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=p/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=p/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===F&&(s<g&&"meet"===b||s>g&&"slice"===b)?(d-this.transformCanvas.w*(p/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===F&&(s<g&&"meet"===b||s>g&&"slice"===b)?(d-this.transformCanvas.w*(p/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===L&&(s>g&&"meet"===b||s<g&&"slice"===b)?(p-this.transformCanvas.h*(d/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===L&&(s>g&&"meet"===b||s<g&&"slice"===b)?(p-this.transformCanvas.h*(d/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=d/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=p/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var d;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),d=(this.layers?this.layers.length:0)-1;d>=0;d-=1)this.elements[d]&&this.elements[d].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(d,p){if((this.renderedFrame!==d||!0!==this.renderConfig.clearCanvas||p)&&!this.destroyed&&-1!==d){this.renderedFrame=d,this.globalData.frameNum=d-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||p,this.globalData.projectInterface.currentFrame=d;var g,s=this.layers.length;for(this.completeLayers||this.checkLayers(d),g=0;g<s;g+=1)(this.completeLayers||this.elements[g])&&this.elements[g].prepareFrame(d-this.layers[g].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),g=s-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&this.elements[g].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(d){var p=this.elements;if(!p[d]&&99!==this.layers[d].ty){var g=this.createItem(this.layers[d],this,this.globalData);p[d]=g,g.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var p,d=this.canvasContext;for(d.beginPath(),d.moveTo(0,0),d.lineTo(this.data.w,0),d.lineTo(this.data.w,this.data.h),d.lineTo(0,this.data.h),d.lineTo(0,0),d.clip(),p=this.layers.length-1;p>=0;p-=1)(this.completeLayers||this.elements[p])&&this.elements[p].renderFrame()},CVCompElement.prototype.destroy=function(){var d;for(d=this.layers.length-1;d>=0;d-=1)this.elements[d]&&this.elements[d].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(d){return new CVCompElement(d,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(d){return new CVCompElement(d,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var p=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var g=this.finalTransform.mat.toCSS();p.transform=g,p.webkitTransform=g}this.finalTransform._opMdf&&(p.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var d;this.data.hasMask?((d=createNS("rect")).setAttribute("width",this.data.sw),d.setAttribute("height",this.data.sh),d.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((d=createTag("div")).style.width=this.data.sw+"px",d.style.height=this.data.sh+"px",d.style.backgroundColor=this.data.sc),this.layerElement.appendChild(d)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var d;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),d=this.svgElement;else{d=createNS("svg");var p=this.comp.data?this.comp.data:this.globalData.compSize;d.setAttribute("width",p.w),d.setAttribute("height",p.h),d.appendChild(this.shapesContainer),this.layerElement.appendChild(d)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=d},HShapeElement.prototype.getTransformedPoint=function(d,p){var g,s=d.length;for(g=0;g<s;g+=1)p=d[g].mProps.v.applyToPointArray(p[0],p[1],0);return p},HShapeElement.prototype.calculateShapeBoundingBox=function(d,p){var y,A,F,L,H,g=d.sh.v,s=d.transformers,b=g._length;if(!(b<=1)){for(y=0;y<b-1;y+=1)A=this.getTransformedPoint(s,g.v[y]),F=this.getTransformedPoint(s,g.o[y]),L=this.getTransformedPoint(s,g.i[y+1]),H=this.getTransformedPoint(s,g.v[y+1]),this.checkBounds(A,F,L,H,p);g.c&&(A=this.getTransformedPoint(s,g.v[y]),F=this.getTransformedPoint(s,g.o[y]),L=this.getTransformedPoint(s,g.i[0]),H=this.getTransformedPoint(s,g.v[0]),this.checkBounds(A,F,L,H,p))}},HShapeElement.prototype.checkBounds=function(d,p,g,s,y){this.getBoundsOfCurve(d,p,g,s);var b=this.shapeBoundingBox;y.x=bmMin(b.left,y.x),y.xMax=bmMax(b.right,y.xMax),y.y=bmMin(b.top,y.y),y.yMax=bmMax(b.bottom,y.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(d,p,g,s){for(var b,A,F,L,H,j,Q,y=[[d[0],s[0]],[d[1],s[1]]],x=0;x<2;++x)A=6*d[x]-12*p[x]+6*g[x],b=-3*d[x]+9*p[x]-9*g[x]+3*s[x],F=3*p[x]-3*d[x],A|=0,F|=0,0==(b|=0)&&0===A||(0===b?(L=-F/A)>0&&L<1&&y[x].push(this.calculateF(L,d,p,g,s,x)):(H=A*A-4*F*b)>=0&&((j=(-A+bmSqrt(H))/(2*b))>0&&j<1&&y[x].push(this.calculateF(j,d,p,g,s,x)),(Q=(-A-bmSqrt(H))/(2*b))>0&&Q<1&&y[x].push(this.calculateF(Q,d,p,g,s,x))));this.shapeBoundingBox.left=bmMin.apply(null,y[0]),this.shapeBoundingBox.top=bmMin.apply(null,y[1]),this.shapeBoundingBox.right=bmMax.apply(null,y[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,y[1])},HShapeElement.prototype.calculateF=function(d,p,g,s,y,b){return bmPow(1-d,3)*p[b]+3*bmPow(1-d,2)*d*g[b]+3*(1-d)*bmPow(d,2)*s[b]+bmPow(d,3)*y[b]},HShapeElement.prototype.calculateBoundingBox=function(d,p){var g,s=d.length;for(g=0;g<s;g+=1)d[g]&&d[g].sh?this.calculateShapeBoundingBox(d[g],p):d[g]&&d[g].it?this.calculateBoundingBox(d[g].it,p):d[g]&&d[g].style&&d[g].w&&this.expandStrokeBoundingBox(d[g].w,p)},HShapeElement.prototype.expandStrokeBoundingBox=function(d,p){var g=0;if(d.keyframes){for(var s=0;s<d.keyframes.length;s+=1){var y=d.keyframes[s].s;y>g&&(g=y)}g*=d.mult}else g=d.v*d.mult;p.x-=g,p.xMax+=g,p.y-=g,p.yMax+=g},HShapeElement.prototype.currentBoxContains=function(d){return this.currentBBox.x<=d.x&&this.currentBBox.y<=d.y&&this.currentBBox.width+this.currentBBox.x>=d.x+d.width&&this.currentBBox.height+this.currentBBox.y>=d.y+d.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var d=this.tempBoundingBox,p=999999;if(d.x=p,d.xMax=-p,d.y=p,d.yMax=-p,this.calculateBoundingBox(this.itemsData,d),d.width=d.xMax<d.x?0:d.xMax-d.x,d.height=d.yMax<d.y?0:d.yMax-d.y,this.currentBoxContains(d))return;var g=!1;if(this.currentBBox.w!==d.width&&(this.currentBBox.w=d.width,this.shapeCont.setAttribute("width",d.width),g=!0),this.currentBBox.h!==d.height&&(this.currentBBox.h=d.height,this.shapeCont.setAttribute("height",d.height),g=!0),g||this.currentBBox.x!==d.x||this.currentBBox.y!==d.y){this.currentBBox.w=d.width,this.currentBBox.h=d.height,this.currentBBox.x=d.x,this.currentBBox.y=d.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,y="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=y,s.webkitTransform=y}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var d=createNS("g");this.maskedElement.appendChild(d),this.innerElem=d}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var p=this.innerElem.style,g=d.fc?this.buildColor(d.fc):"rgba(0,0,0,0)";p.fill=g,p.color=g,d.sc&&(p.stroke=this.buildColor(d.sc),p.strokeWidth=d.sw+"px");var s=this.globalData.fontManager.getFontByName(d.f);if(!this.globalData.fontManager.chars)if(p.fontSize=d.finalSize+"px",p.lineHeight=d.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{p.fontFamily=s.fFamily;var y=d.fWeight;p.fontStyle=d.fStyle,p.fontWeight=y}var A,F,L=d.l;F=L.length;var H,j,Q,V,x=this.mHelper,G="",W=0;for(A=0;A<F;A+=1){if(this.globalData.fontManager.chars?(this.textPaths[W]?H=this.textPaths[W]:((H=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),H.setAttribute("stroke-linejoin",lineJoinEnum[2]),H.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[W]?Q=(j=this.textSpans[W]).children[0]:((j=createTag("div")).style.lineHeight=0,(Q=createNS("svg")).appendChild(H),styleDiv(j)))):this.isMasked?H=this.textPaths[W]?this.textPaths[W]:createNS("text"):this.textSpans[W]?(j=this.textSpans[W],H=this.textPaths[W]):(styleDiv(j=createTag("span")),styleDiv(H=createTag("span")),j.appendChild(H)),this.globalData.fontManager.chars){var O,X=this.globalData.fontManager.getCharData(d.finalText[A],s.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily);if(O=X?X.data:null,x.reset(),O&&O.shapes&&O.shapes.length&&(V=O.shapes[0].it,x.scale(d.finalSize/100,d.finalSize/100),G=this.createPathShape(x,V),H.setAttribute("d",G)),this.isMasked)this.innerElem.appendChild(H);else{if(this.innerElem.appendChild(j),O&&O.shapes){document.body.appendChild(Q);var U=Q.getBBox();Q.setAttribute("width",U.width+2),Q.setAttribute("height",U.height+2),Q.setAttribute("viewBox",U.x-1+" "+(U.y-1)+" "+(U.width+2)+" "+(U.height+2));var N=Q.style,P="translate("+(U.x-1)+"px,"+(U.y-1)+"px)";N.transform=P,N.webkitTransform=P,L[A].yOffset=U.y-1}else Q.setAttribute("width",1),Q.setAttribute("height",1);j.appendChild(Q)}}else if(H.textContent=L[A].val,H.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(H);else{this.innerElem.appendChild(j);var q=H.style,Y="translate3d(0,"+-d.finalSize/1.2+"px,0)";q.transform=Y,q.webkitTransform=Y}this.textSpans[W]=this.isMasked?H:j,this.textSpans[W].style.display="block",this.textPaths[W]=H,W+=1}for(;W<this.textSpans.length;)this.textSpans[W].style.display="none",W+=1},HTextElement.prototype.renderInnerContent=function(){var d;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var p="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(d=this.svgElement.style).transform=p,d.webkitTransform=p}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var g,s,F,L,H,y=0,b=this.textAnimator.renderedLetters,A=this.textProperty.currentData.l;for(s=A.length,g=0;g<s;g+=1)A[g].n?y+=1:(L=this.textSpans[g],H=this.textPaths[g],F=b[y],y+=1,F._mdf.m&&(this.isMasked?L.setAttribute("transform",F.m):(L.style.webkitTransform=F.m,L.style.transform=F.m)),L.style.opacity=F.o,F.sw&&F._mdf.sw&&H.setAttribute("stroke-width",F.sw),F.sc&&F._mdf.sc&&H.setAttribute("stroke",F.sc),F.fc&&F._mdf.fc&&(H.setAttribute("fill",F.fc),H.style.color=F.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var j=this.innerElem.getBBox();if(this.currentBBox.w!==j.width&&(this.currentBBox.w=j.width,this.svgElement.setAttribute("width",j.width)),this.currentBBox.h!==j.height&&(this.currentBBox.h=j.height,this.svgElement.setAttribute("height",j.height)),this.currentBBox.w!==j.width+2||this.currentBBox.h!==j.height+2||this.currentBBox.x!==j.x-1||this.currentBBox.y!==j.y-1){this.currentBBox.w=j.width+2,this.currentBBox.h=j.height+2,this.currentBBox.x=j.x-1,this.currentBBox.y=j.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var x="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(d=this.svgElement.style).transform=x,d.webkitTransform=x}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var d,g,s,y,p=this.comp.threeDElements.length;for(d=0;d<p;d+=1)if("3d"===(g=this.comp.threeDElements[d]).type){y=g.container.style;var b=this.pe.v+"px",A="0px 0px 0px",F="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=g.perspectiveElem.style).perspective=b,s.webkitPerspective=b,y.transformOrigin=A,y.mozTransformOrigin=A,y.webkitTransformOrigin=A,s.transform=F,s.webkitTransform=F}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var p,g,d=this._isFirstFrame;if(this.hierarchy)for(g=this.hierarchy.length,p=0;p<g;p+=1)d=this.hierarchy[p].finalTransform.mProp._mdf||d;if(d||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(p=g=this.hierarchy.length-1;p>=0;p-=1){var s=this.hierarchy[p].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var y;y=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var b=Math.sqrt(Math.pow(y[0],2)+Math.pow(y[1],2)+Math.pow(y[2],2)),A=[y[0]/b,y[1]/b,y[2]/b],F=Math.sqrt(A[2]*A[2]+A[0]*A[0]),L=Math.atan2(A[1],F),H=Math.atan2(A[0],-A[2]);this.mat.rotateY(H).rotateX(-L)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var j=!this._prevMat.equals(this.mat);if((j||this.pe._mdf)&&this.comp.threeDElements){var Q,x,V;for(g=this.comp.threeDElements.length,p=0;p<g;p+=1)if("3d"===(Q=this.comp.threeDElements[p]).type){if(j){var G=this.mat.toCSS();(V=Q.container.style).transform=G,V.webkitTransform=G}this.pe._mdf&&((x=Q.perspectiveElem.style).perspective=this.pe.v+"px",x.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(d){this.prepareProperties(d,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var d=this.globalData.getAssetsPath(this.assetData),p=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",d),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(p),p.crossOrigin="anonymous",p.src=d,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(d,p){var g=d.getBaseElement();if(g){var s=this.layers[p];if(s.ddd&&this.supports3d)this.addTo3dContainer(g,p);else if(this.threeDElements)this.addTo3dContainer(g,p);else{for(var b,A,y=0;y<p;)this.elements[y]&&!0!==this.elements[y]&&this.elements[y].getBaseElement&&(A=this.elements[y],b=(this.layers[y].ddd?this.getThreeDContainerByPos(y):A.getBaseElement())||b),y+=1;b?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(g,b):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(g)}}},HybridRendererBase.prototype.createShape=function(d){return this.supports3d?new HShapeElement(d,this.globalData,this):new SVGShapeElement(d,this.globalData,this)},HybridRendererBase.prototype.createText=function(d){return this.supports3d?new HTextElement(d,this.globalData,this):new SVGTextLottieElement(d,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(d){return this.camera=new HCameraElement(d,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(d){return this.supports3d?new HImageElement(d,this.globalData,this):new IImageElement(d,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(d){return this.supports3d?new HSolidElement(d,this.globalData,this):new ISolidElement(d,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(d){for(var p=0,g=this.threeDElements.length;p<g;){if(this.threeDElements[p].startPos<=d&&this.threeDElements[p].endPos>=d)return this.threeDElements[p].perspectiveElem;p+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(d,p){var s,y,g=createTag("div");styleDiv(g);var b=createTag("div");if(styleDiv(b),"3d"===p){(s=g.style).width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var A="50% 50%";s.webkitTransformOrigin=A,s.mozTransformOrigin=A,s.transformOrigin=A;var F="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(y=b.style).transform=F,y.webkitTransform=F}g.appendChild(b);var L={container:b,perspectiveElem:g,startPos:d,endPos:d,type:p};return this.threeDElements.push(L),L},HybridRendererBase.prototype.build3dContainers=function(){var d,g,p=this.layers.length,s="";for(d=0;d<p;d+=1)this.layers[d].ddd&&3!==this.layers[d].ty?("3d"!==s&&(s="3d",g=this.createThreeDContainer(d,"3d")),g.endPos=Math.max(g.endPos,d)):("2d"!==s&&(s="2d",g=this.createThreeDContainer(d,"2d")),g.endPos=Math.max(g.endPos,d));for(d=(p=this.threeDElements.length)-1;d>=0;d-=1)this.resizerElem.appendChild(this.threeDElements[d].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(d,p){for(var g=0,s=this.threeDElements.length;g<s;){if(p<=this.threeDElements[g].endPos){for(var b,y=this.threeDElements[g].startPos;y<p;)this.elements[y]&&this.elements[y].getBaseElement&&(b=this.elements[y].getBaseElement()),y+=1;b?this.threeDElements[g].container.insertBefore(d,b):this.threeDElements[g].container.appendChild(d);break}g+=1}},HybridRendererBase.prototype.configAnimation=function(d){var p=createTag("div"),g=this.animationItem.wrapper,s=p.style;s.width=d.w+"px",s.height=d.h+"px",this.resizerElem=p,styleDiv(p),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&p.setAttribute("class",this.renderConfig.className),g.appendChild(p),s.overflow="hidden";var y=createNS("svg");y.setAttribute("width","1"),y.setAttribute("height","1"),styleDiv(y),this.resizerElem.appendChild(y);var b=createNS("defs");y.appendChild(b),this.data=d,this.setupGlobalData(d,y),this.globalData.defs=b,this.layers=d.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var d,p=this.layers?this.layers.length:0;for(d=0;d<p;d+=1)this.elements[d].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var y,b,A,F,d=this.animationItem.wrapper.offsetWidth,p=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>d/p?(y=d/this.globalData.compSize.w,b=d/this.globalData.compSize.w,A=0,F=(p-this.globalData.compSize.h*(d/this.globalData.compSize.w))/2):(y=p/this.globalData.compSize.h,b=p/this.globalData.compSize.h,A=(d-this.globalData.compSize.w*(p/this.globalData.compSize.h))/2,F=0);var L=this.resizerElem.style;L.webkitTransform="matrix3d("+y+",0,0,0,0,"+b+",0,0,0,0,1,0,"+A+","+F+",0,1)",L.transform=L.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var g,d=this.globalData.compSize.w,p=this.globalData.compSize.h,s=this.threeDElements.length;for(g=0;g<s;g+=1){var y=this.threeDElements[g].perspectiveElem.style;y.webkitPerspective=Math.sqrt(Math.pow(d,2)+Math.pow(p,2))+"px",y.perspective=y.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(d){var p,g=d.length,s=createTag("div");for(p=0;p<g;p+=1)if(d[p].xt){var y=this.createComp(d[p],s,this.globalData.comp,null);y.initExpressions(),this.globalData.projectInterface.registerComposition(y)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(d,p){for(var s,g=0;g<p;)this.elements[g]&&this.elements[g].getBaseElement&&(s=this.elements[g].getBaseElement()),g+=1;s?this.layerElement.insertBefore(d,s):this.layerElement.appendChild(d)},HCompElement.prototype.createComp=function(d){return this.supports3d?new HCompElement(d,this.globalData,this):new SVGCompElement(d,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(d){return this.supports3d?new HCompElement(d,this.globalData,this):new SVGCompElement(d,this.globalData,this)};var Expressions=function(){var d={initExpressions:function p(g){var s=0,y=[];g.renderer.compInterface=CompExpressionInterface(g.renderer),g.renderer.globalData.projectInterface.registerComposition(g.renderer),g.renderer.globalData.pushExpression=function b(){s+=1},g.renderer.globalData.popExpression=function A(){0==(s-=1)&&function L(){var H,j=y.length;for(H=0;H<j;H+=1)y[H].release();y.length=0}()},g.renderer.globalData.registerExpressionProperty=function F(H){-1===y.indexOf(H)&&y.push(H)}}};return d}();function _typeof$1(d){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}function seedRandom(d,p){var g=this,s=256,A="random",F=p.pow(s,6),L=p.pow(2,52),H=2*L,j=255;function V(N){var P,q=N.length,Y=this,J=0,ee=Y.i=Y.j=0,fe=Y.S=[];for(q||(N=[q++]);J<s;)fe[J]=J++;for(J=0;J<s;J++)fe[J]=fe[ee=j&ee+N[J%q]+(P=fe[J])],fe[ee]=P;Y.g=function(we){for(var le,pe=0,ye=Y.i,me=Y.j,de=Y.S;we--;)le=de[ye=j&ye+1],pe=pe*s+de[j&(de[ye]=de[me=j&me+le])+(de[me]=le)];return Y.i=ye,Y.j=me,pe}}function G(N,P){return P.i=N.i,P.j=N.j,P.S=N.S.slice(),P}function W(N,P){var J,q=[],Y=_typeof$1(N);if(P&&"object"==Y)for(J in N)try{q.push(W(N[J],P-1))}catch{}return q.length?q:"string"==Y?N:N+"\0"}function X(N,P){for(var Y,q=N+"",J=0;J<q.length;)P[j&J]=j&(Y^=19*P[j&J])+q.charCodeAt(J++);return U(P)}function U(N){return String.fromCharCode.apply(0,N)}p["seed"+A]=function x(N,P,q){var Y=[],J=X(W((P=!0===P?{entropy:!0}:P||{}).entropy?[N,U(d)]:null===N?function O(){try{var N=new Uint8Array(s);return(g.crypto||g.msCrypto).getRandomValues(N),U(N)}catch{var P=g.navigator,q=P&&P.plugins;return[+new Date,g,q,g.screen,U(d)]}}():N,3),Y),ee=new V(Y),fe=function(){for(var le=ee.g(6),pe=F,ye=0;le<L;)le=(le+ye)*s,pe*=s,ye=ee.g(1);for(;le>=H;)le/=2,pe/=2,ye>>>=1;return(le+ye)/pe};return fe.int32=function(){return 0|ee.g(4)},fe.quick=function(){return ee.g(4)/4294967296},fe.double=fe,X(U(ee.S),d),(P.pass||q||function(we,le,pe,ye){return ye&&(ye.S&&G(ye,ee),we.state=function(){return G(ee,{})}),pe?(p[A]=we,le):we})(fe,J,"global"in P?P.global:this==p,P.state)},X(p.random(),d)}function initialize$2(d){seedRandom([],d)}var propTypes={SHAPE:"shape"};function _typeof(d){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(d)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(d){return d.constructor===Array||d.constructor===Float32Array}function isNumerable(d,p){return"number"===d||"boolean"===d||"string"===d||p instanceof Number}function $bm_neg(d){var p=_typeof(d);if("number"===p||"boolean"===p||d instanceof Number)return-d;if($bm_isInstanceOfArray(d)){var g,s=d.length,y=[];for(g=0;g<s;g+=1)y[g]=-d[g];return y}return d.propType?d.v:-d}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(d,p){var g=_typeof(d),s=_typeof(p);if("string"===g||"string"===s||isNumerable(g,d)&&isNumerable(s,p))return d+p;if($bm_isInstanceOfArray(d)&&isNumerable(s,p))return(d=d.slice(0))[0]+=p,d;if(isNumerable(g,d)&&$bm_isInstanceOfArray(p))return(p=p.slice(0))[0]=d+p[0],p;if($bm_isInstanceOfArray(d)&&$bm_isInstanceOfArray(p)){for(var y=0,b=d.length,A=p.length,F=[];y<b||y<A;)F[y]=("number"==typeof d[y]||d[y]instanceof Number)&&("number"==typeof p[y]||p[y]instanceof Number)?d[y]+p[y]:void 0===p[y]?d[y]:d[y]||p[y],y+=1;return F}return 0}var add=sum;function sub(d,p){var g=_typeof(d),s=_typeof(p);if(isNumerable(g,d)&&isNumerable(s,p))return"string"===g&&(d=parseInt(d,10)),"string"===s&&(p=parseInt(p,10)),d-p;if($bm_isInstanceOfArray(d)&&isNumerable(s,p))return(d=d.slice(0))[0]-=p,d;if(isNumerable(g,d)&&$bm_isInstanceOfArray(p))return(p=p.slice(0))[0]=d-p[0],p;if($bm_isInstanceOfArray(d)&&$bm_isInstanceOfArray(p)){for(var y=0,b=d.length,A=p.length,F=[];y<b||y<A;)F[y]=("number"==typeof d[y]||d[y]instanceof Number)&&("number"==typeof p[y]||p[y]instanceof Number)?d[y]-p[y]:void 0===p[y]?d[y]:d[y]||p[y],y+=1;return F}return 0}function mul(d,p){var y,b,A,g=_typeof(d),s=_typeof(p);if(isNumerable(g,d)&&isNumerable(s,p))return d*p;if($bm_isInstanceOfArray(d)&&isNumerable(s,p)){for(y=createTypedArray("float32",A=d.length),b=0;b<A;b+=1)y[b]=d[b]*p;return y}if(isNumerable(g,d)&&$bm_isInstanceOfArray(p)){for(y=createTypedArray("float32",A=p.length),b=0;b<A;b+=1)y[b]=d*p[b];return y}return 0}function div(d,p){var y,b,A,g=_typeof(d),s=_typeof(p);if(isNumerable(g,d)&&isNumerable(s,p))return d/p;if($bm_isInstanceOfArray(d)&&isNumerable(s,p)){for(y=createTypedArray("float32",A=d.length),b=0;b<A;b+=1)y[b]=d[b]/p;return y}if(isNumerable(g,d)&&$bm_isInstanceOfArray(p)){for(y=createTypedArray("float32",A=p.length),b=0;b<A;b+=1)y[b]=d/p[b];return y}return 0}function mod(d,p){return"string"==typeof d&&(d=parseInt(d,10)),"string"==typeof p&&(p=parseInt(p,10)),d%p}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(d,p,g){if(p>g){var s=g;g=p,p=s}return Math.min(Math.max(d,p),g)}function radiansToDegrees(d){return d/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(d){return d*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(d,p){if("number"==typeof d||d instanceof Number)return Math.abs(d-(p=p||0));p||(p=helperLengthArray);var g,s=Math.min(d.length,p.length),y=0;for(g=0;g<s;g+=1)y+=Math.pow(p[g]-d[g],2);return Math.sqrt(y)}function normalize(d){return div(d,length(d))}function rgbToHsl(d){var A,F,p=d[0],g=d[1],s=d[2],y=Math.max(p,g,s),b=Math.min(p,g,s),L=(y+b)/2;if(y===b)A=0,F=0;else{var H=y-b;switch(F=L>.5?H/(2-y-b):H/(y+b),y){case p:A=(g-s)/H+(g<s?6:0);break;case g:A=(s-p)/H+2;break;case s:A=(p-g)/H+4}A/=6}return[A,F,L,d[3]]}function hue2rgb(d,p,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+6*(p-d)*g:g<.5?p:g<2/3?d+(p-d)*(2/3-g)*6:d}function hslToRgb(d){var y,b,A,p=d[0],g=d[1],s=d[2];if(0===g)y=s,A=s,b=s;else{var F=s<.5?s*(1+g):s+g-s*g,L=2*s-F;y=hue2rgb(L,F,p+1/3),b=hue2rgb(L,F,p),A=hue2rgb(L,F,p-1/3)}return[y,b,A,d[3]]}function linear(d,p,g,s,y){if((void 0===s||void 0===y)&&(s=p,y=g,p=0,g=1),g<p){var b=g;g=p,p=b}if(d<=p)return s;if(d>=g)return y;var A=g===p?0:(d-p)/(g-p);if(!s.length)return s+(y-s)*A;var F,L=s.length,H=createTypedArray("float32",L);for(F=0;F<L;F+=1)H[F]=s[F]+(y[F]-s[F])*A;return H}function random(d,p){if(void 0===p&&(void 0===d?(d=0,p=1):(p=d,d=void 0)),p.length){var g,s=p.length;d||(d=createTypedArray("float32",s));var y=createTypedArray("float32",s),b=BMMath.random();for(g=0;g<s;g+=1)y[g]=d[g]+b*(p[g]-d[g]);return y}return void 0===d&&(d=0),d+BMMath.random()*(p-d)}function createPath(d,p,g,s){var y,b=d.length,A=shapePool.newElement();A.setPathData(!!s,b);var L,H,F=[0,0];for(y=0;y<b;y+=1)A.setTripleAt(d[y][0],d[y][1],(H=g&&g[y]?g[y]:F)[0]+d[y][0],H[1]+d[y][1],(L=p&&p[y]?p[y]:F)[0]+d[y][0],L[1]+d[y][1],y,!0);return A}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function d(p,g){var s,y,b=this.pv.length?this.pv.length:1,A=createTypedArray("float32",b),F=Math.floor(5*time);for(s=0,y=0;s<F;){for(y=0;y<b;y+=1)A[y]+=-g+2*g*BMMath.random();s+=1}var L=5*time,H=L-Math.floor(L),j=createTypedArray("float32",b);if(b>1){for(y=0;y<b;y+=1)j[y]=this.pv[y]+A[y]+(-g+2*g*BMMath.random())*H;return j}return this.pv+A[0]+(-g+2*g*BMMath.random())*H}.bind(this);function loopInDuration(d,p){return loopIn(d,p,!0)}function loopOutDuration(d,p){return loopOut(d,p,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(d,p){var g=[p[0]-d[0],p[1]-d[1],p[2]-d[2]],s=Math.atan2(g[0],Math.sqrt(g[1]*g[1]+g[2]*g[2]))/degToRads;return[-Math.atan2(g[1],g[2])/degToRads,s,0]}function easeOut(d,p,g,s,y){return applyEase(easeOutBez,d,p,g,s,y)}function easeIn(d,p,g,s,y){return applyEase(easeInBez,d,p,g,s,y)}function ease(d,p,g,s,y){return applyEase(easeInOutBez,d,p,g,s,y)}function applyEase(d,p,g,s,y,b){void 0===y?(y=g,b=s):p=(p-g)/(s-g),p>1?p=1:p<0&&(p=0);var A=d(p);if($bm_isInstanceOfArray(y)){var F,L=y.length,H=createTypedArray("float32",L);for(F=0;F<L;F+=1)H[F]=(b[F]-y[F])*A+y[F];return H}return(b-y)*A+y}function nearestKey(d){var p,s,y,g=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(s=-1,(d*=elem.comp.globalData.frameRate)<data.k[0].t)s=1,y=data.k[0].t;else{for(p=0;p<g-1;p+=1){if(d===data.k[p].t){s=p+1,y=data.k[p].t;break}if(d>data.k[p].t&&d<data.k[p+1].t){d-data.k[p].t>data.k[p+1].t-d?(s=p+2,y=data.k[p+1].t):(s=p+1,y=data.k[p].t);break}}-1===s&&(s=p+1,y=data.k[p].t)}else s=0,y=0;var b={};return b.index=s,b.time=y/elem.comp.globalData.frameRate,b}function key(d){var p,g,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+d);p={time:data.k[d-=1].t/elem.comp.globalData.frameRate,value:[]};var y=Object.prototype.hasOwnProperty.call(data.k[d],"s")?data.k[d].s:data.k[d-1].e;for(s=y.length,g=0;g<s;g+=1)p[g]=y[g],p.value[g]=y[g];return p}function framesToTime(d,p){return p||(p=elem.comp.globalData.frameRate),d/p}function timeToFrames(d,p){return!d&&0!==d&&(d=time),p||(p=elem.comp.globalData.frameRate),d*p}function seedRandom(d){BMMath.seedrandom(randSeed+d)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(d,p){return"string"==typeof value?void 0===p?value.substring(d):value.substring(d,p):""}function substr(d,p){return"string"==typeof value?void 0===p?value.substr(d):value.substr(d,p):""}function posterizeTime(d){time=0===d?0:Math.floor(time*d)/d,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(d){return value=d,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function d(A,F,L){F.x&&(L.k=!0,L.x=!0,L.initiateExpression=ExpressionManager.initiateExpression,L.effectsSequence.push(L.initiateExpression(A,F,L).bind(L)))},getSpeedAtTime:function g(A){var L=this.getValueAtTime(A),H=this.getValueAtTime(A+-.01),j=0;if(L.length){var Q;for(Q=0;Q<L.length;Q+=1)j+=Math.pow(H[Q]-L[Q],2);j=100*Math.sqrt(j)}else j=0;return j},getVelocityAtTime:function s(A){if(void 0!==this.vel)return this.vel;var j,Q,F=-.001,L=this.getValueAtTime(A),H=this.getValueAtTime(A+F);if(L.length)for(j=createTypedArray("float32",L.length),Q=0;Q<L.length;Q+=1)j[Q]=(H[Q]-L[Q])/F;else j=(H-L)/F;return j},getValueAtTime:function p(A){return A*=this.elem.globalData.frameRate,(A-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<A?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(A,this._cachingAtTime),this._cachingAtTime.lastFrame=A),this._cachingAtTime.value},getStaticValueAtTime:function y(){return this.pv},setGroupProperty:function b(A){this.propertyGroup=A}};function addPropertyDecorator(){function d(x,V,G){if(!this.k||!this.keyframes)return this.pv;x=x?x.toLowerCase():"";var U,N,P,q,Y,W=this.comp.renderedFrame,X=this.keyframes,O=X[X.length-1].t;if(W<=O)return this.pv;if(G?N=O-(U=V?Math.abs(O-this.elem.comp.globalData.frameRate*V):Math.max(0,O-this.elem.data.ip)):((!V||V>X.length-1)&&(V=X.length-1),U=O-(N=X[X.length-1-V].t)),"pingpong"===x){if(Math.floor((W-N)/U)%2!=0)return this.getValueAtTime((U-(W-N)%U+N)/this.comp.globalData.frameRate,0)}else{if("offset"===x){var ee=this.getValueAtTime(N/this.comp.globalData.frameRate,0),fe=this.getValueAtTime(O/this.comp.globalData.frameRate,0),we=this.getValueAtTime(((W-N)%U+N)/this.comp.globalData.frameRate,0),le=Math.floor((W-N)/U);if(this.pv.length){for(q=(Y=new Array(ee.length)).length,P=0;P<q;P+=1)Y[P]=(fe[P]-ee[P])*le+we[P];return Y}return(fe-ee)*le+we}if("continue"===x){var pe=this.getValueAtTime(O/this.comp.globalData.frameRate,0),ye=this.getValueAtTime((O-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(q=(Y=new Array(pe.length)).length,P=0;P<q;P+=1)Y[P]=pe[P]+(W-O)/this.comp.globalData.frameRate*(pe[P]-ye[P])/5e-4;return Y}return pe+(W-O)/.001*(pe-ye)}}return this.getValueAtTime(((W-N)%U+N)/this.comp.globalData.frameRate,0)}function p(x,V,G){if(!this.k)return this.pv;x=x?x.toLowerCase():"";var U,N,P,q,Y,W=this.comp.renderedFrame,X=this.keyframes,O=X[0].t;if(W>=O)return this.pv;if(G?N=O+(U=V?Math.abs(this.elem.comp.globalData.frameRate*V):Math.max(0,this.elem.data.op-O)):((!V||V>X.length-1)&&(V=X.length-1),U=(N=X[V].t)-O),"pingpong"===x){if(Math.floor((O-W)/U)%2==0)return this.getValueAtTime(((O-W)%U+O)/this.comp.globalData.frameRate,0)}else{if("offset"===x){var ee=this.getValueAtTime(O/this.comp.globalData.frameRate,0),fe=this.getValueAtTime(N/this.comp.globalData.frameRate,0),we=this.getValueAtTime((U-(O-W)%U+O)/this.comp.globalData.frameRate,0),le=Math.floor((O-W)/U)+1;if(this.pv.length){for(q=(Y=new Array(ee.length)).length,P=0;P<q;P+=1)Y[P]=we[P]-(fe[P]-ee[P])*le;return Y}return we-(fe-ee)*le}if("continue"===x){var pe=this.getValueAtTime(O/this.comp.globalData.frameRate,0),ye=this.getValueAtTime((O+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(q=(Y=new Array(pe.length)).length,P=0;P<q;P+=1)Y[P]=pe[P]+(pe[P]-ye[P])*(O-W)/.001;return Y}return pe+(pe-ye)*(O-W)/.001}}return this.getValueAtTime((U-((O-W)%U+O))/this.comp.globalData.frameRate,0)}function g(x,V){if(!this.k)return this.pv;if(x=.5*(x||.4),(V=Math.floor(V||5))<=1)return this.pv;var P,q,G=this.comp.renderedFrame/this.comp.globalData.frameRate,W=G-x,O=V>1?(G+x-W)/(V-1):1,U=0,N=0;for(P=this.pv.length?createTypedArray("float32",this.pv.length):0;U<V;){if(q=this.getValueAtTime(W+U*O),this.pv.length)for(N=0;N<this.pv.length;N+=1)P[N]+=q[N];else P+=q;U+=1}if(this.pv.length)for(N=0;N<this.pv.length;N+=1)P[N]/=V;else P/=V;return P}function s(x){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var V=this._transformCachingAtTime.v;if(V.cloneFromProps(this.pre.props),this.appliedTransformations<1){var G=this.a.getValueAtTime(x);V.translate(-G[0]*this.a.mult,-G[1]*this.a.mult,G[2]*this.a.mult)}if(this.appliedTransformations<2){var W=this.s.getValueAtTime(x);V.scale(W[0]*this.s.mult,W[1]*this.s.mult,W[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var X=this.sk.getValueAtTime(x),O=this.sa.getValueAtTime(x);V.skewFromAxis(-X*this.sk.mult,O*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var U=this.r.getValueAtTime(x);V.rotate(-U*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var N=this.rz.getValueAtTime(x),P=this.ry.getValueAtTime(x),q=this.rx.getValueAtTime(x),Y=this.or.getValueAtTime(x);V.rotateZ(-N*this.rz.mult).rotateY(P*this.ry.mult).rotateX(q*this.rx.mult).rotateZ(-Y[2]*this.or.mult).rotateY(Y[1]*this.or.mult).rotateX(Y[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var J=this.px.getValueAtTime(x),ee=this.py.getValueAtTime(x);if(this.data.p.z){var fe=this.pz.getValueAtTime(x);V.translate(J*this.px.mult,ee*this.py.mult,-fe*this.pz.mult)}else V.translate(J*this.px.mult,ee*this.py.mult,0)}else{var we=this.p.getValueAtTime(x);V.translate(we[0]*this.p.mult,we[1]*this.p.mult,-we[2]*this.p.mult)}return V}function y(){return this.v.clone(new Matrix)}var b=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(x,V,G){var W=b(x,V,G);return W.getValueAtTime=W.dynamicProperties.length?s.bind(W):y.bind(W),W.setGroupProperty=expressionHelpers.setGroupProperty,W};var A=PropertyFactory.getProp;PropertyFactory.getProp=function(x,V,G,W,X){var O=A(x,V,G,W,X);O.getValueAtTime=O.kf?expressionHelpers.getValueAtTime.bind(O):expressionHelpers.getStaticValueAtTime.bind(O),O.setGroupProperty=expressionHelpers.setGroupProperty,O.loopOut=d,O.loopIn=p,O.smooth=g,O.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(O),O.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(O),O.numKeys=1===V.a?V.k.length:0,O.propertyIndex=V.ix;var U=0;return 0!==G&&(U=createTypedArray("float32",1===V.a?V.k[0].s.length:V.k.length)),O._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:U},expressionHelpers.searchExpressions(x,V,O),O.k&&X.addDynamicProperty(O),O};var L=ShapePropertyFactory.getConstructorFunction(),H=ShapePropertyFactory.getKeyframedConstructorFunction();function j(){}j.prototype={vertices:function(V,G){this.k&&this.getValue();var W=this.v;void 0!==G&&(W=this.getValueAtTime(G,0));var X,O=W._length,U=W[V],N=W.v,P=createSizedArray(O);for(X=0;X<O;X+=1)P[X]="i"===V||"o"===V?[U[X][0]-N[X][0],U[X][1]-N[X][1]]:[U[X][0],U[X][1]];return P},points:function(V){return this.vertices("v",V)},inTangents:function(V){return this.vertices("i",V)},outTangents:function(V){return this.vertices("o",V)},isClosed:function(){return this.v.c},pointOnPath:function(V,G){var W=this.v;void 0!==G&&(W=this.getValueAtTime(G,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(W));for(var Y,X=this._segmentsLength,O=X.lengths,U=X.totalLength*V,N=0,P=O.length,q=0;N<P;){if(q+O[N].addedLength>U){var ee=W.c&&N===P-1?0:N+1;Y=bez.getPointInSegment(W.v[N],W.v[ee],W.o[N],W.i[ee],(U-q)/O[N].addedLength,O[N]);break}q+=O[N].addedLength,N+=1}return Y||(Y=W.c?[W.v[0][0],W.v[0][1]]:[W.v[W._length-1][0],W.v[W._length-1][1]]),Y},vectorOnPath:function(V,G,W){1==V?V=this.v.c:0==V&&(V=.999);var X=this.pointOnPath(V,G),O=this.pointOnPath(V+.001,G),U=O[0]-X[0],N=O[1]-X[1],P=Math.sqrt(Math.pow(U,2)+Math.pow(N,2));return 0===P?[0,0]:"tangent"===W?[U/P,N/P]:[-N/P,U/P]},tangentOnPath:function(V,G){return this.vectorOnPath(V,G,"tangent")},normalOnPath:function(V,G){return this.vectorOnPath(V,G,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([j],L),extendPrototype([j],H),H.prototype.getValueAtTime=function F(x){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),x*=this.elem.globalData.frameRate,(x-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<x?this._caching.lastIndex:0,this._cachingAtTime.lastTime=x,this.interpolateShape(x,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},H.prototype.initiateExpression=ExpressionManager.initiateExpression;var Q=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(x,V,G,W,X){var O=Q(x,V,G,W,X);return O.propertyIndex=V.ix,O.lock=!1,3===G?expressionHelpers.searchExpressions(x,V.pt,O):4===G&&expressionHelpers.searchExpressions(x,V.ks,O),O.k&&x.addDynamicProperty(O),O}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(p,g){var s=this.calculateExpression(g);if(p.t!==s){var y={};return this.copyData(y,p),y.t=s.toString(),y.__complete=!1,y}return p},TextProperty.prototype.searchProperty=function(){var p=this.searchKeyframes(),g=this.searchExpressions();return this.kf=p||g,this.kf},TextProperty.prototype.searchExpressions=function d(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}function SVGTintFilter(d,p,g,s,y){this.filterManager=p;var b=createNS("feColorMatrix");b.setAttribute("type","matrix"),b.setAttribute("color-interpolation-filters","linearRGB"),b.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),b.setAttribute("result",s+"_tint_1"),d.appendChild(b),(b=createNS("feColorMatrix")).setAttribute("type","matrix"),b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),b.setAttribute("result",s+"_tint_2"),d.appendChild(b),this.matrixFilter=b;var A=this.createMergeNode(s,[y,s+"_tint_1",s+"_tint_2"]);d.appendChild(A)}function SVGFillFilter(d,p,g,s){this.filterManager=p;var y=createNS("feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),y.setAttribute("result",s),d.appendChild(y),this.matrixFilter=y}function SVGStrokeEffect(d,p,g){this.initialized=!1,this.filterManager=p,this.elem=g,this.paths=[]}function SVGTritoneFilter(d,p,g,s){this.filterManager=p;var y=createNS("feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","linearRGB"),y.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),d.appendChild(y);var b=createNS("feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("result",s),this.matrixFilter=b;var A=createNS("feFuncR");A.setAttribute("type","table"),b.appendChild(A),this.feFuncR=A;var F=createNS("feFuncG");F.setAttribute("type","table"),b.appendChild(F),this.feFuncG=F;var L=createNS("feFuncB");L.setAttribute("type","table"),b.appendChild(L),this.feFuncB=L,d.appendChild(b)}function SVGProLevelsFilter(d,p,g,s){this.filterManager=p;var y=this.filterManager.effectElements,b=createNS("feComponentTransfer");(y[10].p.k||0!==y[10].p.v||y[11].p.k||1!==y[11].p.v||y[12].p.k||1!==y[12].p.v||y[13].p.k||0!==y[13].p.v||y[14].p.k||1!==y[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",b)),(y[17].p.k||0!==y[17].p.v||y[18].p.k||1!==y[18].p.v||y[19].p.k||1!==y[19].p.v||y[20].p.k||0!==y[20].p.v||y[21].p.k||1!==y[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",b)),(y[24].p.k||0!==y[24].p.v||y[25].p.k||1!==y[25].p.v||y[26].p.k||1!==y[26].p.v||y[27].p.k||0!==y[27].p.v||y[28].p.k||1!==y[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",b)),(y[31].p.k||0!==y[31].p.v||y[32].p.k||1!==y[32].p.v||y[33].p.k||1!==y[33].p.v||y[34].p.k||0!==y[34].p.v||y[35].p.k||1!==y[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",b)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(b.setAttribute("color-interpolation-filters","sRGB"),d.appendChild(b)),(y[3].p.k||0!==y[3].p.v||y[4].p.k||1!==y[4].p.v||y[5].p.k||1!==y[5].p.v||y[6].p.k||0!==y[6].p.v||y[7].p.k||1!==y[7].p.v)&&((b=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("result",s),d.appendChild(b),this.feFuncRComposed=this.createFeFunc("feFuncR",b),this.feFuncGComposed=this.createFeFunc("feFuncG",b),this.feFuncBComposed=this.createFeFunc("feFuncB",b))}function SVGDropShadowEffect(d,p,g,s,y){var b=p.container.globalData.renderConfig.filterSize,A=p.data.fs||b;d.setAttribute("x",A.x||b.x),d.setAttribute("y",A.y||b.y),d.setAttribute("width",A.width||b.width),d.setAttribute("height",A.height||b.height),this.filterManager=p;var F=createNS("feGaussianBlur");F.setAttribute("in","SourceAlpha"),F.setAttribute("result",s+"_drop_shadow_1"),F.setAttribute("stdDeviation","0"),this.feGaussianBlur=F,d.appendChild(F);var L=createNS("feOffset");L.setAttribute("dx","25"),L.setAttribute("dy","0"),L.setAttribute("in",s+"_drop_shadow_1"),L.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=L,d.appendChild(L);var H=createNS("feFlood");H.setAttribute("flood-color","#00ff00"),H.setAttribute("flood-opacity","1"),H.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=H,d.appendChild(H);var j=createNS("feComposite");j.setAttribute("in",s+"_drop_shadow_3"),j.setAttribute("in2",s+"_drop_shadow_2"),j.setAttribute("operator","in"),j.setAttribute("result",s+"_drop_shadow_4"),d.appendChild(j);var Q=this.createMergeNode(s,[s+"_drop_shadow_4",y]);d.appendChild(Q)}SVGComposableEffect.prototype={createMergeNode:function d(p,g){var y,b,s=createNS("feMerge");for(s.setAttribute("result",p),b=0;b<g.length;b+=1)(y=createNS("feMergeNode")).setAttribute("in",g[b]),s.appendChild(y),s.appendChild(y);return s}},extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var p=this.filterManager.effectElements[0].p.v,g=this.filterManager.effectElements[1].p.v;this.matrixFilter.setAttribute("values",g[0]-p[0]+" 0 0 0 "+p[0]+" "+(g[1]-p[1])+" 0 0 0 "+p[1]+" "+(g[2]-p[2])+" 0 0 0 "+p[2]+" 0 0 0 "+this.filterManager.effectElements[2].p.v/100+" 0")}},SVGFillFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var p=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+p[0]+" 0 0 0 0 "+p[1]+" 0 0 0 0 "+p[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var p,g,s,y,d=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(y=this.elem.maskManager.masksProperties.length,s=0):y=1+(s=this.filterManager.effectElements[0].p.v-1),(g=createNS("g")).setAttribute("fill","none"),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-dashoffset",1);s<y;s+=1)p=createNS("path"),g.appendChild(p),this.paths.push({p,m:s});if(3===this.filterManager.effectElements[10].p.v){var b=createNS("mask"),A=createElementID();b.setAttribute("id",A),b.setAttribute("mask-type","alpha"),b.appendChild(g),this.elem.globalData.defs.appendChild(b);var F=createNS("g");for(F.setAttribute("mask","url("+getLocationHref()+"#"+A+")");d[0];)F.appendChild(d[0]);this.elem.layerElement.appendChild(F),this.masker=b,g.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(d=this.elem.layerElement.children||this.elem.layerElement.childNodes;d.length;)this.elem.layerElement.removeChild(d[0]);this.elem.layerElement.appendChild(g),this.elem.layerElement.removeAttribute("mask"),g.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=g},SVGStrokeEffect.prototype.renderFrame=function(d){this.initialized||this.initialize();var p,s,y,g=this.paths.length;for(p=0;p<g;p+=1)if(-1!==this.paths[p].m&&(s=this.elem.maskManager.viewData[this.paths[p].m],y=this.paths[p].p,(d||this.filterManager._mdf||s.prop._mdf)&&y.setAttribute("d",s.lastPath),d||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var b;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var A=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),F=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),L=y.getTotalLength();b="0 0 0 "+L*A+" ";var x,Q=Math.floor(L*(F-A)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(x=0;x<Q;x+=1)b+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";b+="0 "+10*L+" 0 0"}else b="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;y.setAttribute("stroke-dasharray",b)}if((d||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(d||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(d||this.filterManager.effectElements[3].p._mdf)){var V=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*V[0])+","+bmFloor(255*V[1])+","+bmFloor(255*V[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var p=this.filterManager.effectElements[0].p.v,g=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,b=s[1]+" "+g[1]+" "+p[1],A=s[2]+" "+g[2]+" "+p[2];this.feFuncR.setAttribute("tableValues",s[0]+" "+g[0]+" "+p[0]),this.feFuncG.setAttribute("tableValues",b),this.feFuncB.setAttribute("tableValues",A)}},SVGProLevelsFilter.prototype.createFeFunc=function(d,p){var g=createNS(d);return g.setAttribute("type","table"),p.appendChild(g),g},SVGProLevelsFilter.prototype.getTableValue=function(d,p,g,s,y){for(var F,Q,b=0,L=Math.min(d,p),H=Math.max(d,p),j=Array.call(null,{length:256}),x=0,V=y-s,G=p-d;b<=256;)Q=(F=b/256)<=L?G<0?y:s:F>=H?G<0?s:y:s+V*Math.pow((F-d)/G,1/g),j[x]=Q,x+=1,b+=256/255;return j.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var p,g=this.filterManager.effectElements;this.feFuncRComposed&&(d||g[3].p._mdf||g[4].p._mdf||g[5].p._mdf||g[6].p._mdf||g[7].p._mdf)&&(p=this.getTableValue(g[3].p.v,g[4].p.v,g[5].p.v,g[6].p.v,g[7].p.v),this.feFuncRComposed.setAttribute("tableValues",p),this.feFuncGComposed.setAttribute("tableValues",p),this.feFuncBComposed.setAttribute("tableValues",p)),this.feFuncR&&(d||g[10].p._mdf||g[11].p._mdf||g[12].p._mdf||g[13].p._mdf||g[14].p._mdf)&&(p=this.getTableValue(g[10].p.v,g[11].p.v,g[12].p.v,g[13].p.v,g[14].p.v),this.feFuncR.setAttribute("tableValues",p)),this.feFuncG&&(d||g[17].p._mdf||g[18].p._mdf||g[19].p._mdf||g[20].p._mdf||g[21].p._mdf)&&(p=this.getTableValue(g[17].p.v,g[18].p.v,g[19].p.v,g[20].p.v,g[21].p.v),this.feFuncG.setAttribute("tableValues",p)),this.feFuncB&&(d||g[24].p._mdf||g[25].p._mdf||g[26].p._mdf||g[27].p._mdf||g[28].p._mdf)&&(p=this.getTableValue(g[24].p.v,g[25].p.v,g[26].p.v,g[27].p.v,g[28].p.v),this.feFuncB.setAttribute("tableValues",p)),this.feFuncA&&(d||g[31].p._mdf||g[32].p._mdf||g[33].p._mdf||g[34].p._mdf||g[35].p._mdf)&&(p=this.getTableValue(g[31].p.v,g[32].p.v,g[33].p.v,g[34].p.v,g[35].p.v),this.feFuncA.setAttribute("tableValues",p))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){if((d||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),d||this.filterManager.effectElements[0].p._mdf){var p=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*p[0]),Math.round(255*p[1]),Math.round(255*p[2])))}if((d||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),d||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var g=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,y=g*Math.cos(s),b=g*Math.sin(s);this.feOffset.setAttribute("dx",y),this.feOffset.setAttribute("dy",b)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(d,p,g){this.initialized=!1,this.filterManager=p,this.filterElem=d,this.elem=g,g.matteElement=createNS("g"),g.matteElement.appendChild(g.layerElement),g.matteElement.appendChild(g.transformedElement),g.baseElement=g.matteElement}function SVGGaussianBlurEffect(d,p,g,s){d.setAttribute("x","-100%"),d.setAttribute("y","-100%"),d.setAttribute("width","300%"),d.setAttribute("height","300%"),this.filterManager=p;var y=createNS("feGaussianBlur");y.setAttribute("result",s),d.appendChild(y),this.feGaussianBlur=y}return SVGMatte3Effect.prototype.findSymbol=function(d){for(var p=0,g=_svgMatteSymbols.length;p<g;){if(_svgMatteSymbols[p]===d)return _svgMatteSymbols[p];p+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(d,p){var g=d.layerElement.parentNode;if(g){for(var s=g.children,y=0,b=s.length;y<b&&s[y]!==d.layerElement;)y+=1;var A;y<=b-2&&(A=s[y+1]);var F=createNS("use");F.setAttribute("href","#"+p),A?g.insertBefore(F,A):g.appendChild(F)}},SVGMatte3Effect.prototype.setElementAsMask=function(d,p){if(!this.findSymbol(p)){var g=createElementID(),s=createNS("mask");s.setAttribute("id",p.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(p);var y=d.globalData.defs;y.appendChild(s);var b=createNS("symbol");b.setAttribute("id",g),this.replaceInParent(p,g),b.appendChild(p.layerElement),y.appendChild(b);var A=createNS("use");A.setAttribute("href","#"+g),s.appendChild(A),p.data.hd=!1,p.show()}d.setMatte(p.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var d=this.filterManager.effectElements[0].p.v,p=this.elem.comp.elements,g=0,s=p.length;g<s;)p[g]&&p[g].data.ind===d&&this.setElementAsMask(this.elem,p[g]),g+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(d){if(d||this.filterManager._mdf){var g=.3*this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==s?0:g)+" "+(2==s?0:g)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=p())},8306:(d,p,g)=>{"use strict";g.d(p,{y:()=>x});var s=g(930),y=g(727),b=g(8822),A=g(4671);var H=g(2416),j=g(576),Q=g(2806);let x=(()=>{class X{constructor(U){U&&(this._subscribe=U)}lift(U){const N=new X;return N.source=this,N.operator=U,N}subscribe(U,N,P){const q=function W(X){return X&&X instanceof s.Lv||function G(X){return X&&(0,j.m)(X.next)&&(0,j.m)(X.error)&&(0,j.m)(X.complete)}(X)&&(0,y.Nn)(X)}(U)?U:new s.Hp(U,N,P);return(0,Q.x)(()=>{const{operator:Y,source:J}=this;q.add(Y?Y.call(q,J):J?this._subscribe(q):this._trySubscribe(q))}),q}_trySubscribe(U){try{return this._subscribe(U)}catch(N){U.error(N)}}forEach(U,N){return new(N=V(N))((P,q)=>{const Y=new s.Hp({next:J=>{try{U(J)}catch(ee){q(ee),Y.unsubscribe()}},error:q,complete:P});this.subscribe(Y)})}_subscribe(U){var N;return null===(N=this.source)||void 0===N?void 0:N.subscribe(U)}[b.L](){return this}pipe(...U){return function L(X){return 0===X.length?A.y:1===X.length?X[0]:function(U){return X.reduce((N,P)=>P(N),U)}}(U)(this)}toPromise(U){return new(U=V(U))((N,P)=>{let q;this.subscribe(Y=>q=Y,Y=>P(Y),()=>N(q))})}}return X.create=O=>new X(O),X})();function V(X){var O;return null!==(O=X??H.v.Promise)&&void 0!==O?O:Promise}},7579:(d,p,g)=>{"use strict";g.d(p,{x:()=>H});var s=g(8306),y=g(727);const A=(0,g(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=g(8737),L=g(2806);let H=(()=>{class Q extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const G=new j(this,this);return G.operator=V,G}_throwIfClosed(){if(this.closed)throw new A}next(V){(0,L.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(V)}})}error(V){(0,L.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:G}=this;for(;G.length;)G.shift().error(V)}})}complete(){(0,L.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:G,isStopped:W,observers:X}=this;return G||W?y.Lc:(this.currentObservers=null,X.push(V),new y.w0(()=>{this.currentObservers=null,(0,F.P)(X,V)}))}_checkFinalizedStatuses(V){const{hasError:G,thrownError:W,isStopped:X}=this;G?V.error(W):X&&V.complete()}asObservable(){const V=new s.y;return V.source=this,V}}return Q.create=(x,V)=>new j(x,V),Q})();class j extends H{constructor(x,V){super(),this.destination=x,this.source=V}next(x){var V,G;null===(G=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===G||G.call(V,x)}error(x){var V,G;null===(G=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===G||G.call(V,x)}complete(){var x,V;null===(V=null===(x=this.destination)||void 0===x?void 0:x.complete)||void 0===V||V.call(x)}_subscribe(x){var V,G;return null!==(G=null===(V=this.source)||void 0===V?void 0:V.subscribe(x))&&void 0!==G?G:y.Lc}}},930:(d,p,g)=>{"use strict";g.d(p,{Hp:()=>U,Lv:()=>G});var s=g(576),y=g(727),b=g(2416),A=g(7849),F=g(5032);const L=Q("C",void 0,void 0);function Q(J,ee,fe){return{kind:J,value:ee,error:fe}}var x=g(3410),V=g(2806);class G extends y.w0{constructor(ee){super(),this.isStopped=!1,ee?(this.destination=ee,(0,y.Nn)(ee)&&ee.add(this)):this.destination=Y}static create(ee,fe,we){return new U(ee,fe,we)}next(ee){this.isStopped?q(function j(J){return Q("N",J,void 0)}(ee),this):this._next(ee)}error(ee){this.isStopped?q(function H(J){return Q("E",void 0,J)}(ee),this):(this.isStopped=!0,this._error(ee))}complete(){this.isStopped?q(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ee){this.destination.next(ee)}_error(ee){try{this.destination.error(ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W=Function.prototype.bind;function X(J,ee){return W.call(J,ee)}class O{constructor(ee){this.partialObserver=ee}next(ee){const{partialObserver:fe}=this;if(fe.next)try{fe.next(ee)}catch(we){N(we)}}error(ee){const{partialObserver:fe}=this;if(fe.error)try{fe.error(ee)}catch(we){N(we)}else N(ee)}complete(){const{partialObserver:ee}=this;if(ee.complete)try{ee.complete()}catch(fe){N(fe)}}}class U extends G{constructor(ee,fe,we){let le;if(super(),(0,s.m)(ee)||!ee)le={next:ee??void 0,error:fe??void 0,complete:we??void 0};else{let pe;this&&b.v.useDeprecatedNextContext?(pe=Object.create(ee),pe.unsubscribe=()=>this.unsubscribe(),le={next:ee.next&&X(ee.next,pe),error:ee.error&&X(ee.error,pe),complete:ee.complete&&X(ee.complete,pe)}):le=ee}this.destination=new O(le)}}function N(J){b.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(J):(0,A.h)(J)}function q(J,ee){const{onStoppedNotification:fe}=b.v;fe&&x.z.setTimeout(()=>fe(J,ee))}const Y={closed:!0,next:F.Z,error:function P(J){throw J},complete:F.Z}},727:(d,p,g)=>{"use strict";g.d(p,{Lc:()=>L,w0:()=>F,Nn:()=>H});var s=g(576);const b=(0,g(3888).d)(Q=>function(V){Q(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((G,W)=>`${W+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var A=g(8737);class F{constructor(x){this.initialTeardown=x,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let x;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const X of V)X.remove(this);else V.remove(this);const{initialTeardown:G}=this;if((0,s.m)(G))try{G()}catch(X){x=X instanceof b?X.errors:[X]}const{_finalizers:W}=this;if(W){this._finalizers=null;for(const X of W)try{j(X)}catch(O){x=x??[],O instanceof b?x=[...x,...O.errors]:x.push(O)}}if(x)throw new b(x)}}add(x){var V;if(x&&x!==this)if(this.closed)j(x);else{if(x instanceof F){if(x.closed||x._hasParent(this))return;x._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(x)}}_hasParent(x){const{_parentage:V}=this;return V===x||Array.isArray(V)&&V.includes(x)}_addParent(x){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(x),V):V?[V,x]:x}_removeParent(x){const{_parentage:V}=this;V===x?this._parentage=null:Array.isArray(V)&&(0,A.P)(V,x)}remove(x){const{_finalizers:V}=this;V&&(0,A.P)(V,x),x instanceof F&&x._removeParent(this)}}F.EMPTY=(()=>{const Q=new F;return Q.closed=!0,Q})();const L=F.EMPTY;function H(Q){return Q instanceof F||Q&&"closed"in Q&&(0,s.m)(Q.remove)&&(0,s.m)(Q.add)&&(0,s.m)(Q.unsubscribe)}function j(Q){(0,s.m)(Q)?Q():Q.unsubscribe()}},2416:(d,p,g)=>{"use strict";g.d(p,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(d,p,g)=>{"use strict";g.d(p,{E:()=>y});const y=new(g(8306).y)(F=>F.complete())},8996:(d,p,g)=>{"use strict";g.d(p,{D:()=>ee});var s=g(8421),y=g(5363),b=g(9468),L=g(8306),j=g(2202),Q=g(576),x=g(9672);function G(fe,we){if(!fe)throw new Error("Iterable cannot be null");return new L.y(le=>{(0,x.f)(le,we,()=>{const pe=fe[Symbol.asyncIterator]();(0,x.f)(le,we,()=>{pe.next().then(ye=>{ye.done?le.complete():le.next(ye.value)})},0,!0)})})}var W=g(3670),X=g(8239),O=g(1144),U=g(6495),N=g(2206),P=g(4532),q=g(3260);function ee(fe,we){return we?function J(fe,we){if(null!=fe){if((0,W.c)(fe))return function A(fe,we){return(0,s.Xf)(fe).pipe((0,b.R)(we),(0,y.Q)(we))}(fe,we);if((0,O.z)(fe))return function H(fe,we){return new L.y(le=>{let pe=0;return we.schedule(function(){pe===fe.length?le.complete():(le.next(fe[pe++]),le.closed||this.schedule())})})}(fe,we);if((0,X.t)(fe))return function F(fe,we){return(0,s.Xf)(fe).pipe((0,b.R)(we),(0,y.Q)(we))}(fe,we);if((0,N.D)(fe))return G(fe,we);if((0,U.T)(fe))return function V(fe,we){return new L.y(le=>{let pe;return(0,x.f)(le,we,()=>{pe=fe[j.h](),(0,x.f)(le,we,()=>{let ye,me;try{({value:ye,done:me}=pe.next())}catch(de){return void le.error(de)}me?le.complete():le.next(ye)},0,!0)}),()=>(0,Q.m)(pe?.return)&&pe.return()})}(fe,we);if((0,q.L)(fe))return function Y(fe,we){return G((0,q.Q)(fe),we)}(fe,we)}throw(0,P.z)(fe)}(fe,we):(0,s.Xf)(fe)}},8421:(d,p,g)=>{"use strict";g.d(p,{Xf:()=>W});var s=g(655),y=g(1144),b=g(8239),A=g(8306),F=g(3670),L=g(2206),H=g(4532),j=g(6495),Q=g(3260),x=g(576),V=g(7849),G=g(8822);function W(J){if(J instanceof A.y)return J;if(null!=J){if((0,F.c)(J))return function X(J){return new A.y(ee=>{const fe=J[G.L]();if((0,x.m)(fe.subscribe))return fe.subscribe(ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(J);if((0,y.z)(J))return function O(J){return new A.y(ee=>{for(let fe=0;fe<J.length&&!ee.closed;fe++)ee.next(J[fe]);ee.complete()})}(J);if((0,b.t)(J))return function U(J){return new A.y(ee=>{J.then(fe=>{ee.closed||(ee.next(fe),ee.complete())},fe=>ee.error(fe)).then(null,V.h)})}(J);if((0,L.D)(J))return P(J);if((0,j.T)(J))return function N(J){return new A.y(ee=>{for(const fe of J)if(ee.next(fe),ee.closed)return;ee.complete()})}(J);if((0,Q.L)(J))return function q(J){return P((0,Q.Q)(J))}(J)}throw(0,H.z)(J)}function P(J){return new A.y(ee=>{(function Y(J,ee){var fe,we,le,pe;return(0,s.mG)(this,void 0,void 0,function*(){try{for(fe=(0,s.KL)(J);!(we=yield fe.next()).done;)if(ee.next(we.value),ee.closed)return}catch(ye){le={error:ye}}finally{try{we&&!we.done&&(pe=fe.return)&&(yield pe.call(fe))}finally{if(le)throw le.error}}ee.complete()})})(J,ee).catch(fe=>ee.error(fe))})}},6451:(d,p,g)=>{"use strict";g.d(p,{T:()=>L});var s=g(8189),y=g(8421),b=g(515),A=g(3269),F=g(8996);function L(...H){const j=(0,A.yG)(H),Q=(0,A._6)(H,1/0),x=H;return x.length?1===x.length?(0,y.Xf)(x[0]):(0,s.J)(Q)((0,F.D)(x,j)):b.E}},5403:(d,p,g)=>{"use strict";g.d(p,{x:()=>y});var s=g(930);function y(A,F,L,H,j){return new b(A,F,L,H,j)}class b extends s.Lv{constructor(F,L,H,j,Q,x){super(F),this.onFinalize=Q,this.shouldUnsubscribe=x,this._next=L?function(V){try{L(V)}catch(G){F.error(G)}}:super._next,this._error=j?function(V){try{j(V)}catch(G){F.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=H?function(){try{H()}catch(V){F.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var F;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:L}=this;super.unsubscribe(),!L&&(null===(F=this.onFinalize)||void 0===F||F.call(this))}}}},4004:(d,p,g)=>{"use strict";g.d(p,{U:()=>b});var s=g(4482),y=g(5403);function b(A,F){return(0,s.e)((L,H)=>{let j=0;L.subscribe((0,y.x)(H,Q=>{H.next(A.call(F,Q,j++))}))})}},8189:(d,p,g)=>{"use strict";g.d(p,{J:()=>b});var s=g(5577),y=g(4671);function b(A=1/0){return(0,s.z)(y.y,A)}},5577:(d,p,g)=>{"use strict";g.d(p,{z:()=>j});var s=g(4004),y=g(8421),b=g(4482),A=g(9672),F=g(5403),H=g(576);function j(Q,x,V=1/0){return(0,H.m)(x)?j((G,W)=>(0,s.U)((X,O)=>x(G,X,W,O))((0,y.Xf)(Q(G,W))),V):("number"==typeof x&&(V=x),(0,b.e)((G,W)=>function L(Q,x,V,G,W,X,O,U){const N=[];let P=0,q=0,Y=!1;const J=()=>{Y&&!N.length&&!P&&x.complete()},ee=we=>P<G?fe(we):N.push(we),fe=we=>{X&&x.next(we),P++;let le=!1;(0,y.Xf)(V(we,q++)).subscribe((0,F.x)(x,pe=>{W?.(pe),X?ee(pe):x.next(pe)},()=>{le=!0},void 0,()=>{if(le)try{for(P--;N.length&&P<G;){const pe=N.shift();O?(0,A.f)(x,O,()=>fe(pe)):fe(pe)}J()}catch(pe){x.error(pe)}}))};return Q.subscribe((0,F.x)(x,ee,()=>{Y=!0,J()})),()=>{U?.()}}(G,W,Q,V)))}},5363:(d,p,g)=>{"use strict";g.d(p,{Q:()=>A});var s=g(9672),y=g(4482),b=g(5403);function A(F,L=0){return(0,y.e)((H,j)=>{H.subscribe((0,b.x)(j,Q=>(0,s.f)(j,F,()=>j.next(Q),L),()=>(0,s.f)(j,F,()=>j.complete(),L),Q=>(0,s.f)(j,F,()=>j.error(Q),L)))})}},3099:(d,p,g)=>{"use strict";g.d(p,{B:()=>L});var s=g(8996),y=g(5698),b=g(7579),A=g(930),F=g(4482);function L(j={}){const{connector:Q=(()=>new b.x),resetOnError:x=!0,resetOnComplete:V=!0,resetOnRefCountZero:G=!0}=j;return W=>{let X=null,O=null,U=null,N=0,P=!1,q=!1;const Y=()=>{O?.unsubscribe(),O=null},J=()=>{Y(),X=U=null,P=q=!1},ee=()=>{const fe=X;J(),fe?.unsubscribe()};return(0,F.e)((fe,we)=>{N++,!q&&!P&&Y();const le=U=U??Q();we.add(()=>{N--,0===N&&!q&&!P&&(O=H(ee,G))}),le.subscribe(we),X||(X=new A.Hp({next:pe=>le.next(pe),error:pe=>{q=!0,Y(),O=H(J,x,pe),le.error(pe)},complete:()=>{P=!0,Y(),O=H(J,V),le.complete()}}),(0,s.D)(fe).subscribe(X))})(W)}}function H(j,Q,...x){return!0===Q?(j(),null):!1===Q?null:Q(...x).pipe((0,y.q)(1)).subscribe(()=>j())}},9468:(d,p,g)=>{"use strict";g.d(p,{R:()=>y});var s=g(4482);function y(b,A=0){return(0,s.e)((F,L)=>{L.add(b.schedule(()=>F.subscribe(L),A))})}},5698:(d,p,g)=>{"use strict";g.d(p,{q:()=>A});var s=g(515),y=g(4482),b=g(5403);function A(F){return F<=0?()=>s.E:(0,y.e)((L,H)=>{let j=0;L.subscribe((0,b.x)(H,Q=>{++j<=F&&(H.next(Q),F<=j&&H.complete())}))})}},8505:(d,p,g)=>{"use strict";g.d(p,{b:()=>F});var s=g(576),y=g(4482),b=g(5403),A=g(4671);function F(L,H,j){const Q=(0,s.m)(L)||H||j?{next:L,error:H,complete:j}:L;return Q?(0,y.e)((x,V)=>{var G;null===(G=Q.subscribe)||void 0===G||G.call(Q);let W=!0;x.subscribe((0,b.x)(V,X=>{var O;null===(O=Q.next)||void 0===O||O.call(Q,X),V.next(X)},()=>{var X;W=!1,null===(X=Q.complete)||void 0===X||X.call(Q),V.complete()},X=>{var O;W=!1,null===(O=Q.error)||void 0===O||O.call(Q,X),V.error(X)},()=>{var X,O;W&&(null===(X=Q.unsubscribe)||void 0===X||X.call(Q)),null===(O=Q.finalize)||void 0===O||O.call(Q)}))}):A.y}},4408:(d,p,g)=>{"use strict";g.d(p,{o:()=>F});var s=g(727);class y extends s.w0{constructor(H,j){super()}schedule(H,j=0){return this}}const b={setInterval(L,H,...j){const{delegate:Q}=b;return Q?.setInterval?Q.setInterval(L,H,...j):setInterval(L,H,...j)},clearInterval(L){const{delegate:H}=b;return(H?.clearInterval||clearInterval)(L)},delegate:void 0};var A=g(8737);class F extends y{constructor(H,j){super(H,j),this.scheduler=H,this.work=j,this.pending=!1}schedule(H,j=0){if(this.closed)return this;this.state=H;const Q=this.id,x=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(x,Q,j)),this.pending=!0,this.delay=j,this.id=this.id||this.requestAsyncId(x,this.id,j),this}requestAsyncId(H,j,Q=0){return b.setInterval(H.flush.bind(H,this),Q)}recycleAsyncId(H,j,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return j;b.clearInterval(j)}execute(H,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(H,j);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(H,j){let x,Q=!1;try{this.work(H)}catch(V){Q=!0,x=V||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),x}unsubscribe(){if(!this.closed){const{id:H,scheduler:j}=this,{actions:Q}=j;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.P)(Q,this),null!=H&&(this.id=this.recycleAsyncId(j,H,null)),this.delay=null,super.unsubscribe()}}}},7565:(d,p,g)=>{"use strict";g.d(p,{v:()=>b});var s=g(6063);class y{constructor(F,L=y.now){this.schedulerActionCtor=F,this.now=L}schedule(F,L=0,H){return new this.schedulerActionCtor(this,F).schedule(H,L)}}y.now=s.l.now;class b extends y{constructor(F,L=y.now){super(F,L),this.actions=[],this._active=!1,this._scheduled=void 0}flush(F){const{actions:L}=this;if(this._active)return void L.push(F);let H;this._active=!0;do{if(H=F.execute(F.state,F.delay))break}while(F=L.shift());if(this._active=!1,H){for(;F=L.shift();)F.unsubscribe();throw H}}}},4986:(d,p,g)=>{"use strict";g.d(p,{P:()=>A,z:()=>b});var s=g(4408);const b=new(g(7565).v)(s.o),A=b},6063:(d,p,g)=>{"use strict";g.d(p,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(d,p,g)=>{"use strict";g.d(p,{z:()=>s});const s={setTimeout(y,b,...A){const{delegate:F}=s;return F?.setTimeout?F.setTimeout(y,b,...A):setTimeout(y,b,...A)},clearTimeout(y){const{delegate:b}=s;return(b?.clearTimeout||clearTimeout)(y)},delegate:void 0}},2202:(d,p,g)=>{"use strict";g.d(p,{h:()=>y});const y=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(d,p,g)=>{"use strict";g.d(p,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(d,p,g)=>{"use strict";g.d(p,{_6:()=>L,jO:()=>A,yG:()=>F});var s=g(576),y=g(3532);function b(H){return H[H.length-1]}function A(H){return(0,s.m)(b(H))?H.pop():void 0}function F(H){return(0,y.K)(b(H))?H.pop():void 0}function L(H,j){return"number"==typeof b(H)?H.pop():j}},8737:(d,p,g)=>{"use strict";function s(y,b){if(y){const A=y.indexOf(b);0<=A&&y.splice(A,1)}}g.d(p,{P:()=>s})},3888:(d,p,g)=>{"use strict";function s(y){const A=y(F=>{Error.call(F),F.stack=(new Error).stack});return A.prototype=Object.create(Error.prototype),A.prototype.constructor=A,A}g.d(p,{d:()=>s})},2806:(d,p,g)=>{"use strict";g.d(p,{O:()=>A,x:()=>b});var s=g(2416);let y=null;function b(F){if(s.v.useDeprecatedSynchronousErrorHandling){const L=!y;if(L&&(y={errorThrown:!1,error:null}),F(),L){const{errorThrown:H,error:j}=y;if(y=null,H)throw j}}else F()}function A(F){s.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=F)}},9672:(d,p,g)=>{"use strict";function s(y,b,A,F=0,L=!1){const H=b.schedule(function(){A(),L?y.add(this.schedule(null,F)):this.unsubscribe()},F);if(y.add(H),!L)return H}g.d(p,{f:()=>s})},4671:(d,p,g)=>{"use strict";function s(y){return y}g.d(p,{y:()=>s})},1144:(d,p,g)=>{"use strict";g.d(p,{z:()=>s});const s=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(d,p,g)=>{"use strict";g.d(p,{D:()=>y});var s=g(576);function y(b){return Symbol.asyncIterator&&(0,s.m)(b?.[Symbol.asyncIterator])}},576:(d,p,g)=>{"use strict";function s(y){return"function"==typeof y}g.d(p,{m:()=>s})},3670:(d,p,g)=>{"use strict";g.d(p,{c:()=>b});var s=g(8822),y=g(576);function b(A){return(0,y.m)(A[s.L])}},6495:(d,p,g)=>{"use strict";g.d(p,{T:()=>b});var s=g(2202),y=g(576);function b(A){return(0,y.m)(A?.[s.h])}},8239:(d,p,g)=>{"use strict";g.d(p,{t:()=>y});var s=g(576);function y(b){return(0,s.m)(b?.then)}},3260:(d,p,g)=>{"use strict";g.d(p,{L:()=>A,Q:()=>b});var s=g(655),y=g(576);function b(F){return(0,s.FC)(this,arguments,function*(){const H=F.getReader();try{for(;;){const{value:j,done:Q}=yield(0,s.qq)(H.read());if(Q)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(j)}}finally{H.releaseLock()}})}function A(F){return(0,y.m)(F?.getReader)}},3532:(d,p,g)=>{"use strict";g.d(p,{K:()=>y});var s=g(576);function y(b){return b&&(0,s.m)(b.schedule)}},4482:(d,p,g)=>{"use strict";g.d(p,{A:()=>y,e:()=>b});var s=g(576);function y(A){return(0,s.m)(A?.lift)}function b(A){return F=>{if(y(F))return F.lift(function(L){try{return A(L,this)}catch(H){this.error(H)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(d,p,g)=>{"use strict";function s(){}g.d(p,{Z:()=>s})},7849:(d,p,g)=>{"use strict";g.d(p,{h:()=>b});var s=g(2416),y=g(3410);function b(A){y.z.setTimeout(()=>{const{onUnhandledError:F}=s.v;if(!F)throw A;F(A)})}},4532:(d,p,g)=>{"use strict";function s(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}g.d(p,{z:()=>s})},655:(d,p,g)=>{"use strict";function A(me,de){var ie={};for(var te in me)Object.prototype.hasOwnProperty.call(me,te)&&de.indexOf(te)<0&&(ie[te]=me[te]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var Z=0;for(te=Object.getOwnPropertySymbols(me);Z<te.length;Z++)de.indexOf(te[Z])<0&&Object.prototype.propertyIsEnumerable.call(me,te[Z])&&(ie[te[Z]]=me[te[Z]])}return ie}function j(me,de,ie,te){return new(ie||(ie=Promise))(function(ae,Ne){function De(ot){try{Be(te.next(ot))}catch(Ot){Ne(Ot)}}function Ze(ot){try{Be(te.throw(ot))}catch(Ot){Ne(Ot)}}function Be(ot){ot.done?ae(ot.value):function Z(ae){return ae instanceof ie?ae:new ie(function(Ne){Ne(ae)})}(ot.value).then(De,Ze)}Be((te=te.apply(me,de||[])).next())})}function N(me){return this instanceof N?(this.v=me,this):new N(me)}function P(me,de,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,te=ie.apply(me,de||[]),ae=[];return Z={},Ne("next"),Ne("throw"),Ne("return"),Z[Symbol.asyncIterator]=function(){return this},Z;function Ne(ct){te[ct]&&(Z[ct]=function(yt){return new Promise(function(Ct,kt){ae.push([ct,yt,Ct,kt])>1||De(ct,yt)})})}function De(ct,yt){try{!function Ze(ct){ct.value instanceof N?Promise.resolve(ct.value.v).then(Be,ot):Ot(ae[0][2],ct)}(te[ct](yt))}catch(Ct){Ot(ae[0][3],Ct)}}function Be(ct){De("next",ct)}function ot(ct){De("throw",ct)}function Ot(ct,yt){ct(yt),ae.shift(),ae.length&&De(ae[0][0],ae[0][1])}}function Y(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,de=me[Symbol.asyncIterator];return de?de.call(me):(me=function G(me){var de="function"==typeof Symbol&&Symbol.iterator,ie=de&&me[de],te=0;if(ie)return ie.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&te>=me.length&&(me=void 0),{value:me&&me[te++],done:!me}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),ie={},te("next"),te("throw"),te("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function te(ae){ie[ae]=me[ae]&&function(Ne){return new Promise(function(De,Ze){!function Z(ae,Ne,De,Ze){Promise.resolve(Ze).then(function(Be){ae({value:Be,done:De})},Ne)}(De,Ze,(Ne=me[ae](Ne)).done,Ne.value)})}}}g.d(p,{FC:()=>P,KL:()=>Y,_T:()=>A,mG:()=>j,qq:()=>N})},4650:(d,p,g)=>{"use strict";g.d(p,{$8M:()=>ii,$Z:()=>od,AFp:()=>fS,AaK:()=>j,CHM:()=>Tu,CRH:()=>j_,CZH:()=>Bh,CqO:()=>t_,D6c:()=>YP,EJc:()=>Vb,EpF:()=>e_,F$t:()=>jx,F4k:()=>D0,FYo:()=>kh,FiY:()=>ci,G48:()=>NS,Gf:()=>H_,GfV:()=>kT,GkF:()=>I0,Gpc:()=>V,Hsn:()=>WE,Ikx:()=>__,JOm:()=>Za,KtG:()=>El,LFG:()=>mt,LSH:()=>ow,Lbi:()=>K_,MAs:()=>zE,MGl:()=>dp,MMx:()=>gb,NdJ:()=>up,O4$:()=>Pf,OlP:()=>bn,Oqu:()=>B0,PXZ:()=>PP,Q6J:()=>C0,QGY:()=>el,QP$:()=>Vh,QbO:()=>wP,Qsj:()=>PT,QtT:()=>AT,R0b:()=>Pr,RDi:()=>vu,Rgc:()=>L_,SBq:()=>bp,SDv:()=>ce,Sil:()=>rl,Suo:()=>G_,TTD:()=>xs,TgZ:()=>Jm,Tol:()=>l_,Udp:()=>bo,VKq:()=>k_,W1O:()=>JT,WLB:()=>yb,X6Q:()=>FP,XFs:()=>bt,Xpm:()=>Pe,Xts:()=>xv,Y36:()=>Gl,YKP:()=>vp,YNc:()=>$E,Yjl:()=>Re,Yz7:()=>yt,ZZ4:()=>t1,_Bn:()=>xT,_UZ:()=>E0,_Vd:()=>Ph,_c5:()=>v2,_uU:()=>nT,aQg:()=>n1,c2e:()=>EP,cJS:()=>kt,cg1:()=>Z0,dDg:()=>$b,deG:()=>$d,dqk:()=>ut,eFA:()=>IS,ekj:()=>Ql,eoX:()=>wS,f3M:()=>ir,g9A:()=>Hr,h0i:()=>tc,hGG:()=>KP,hM9:()=>LT,hij:()=>h_,iGM:()=>QT,ifc:()=>Xt,ip1:()=>aa,kEZ:()=>VT,kL8:()=>K0,kcU:()=>xc,lG2:()=>un,lqb:()=>rd,lri:()=>jb,n5z:()=>Lu,oAB:()=>en,oxw:()=>x0,pQV:()=>I_,q4F:()=>OT,qLn:()=>Jo,qOj:()=>ME,qZA:()=>Xm,rWj:()=>Pp,s9C:()=>Kl,sBO:()=>LP,sIi:()=>Km,s_b:()=>Dp,soG:()=>Q_,tb:()=>gS,tp0:()=>Ko,uIk:()=>b0,vHH:()=>O,vpe:()=>oa,wAp:()=>$t,xp6:()=>Ow,z2F:()=>kp,zSh:()=>Sm,zs3:()=>ea});var s=g(7579),y=g(727),b=g(8306),A=g(6451),F=g(3099);function L(a){for(let l in a)if(a[l]===L)return l;throw Error("Could not find renamed property on target object.")}function H(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function j(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(j).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Q(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const x=L({__forward_ref__:L});function V(a){return a.__forward_ref__=V,a.toString=function(){return j(this())},a}function G(a){return W(a)?a():a}function W(a){return"function"==typeof a&&a.hasOwnProperty(x)&&a.__forward_ref__===V}class O extends Error{constructor(l,u){super(function U(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function N(a){return"string"==typeof a?a:null==a?"":String(a)}function ee(a,l){throw new O(-201,!1)}function Be(a,l,u,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${u} ${f} ${l} <=Actual]`))}function yt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function kt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ht(a){return sn(a,Sn)||sn(a,In)}function sn(a,l){return a.hasOwnProperty(l)?a[l]:null}function jt(a){return a&&(a.hasOwnProperty(Jn)||a.hasOwnProperty(hi))?a[Jn]:null}const Sn=L({\u0275prov:L}),Jn=L({\u0275inj:L}),In=L({ngInjectableDef:L}),hi=L({ngInjectorDef:L});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Wn;function Yt(a){const l=Wn;return Wn=a,l}function jn(a,l,u){const f=Ht(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&bt.Optional?null:void 0!==l?l:void ee(j(a))}function Xn(a){return{toString:a}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),Xt=(()=>{return(a=Xt||(Xt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Xt;var a})();const ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ri={},qt=[],ar=L({\u0275cmp:L}),ei=L({\u0275dir:L}),$n=L({\u0275pipe:L}),Dn=L({\u0275mod:L}),Ie=L({\u0275fac:L}),be=L({__NG_ELEMENT_ID__:L});let Me=0;function Pe(a){return Xn(()=>{const u=!0===a.standalone,f={},m={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||qt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Xt.Emulated,id:"c"+Me++,styles:a.styles||qt,_:null,setInput:null,schemas:a.schemas||null,tView:null},v=a.dependencies,T=a.features;return m.inputs=kn(a.inputs,f),m.outputs=kn(a.outputs),T&&T.forEach(D=>D(m)),m.directiveDefs=v?()=>("function"==typeof v?v():v).map(je).filter(rt):null,m.pipeDefs=v?()=>("function"==typeof v?v():v).map($e).filter(rt):null,m})}function je(a){return Ee(a)||Te(a)}function rt(a){return null!==a}const Tt={};function en(a){return Xn(()=>{const l={type:a.type,bootstrap:a.bootstrap||qt,declarations:a.declarations||qt,imports:a.imports||qt,exports:a.exports||qt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Tt[a.id]=a.type),l})}function kn(a,l){if(null==a)return Ri;const u={};for(const f in a)if(a.hasOwnProperty(f)){let m=a[f],v=m;Array.isArray(m)&&(v=m[1],m=m[0]),u[m]=f,l&&(l[m]=v)}return u}const un=Pe;function Re(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Ee(a){return a[ar]||null}function Te(a){return a[ei]||null}function $e(a){return a[$n]||null}function st(a,l){const u=a[Dn]||null;if(!u&&!0===l)throw new Error(`Type ${j(a)} does not have '\u0275mod' property.`);return u}function ti(a){return Array.isArray(a)&&"object"==typeof a[1]}function lr(a){return Array.isArray(a)&&!0===a[1]}function gu(a){return 0!=(8&a.flags)}function ko(a){return 2==(2&a.flags)}function no(a){return 1==(1&a.flags)}function cr(a){return null!==a.template}function yc(a){return 0!=(256&a[2])}function Qr(a,l){return a.hasOwnProperty(Ie)?a[Ie]:null}class As{constructor(l,u,f){this.previousValue=l,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function xs(){return Oo}function Oo(a){return a.type.prototype.ngOnChanges&&(a.setInput=Vd),Tf}function Tf(){const a=bc(this),l=a?.current;if(l){const u=a.previous;if(u===Ri)a.previous=l;else for(let f in l)u[f]=l[f];a.current=null,this.ngOnChanges(l)}}function Vd(a,l,u,f){const m=bc(a)||function Ea(a,l){return a[vc]=l}(a,{previous:Ri,current:null}),v=m.current||(m.current={}),T=m.previous,D=this.declaredInputs[u],R=T[D];v[D]=new As(R&&R.currentValue,l,T===Ri),a[f]=l}xs.ngInherit=!0;const vc="__ngSimpleChanges__";function bc(a){return a[vc]||null}let Ta;function vu(a){Ta=a}function bu(){return void 0!==Ta?Ta:typeof document<"u"?document:void 0}function On(a){return!!a.listen}const wc={createRenderer:(a,l)=>{throw new Error("Renderer3 disabled")}};function qn(a){for(;Array.isArray(a);)a=a[0];return a}function Lo(a,l){return qn(l[a])}function Si(a,l){return qn(l[a.index])}function ri(a,l){return a.data[l]}function Zi(a,l){const u=l[a];return ti(u)?u:u[0]}function Cu(a){return 4==(4&a[2])}function Bo(a){return 64==(64&a[2])}function ur(a,l){return null==l?null:a[l]}function bl(a){a[18]=0}function ro(a,l){a[5]+=l;let u=a,f=a[3];for(;null!==f&&(1===l&&1===u[5]||-1===l&&0===u[5]);)f[5]+=l,u=f,f=f[3]}const Lt={lFrame:Mf(null),bindingsEnabled:!0};function xa(){return Lt.bindingsEnabled}function Je(){return Lt.lFrame.lView}function on(){return Lt.lFrame.tView}function Tu(a){return Lt.lFrame.contextLView=a,a[8]}function El(a){return Lt.lFrame.contextLView=null,a}function si(){let a=Uo();for(;null!==a&&64===a.type;)a=a.parent;return a}function Uo(){return Lt.lFrame.currentTNode}function Tl(){const a=Lt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Jr(a,l){const u=Lt.lFrame;u.currentTNode=a,u.isParent=l}function Ma(){return Lt.lFrame.isParent}function Su(){Lt.lFrame.isParent=!1}function nr(){const a=Lt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function hs(){return Lt.lFrame.bindingIndex++}function Ms(a){const l=Lt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Ud(a){Lt.lFrame.inI18n=a}function Tc(a,l){const u=Lt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Go(l)}function Go(a){Lt.lFrame.currentDirectiveIndex=a}function xu(){return Lt.lFrame.currentQueryIndex}function Na(a){Lt.lFrame.currentQueryIndex=a}function Sl(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Sc(a,l,u){if(u&bt.SkipSelf){let m=l,v=a;for(;!(m=m.parent,null!==m||u&bt.Host||(m=Sl(v),null===m||(v=v[15],10&m.type))););if(null===m)return!1;l=m,a=v}const f=Lt.lFrame=Ic();return f.currentTNode=l,f.lView=a,!0}function fs(a){const l=Ic(),u=a[1];Lt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Ic(){const a=Lt.lFrame,l=null===a?null:a.child;return null===l?Mf(a):l}function Mf(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Mu(){const a=Lt.lFrame;return Lt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Pu=Mu;function Dc(){const a=Mu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function br(){return Lt.lFrame.selectedIndex}function Il(a){Lt.lFrame.selectedIndex=a}function oi(){const a=Lt.lFrame;return ri(a.tView,a.selectedIndex)}function Pf(){Lt.lFrame.currentNamespace="svg"}function xc(){!function Gg(){Lt.lFrame.currentNamespace=null}()}function Al(a,l){for(let u=l.directiveStart,f=l.directiveEnd;u<f;u++){const v=a.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:se}=v;T&&(a.contentHooks||(a.contentHooks=[])).push(-u,T),D&&((a.contentHooks||(a.contentHooks=[])).push(u,D),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,D)),R&&(a.viewHooks||(a.viewHooks=[])).push(-u,R),z&&((a.viewHooks||(a.viewHooks=[])).push(u,z),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,z)),null!=se&&(a.destroyHooks||(a.destroyHooks=[])).push(u,se)}}function Mc(a,l,u){Nf(a,l,3,u)}function Ii(a,l,u,f){(3&a[2])===u&&Nf(a,l,u,f)}function Pc(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Nf(a,l,u,f){const v=f??-1,T=l.length-1;let D=0;for(let R=void 0!==f?65535&a[18]:0;R<T;R++)if("number"==typeof l[R+1]){if(D=l[R],null!=f&&D>=f)break}else l[R]<0&&(a[18]+=65536),(D<v||-1==v)&&(Nu(a,u,l,R),a[18]=(4294901760&a[18])+R+2),R++}function Nu(a,l,u,f){const m=u[f]<0,v=u[f+1],D=a[m?-u[f]:u[f]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{v.call(D)}finally{}}}else try{v.call(D)}finally{}}class Oa{constructor(l,u,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function xl(a,l,u){const f=On(a);let m=0;for(;m<u.length;){const v=u[m];if("number"==typeof v){if(0!==v)break;m++;const T=u[m++],D=u[m++],R=u[m++];f?a.setAttribute(l,D,R,T):l.setAttributeNS(T,D,R)}else{const T=v,D=u[++m];Oc(T)?f&&a.setProperty(l,T,D):f?a.setAttribute(l,T,D):l.setAttribute(T,D),m++}}return m}function kf(a){return 3===a||4===a||6===a}function Oc(a){return 64===a.charCodeAt(0)}function jo(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let f=0;f<l.length;f++){const m=l[f];"number"==typeof m?u=m:0===u||Zn(a,u,m,null,-1===u||2===u?l[++f]:null)}}return a}function Zn(a,l,u,f,m){let v=0,T=a.length;if(-1===l)T=-1;else for(;v<a.length;){const D=a[v++];if("number"==typeof D){if(D===l){T=-1;break}if(D>l){T=v-1;break}}}for(;v<a.length;){const D=a[v];if("number"==typeof D)break;if(D===u){if(null===f)return void(null!==m&&(a[v+1]=m));if(f===a[v+1])return void(a[v+2]=m)}v++,null!==f&&v++,null!==m&&v++}-1!==T&&(a.splice(T,0,l),v=T+1),a.splice(v++,0,u),null!==f&&a.splice(v++,0,f),null!==m&&a.splice(v++,0,m)}function ni(a){return-1!==a}function pi(a){return 32767&a}function Fa(a,l){let u=function Ra(a){return a>>16}(a),f=l;for(;u>0;)f=f[15],u--;return f}let La=!0;function Ou(a){const l=La;return La=a,l}let Ml=0;const ps={};function oo(a,l){const u=$o(a,l);if(-1!==u)return u;const f=l[1];f.firstCreatePass&&(a.injectorIndex=l.length,Xr(f.data,a),Xr(l,null),Xr(f.blueprint,null));const m=ao(a,l),v=a.injectorIndex;if(ni(m)){const T=pi(m),D=Fa(m,l),R=D[1].data;for(let z=0;z<8;z++)l[v+z]=D[T+z]|R[T+z]}return l[v+8]=m,v}function Xr(a,l){a.push(0,0,0,0,0,0,0,0,l)}function $o(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function ao(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,m=l;for(;null!==m;){if(f=co(m),null===f)return-1;if(u++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function lo(a,l,u){!function Va(a,l,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(be)&&(f=u[be]),null==f&&(f=u[be]=Ml++);const m=255&f;l.data[a+(m>>5)]|=1<<m}(a,l,u)}function Lr(a,l,u){if(u&bt.Optional)return a;ee()}function Dt(a,l,u,f){if(u&bt.Optional&&void 0===f&&(f=null),0==(u&(bt.Self|bt.Host))){const m=a[9],v=Yt(void 0);try{return m?m.get(l,f,u&bt.Optional):jn(l,f,u&bt.Optional)}finally{Yt(v)}}return Lr(f,0,u)}function gi(a,l,u,f=bt.Default,m){if(null!==a){if(1024&l[2]){const T=function Vu(a,l,u,f,m){let v=a,T=l;for(;null!==v&&null!==T&&1024&T[2]&&!(256&T[2]);){const D=Di(v,T,u,f|bt.Self,ps);if(D!==ps)return D;let R=v.parent;if(!R){const z=T[21];if(z){const se=z.get(u,ps,f);if(se!==ps)return se}R=co(T),T=T[15]}v=R}return m}(a,l,u,f,ps);if(T!==ps)return T}const v=Di(a,l,u,f,ps);if(v!==ps)return v}return Dt(l,u,f,m)}function Di(a,l,u,f,m){const v=function Ru(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(be)?a[be]:void 0;return"number"==typeof l?l>=0?255&l:At:l}(u);if("function"==typeof v){if(!Sc(l,a,f))return f&bt.Host?Lr(m,0,f):Dt(l,u,f,m);try{const T=v(f);if(null!=T||f&bt.Optional)return T;ee()}finally{Pu()}}else if("number"==typeof v){let T=null,D=$o(a,l),R=-1,z=f&bt.Host?l[16][6]:null;for((-1===D||f&bt.SkipSelf)&&(R=-1===D?ao(a,l):l[D+8],-1!==R&&Ba(f,!1)?(T=l[1],D=pi(R),l=Fa(R,l)):D=-1);-1!==D;){const se=l[1];if(Fu(v,D,se.data)){const ge=$g(D,l,u,T,f,z);if(ge!==ps)return ge}R=l[D+8],-1!==R&&Ba(f,l[1].data[D+8]===z)&&Fu(v,D,l)?(T=se,D=pi(R),l=Fa(R,l)):D=-1}}return m}function $g(a,l,u,f,m,v){const T=l[1],D=T.data[a+8],se=Pl(D,T,u,null==f?ko(D)&&La:f!=T&&0!=(3&D.type),m&bt.Host&&v===D);return null!==se?Nl(l,T,se,D):ps}function Pl(a,l,u,f,m){const v=a.providerIndexes,T=l.data,D=1048575&v,R=a.directiveStart,se=v>>20,Se=m?D+se:a.directiveEnd;for(let ke=f?D:D+se;ke<Se;ke++){const ze=T[ke];if(ke<R&&u===ze||ke>=R&&ze.type===u)return ke}if(m){const ke=T[R];if(ke&&cr(ke)&&ke.type===u)return R}return null}function Nl(a,l,u,f){let m=a[u];const v=l.data;if(function ku(a){return a instanceof Oa}(m)){const T=m;T.resolving&&function q(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new O(-200,`Circular dependency in DI detected for ${a}${u}`)}(function P(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():N(a)}(v[u]));const D=Ou(T.canSeeViewProviders);T.resolving=!0;const R=T.injectImpl?Yt(T.injectImpl):null;Sc(a,f,bt.Default);try{m=a[u]=T.factory(void 0,v,a,f),l.firstCreatePass&&u>=f.directiveStart&&function so(a,l,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:v}=l.type.prototype;if(f){const T=Oo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,T),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,T)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,m),v&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v))}(u,v[u],l)}finally{null!==R&&Yt(R),Ou(D),T.resolving=!1,Pu()}}return m}function Fu(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Ba(a,l){return!(a&bt.Self||a&bt.Host&&l)}class es{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,f){return gi(this._tNode,this._lView,l,f,u)}}function At(){return new es(si(),Je())}function Lu(a){return Xn(()=>{const l=a.prototype.constructor,u=l[Ie]||kl(l),f=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==f;){const v=m[Ie]||kl(m);if(v&&v!==u)return v;m=Object.getPrototypeOf(m)}return v=>new v})}function kl(a){return W(a)?()=>{const l=kl(G(a));return l&&l()}:Qr(a)}function co(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function ii(a){return function Rn(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const v=u[m];if(kf(v))break;if(0===v)m+=2;else if("number"==typeof v)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(v===l)return u[m+1];m+=2}}}return null}(si(),a)}const Ns="__parameters__";function ks(a,l,u){return Xn(()=>{const f=function ts(a){return function(...u){if(a){const f=a(...u);for(const m in f)this[m]=f[m]}}}(l);function m(...v){if(this instanceof m)return f.apply(this,v),this;const T=new m(...v);return D.annotation=T,D;function D(R,z,se){const ge=R.hasOwnProperty(Ns)?R[Ns]:Object.defineProperty(R,Ns,{value:[]})[Ns];for(;ge.length<=se;)ge.push(null);return(ge[se]=ge[se]||[]).push(T),R}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class bn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=yt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $d=new bn("AnalyzeForEntryComponents");function Vn(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let f=a[u];Array.isArray(f)?(l===a&&(l=a.slice(0,u)),Vn(f,l)):l!==a&&l.push(f)}return l}function Pn(a,l){a.forEach(u=>Array.isArray(u)?Pn(u,l):l(u))}function Rs(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function fo(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function po(a,l){const u=[];for(let f=0;f<a;f++)u.push(l);return u}function li(a,l,u){let f=ms(a,l);return f>=0?a[1|f]=u:(f=~f,function zg(a,l,u,f){let m=a.length;if(m==l)a.push(u,f);else if(1===m)a.push(f,a[0]),a[0]=u;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=u,a[l+1]=f}}(a,f,l,u)),f}function Vr(a,l){const u=ms(a,l);if(u>=0)return a[1|u]}function ms(a,l){return function Fs(a,l,u){let f=0,m=a.length>>u;for(;m!==f;){const v=f+(m-f>>1),T=a[v<<u];if(l===T)return v<<u;T>l?m=v:f=v+1}return~(m<<u)}(a,l,1)}const $={},oe="__NG_DI_FLAG__",_e="ngTempTokenPath",Fe=/\n/gm,at="__source";let Mt;function Zt(a){const l=Mt;return Mt=a,l}function Qt(a,l=bt.Default){if(void 0===Mt)throw new O(-203,!1);return null===Mt?jn(a,void 0,l):Mt.get(a,l&bt.Optional?null:void 0,l)}function mt(a,l=bt.Default){return(function ln(){return Wn}()||Qt)(G(a),l)}function ir(a,l=bt.Default){return mt(a,l)}function Yi(a){const l=[];for(let u=0;u<a.length;u++){const f=G(a[u]);if(Array.isArray(f)){if(0===f.length)throw new O(900,!1);let m,v=bt.Default;for(let T=0;T<f.length;T++){const D=f[T],R=Ls(D);"number"==typeof R?-1===R?m=D.token:v|=R:m=D}l.push(mt(m,v))}else l.push(mt(f))}return l}function ns(a,l){return a[oe]=l,a.prototype[oe]=l,a}function Ls(a){return a[oe]}const ci=ns(ks("Optional"),8),Ko=ns(ks("SkipSelf"),4);let Lc;function Vc(a){return function Qd(){if(void 0===Lc&&(Lc=null,ut.trustedTypes))try{Lc=ut.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Lc}()?.createHTML(a)||a}class Qu{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yo(a){return a instanceof Qu?a.changingThisBreaksApplicationSecurity:a}class Ke{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Vc(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class gt{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Vc(l),u;const f=this.inertDocument.createElement("body");return f.innerHTML=Vc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const u=l.attributes;for(let m=u.length-1;0<m;m--){const T=u.item(m).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&l.removeAttribute(T)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const nn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bs(a){return(a=String(a)).match(nn)||a.match(_o)?a:"unsafe:"+a}function za(a){return(a=String(a)).split(",").map(l=>Bs(l.trim())).join(", ")}function Dr(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Qo(...a){const l={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(l[f]=!0);return l}const eh=Dr("area,br,col,hr,img,wbr"),th=Dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nh=Dr("rp,rt"),ih=Qo(eh,Qo(th,Dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qo(nh,Dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qo(nh,th)),rh=Dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wa=Dr("srcset"),nw=Qo(rh,Wa,Dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var dr=(()=>((dr=dr||{})[dr.NONE=0]="NONE",dr[dr.HTML=1]="HTML",dr[dr.STYLE=2]="STYLE",dr[dr.SCRIPT=3]="SCRIPT",dr[dr.URL=4]="URL",dr[dr.RESOURCE_URL=5]="RESOURCE_URL",dr))();function ow(a){const l=function jf(){const a=Je();return a&&a[12]}();return l?l.sanitize(dr.URL,a)||"":function Ju(a,l){const u=function I(a){return a instanceof Qu&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}(a,"URL")?Yo(a):Bs(N(a))}function pv(a){return a.ngOriginalError}class Jo{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&pv(l);for(;u&&pv(u);)u=pv(u);return u||null}}const mA=/^>|^->|<!--|-->|--!>|<!-$/g,_A=/(<|>)/;const sh=new Map;let vA=0;const Xu="__ngContext__";function Ar(a,l){ti(l)?(a[Xu]=l[20],function CA(a){sh.set(a[20],a)}(l)):a[Xu]=l}function Wf(a){const l=a[Xu];return"number"==typeof l?function cw(a){return sh.get(a)||null}(l):l||null}function mv(a){const l=Wf(a);return l?ti(l)?l:l.lView:null}const lm=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ut))();function Bl(a){return a instanceof Function?a():a}var Za=(()=>((Za=Za||{})[Za.Important=1]="Important",Za[Za.DashCase=2]="DashCase",Za))();let yv;function cm(a,l){return yv(a,l)}function Kf(a){const l=a[3];return lr(l)?l[3]:l}function bv(a){return wv(a[13])}function Cv(a){return wv(a[4])}function wv(a){for(;null!==a&&!lr(a);)a=a[4];return a}function ed(a,l,u,f,m){if(null!=f){let v,T=!1;lr(f)?v=f:ti(f)&&(T=!0,f=f[0]);const D=qn(f);0===a&&null!==u?null==m?vw(l,u,D):Ul(l,u,D,m||null,!0):1===a&&null!==u?Ul(l,u,D,m||null,!0):2===a?Sw(l,D,T):3===a&&l.destroyNode(D),null!=v&&function Iw(a,l,u,f,m){const v=u[7];v!==qn(u)&&ed(l,a,f,v,m);for(let D=10;D<u.length;D++){const R=u[D];bm(R[1],R,a,l,f,v)}}(l,a,v,u,m)}}function um(a,l){return On(a)?a.createText(l):a.createTextNode(l)}function Ev(a,l,u){On(a)?a.setValue(l,u):l.textContent=u}function _w(a,l){return a.createComment(function aw(a){return a.replace(mA,l=>l.replace(_A,"\u200b$1\u200b"))}(l))}function dm(a,l,u){if(On(a))return a.createElement(l,u);{const f=null!==u?function yu(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===f?a.createElement(l):a.createElementNS(f,l)}}function yw(a,l){const u=a[9],f=u.indexOf(l),m=l[3];512&l[2]&&(l[2]&=-513,ro(m,-1)),u.splice(f,1)}function hm(a,l){if(a.length<=10)return;const u=10+l,f=a[u];if(f){const m=f[17];null!==m&&m!==a&&yw(m,f),l>0&&(a[u-1][4]=f[4]);const v=fo(a,10+l);!function MA(a,l){bm(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const T=v[19];null!==T&&T.detachView(v[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function fm(a,l){if(!(128&l[2])){const u=l[11];On(u)&&u.destroyNode&&bm(a,l,u,3,null,null),function NA(a){let l=a[13];if(!l)return Sv(a[1],a);for(;l;){let u=null;if(ti(l))u=l[13];else{const f=l[10];f&&(u=f)}if(!u){for(;l&&!l[4]&&l!==a;)ti(l)&&Sv(l[1],l),l=l[3];null===l&&(l=a),ti(l)&&Sv(l[1],l),u=l&&l[4]}l=u}}(l)}}function Sv(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function FA(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const m=l[u[f]];if(!(m instanceof Oa)){const v=u[f+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const D=m[v[T]],R=v[T+1];try{R.call(D)}finally{}}else try{v.call(m)}finally{}}}}(a,l),function RA(a,l){const u=a.cleanup,f=l[7];let m=-1;if(null!==u)for(let v=0;v<u.length-1;v+=2)if("string"==typeof u[v]){const T=u[v+1],D="function"==typeof T?T(l):qn(l[T]),R=f[m=u[v+2]],z=u[v+3];"boolean"==typeof z?D.removeEventListener(u[v],R,z):z>=0?f[m=z]():f[m=-z].unsubscribe(),v+=2}else{const T=f[m=u[v+1]];u[v].call(T)}if(null!==f){for(let v=m+1;v<f.length;v++)f[v]();l[7]=null}}(a,l),1===l[1].type&&On(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&lr(l[3])){u!==l[3]&&yw(u,l);const f=l[19];null!==f&&f.detachView(a)}!function am(a){sh.delete(a[20])}(l)}}function Iv(a,l,u){return pm(a,l.parent,u)}function pm(a,l,u){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return u[0];if(2&f.flags){const m=a.data[f.directiveStart].encapsulation;if(m===Xt.None||m===Xt.Emulated)return null}return Si(f,u)}function Ul(a,l,u,f,m){On(a)?a.insertBefore(l,u,f,m):(Cw(l)?l.content:l).insertBefore(u,f,m)}function vw(a,l,u){On(a)?a.appendChild(l,u):(Cw(l)?l.content:l).appendChild(u)}function bw(a,l,u,f,m){null!==f?Ul(a,l,u,f,m):vw(a,l,u)}function Cw(a){return"TEMPLATE"===a.tagName&&void 0!==a.content}function gm(a,l){return On(a)?a.parentNode(l):l.parentNode}function ww(a,l,u){return Ew(a,l,u)}function ui(a,l,u){return 40&a.type?Si(a,u):null}let mm,Ew=ui;function _m(a,l){Ew=a,mm=l}function Hc(a,l,u,f){const m=Iv(a,f,l),v=l[11],D=ww(f.parent||l[6],f,l);if(null!=m)if(Array.isArray(u))for(let R=0;R<u.length;R++)bw(v,m,u[R],D,!1);else bw(v,m,u,D,!1);void 0!==mm&&mm(v,f,l,u,m)}function Yf(a,l){if(null!==l){const u=l.type;if(3&u)return Si(l,a);if(4&u)return ym(-1,a[l.index]);if(8&u){const f=l.child;if(null!==f)return Yf(a,f);{const m=a[l.index];return lr(m)?ym(-1,m):qn(m)}}if(32&u)return cm(l,a)()||qn(a[l.index]);{const f=Tw(a,l);return null!==f?Array.isArray(f)?f[0]:Yf(Kf(a[16]),f):Yf(a,l.next)}}return null}function Tw(a,l){return null!==l?a[16][6].projection[l.projection]:null}function ym(a,l){const u=10+a+1;if(u<l.length){const f=l[u],m=f[1].firstChild;if(null!==m)return Yf(f,m)}return l[7]}function Sw(a,l,u){const f=gm(a,l);f&&function LA(a,l,u,f){On(a)?a.removeChild(l,u,f):l.removeChild(u)}(a,f,l,u)}function vm(a,l,u,f,m,v,T){for(;null!=u;){const D=f[u.index],R=u.type;if(T&&0===l&&(D&&Ar(qn(D),f),u.flags|=4),64!=(64&u.flags))if(8&R)vm(a,l,u.child,f,m,v,!1),ed(l,a,m,D,v);else if(32&R){const z=cm(u,f);let se;for(;se=z();)ed(l,a,m,se,v);ed(l,a,m,D,v)}else 16&R?Dv(a,l,f,u,m,v):ed(l,a,m,D,v);u=T?u.projectionNext:u.next}}function bm(a,l,u,f,m,v){vm(u,f,a.firstChild,l,m,v,!1)}function Dv(a,l,u,f,m,v){const T=u[16],R=T[6].projection[f.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)ed(l,a,m,R[z],v);else vm(a,l,R,T[3],m,v,!0)}function Ka(a,l,u){On(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Dw(a,l,u){On(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function Cm(a,l,u){let f=a.length;for(;;){const m=a.indexOf(l,u);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const v=l.length;if(m+v===f||a.charCodeAt(m+v)<=32)return m}u=m+1}}const Av="ng-template";function HA(a,l,u){let f=0;for(;f<a.length;){let m=a[f++];if(u&&"class"===m){if(m=a[f],-1!==Cm(m.toLowerCase(),l,0))return!0}else if(1===m){for(;f<a.length&&"string"==typeof(m=a[f++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function Aw(a){return 4===a.type&&a.value!==Av}function xw(a,l,u){return l===(4!==a.type||u?a.value:Av)}function GA(a,l,u){let f=4;const m=a.attrs||[],v=function $A(a){for(let l=0;l<a.length;l++)if(kf(a[l]))return l;return a.length}(m);let T=!1;for(let D=0;D<l.length;D++){const R=l[D];if("number"!=typeof R){if(!T)if(4&f){if(f=2|1&f,""!==R&&!xw(a,R,u)||""===R&&1===l.length){if(Xo(f))return!1;T=!0}}else{const z=8&f?R:l[++D];if(8&f&&null!==a.attrs){if(!HA(a.attrs,z,u)){if(Xo(f))return!1;T=!0}continue}const ge=jA(8&f?"class":R,m,Aw(a),u);if(-1===ge){if(Xo(f))return!1;T=!0;continue}if(""!==z){let Se;Se=ge>v?"":m[ge+1].toLowerCase();const ke=8&f?Se:null;if(ke&&-1!==Cm(ke,z,0)||2&f&&z!==Se){if(Xo(f))return!1;T=!0}}}}else{if(!T&&!Xo(f)&&!Xo(R))return!1;if(T&&Xo(R))continue;T=!1,f=R|1&f}}return Xo(f)||T}function Xo(a){return 0==(1&a)}function jA(a,l,u,f){if(null===l)return-1;let m=0;if(f||!u){let v=!1;for(;m<l.length;){const T=l[m];if(T===a)return m;if(3===T||6===T)v=!0;else{if(1===T||2===T){let D=l[++m];for(;"string"==typeof D;)D=l[++m];continue}if(4===T)break;if(0===T){m+=4;continue}}m+=v?1:2}return-1}return function zA(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===l)return u;u++}return-1}(l,a)}function Mw(a,l,u=!1){for(let f=0;f<l.length;f++)if(GA(a,l[f],u))return!0;return!1}function WA(a,l){e:for(let u=0;u<l.length;u++){const f=l[u];if(a.length===f.length){for(let m=0;m<a.length;m++)if(a[m]!==f[m])continue e;return!0}}return!1}function Nw(a,l){return a?":not("+l.trim()+")":l}function kw(a){let l=a[0],u=1,f=2,m="",v=!1;for(;u<a.length;){let T=a[u];if("string"==typeof T)if(2&f){const D=a[++u];m+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&f?m+="."+T:4&f&&(m+=" "+T);else""!==m&&!Xo(T)&&(l+=Nw(v,m),m=""),f=T,v=v||!Xo(f);u++}return""!==m&&(l+=Nw(v,m)),l}const an={};function Ow(a){wm(on(),Je(),br()+a,!1)}function wm(a,l,u,f){if(!f)if(3==(3&l[2])){const v=a.preOrderCheckHooks;null!==v&&Mc(l,v,u)}else{const v=a.preOrderHooks;null!==v&&Ii(l,v,0,u)}Il(u)}const xv=new bn("ENVIRONMENT_INITIALIZER"),Mv=new bn("INJECTOR_DEF_TYPES");function XA(...a){return{\u0275providers:Vw(0,a)}}function Vw(a,...l){const u=[],f=new Set;let m;return Pn(l,v=>{const T=v;nd(T,u,[],f)&&(m||(m=[]),m.push(T))}),void 0!==m&&Bw(m,u),u}function Bw(a,l){for(let u=0;u<a.length;u++){const{providers:m}=a[u];Pn(m,v=>{l.push(v)})}}function nd(a,l,u,f){if(!(a=G(a)))return!1;let m=null,v=jt(a);const T=!v&&Ee(a);if(v||T){if(T&&!T.standalone)return!1;m=a}else{const R=a.ngModule;if(v=jt(R),!v)return!1;m=R}const D=f.has(m);if(T){if(D)return!1;if(f.add(m),T.dependencies){const R="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const z of R)nd(z,l,u,f)}}else{if(!v)return!1;{if(null!=v.imports&&!D){let z;f.add(m);try{Pn(v.imports,se=>{nd(se,l,u,f)&&(z||(z=[]),z.push(se))})}finally{}void 0!==z&&Bw(z,l)}if(!D){const z=Qr(m)||(()=>new m);l.push({provide:m,useFactory:z,deps:qt},{provide:Mv,useValue:m,multi:!0},{provide:xv,useValue:()=>mt(m),multi:!0})}const R=v.providers;null==R||D||Pn(R,se=>{l.push(se)})}}return m!==a&&void 0!==a.providers}const Gc=L({provide:String,useValue:L});function Em(a){return null!==a&&"object"==typeof a&&Gc in a}function id(a){return"function"==typeof a}const Tm=new bn("INJECTOR",-1);class Pv{get(l,u=$){if(u===$){const f=new Error(`NullInjectorError: No provider for ${j(l)}!`);throw f.name="NullInjectorError",f}return u}}const Sm=new bn("Set Injector scope."),Qf={},Uw={};let Im;function Dm(){return void 0===Im&&(Im=new Pv),Im}class rd{}class Jf extends rd{constructor(l,u,f,m){super(),this.parent=u,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xf(l,T=>this.processProvider(T)),this.records.set(Tm,ah(void 0,this)),m.has("environment")&&this.records.set(rd,ah(void 0,this));const v=this.records.get(Sm);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Mv.multi,qt,bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}get(l,u=$,f=bt.Default){this.assertNotDestroyed();const m=Zt(this),v=Yt(void 0);try{if(!(f&bt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const R=function kv(a){return"function"==typeof a||"object"==typeof a&&a instanceof bn}(l)&&Ht(l);D=R&&this.injectableDefInScope(R)?ah(Am(l),Qf):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(f&bt.Self?Dm():this.parent).get(l,u=f&bt.Optional&&u===$?null:u)}catch(T){if("NullInjectorError"===T.name){if((T[_e]=T[_e]||[]).unshift(j(l)),m)throw T;return function Wd(a,l,u,f){const m=a[_e];throw l[at]&&m.unshift(l[at]),a.message=function zu(a,l,u,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let m=j(l);if(Array.isArray(l))m=l.map(j).join(" -> ");else if("object"==typeof l){let v=[];for(let T in l)if(l.hasOwnProperty(T)){let D=l[T];v.push(T+":"+("string"==typeof D?JSON.stringify(D):j(D)))}m=`{${v.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${a.replace(Fe,"\n  ")}`}("\n"+a.message,m,u,f),a.ngTokenPath=m,a[_e]=null,a}(T,l,"R3InjectorError",this.source)}throw T}finally{Yt(v),Zt(m)}}resolveInjectorInitializers(){const l=Zt(this),u=Yt(void 0);try{const f=this.get(xv.multi,qt,bt.Self);for(const m of f)m()}finally{Zt(l),Yt(u)}}toString(){const l=[],u=this.records;for(const f of u.keys())l.push(j(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(l){let u=id(l=G(l))?l:G(l&&l.provide);const f=function Gw(a){return Em(a)?ah(void 0,a.useValue):ah(Nv(a),Qf)}(l);if(id(l)||!0!==l.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=ah(void 0,Qf,!0),m.factory=()=>Yi(m.multi),this.records.set(u,m)),u=l,m.multi.push(l)}this.records.set(u,f)}hydrate(l,u){return u.value===Qf&&(u.value=Uw,u.value=u.factory()),"object"==typeof u.value&&u.value&&function $w(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=G(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Am(a){const l=Ht(a),u=null!==l?l.factory:Qr(a);if(null!==u)return u;if(a instanceof bn)throw new O(204,!1);if(a instanceof Function)return function Hw(a){const l=a.length;if(l>0)throw po(l,"?"),new O(204,!1);const u=function Rt(a){const l=a&&(a[Sn]||a[In]);if(l){const u=function qe(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new O(204,!1)}function Nv(a,l,u){let f;if(id(a)){const m=G(a);return Qr(m)||Am(m)}if(Em(a))f=()=>G(a.useValue);else if(function Hl(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...Yi(a.deps||[]));else if(function xr(a){return!(!a||!a.useExisting)}(a))f=()=>mt(G(a.useExisting));else{const m=G(a&&(a.useClass||a.provide));if(!function jw(a){return!!a.deps}(a))return Qr(m)||Am(m);f=()=>new m(...Yi(a.deps))}return f}function ah(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function zw(a){return!!a.\u0275providers}function Xf(a,l){for(const u of a)Array.isArray(u)?Xf(u,l):zw(u)?Xf(u.\u0275providers,l):l(u)}function Ov(a,l=null,u=null,f){const m=Rv(a,l,u,f);return m.resolveInjectorInitializers(),m}function Rv(a,l=null,u=null,f,m=new Set){const v=[u||qt,XA(a)];return f=f||("object"==typeof a?void 0:j(a)),new Jf(v,l||Dm(),f||null,m)}let ea=(()=>{class a{static create(u,f){if(Array.isArray(u))return Ov({name:""},f,u,"");{const m=u.name??"";return Ov({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=$,a.NULL=new Pv,a.\u0275prov=yt({token:a,providedIn:"any",factory:()=>mt(Tm)}),a.__NG_ELEMENT_ID__=-1,a})();function Gl(a,l=bt.Default){const u=Je();return null===u?mt(a,l):gi(si(),u,G(a),l)}function od(){throw new Error("invalid")}function ad(a,l){return a<<17|l<<2}function ta(a){return a>>17&32767}function Wv(a){return 2|a}function jl(a){return(131068&a)>>2}function Fm(a,l){return-131069&a|l<<2}function Lm(a){return 1|a}function aE(a,l){const u=a.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const m=u[f],v=u[f+1];if(-1!==v){const T=a.data[v];Na(m),T.contentQueries(2,l[v],v)}}}function ld(a,l,u,f,m,v,T,D,R,z,se){const ge=l.blueprint.slice();return ge[0]=m,ge[2]=76|f,(null!==se||a&&1024&a[2])&&(ge[2]|=1024),bl(ge),ge[3]=ge[15]=a,ge[8]=u,ge[10]=T||a&&a[10],ge[11]=D||a&&a[11],ge[12]=R||a&&a[12]||null,ge[9]=z||a&&a[9]||null,ge[6]=v,ge[20]=function bA(){return vA++}(),ge[21]=se,ge[16]=2==l.type?a[16]:ge,ge}function cd(a,l,u,f,m){let v=a.data[l];if(null===v)v=s0(a,l,u,f,m),function Ho(){return Lt.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=u,v.value=f,v.attrs=m;const T=Tl();v.injectorIndex=null===T?-1:T.injectorIndex}return Jr(v,!0),v}function s0(a,l,u,f,m){const v=Uo(),T=Ma(),R=a.data[l]=function bx(a,l,u,f,m,v){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,u,l,f,m);return null===a.firstChild&&(a.firstChild=R),null!==v&&(T?null==v.child&&null!==R.parent&&(v.child=R):null===v.next&&(v.next=R)),R}function ud(a,l,u,f){if(0===u)return-1;const m=l.length;for(let v=0;v<u;v++)l.push(f),a.blueprint.push(f),a.data.push(null);return m}function op(a,l,u){fs(l);try{const f=a.viewQuery;null!==f&&f0(1,f,u);const m=a.template;null!==m&&Um(a,l,m,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&aE(a,l),a.staticViewQueries&&f0(2,a.viewQuery,u);const v=a.components;null!==v&&function _x(a,l){for(let u=0;u<l.length;u++)Wl(a,l[u])}(l,v)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[2]&=-5,Dc()}}function dd(a,l,u,f){const m=l[2];if(128!=(128&m)){fs(l);try{bl(l),function Bd(a){return Lt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Um(a,l,u,2,f);const T=3==(3&m);if(T){const z=a.preOrderCheckHooks;null!==z&&Mc(l,z,null)}else{const z=a.preOrderHooks;null!==z&&Ii(l,z,0,null),Pc(l,0)}if(function _L(a){for(let l=bv(a);null!==l;l=Cv(l)){if(!l[2])continue;const u=l[9];for(let f=0;f<u.length;f++){const m=u[f],v=m[3];0==(512&m[2])&&ro(v,1),m[2]|=512}}}(l),function mL(a){for(let l=bv(a);null!==l;l=Cv(l))for(let u=10;u<l.length;u++){const f=l[u],m=f[1];Bo(f)&&dd(m,f,m.template,f[8])}}(l),null!==a.contentQueries&&aE(a,l),T){const z=a.contentCheckHooks;null!==z&&Mc(l,z)}else{const z=a.contentHooks;null!==z&&Ii(l,z,1),Pc(l,1)}!function n0(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)Il(~m);else{const v=m,T=u[++f],D=u[++f];Tc(T,v),D(2,l[v])}}}finally{Il(-1)}}(a,l);const D=a.components;null!==D&&function r0(a,l){for(let u=0;u<l.length;u++)vE(a,l[u])}(l,D);const R=a.viewQuery;if(null!==R&&f0(2,R,f),T){const z=a.viewCheckHooks;null!==z&&Mc(l,z)}else{const z=a.viewHooks;null!==z&&Ii(l,z,2),Pc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,ro(l[3],-1))}finally{Dc()}}}function yx(a,l,u,f){const m=l[10],T=Cu(l);try{!T&&m.begin&&m.begin(),T&&op(a,l,f),dd(a,l,u,f)}finally{!T&&m.end&&m.end()}}function Um(a,l,u,f,m){const v=br(),T=2&f;try{Il(-1),T&&l.length>22&&wm(a,l,22,!1),u(f,m)}finally{Il(v)}}function lE(a,l,u){if(gu(l)){const m=l.directiveEnd;for(let v=l.directiveStart;v<m;v++){const T=a.data[v];T.contentQueries&&T.contentQueries(1,u[v],v)}}}function o0(a,l,u){!xa()||(function Sx(a,l,u,f){const m=u.directiveStart,v=u.directiveEnd;a.firstCreatePass||oo(u,l),Ar(f,l);const T=u.initialInputs;for(let D=m;D<v;D++){const R=a.data[D],z=cr(R);z&&fL(l,u,R);const se=Nl(l,a,D,u);Ar(se,l),null!==T&&pL(0,D-m,se,R,0,T),z&&(Zi(u.index,l)[8]=se)}}(a,l,u,Si(u,l)),128==(128&u.flags)&&function pE(a,l,u){const f=u.directiveStart,m=u.directiveEnd,v=u.index,T=function xf(){return Lt.lFrame.currentDirectiveIndex}();try{Il(v);for(let D=f;D<m;D++){const R=a.data[D],z=l[D];Go(D),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&gE(R,z)}}finally{Il(-1),Go(T)}}(a,l,u))}function Hm(a,l,u=Si){const f=l.localNames;if(null!==f){let m=l.index+1;for(let v=0;v<f.length;v+=2){const T=f[v+1],D=-1===T?u(l,a):a[T];a[m++]=D}}}function cE(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=a0(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function a0(a,l,u,f,m,v,T,D,R,z){const se=22+f,ge=se+m,Se=function l0(a,l){const u=[];for(let f=0;f<l;f++)u.push(f<a?null:an);return u}(se,ge),ke="function"==typeof z?z():z;return Se[1]={type:a,blueprint:Se,template:u,queries:null,viewQuery:D,declTNode:l,data:Se.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:R,consts:ke,incompleteFirstPass:!1}}function $c(a,l,u,f){const m=p0(l);null===u?m.push(f):(m.push(u),a.firstCreatePass&&CE(a).push(f,m.length-1))}function u0(a,l,u){for(let f in a)if(a.hasOwnProperty(f)){const m=a[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(l,m):u[f]=[l,m]}return u}function Hs(a,l,u,f,m,v,T,D){const R=Si(l,u);let se,z=l.inputs;!D&&null!=z&&(se=z[f])?(Wm(a,u,se,f,m),ko(l)&&function wx(a,l){const u=Zi(l,a);16&u[2]||(u[2]|=32)}(u,l.index)):3&l.type&&(f=function dE(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),m=null!=T?T(m,l.value||"",f):m,On(v)?v.setProperty(R,f,m):Oc(f)||(R.setProperty?R.setProperty(f,m):R[f]=m))}function Gm(a,l,u,f){let m=!1;if(xa()){const v=function mE(a,l,u){const f=a.directiveRegistry;let m=null;if(f)for(let v=0;v<f.length;v++){const T=f[v];Mw(u,T.selectors,!1)&&(m||(m=[]),lo(oo(u,l),a,T.type),cr(T)?(Ix(a,u),m.unshift(T)):m.push(T))}return m}(a,l,u),T=null===f?null:{"":-1};if(null!==v){m=!0,_E(u,a.data.length,v.length);for(let se=0;se<v.length;se++){const ge=v[se];ge.providersResolver&&ge.providersResolver(ge)}let D=!1,R=!1,z=ud(a,l,v.length,null);for(let se=0;se<v.length;se++){const ge=v[se];u.mergedAttrs=jo(u.mergedAttrs,ge.hostAttrs),d0(a,u,l,z,ge),hL(z,ge,T),null!==ge.contentQueries&&(u.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(u.flags|=128);const Se=ge.type.prototype;!D&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),D=!0),!R&&(Se.ngOnChanges||Se.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),R=!0),z++}!function Cx(a,l){const f=l.directiveEnd,m=a.data,v=l.attrs,T=[];let D=null,R=null;for(let z=l.directiveStart;z<f;z++){const se=m[z],ge=se.inputs,Se=null===v||Aw(l)?null:gL(ge,v);T.push(Se),D=u0(ge,z,D),R=u0(se.outputs,z,R)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=16),D.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=T,l.inputs=D,l.outputs=R}(a,u)}T&&function dL(a,l,u){if(l){const f=a.localNames=[];for(let m=0;m<l.length;m+=2){const v=u[l[m+1]];if(null==v)throw new O(-301,!1);f.push(l[m],v)}}}(u,f,T)}return u.mergedAttrs=jo(u.mergedAttrs,u.attrs),m}function hE(a,l,u,f,m,v){const T=v.hostBindings;if(T){let D=a.hostBindingOpCodes;null===D&&(D=a.hostBindingOpCodes=[]);const R=~l.index;(function fE(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(D)!=R&&D.push(R),D.push(f,m,T)}}function gE(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Ix(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function hL(a,l,u){if(u){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)u[l.exportAs[f]]=a;cr(l)&&(u[""]=a)}}function _E(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function d0(a,l,u,f,m){a.data[f]=m;const v=m.factory||(m.factory=Qr(m.type)),T=new Oa(v,cr(m),Gl);a.blueprint[f]=T,u[f]=T,hE(a,l,0,f,ud(a,u,m.hostVars,an),m)}function fL(a,l,u){const f=Si(l,a),m=cE(u),v=a[10],T=$m(a,ld(a,m,null,u.onPush?32:16,f,l,v,v.createRenderer(f,u),null,null,null));a[l.index]=T}function yE(a,l,u,f,m,v,T){if(null==v)On(a)?a.removeAttribute(l,m,u):l.removeAttribute(m);else{const D=null==T?N(v):T(v,f||"",m);On(a)?a.setAttribute(l,m,D,u):u?l.setAttributeNS(u,m,D):l.setAttribute(m,D)}}function pL(a,l,u,f,m,v){const T=v[l];if(null!==T){const D=f.setInput;for(let R=0;R<T.length;){const z=T[R++],se=T[R++],ge=T[R++];null!==D?f.setInput(u,ge,z,se):u[se]=ge}}}function gL(a,l){let u=null,f=0;for(;f<l.length;){const m=l[f];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,a[m],l[f+1])),f+=2}else f+=2;else f+=4}return u}function Dx(a,l,u,f){return new Array(a,!0,!1,l,null,0,f,u,null,null)}function vE(a,l){const u=Zi(l,a);if(Bo(u)){const f=u[1];48&u[2]?dd(f,u,f.template,u[8]):u[5]>0&&jm(u)}}function jm(a){for(let f=bv(a);null!==f;f=Cv(f))for(let m=10;m<f.length;m++){const v=f[m];if(512&v[2]){const T=v[1];dd(T,v,T.template,v[8])}else v[5]>0&&jm(v)}const u=a[1].components;if(null!==u)for(let f=0;f<u.length;f++){const m=Zi(u[f],a);Bo(m)&&m[5]>0&&jm(m)}}function Wl(a,l){const u=Zi(l,a),f=u[1];(function Ax(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(f,u),op(f,u,u[8])}function $m(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function h0(a){for(;a;){a[2]|=32;const l=Kf(a);if(yc(a)&&!l)return a;a=l}return null}function ql(a){!function zm(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],f=mv(u);if(null!==f){const m=f[1];yx(m,f,m.template,u)}}}(a[8])}function f0(a,l,u){Na(0),l(a,u)}const bE=(()=>Promise.resolve(null))();function p0(a){return a[7]||(a[7]=[])}function CE(a){return a.cleanup||(a.cleanup=[])}function Qi(a,l){const u=a[9],f=u?u.get(Jo,null):null;f&&f.handleError(l)}function Wm(a,l,u,f,m){for(let v=0;v<u.length;){const T=u[v++],D=u[v++],R=l[T],z=a.data[T];null!==z.setInput?z.setInput(R,m,f,D):R[D]=m}}function hd(a,l,u){let f=u?a.styles:null,m=u?a.classes:null,v=0;if(null!==l)for(let T=0;T<l.length;T++){const D=l[T];"number"==typeof D?v=D:1==v?m=Q(m,D):2==v&&(f=Q(f,D+": "+l[++T]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=m:a.classesWithoutHost=m}function xE(){const a=si();Al(Je()[1],a)}function ME(a){let l=function Xa(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;l;){let m;if(cr(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new O(903,!1);m=l.\u0275dir}if(m){if(u){f.push(m);const T=a;T.inputs=PE(a.inputs),T.declaredInputs=PE(a.declaredInputs),T.outputs=PE(a.outputs);const D=m.hostBindings;D&&DL(a,D);const R=m.viewQuery,z=m.contentQueries;if(R&&NE(a,R),z&&kE(a,z),H(a.inputs,m.inputs),H(a.declaredInputs,m.declaredInputs),H(a.outputs,m.outputs),cr(m)&&m.data.animation){const se=a.data;se.animation=(se.animation||[]).concat(m.data.animation)}}const v=m.features;if(v)for(let T=0;T<v.length;T++){const D=v[T];D&&D.ngInherit&&D(a),D===ME&&(u=!1)}}l=Object.getPrototypeOf(l)}!function IL(a){let l=0,u=null;for(let f=a.length-1;f>=0;f--){const m=a[f];m.hostVars=l+=m.hostVars,m.hostAttrs=jo(m.hostAttrs,u=jo(u,m.hostAttrs))}}(f)}function PE(a){return a===Ri?{}:a===qt?[]:a}function NE(a,l){const u=a.viewQuery;a.viewQuery=u?(f,m)=>{l(f,m),u(f,m)}:l}function kE(a,l){const u=a.contentQueries;a.contentQueries=u?(f,m,v)=>{l(f,m,v),u(f,m,v)}:l}function DL(a,l){const u=a.hostBindings;a.hostBindings=u?(f,m)=>{l(f,m),u(f,m)}:l}let y0=null;function fh(){if(!y0){const a=ut.Symbol;if(a&&a.iterator)y0=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const f=l[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(y0=f)}}}return y0}function Km(a){return!!Ym(a)&&(Array.isArray(a)||!(a instanceof Map)&&fh()in a)}function Ym(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Zl(a,l,u){return a[l]=u}function Ur(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function fd(a,l,u,f){const m=Ur(a,l,u);return Ur(a,l+1,f)||m}function b0(a,l,u,f){const m=Je();return Ur(m,hs(),l)&&(on(),function Qa(a,l,u,f,m,v){const T=Si(a,l);yE(l[11],T,v,a.value,u,f,m)}(oi(),m,a,l,u,f)),b0}function mh(a,l,u,f){return Ur(a,hs(),u)?l+N(u)+f:an}function $E(a,l,u,f,m,v,T,D){const R=Je(),z=on(),se=a+22,ge=z.firstCreatePass?function Ux(a,l,u,f,m,v,T,D,R){const z=l.consts,se=cd(l,a,4,T||null,ur(z,D));Gm(l,u,se,ur(z,R)),Al(l,se);const ge=se.tViews=a0(2,se,f,m,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,z);return null!==l.queries&&(l.queries.template(l,se),ge.queries=l.queries.embeddedTView(se)),se}(se,z,R,l,u,f,m,v,T):z.data[se];Jr(ge,!1);const Se=R[11].createComment("");Hc(z,R,Se,ge),Ar(Se,R),$m(R,R[se]=Dx(Se,R,Se,ge)),no(ge)&&o0(z,R,ge),null!=T&&Hm(R,ge,D)}function zE(a){return function Vo(a,l){return a[l]}(function Iu(){return Lt.lFrame.contextLView}(),22+a)}function C0(a,l,u){const f=Je();return Ur(f,hs(),l)&&Hs(on(),oi(),f,a,l,f[11],u,!1),C0}function w0(a,l,u,f,m){const T=m?"class":"style";Wm(a,u,l.inputs[T],T,f)}function Jm(a,l,u,f){const m=Je(),v=on(),T=22+a,D=m[11],R=m[T]=dm(D,l,function Dl(){return Lt.lFrame.currentNamespace}()),z=v.firstCreatePass?function Gx(a,l,u,f,m,v,T){const D=l.consts,z=cd(l,a,2,m,ur(D,v));return Gm(l,u,z,ur(D,T)),null!==z.attrs&&hd(z,z.attrs,!1),null!==z.mergedAttrs&&hd(z,z.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,z),z}(T,v,m,0,l,u,f):v.data[T];Jr(z,!0);const se=z.mergedAttrs;null!==se&&xl(D,R,se);const ge=z.classes;null!==ge&&Dw(D,R,ge);const Se=z.styles;return null!==Se&&Ka(D,R,Se),64!=(64&z.flags)&&Hc(v,m,R,z),0===function wu(){return Lt.lFrame.elementDepthCount}()&&Ar(R,m),function Aa(){Lt.lFrame.elementDepthCount++}(),no(z)&&(o0(v,m,z),lE(v,z,m)),null!==f&&Hm(m,z),Jm}function Xm(){let a=si();Ma()?Su():(a=a.parent,Jr(a,!1));const l=a;!function Eu(){Lt.lFrame.elementDepthCount--}();const u=on();return u.firstCreatePass&&(Al(u,a),gu(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function jg(a){return 0!=(16&a.flags)}(l)&&w0(u,l,Je(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function sv(a){return 0!=(32&a.flags)}(l)&&w0(u,l,Je(),l.stylesWithoutHost,!1),Xm}function E0(a,l,u,f){return Jm(a,l,u,f),Xm(),E0}function T0(a,l,u){const f=Je(),m=on(),v=a+22,T=m.firstCreatePass?function PL(a,l,u,f,m){const v=l.consts,T=ur(v,f),D=cd(l,a,8,"ng-container",T);return null!==T&&hd(D,T,!0),Gm(l,u,D,ur(v,m)),null!==l.queries&&l.queries.elementStart(l,D),D}(v,m,f,l,u):m.data[v];Jr(T,!0);const D=f[v]=f[11].createComment("");return Hc(m,f,D,T),Ar(D,f),no(T)&&(o0(m,f,T),lE(m,T,f)),null!=u&&Hm(f,T),T0}function S0(){let a=si();const l=on();return Ma()?Su():(a=a.parent,Jr(a,!1)),l.firstCreatePass&&(Al(l,a),gu(a)&&l.queries.elementEnd(a)),S0}function I0(a,l,u){return T0(a,l,u),S0(),I0}function e_(){return Je()}function el(a){return!!a&&"function"==typeof a.then}function D0(a){return!!a&&"function"==typeof a.subscribe}const t_=D0;function up(a,l,u,f){const m=Je(),v=on(),T=si();return function A0(a,l,u,f,m,v,T,D){const R=no(f),se=a.firstCreatePass&&CE(a),ge=l[8],Se=p0(l);let ke=!0;if(3&f.type||D){const ht=Si(f,l),Et=D?D(ht):ht,Ut=Se.length,Xe=D?wt=>D(qn(wt[f.index])):f.index;if(On(u)){let wt=null;if(!D&&R&&(wt=function Gs(a,l,u,f){const m=a.cleanup;if(null!=m)for(let v=0;v<m.length-1;v+=2){const T=m[v];if(T===u&&m[v+1]===f){const D=l[7],R=m[v+2];return D.length>R?D[R]:null}"string"==typeof T&&(v+=2)}return null}(a,l,m,f.index)),null!==wt)(wt.__ngLastListenerFn__||wt).__ngNextListenerFn__=v,wt.__ngLastListenerFn__=v,ke=!1;else{v=r_(f,l,ge,v,!1);const En=u.listen(Et,m,v);Se.push(v,En),se&&se.push(m,Xe,Ut,Ut+1)}}else v=r_(f,l,ge,v,!0),Et.addEventListener(m,v,T),Se.push(v),se&&se.push(m,Xe,Ut,T)}else v=r_(f,l,ge,v,!1);const ze=f.outputs;let nt;if(ke&&null!==ze&&(nt=ze[m])){const ht=nt.length;if(ht)for(let Et=0;Et<ht;Et+=2){const mn=l[nt[Et]][nt[Et+1]].subscribe(v),Qc=Se.length;Se.push(v,mn),se&&se.push(m,f.index,Qc,-(Qc+1))}}}(v,m,m[11],T,a,l,!!u,f),up}function i_(a,l,u,f){try{return!1!==u(f)}catch(m){return Qi(a,m),!1}}function r_(a,l,u,f,m){return function v(T){if(T===Function)return f;h0(2&a.flags?Zi(a.index,l):l);let R=i_(l,0,f,T),z=v.__ngNextListenerFn__;for(;z;)R=i_(l,0,z,T)&&R,z=z.__ngNextListenerFn__;return m&&!1===R&&(T.preventDefault(),T.returnValue=!1),R}}function x0(a=1){return function Ac(a){return(Lt.lFrame.contextLView=function Hg(a,l){for(;a>0;)l=l[15],a--;return l}(a,Lt.lFrame.contextLView))[8]}(a)}function M0(a,l){let u=null;const f=function Pw(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let m=0;m<l.length;m++){const v=l[m];if("*"!==v){if(null===f?Mw(a,v,!0):WA(f,v))return m}else u=m}return u}function jx(a){const l=Je()[16][6];if(!l.projection){const f=l.projection=po(a?a.length:1,null),m=f.slice();let v=l.child;for(;null!==v;){const T=a?M0(v,a):0;null!==T&&(m[T]?m[T].projectionNext=v:f[T]=v,m[T]=v),v=v.next}}}function WE(a,l=0,u){const f=Je(),m=on(),v=cd(m,22+a,16,null,u||null);null===v.projection&&(v.projection=l),Su(),64!=(64&v.flags)&&function ZF(a,l,u){Dv(l[11],0,l,u,Iv(a,u,l),ww(u.parent||l[6],u,l))}(m,f,v)}function Kl(a,l,u){return dp(a,"",l,"",u),Kl}function dp(a,l,u,f,m){const v=Je(),T=mh(v,l,u,f);return T!==an&&Hs(on(),oi(),v,a,T,v[11],m,!1),dp}function o_(a,l,u,f,m){const v=a[u+1],T=null===l;let D=f?ta(v):jl(v),R=!1;for(;0!==D&&(!1===R||T);){const se=a[D+1];a_(a[D],l)&&(R=!0,a[D+1]=f?Lm(se):Wv(se)),D=f?ta(se):jl(se)}R&&(a[u+1]=f?Wv(v):Lm(v))}function a_(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ms(a,l)>=0}const Vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Eh(a){return a.substring(Vi.key,Vi.keyEnd)}function Yl(a,l){const u=Vi.textEnd;return u===l?-1:(l=Vi.keyEnd=function JE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Vi.key=l,u),tl(a,l,u))}function tl(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function bo(a,l,u){return vs(a,l,u,!1),bo}function Ql(a,l){return vs(a,l,null,!0),Ql}function l_(a){!function bs(a,l,u,f){const m=on(),v=Ms(2);m.firstUpdatePass&&c_(m,null,v,f);const T=Je();if(u!==an&&Ur(T,v,u)){const D=m.data[br()];if(fp(D,f)&&!XE(m,v)){let R=f?D.classesWithoutHost:D.stylesWithoutHost;null!==R&&(u=Q(R,u||"")),w0(m,D,T,u,f)}else!function Xx(a,l,u,f,m,v,T,D){m===an&&(m=qt);let R=0,z=0,se=0<m.length?m[0]:null,ge=0<v.length?v[0]:null;for(;null!==se||null!==ge;){const Se=R<m.length?m[R+1]:void 0,ke=z<v.length?v[z+1]:void 0;let nt,ze=null;se===ge?(R+=2,z+=2,Se!==ke&&(ze=ge,nt=ke)):null===ge||null!==se&&se<ge?(R+=2,ze=se):(z+=2,ze=ge,nt=ke),null!==ze&&tT(a,l,u,f,ze,nt,T,D),se=R<m.length?m[R]:null,ge=z<v.length?v[z]:null}}(m,D,T,T[11],T[v+1],T[v+1]=function d_(a,l,u){if(null==u||""===u)return qt;const f=[],m=Yo(u);if(Array.isArray(m))for(let v=0;v<m.length;v++)a(f,m[v],!0);else if("object"==typeof m)for(const v in m)m.hasOwnProperty(v)&&a(f,v,m[v]);else"string"==typeof m&&l(f,m);return f}(a,l,u),f,v)}}(li,ia,a,!0)}function ia(a,l){for(let u=function O0(a){return function QE(a){Vi.key=0,Vi.keyEnd=0,Vi.value=0,Vi.valueEnd=0,Vi.textEnd=a.length}(a),Yl(a,tl(a,0,Vi.textEnd))}(l);u>=0;u=Yl(l,u))li(a,Eh(l),!0)}function vs(a,l,u,f){const m=Je(),v=on(),T=Ms(2);v.firstUpdatePass&&c_(v,a,T,f),l!==an&&Ur(m,T,l)&&tT(v,v.data[br()],m,m[11],a,m[T+1]=function kL(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=j(Yo(a)))),a}(l,u),f,T)}function XE(a,l){return l>=a.expandoStartIndex}function c_(a,l,u,f){const m=a.data;if(null===m[u+1]){const v=m[br()],T=XE(a,u);fp(v,f)&&null===l&&!T&&(l=!1),l=function Yx(a,l,u,f){const m=function Au(a){const l=Lt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let v=f?l.residualClasses:l.residualStyles;if(null===m)0===(f?l.classBindings:l.styleBindings)&&(u=Wc(u=u_(null,a,l,u,f),l.attrs,f),v=null);else{const T=l.directiveStylingLast;if(-1===T||a[T]!==m)if(u=u_(m,a,l,u,f),null===v){let R=function Qx(a,l,u){const f=u?l.classBindings:l.styleBindings;if(0!==jl(f))return a[ta(f)]}(a,l,f);void 0!==R&&Array.isArray(R)&&(R=u_(null,a,l,R[1],f),R=Wc(R,l.attrs,f),function Jx(a,l,u,f){a[ta(u?l.classBindings:l.styleBindings)]=f}(a,l,f,R))}else v=function js(a,l,u){let f;const m=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<m;v++)f=Wc(f,a[v].hostAttrs,u);return Wc(f,l.attrs,u)}(a,l,f)}return void 0!==v&&(f?l.residualClasses=v:l.residualStyles=v),u}(m,v,l,f),function KE(a,l,u,f,m,v){let T=v?l.classBindings:l.styleBindings,D=ta(T),R=jl(T);a[f]=u;let se,z=!1;if(Array.isArray(u)){const ge=u;se=ge[1],(null===se||ms(ge,se)>0)&&(z=!0)}else se=u;if(m)if(0!==R){const Se=ta(a[D+1]);a[f+1]=ad(Se,D),0!==Se&&(a[Se+1]=Fm(a[Se+1],f)),a[D+1]=function Rm(a,l){return 131071&a|l<<17}(a[D+1],f)}else a[f+1]=ad(D,0),0!==D&&(a[D+1]=Fm(a[D+1],f)),D=f;else a[f+1]=ad(R,0),0===D?D=f:a[R+1]=Fm(a[R+1],f),R=f;z&&(a[f+1]=Wv(a[f+1])),o_(a,se,f,!0),o_(a,se,f,!1),function Wx(a,l,u,f,m){const v=m?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&ms(v,l)>=0&&(u[f+1]=Lm(u[f+1]))}(l,se,a,f,v),T=ad(D,R),v?l.classBindings=T:l.styleBindings=T}(m,v,l,u,T,f)}}function u_(a,l,u,f,m){let v=null;const T=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<T&&(v=l[D],f=Wc(f,v.hostAttrs,m),v!==a);)D++;return null!==a&&(u.directiveStylingLast=D),f}function Wc(a,l,u){const f=u?1:2;let m=-1;if(null!==l)for(let v=0;v<l.length;v++){const T=l[v];"number"==typeof T?m=T:m===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),li(a,T,!!u||l[++v]))}return void 0===a?null:a}function tT(a,l,u,f,m,v,T,D){if(!(3&l.type))return;const R=a.data,z=R[D+1];V0(function Jw(a){return 1==(1&a)}(z)?eM(R,l,u,m,jl(z),T):void 0)||(V0(v)||function Om(a){return 2==(2&a)}(z)&&(v=eM(R,null,u,m,D,T)),function BA(a,l,u,f,m){const v=On(a);if(l)m?v?a.addClass(u,f):u.classList.add(f):v?a.removeClass(u,f):u.classList.remove(f);else{let T=-1===f.indexOf("-")?void 0:Za.DashCase;if(null==m)v?a.removeStyle(u,f,T):u.style.removeProperty(f);else{const D="string"==typeof m&&m.endsWith("!important");D&&(m=m.slice(0,-10),T|=Za.Important),v?a.setStyle(u,f,m,T):u.style.setProperty(f,m,D?"important":"")}}}(f,T,Lo(br(),u),m,v))}function eM(a,l,u,f,m,v){const T=null===l;let D;for(;m>0;){const R=a[m],z=Array.isArray(R),se=z?R[1]:R,ge=null===se;let Se=u[m+1];Se===an&&(Se=ge?qt:void 0);let ke=ge?Vr(Se,f):se===f?Se:void 0;if(z&&!V0(ke)&&(ke=Vr(R,f)),V0(ke)&&(D=ke,T))return D;const ze=a[m+1];m=T?ta(ze):jl(ze)}if(null!==l){let R=v?l.residualClasses:l.residualStyles;null!=R&&(D=Vr(R,f))}return D}function V0(a){return void 0!==a}function fp(a,l){return 0!=(a.flags&(l?16:32))}function nT(a,l=""){const u=Je(),f=on(),m=a+22,v=f.firstCreatePass?cd(f,m,1,l,null):f.data[m],T=u[m]=um(u[11],l);Hc(f,u,T,v),Jr(v,!1)}function B0(a){return h_("",a,""),B0}function h_(a,l,u){const f=Je(),m=mh(f,a,l,u);return m!==an&&function na(a,l,u){const f=Lo(l,a);Ev(a[11],f,u)}(f,br(),m),h_}function __(a,l,u){const f=Je();return Ur(f,hs(),l)&&Hs(on(),oi(),f,a,l,f[11],u,!0),__}const qc=void 0;var gM=["en",[["a","p"],["AM","PM"],qc],[["AM","PM"],qc,qc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qc,"{1} 'at' {0}",qc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pM(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Th={};function Z0(a){const l=function mM(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=cT(l);if(u)return u;const f=l.split("-")[0];if(u=cT(f),u)return u;if("en"===f)return gM;throw new O(701,!1)}function K0(a){return Z0(a)[$t.PluralCase]}function cT(a){return a in Th||(Th[a]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[a]),Th[a]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const Y0=["zero","one","two","few","many"],Sh="en-US",v_={marker:"element"},_p={marker:"ICU"};var Bi=(()=>((Bi=Bi||{})[Bi.SHIFT=2]="SHIFT",Bi[Bi.APPEND_EAGERLY=1]="APPEND_EAGERLY",Bi[Bi.COMMENT=2]="COMMENT",Bi))();let b_=Sh;function Ih(a){(function Ze(a,l){null==a&&Be(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(b_=a.toLowerCase().replace(/_/g,"-"))}function uT(a,l,u){const f=l.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?ui(a,0,u):qn(u[m])}function dT(a,l,u,f,m){const v=l.insertBeforeIndex;if(Array.isArray(v)){let T=f,D=null;if(3&l.type||(D=T,T=m),null!==T&&0==(2&l.flags))for(let R=1;R<v.length;R++)Ul(a,T,u[v[R]],D,!1)}}function C_(a,l){if(a.push(l),a.length>1)for(let u=a.length-2;u>=0;u--){const f=a[u];hT(f)||vM(f,l)&&null===w_(f)&&bM(f,l.index)}}function hT(a){return!(64&a.type)}function vM(a,l){return hT(l)||a.index>l.index}function w_(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function bM(a,l){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=l:(_m(uT,dT),a.insertBeforeIndex=l)}function Dh(a,l){const u=a.data[l];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Co(a,l,u){const f=s0(a,u,64,null,null);return C_(l,f),f}function Jl(a,l){const u=l[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function gT(a){return a>>>17}function mT(a){return(131070&a)>>>1}let Ah=0,Zc=0;function _T(a,l,u,f){const m=u[11];let T,v=null;for(let D=0;D<l.length;D++){const R=l[D];if("string"==typeof R){const z=l[++D];null===u[z]&&(u[z]=um(m,R))}else if("number"==typeof R)switch(1&R){case 0:const z=gT(R);let se,ge;if(null===v&&(v=z,T=gm(m,f)),z===v?(se=f,ge=T):(se=null,ge=qn(u[z])),null!==ge){const nt=mT(R);Ul(m,ge,u[nt],se,!1);const Et=Dh(a,nt);if(null!==Et&&"object"==typeof Et){const Ut=Jl(Et,u);null!==Ut&&_T(a,Et.create[Ut],u,u[Et.anchorIdx])}}break;case 1:const ke=l[++D],ze=l[++D];yE(m,Lo(R>>>1,u),null,null,ke,ze,null)}else switch(R){case _p:const z=l[++D],se=l[++D];null===u[se]&&Ar(u[se]=_w(m,z),u);break;case v_:const ge=l[++D],Se=l[++D];null===u[Se]&&Ar(u[Se]=dm(m,ge,null),u)}}}function eb(a,l,u,f,m){for(let v=0;v<u.length;v++){const T=u[v],D=u[++v];if(T&m){let R="";for(let z=v+1;z<=v+D;z++){const se=u[z];if("string"==typeof se)R+=se;else if("number"==typeof se)if(se<0)R+=N(l[f-se]);else{const ge=se>>>2;switch(3&se){case 1:const Se=u[++z],ke=u[++z],ze=a.data[ge];"string"==typeof ze?yE(l[11],l[ge],null,ze,Se,R,ke):Hs(a,ze,l,Se,R,l[11],ke,!1);break;case 0:const nt=l[ge];null!==nt&&Ev(l[11],nt,R);break;case 2:TM(a,Dh(a,ge),l,R);break;case 3:yT(a,Dh(a,ge),f,l)}}}}else{const R=u[v+1];if(R>0&&3==(3&R)){const se=Dh(a,R>>>2);l[se.currentCaseLViewIndex]<0&&yT(a,se,f,l)}}v+=D}}function yT(a,l,u,f){let m=f[l.currentCaseLViewIndex];if(null!==m){let v=Ah;m<0&&(m=f[l.currentCaseLViewIndex]=~m,v=-1),eb(a,f,l.update[m],u,v)}}function TM(a,l,u,f){const m=function SM(a,l){let u=a.cases.indexOf(l);if(-1===u)switch(a.type){case 1:{const f=function _M(a,l){const u=K0(l)(parseInt(a,10)),f=Y0[u];return void 0!==f?f:"other"}(l,function Q0(){return b_}());u=a.cases.indexOf(f),-1===u&&"other"!==f&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(l,f);if(Jl(l,u)!==m&&(vT(a,l,u),u[l.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const T=u[l.anchorIdx];T&&_T(a,l.create[m],u,T)}}function vT(a,l,u){let f=Jl(l,u);if(null!==f){const m=l.remove[f];for(let v=0;v<m.length;v++){const T=m[v];if(T>0){const D=Lo(T,u);null!==D&&Sw(u[11],D)}else vT(a,Dh(a,~T),u)}}}function bT(){const a=[];let u,f,l=-1;function v(D,R){l=0;const z=Jl(D,R);f=null!==z?D.remove[z]:qt}function T(){if(l<f.length){const D=f[l++];return D>0?u[D]:(a.push(l,f),v(u[1].data[~D],u),T())}return 0===a.length?null:(f=a.pop(),l=a.pop(),T())}return function m(D,R){for(u=R;a.length;)a.pop();return v(D.value,R),T}}const E_=/\ufffd(\d+):?\d*\ufffd/gi,xM=/\ufffd(\d+)\ufffd/,wT=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ET=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,TT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,MM=/\uE500/g;function Ji(a,l,u,f,m,v,T){const D=ud(a,f,1,null);let R=D<<Bi.SHIFT,z=Tl();l===z&&(z=null),null===z&&(R|=Bi.APPEND_EAGERLY),T&&(R|=Bi.COMMENT,function xA(a){void 0===yv&&(yv=a())}(bT)),m.push(R,null===v?"":v);const se=s0(a,D,T?32:1,null===v?"":v,null);C_(u,se);const ge=se.index;return Jr(se,!1),null!==z&&l!==z&&function pT(a,l){let u=a.insertBeforeIndex;null===u?(_m(uT,dT),u=a.insertBeforeIndex=[null,l]):(function ye(a,l,u){a!=l&&Be(u,a,l,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(l))}(z,ge),se}function nb(a,l,u,f,m,v,T){const D=T.match(E_),R=Ji(a,l,u,v,f,D?null:T,!1);D&&xh(m,T,R.index,null,0,null)}function xh(a,l,u,f,m,v){const T=a.length,D=T+1;a.push(null,null);const R=T+2,z=l.split(E_);let se=0;for(let ge=0;ge<z.length;ge++){const Se=z[ge];if(1&ge){const ke=m+parseInt(Se,10);a.push(-1-ke),se|=ib(ke)}else""!==Se&&a.push(Se)}return a.push(u<<2|(f?1:0)),f&&a.push(f,v),a[T]=se,a[D]=a.length-R,se}function ib(a){return 1<<Math.min(a,31)}function rb(a){let l,v,u="",f=0,m=!1;for(;null!==(l=ET.exec(a));)m?l[0]===`\ufffd/*${v}\ufffd`&&(f=l.index,m=!1):(u+=a.substring(f,l.index+l[0].length),v=l[1],m=!0);return u+=a.slice(f),u}function zt(a,l,u,f,m,v){let T=0;const D={type:m.type,currentCaseLViewIndex:ud(a,l,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function OM(a,l,u){a.push(ib(l.mainBinding),2,-1-l.mainBinding,u<<2|2)})(u,m,v),function fT(a,l,u){const f=a.data[l];null===f?a.data[l]=u:f.value=u}(a,v,D);const R=m.values;for(let z=0;z<R.length;z++){const se=R[z],ge=[];for(let Se=0;Se<se.length;Se++){const ke=se[Se];if("string"!=typeof ke){const ze=ge.push(ke)-1;se[Se]=`\x3c!--\ufffd${ze}\ufffd--\x3e`}}T=S_(a,D,l,u,f,m.cases[z],se.join(""),ge)|T}T&&function RM(a,l,u){a.push(l,1,u<<2|3)}(u,T,v)}function Xl(a){const l=[],u=[];let f=1,m=0;const v=ec(a=a.replace(wT,function(T,D,R){return f="select"===R?0:1,m=parseInt(D.slice(1),10),""}));for(let T=0;T<v.length;){let D=v[T++].trim();1===f&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&l.push(D);const R=ec(v[T++]);l.length>u.length&&u.push(R)}return{type:f,mainBinding:m,cases:l,values:u}}function ec(a){if(!a)return[];let l=0;const u=[],f=[],m=/[{}]/g;let v;for(m.lastIndex=0;v=m.exec(a);){const D=v.index;if("}"==v[0]){if(u.pop(),0==u.length){const R=a.substring(l,D);wT.test(R)?f.push(Xl(R)):f.push(R),l=D+1}}else{if(0==u.length){const R=a.substring(l,D);f.push(R),l=D+1}u.push("{")}}const T=a.substring(l);return f.push(T),f}function S_(a,l,u,f,m,v,T,D){const R=[],z=[],se=[];l.cases.push(v),l.create.push(R),l.remove.push(z),l.update.push(se);const Se=function Oe(a){const l=new gt(a);return function Vt(){try{return!!(new window.DOMParser).parseFromString(Vc(""),"text/html")}catch{return!1}}()?new Ke(l):l}(bu()).getInertBodyElement(T),ke=function rm(a){return"content"in a&&function sw(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}(Se)||Se;return ke?kM(a,l,u,f,R,z,se,ke,m,D,0):0}function kM(a,l,u,f,m,v,T,D,R,z,se){let ge=0,Se=D.firstChild;for(;Se;){const ke=ud(a,u,1,null);switch(Se.nodeType){case Node.ELEMENT_NODE:const ze=Se,nt=ze.tagName.toLowerCase();if(ih.hasOwnProperty(nt)){lb(m,v_,nt,R,ke),a.data[ke]=nt;const Xe=ze.attributes;for(let wt=0;wt<Xe.length;wt++){const En=Xe.item(wt),mn=En.name.toLowerCase();En.value.match(E_)?nw.hasOwnProperty(mn)&&xh(T,En.value,ke,En.name,0,rh[mn]?Bs:Wa[mn]?za:null):FM(m,ke,En)}ge=kM(a,l,u,f,m,v,T,Se,ke,z,se+1)|ge,IT(v,ke,se)}break;case Node.TEXT_NODE:const ht=Se.textContent||"",Et=ht.match(E_);lb(m,null,Et?"":ht,R,ke),IT(v,ke,se),Et&&(ge=xh(T,ht,ke,null,0,null)|ge);break;case Node.COMMENT_NODE:const Ut=xM.exec(Se.textContent||"");if(Ut){const wt=z[parseInt(Ut[1],10)];lb(m,_p,"",R,ke),zt(a,u,f,R,wt,ke),ab(v,ke,se)}}Se=Se.nextSibling}return ge}function IT(a,l,u){0===u&&a.push(l)}function ab(a,l,u){0===u&&(a.push(~l),a.push(l))}function lb(a,l,u,f,m){null!==l&&a.push(l),a.push(u,m,function CM(a,l,u){return a|l<<17|u<<1}(0,f,m))}function FM(a,l,u){a.push(l<<1|1,u.name,u.value)}function rr(a,l,u=-1){const f=on(),m=Je(),v=22+a,T=ur(f.consts,l),D=Tl();f.firstCreatePass&&function VL(a,l,u,f,m,v){const T=Tl(),D=[],R=[],z=[[]];m=function sb(a,l){if(function ST(a){return-1===a}(l))return rb(a);{const u=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,f=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return rb(a.substring(u,f))}}(m,v);const se=function PM(a){return a.replace(MM," ")}(m).split(TT);for(let ge=0;ge<se.length;ge++){let Se=se[ge];if(0==(1&ge)){const ke=ec(Se);for(let ze=0;ze<ke.length;ze++){let nt=ke[ze];if(0==(1&ze)){const ht=nt;""!==ht&&nb(a,T,z[0],D,R,u,ht)}else{const ht=nt;if("object"!=typeof ht)throw new Error(`Unable to parse ICU expression in "${m}" message.`);zt(a,u,R,l,ht,Ji(a,T,z[0],u,D,"",!0).index)}}}else{const ke=47===Se.charCodeAt(0),nt=(Se.charCodeAt(ke?1:0),22+Number.parseInt(Se.substring(ke?2:1)));if(ke)z.shift(),Jr(Tl(),!1);else{const ht=Co(a,z[0],nt);z.unshift([]),Jr(ht,!0)}}}a.data[f]={create:D,update:R}}(f,null===D?0:D.index,m,v,T,u);const R=f.data[v],se=pm(f,D===m[6]?null:D,m);(function X0(a,l,u,f){const m=a[11];for(let v=0;v<l.length;v++){const T=l[v++],D=l[v],R=(T&Bi.COMMENT)===Bi.COMMENT,z=(T&Bi.APPEND_EAGERLY)===Bi.APPEND_EAGERLY,se=T>>>Bi.SHIFT;let ge=a[se];null===ge&&(ge=a[se]=R?m.createComment(D):um(m,D)),z&&null!==u&&Ul(m,u,ge,f,!1)}})(m,R.create,se,D&&8&D.type?m[D.index]:null),Ud(!0)}function ce(a,l,u){rr(a,l,u),function wo(){Ud(!1)}()}function I_(a){return function wM(a){a&&(Ah|=1<<Math.min(Zc,31)),Zc++}(Ur(Je(),hs(),a)),I_}function AT(a){!function EM(a,l,u){if(Zc>0){const f=a.data[u];eb(a,l,Array.isArray(f)?f:f.update,function vr(){return Lt.lFrame.bindingIndex}()-Zc-1,Ah)}Ah=0,Zc=0}(on(),Je(),a+22)}function $s(a,l,u,f,m){if(a=G(a),Array.isArray(a))for(let v=0;v<a.length;v++)$s(a[v],l,u,f,m);else{const v=on(),T=Je();let D=id(a)?a:G(a.provide),R=Nv(a);const z=si(),se=1048575&z.providerIndexes,ge=z.directiveStart,Se=z.providerIndexes>>20;if(id(a)||!a.multi){const ke=new Oa(R,m,Gl),ze=cb(D,l,m?se:se+Se,ge);-1===ze?(lo(oo(z,T),v,D),Mh(v,a,l.length),l.push(D),z.directiveStart++,z.directiveEnd++,m&&(z.providerIndexes+=1048576),u.push(ke),T.push(ke)):(u[ze]=ke,T[ze]=ke)}else{const ke=cb(D,l,se+Se,ge),ze=cb(D,l,se,se+Se),nt=ke>=0&&u[ke],ht=ze>=0&&u[ze];if(m&&!ht||!m&&!nt){lo(oo(z,T),v,D);const Et=function HM(a,l,u,f,m){const v=new Oa(a,u,Gl);return v.multi=[],v.index=l,v.componentProviders=0,D_(v,m,f&&!u),v}(m?UM:BM,u.length,m,f,R);!m&&ht&&(u[ze].providerFactory=Et),Mh(v,a,l.length,0),l.push(D),z.directiveStart++,z.directiveEnd++,m&&(z.providerIndexes+=1048576),u.push(Et),T.push(Et)}else Mh(v,a,ke>-1?ke:ze,D_(u[m?ze:ke],R,!m&&f));!m&&f&&ht&&u[ze].componentProviders++}}}function Mh(a,l,u,f){const m=id(l),v=function YF(a){return!!a.useClass}(l);if(m||v){const R=(v?G(l.useClass):l).prototype.ngOnDestroy;if(R){const z=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const se=z.indexOf(u);-1===se?z.push(u,[f,R]):z[se+1].push(f,R)}else z.push(u,R)}}}function D_(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function cb(a,l,u,f){for(let m=u;m<f;m++)if(l[m]===a)return m;return-1}function BM(a,l,u,f){return A_(this.multi,[])}function UM(a,l,u,f){const m=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Nl(u,u[1],this.providerFactory.index,f);v=D.slice(0,T),A_(m,v);for(let R=T;R<D.length;R++)v.push(D[R])}else v=[],A_(m,v);return v}function A_(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function xT(a,l=[]){return u=>{u.providersResolver=(f,m)=>function Cr(a,l,u){const f=on();if(f.firstCreatePass){const m=cr(a);$s(u,f.data,f.blueprint,m,!0),$s(l,f.data,f.blueprint,m,!1)}}(f,m?m(a):a,l)}}class x_{resolveComponentFactory(l){throw function GM(a){const l=Error(`No component factory found for ${j(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Ph=(()=>{class a{}return a.NULL=new x_,a})();class tc{}class vp{}class M_{}function jM(){return Nh(si(),Je())}function Nh(a,l){return new bp(Si(a,l))}let bp=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=jM,a})();function $M(a){return a instanceof bp?a.nativeElement:a}class kh{}let PT=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function NT(){const a=Je(),u=Zi(si().index,a);return function P_(a){return a[11]}(ti(u)?u:a)}(),a})(),zM=(()=>{class a{}return a.\u0275prov=yt({token:a,providedIn:"root",factory:()=>null}),a})();class kT{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const OT=new kT("14.0.4"),db={};function Cp(a,l,u,f,m=!1){for(;null!==u;){const v=l[u.index];if(null!==v&&f.push(qn(v)),lr(v))for(let D=10;D<v.length;D++){const R=v[D],z=R[1].firstChild;null!==z&&Cp(R[1],R,z,f)}const T=u.type;if(8&T)Cp(a,l,u.child,f);else if(32&T){const D=cm(u,l);let R;for(;R=D();)f.push(R)}else if(16&T){const D=Tw(l,u);if(Array.isArray(D))f.push(...D);else{const R=Kf(l[16]);Cp(R[1],R,D,f,!0)}}u=m?u.projectionNext:u.next}return f}class gd{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Cp(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(lr(l)){const u=l[8],f=u?u.indexOf(this):-1;f>-1&&(hm(l,f),fo(u,f))}this._attachedToViewContainer=!1}fm(this._lView[1],this._lView)}onDestroy(l){$c(this._lView[1],this._lView,null,l)}markForCheck(){h0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function dh(a,l,u){const f=l[10];f.begin&&f.begin();try{dd(a,l,a.template,u)}catch(m){throw Qi(l,m),m}finally{f.end&&f.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function PA(a,l){bm(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=l}}class RT extends gd{constructor(l){super(l),this._view=l}detectChanges(){ql(this._view)}checkNoChanges(){}get context(){return null}}class wp extends Ph{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Ee(l);return new Tp(u,this.ngModule)}}function hb(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class WM{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,f){const m=this.injector.get(l,db,f);return m!==db||u===db?m:this.parentInjector.get(l,u,f)}}class Tp extends M_{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function qA(a){return a.map(kw).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return hb(this.componentDef.inputs)}get outputs(){return hb(this.componentDef.outputs)}create(l,u,f,m){let v=(m=m||this.ngModule)instanceof rd?m:m?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const T=v?new WM(l,v):l,D=T.get(kh,wc),R=T.get(zM,null),z=D.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",ge=f?function c0(a,l,u){if(On(a))return a.selectRootElement(l,u===Xt.ShadowDom);let f="string"==typeof l?a.querySelector(l):l;return f.textContent="",f}(z,f,this.componentDef.encapsulation):dm(D.createRenderer(null,this.componentDef),se,function Ep(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(se)),Se=this.componentDef.onPush?288:272,ke=function Bx(a,l){return{components:[],scheduler:a||lm,clean:bE,playerHandler:l||null,flags:0}}(),ze=a0(0,null,null,1,0,null,null,null,null,null),nt=ld(null,ze,ke,Se,null,null,D,z,R,T,null);let ht,Et;fs(nt);try{const Ut=function AE(a,l,u,f,m,v){const T=u[1];u[22]=a;const R=cd(T,22,2,"#host",null),z=R.mergedAttrs=l.hostAttrs;null!==z&&(hd(R,z,!0),null!==a&&(xl(m,a,z),null!==R.classes&&Dw(m,a,R.classes),null!==R.styles&&Ka(m,a,R.styles)));const se=f.createRenderer(a,l),ge=ld(u,cE(l),null,l.onPush?32:16,u[22],R,f,se,v||null,null,null);return T.firstCreatePass&&(lo(oo(R,u),T,l.type),Ix(T,R),_E(R,u.length,1)),$m(u,ge),u[22]=ge}(ge,this.componentDef,nt,D,z);if(ge)if(f)xl(z,ge,["ng-version",OT.full]);else{const{attrs:Xe,classes:wt}=function ZA(a){const l=[],u=[];let f=1,m=2;for(;f<a.length;){let v=a[f];if("string"==typeof v)2===m?""!==v&&l.push(v,a[++f]):8===m&&u.push(v);else{if(!Xo(m))break;m=v}f++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Xe&&xl(z,ge,Xe),wt&&wt.length>0&&Dw(z,ge,wt.join(" "))}if(Et=ri(ze,22),void 0!==u){const Xe=Et.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const En=u[wt];Xe.push(null!=En?Array.from(En):null)}}ht=function Vx(a,l,u,f,m){const v=u[1],T=function Tx(a,l,u){const f=si();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),d0(a,f,l,ud(a,l,1,null),u));const m=Nl(l,a,f.directiveStart,f);Ar(m,l);const v=Si(f,l);return v&&Ar(v,l),m}(v,u,l);if(f.components.push(T),a[8]=T,null!==m)for(const R of m)R(T,l);if(l.contentQueries){const R=si();l.contentQueries(1,T,R.directiveStart)}const D=si();return!v.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Il(D.index),hE(u[1],D,0,D.directiveStart,D.directiveEnd,l),gE(l,T)),T}(Ut,this.componentDef,nt,ke,[xE]),op(ze,nt,null)}finally{Dc()}return new fb(this.componentType,ht,Nh(Et,nt),nt,Et)}}class fb extends class ub{}{constructor(l,u,f,m,v){super(),this.location=f,this._rootLView=m,this._tNode=v,this.instance=u,this.hostView=this.changeDetectorRef=new RT(m),this.componentType=l}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function LT(a,l){return new pb(a,l??null)}class pb extends tc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wp(this);const f=st(l);this._bootstrapComponents=Bl(f.bootstrap),this._r3Injector=Rv(l,u,[{provide:tc,useValue:this},{provide:Ph,useValue:this.componentFactoryResolver}],j(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(l)}get(l,u=ea.THROW_IF_NOT_FOUND,f=bt.Default){return l===ea||l===tc||l===Tm?this:this._r3Injector.get(l,u,f)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Sp extends vp{constructor(l){super(),this.moduleType=l}create(l){return new pb(this.moduleType,l)}}class qM extends tc{constructor(l,u,f){super(),this.componentFactoryResolver=new wp(this),this.instance=null;const m=new Jf([...l,{provide:tc,useValue:this},{provide:Ph,useValue:this.componentFactoryResolver}],u||Dm(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function gb(a,l=null,u=null){return new qM(a,l,u).injector}function k_(a,l,u,f){return function UT(a,l,u,f,m,v){const T=l+u;return Ur(a,T,m)?Zl(a,T+1,v?f.call(v,m):f(m)):Ip(a,T+1)}(Je(),nr(),a,l,u,f)}function yb(a,l,u,f,m){return function HT(a,l,u,f,m,v,T){const D=l+u;return fd(a,D,m,v)?Zl(a,D+2,T?f.call(T,m,v):f(m,v)):Ip(a,D+2)}(Je(),nr(),a,l,u,f,m)}function VT(a,l,u,f,m,v){return function GT(a,l,u,f,m,v,T,D){const R=l+u;return function Qm(a,l,u,f,m){const v=fd(a,l,u,f);return Ur(a,l+2,m)||v}(a,R,m,v,T)?Zl(a,R+3,D?f.call(D,m,v,T):f(m,v,T)):Ip(a,R+3)}(Je(),nr(),a,l,u,f,m,v)}function Ip(a,l){const u=a[l];return u===an?void 0:u}function F_(a){return l=>{setTimeout(a,void 0,l)}}const oa=class qT extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,f){let m=l,v=u||(()=>null),T=f;if(l&&"object"==typeof l){const R=l;m=R.next?.bind(R),v=R.error?.bind(R),T=R.complete?.bind(R)}this.__isAsync&&(v=F_(v),m&&(m=F_(m)),T&&(T=F_(T)));const D=super.subscribe({next:m,error:v,complete:T});return l instanceof y.w0&&l.add(D),D}};function qL(){return this._results[fh()]()}class bb{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=fh(),f=bb.prototype;f[u]||(f[u]=qL)}get changes(){return this._changes||(this._changes=new oa)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const f=this;f.dirty=!1;const m=Vn(l);(this._changesDetected=!function Ai(a,l,u){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let m=a[f],v=l[f];if(u&&(m=u(m),v=u(v)),v!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let L_=(()=>{class a{}return a.__NG_ELEMENT_ID__=KL,a})();const ZL=L_,Cb=class extends ZL{constructor(l,u,f){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(l,u){const f=this._declarationTContainer.tViews,m=ld(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,u||null);m[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(m[19]=T.createEmbeddedView(f)),op(f,m,l),new gd(m)}};function KL(){return V_(si(),Je())}function V_(a,l){return 4&a.type?new Cb(l,a,Nh(a,l)):null}let Dp=(()=>{class a{}return a.__NG_ELEMENT_ID__=iP,a})();function iP(){return U_(si(),Je())}const ZT=Dp,B_=class extends ZT{constructor(l,u,f){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=f}get element(){return Nh(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){const l=ao(this._hostTNode,this._hostLView);if(ni(l)){const u=Fa(l,this._hostLView),f=pi(l);return new es(u[1].data[f+8],u)}return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=nc(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,f){let m,v;"number"==typeof f?m=f:null!=f&&(m=f.index,v=f.injector);const T=l.createEmbeddedView(u||{},v);return this.insert(T,m),T}createComponent(l,u,f,m,v){const T=l&&!function Ha(a){return"function"==typeof a}(l);let D;if(T)D=u;else{const ge=u||{};D=ge.index,f=ge.injector,m=ge.projectableNodes,v=ge.environmentInjector||ge.ngModuleRef}const R=T?l:new Tp(Ee(l)),z=f||this.parentInjector;if(!v&&null==R.ngModule){const Se=(T?z:this.parentInjector).get(rd,null);Se&&(v=Se)}const se=R.create(z,m,void 0,v);return this.insert(se.hostView,D),se}insert(l,u){const f=l._lView,m=f[1];if(function vl(a){return lr(a[3])}(f)){const se=this.indexOf(l);if(-1!==se)this.detach(se);else{const ge=f[3],Se=new B_(ge,ge[6],ge[3]);Se.detach(Se.indexOf(l))}}const v=this._adjustIndex(u),T=this._lContainer;!function kA(a,l,u,f){const m=10+f,v=u.length;f>0&&(u[m-1][4]=l),f<v-10?(l[4]=u[m],Rs(u,10+f,l)):(u.push(l),l[4]=null),l[3]=u;const T=l[17];null!==T&&u!==T&&function OA(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(T,l);const D=l[19];null!==D&&D.insertView(a),l[2]|=64}(m,f,T,v);const D=ym(v,T),R=f[11],z=gm(R,T[7]);return null!==z&&function Tv(a,l,u,f,m,v){f[0]=m,f[6]=l,bm(a,f,u,1,m,v)}(m,T[6],R,f,z,D),l.attachToViewContainerRef(),Rs(KT(T),v,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=nc(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),f=hm(this._lContainer,u);f&&(fo(KT(this._lContainer),u),fm(f[1],f))}detach(l){const u=this._adjustIndex(l,-1),f=hm(this._lContainer,u);return f&&null!=fo(KT(this._lContainer),u)?new gd(f):null}_adjustIndex(l,u=0){return l??this.length+u}};function nc(a){return a[8]}function KT(a){return a[8]||(a[8]=[])}function U_(a,l){let u;const f=l[a.index];if(lr(f))u=f;else{let m;if(8&a.type)m=qn(f);else{const v=l[11];m=v.createComment("");const T=Si(a,l);Ul(v,gm(v,T),m,function VA(a,l){return On(a)?a.nextSibling(l):l.nextSibling}(v,T),!1)}l[a.index]=u=Dx(f,l,m,a),$m(l,u)}return new B_(u,a,l)}class wb{constructor(l){this.queryList=l,this.matches=null}clone(){return new wb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const f=null!==l.contentQueries?l.contentQueries[0]:u.length,m=[];for(let v=0;v<f;v++){const T=u.getByIndex(v);m.push(this.queries[T.indexInDeclarationView].clone())}return new Eb(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Fh(l,u).matches&&this.queries[u].setDirty()}}class sP{constructor(l,u,f=null){this.predicate=l,this.flags=u,this.read=f}}class YT{constructor(l=[]){this.queries=l}elementStart(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,v=this.getByIndex(f).embeddedTView(l,m);v&&(v.indexInDeclarationView=f,null!==u?u.push(v):u=[v])}return null!==u?new YT(u):null}template(l,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Tb{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Tb(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const v=f[m];this.matchTNodeWithReadOption(l,u,QL(u,v)),this.matchTNodeWithReadOption(l,u,Pl(u,l,v,!1,!1))}else f===L_?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Pl(u,l,f,!1,!1))}matchTNodeWithReadOption(l,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===bp||m===Dp||m===L_&&4&u.type)this.addMatch(u.index,-2);else{const v=Pl(u,l,m,!1,!1);null!==v&&this.addMatch(u.index,v)}else this.addMatch(u.index,f)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function QL(a,l){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===l)return u[f+1];return null}function XL(a,l,u,f){return-1===u?function JL(a,l){return 11&a.type?Nh(a,l):4&a.type?V_(a,l):null}(l,a):-2===u?function e2(a,l,u){return u===bp?Nh(l,a):u===L_?V_(l,a):u===Dp?U_(l,a):void 0}(a,l,f):Nl(a,a[1],u,l)}function oP(a,l,u,f){const m=l[19].queries[f];if(null===m.matches){const v=a.data,T=u.matches,D=[];for(let R=0;R<T.length;R+=2){const z=T[R];D.push(z<0?null:XL(l,v[z],T[R+1],u.metadata.read))}m.matches=D}return m.matches}function Rh(a,l,u,f){const m=a.queries.getByIndex(u),v=m.matches;if(null!==v){const T=oP(a,l,m,u);for(let D=0;D<v.length;D+=2){const R=v[D];if(R>0)f.push(T[D/2]);else{const z=v[D+1],se=l[-R];for(let ge=10;ge<se.length;ge++){const Se=se[ge];Se[17]===Se[3]&&Rh(Se[1],Se,z,f)}if(null!==se[9]){const ge=se[9];for(let Se=0;Se<ge.length;Se++){const ke=ge[Se];Rh(ke[1],ke,z,f)}}}}}return f}function QT(a){const l=Je(),u=on(),f=xu();Na(f+1);const m=Fh(u,f);if(a.dirty&&Cu(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const v=m.crossesNgTemplate?Rh(u,l,f,[]):oP(u,l,m,f);a.reset(v,$M),a.notifyOnChanges()}return!0}return!1}function H_(a,l,u){const f=on();f.firstCreatePass&&(z_(f,new sP(a,l,u),-1),2==(2&l)&&(f.staticViewQueries=!0)),$_(f,Je(),l)}function G_(a,l,u,f){const m=on();if(m.firstCreatePass){const v=si();z_(m,new sP(l,u,f),v.index),function Ib(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(m,a),2==(2&u)&&(m.staticContentQueries=!0)}$_(m,Je(),u)}function j_(){return function Sb(a,l){return a[19].queries[l].queryList}(Je(),xu())}function $_(a,l,u){const f=new bb(4==(4&u));$c(a,l,f,f.destroy),null===l[19]&&(l[19]=new Eb),l[19].queries.push(new wb(f))}function z_(a,l,u){null===a.queries&&(a.queries=new YT),a.queries.track(new Tb(l,u))}function Fh(a,l){return a.queries.getByIndex(l)}function JT(a,l){return V_(a,l)}function Vh(a){const l=Ee(a)||Te(a)||$e(a);return null!==l&&l.standalone}function Z_(...a){}const aa=new bn("Application Initializer");let Bh=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Z_,this.reject=Z_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const v=this.appInits[m]();if(el(v))u.push(v);else if(t_(v)){const T=new Promise((D,R)=>{v.subscribe({complete:D,error:R})});u.push(T)}}Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(mt(aa,8))},a.\u0275prov=yt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const fS=new bn("AppId",{providedIn:"root",factory:function pS(){return`${Lb()}${Lb()}${Lb()}`}});function Lb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hr=new bn("Platform Initializer"),K_=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gS=new bn("appBootstrapListener"),wP=new bn("AnimationModuleType");let EP=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=yt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Q_=new bn("LocaleId",{providedIn:"root",factory:()=>ir(Q_,bt.Optional|bt.SkipSelf)||function mS(){return typeof $localize<"u"&&$localize.locale||Sh}()}),Vb=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class IP{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let rl=(()=>{class a{compileModuleSync(u){return new Sp(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),v=Bl(st(u).declarations).reduce((T,D)=>{const R=Ee(D);return R&&T.push(new Tp(R)),T},[]);return new IP(f,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=yt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const DP=(()=>Promise.resolve(0))();function Ub(a){typeof Zone>"u"?DP.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Pr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function Uh(){let a=ut.requestAnimationFrame,l=ut.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function AP(a){const l=()=>{!function yS(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(ut,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Gb(a),a.isCheckStableRunning=!0,Hb(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Gb(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,v,T,D)=>{try{return vS(a),u.invokeTask(m,v,T,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),bS(a)}},onInvoke:(u,f,m,v,T,D,R)=>{try{return vS(a),u.invoke(m,v,T,D,R)}finally{a.shouldCoalesceRunChangeDetection&&l(),bS(a)}},onHasTask:(u,f,m,v)=>{u.hasTask(m,v),f===m&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,Gb(a),Hb(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(u,f,m,v)=>(u.handleError(m,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pr.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(Pr.isInAngularZone())throw new O(909,!1)}run(l,u,f){return this._inner.run(l,u,f)}runTask(l,u,f,m){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+m,l,_S,Z_,Z_);try{return v.runTask(T,u,f)}finally{v.cancelTask(T)}}runGuarded(l,u,f){return this._inner.runGuarded(l,u,f)}runOutsideAngular(l){return this._outer.run(l)}}const _S={};function Hb(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Gb(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function vS(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function bS(a){a._nesting--,Hb(a)}class CS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(l,u,f){return l.apply(u,f)}runGuarded(l,u,f){return l.apply(u,f)}runOutsideAngular(l){return l()}runTask(l,u,f,m){return l.apply(u,f)}}const jb=new bn(""),Pp=new bn("");let J_,$b=(()=>{class a{constructor(u,f,m){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J_||(function xP(a){J_=a}(m),m.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pr.assertNotInAngularZone(),Ub(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ub(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,m){return[]}}return a.\u0275fac=function(u){return new(u||a)(mt(Pr),mt(wS),mt(Pp))},a.\u0275prov=yt({token:a,factory:a.\u0275fac}),a})(),wS=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return J_?.findTestabilityInTree(this,u,f)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=yt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Yc=null;const ES=new bn("AllowMultipleToken"),Nr=new bn("PlatformDestroyListeners");class PP{constructor(l,u){this.name=l,this.token=u}}function IS(a,l,u=[]){const f=`Platform: ${l}`,m=new bn(f);return(v=[])=>{let T=Wb();if(!T||T.injector.get(ES,!1)){const D=[...u,...v,{provide:m,useValue:!0}];a?a(D):function NP(a){if(Yc&&!Yc.get(ES,!1))throw new O(400,!1);Yc=a;const l=a.get(DS);(function SS(a){const l=a.get(Hr,null);l&&l.forEach(u=>u())})(a)}(function zb(a=[],l){return ea.create({name:l,providers:[{provide:Sm,useValue:"platform"},{provide:Nr,useValue:new Set([()=>Yc=null])},...a]})}(D,f))}return function kP(a){const l=Wb();if(!l)throw new O(401,!1);return l}()}}function Wb(){return Yc?.get(DS)??null}let DS=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const m=function OP(a,l){let u;return u="noop"===a?new CS:("zone.js"===a?void 0:a)||new Pr(l),u}(f?.ngZone,function qb(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),v=[{provide:Pr,useValue:m}];return m.run(()=>{const T=ea.create({providers:v,parent:this.injector,name:u.moduleType.name}),D=u.create(T),R=D.injector.get(Jo,null);if(!R)throw new O(402,!1);return m.runOutsideAngular(()=>{const z=m.onError.subscribe({next:se=>{R.handleError(se)}});D.onDestroy(()=>{Gh(this._modules,D),z.unsubscribe()})}),function AS(a,l,u){try{const f=u();return el(f)?f.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(R,m,()=>{const z=D.injector.get(Bh);return z.runInitializers(),z.donePromise.then(()=>(Ih(D.injector.get(Q_,Sh)||Sh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,f=[]){const m=xS({},f);return function MP(a,l,u){const f=new Sp(u);return Promise.resolve(f)}(0,0,u).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(u){const f=u.injector.get(kp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new O(403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(Nr,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(mt(ea))},a.\u0275prov=yt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function xS(a,l){return Array.isArray(l)?l.reduce(xS,a):{...a,...l}}let kp=(()=>{class a{constructor(u,f,m){this._zone=u,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new b.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),T=new b.y(D=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Pr.assertNotInAngularZone(),Ub(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Pr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{R.unsubscribe(),z.unsubscribe()}});this.isStable=(0,A.T)(v,T.pipe((0,F.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const m=u instanceof M_;if(!this._injector.get(Bh).done)throw!m&&Vh(u),new O(405,false);let T;T=m?u:this._injector.get(Ph).resolveComponentFactory(u),this.componentTypes.push(T.componentType);const D=function TS(a){return a.isBoundToModule}(T)?void 0:this._injector.get(tc),z=T.create(ea.NULL,[],f||T.selector,D),se=z.location.nativeElement,ge=z.injector.get(jb,null);return ge?.registerApplication(se),z.onDestroy(()=>{this.detachView(z.hostView),Gh(this.components,z),ge?.unregisterApplication(se)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Gh(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(gS,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Gh(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new O(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(mt(Pr),mt(ea),mt(Jo))},a.\u0275prov=yt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Gh(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let MS=!0,PS=!1;function FP(){return PS=!0,MS}function NS(){if(PS)throw new Error("Cannot enable prod mode after platform setup.");MS=!1}let LP=(()=>{class a{}return a.__NG_ELEMENT_ID__=kS,a})();function kS(a){return function VP(a,l,u){if(ko(a)&&!u){const f=Zi(a.index,l);return new gd(f,f)}return 47&a.type?new gd(l[16],l):null}(si(),Je(),16==(16&a))}class Op{constructor(){}supports(l){return Km(l)}create(l){return new US(l)}}const BS=(a,l)=>l;class US{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||BS}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,f=this._removalsHead,m=0,v=null;for(;u||f;){const T=!f||u&&u.currentIndex<GS(f,m,v)?u:f,D=GS(T,m,v),R=T.currentIndex;if(T===f)m--,f=f._nextRemoved;else if(u=u._next,null==T.previousIndex)m++;else{v||(v=[]);const z=D-m,se=R-m;if(z!=se){for(let Se=0;Se<z;Se++){const ke=Se<v.length?v[Se]:v[Se]=0,ze=ke+Se;se<=ze&&ze<z&&(v[Se]=ke+1)}v[T.previousIndex]=se-z}}D!==R&&l(T,D,R)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Km(l))throw new O(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,v,T,u=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)v=l[D],T=this._trackByFn(D,v),null!==u&&Object.is(u.trackById,T)?(f&&(u=this._verifyReinsertion(u,v,T,D)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,T,D),f=!0),u=u._next}else m=0,function lp(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[fh()]();let f;for(;!(f=u.next()).done;)l(f.value)}}(l,D=>{T=this._trackByFn(m,D),null!==u&&Object.is(u.trackById,T)?(f&&(u=this._verifyReinsertion(u,D,T,m)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,T,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,f,m){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,v,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,v,m)):l=this._addAfter(new ic(u,f),v,m),l}_verifyReinsertion(l,u,f,m){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?l=this._reinsertAfter(v,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,v=l._nextRemoved;return null===m?this._removalsHead=v:m._nextRemoved=v,null===v?this._removalsTail=m:v._prevRemoved=m,this._insertAfter(l,u,f),this._addToMoves(l,f),l}_moveAfter(l,u,f){return this._unlink(l),this._insertAfter(l,u,f),this._addToMoves(l,f),l}_addAfter(l,u,f){return this._insertAfter(l,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,f){const m=null===u?this._itHead:u._next;return l._next=m,l._prev=u,null===m?this._itTail=l:m._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new e1),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,f=l._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e1),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class ic{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HS{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const u=l._prevDup,f=l._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class e1{constructor(){this.map=new Map}put(l){const u=l.trackById;let f=this.map.get(u);f||(f=new HS,this.map.set(u,f)),f.add(l)}get(l,u){const m=this.map.get(l);return m?m.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GS(a,l,u){const f=a.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+l+m}class jS{constructor(){}supports(l){return l instanceof Map||Ym(l)}create(){return new $P}}class $P{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Ym(l)))throw new O(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const v=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,v)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const f=l._prev;return u._next=l,u._prev=f,l._prev=u,f&&(f._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,u);const v=m._prev,T=m._next;return v&&(v._next=T),T&&(T._prev=v),m._next=null,m._prev=null,m}const f=new zP(l);return this._records.set(l,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(f=>u(l[f],f))}}class zP{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $S(){return new t1([new Op])}let t1=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||$S()),deps:[[a,new Ko,new ci]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new O(901,!1)}}return a.\u0275prov=yt({token:a,providedIn:"root",factory:$S}),a})();function Rp(){return new n1([new jS])}let n1=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||Rp()),deps:[[a,new Ko,new ci]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(f)return f;throw new O(901,!1)}}return a.\u0275prov=yt({token:a,providedIn:"root",factory:Rp}),a})();const v2=IS(null,"core",[]);let KP=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(mt(kp))},a.\u0275mod=en({type:a}),a.\u0275inj=kt({}),a})();function YP(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(d,p,g)=>{"use strict";g.d(p,{Z:()=>O});var s=g(2090),y=g(4859),b=g(9681),A=g(1877);class F{constructor(N,P){this._delegate=N,this.firebase=P,(0,b._addComponent)(N,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=N.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this._delegate.automaticDataCollectionEnabled=N}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(N=>{this._delegate.checkDestroyed(),N()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(N,P=b._DEFAULT_ENTRY_NAME){var q;this._delegate.checkDestroyed();const Y=this._delegate.container.getProvider(N);return!Y.isInitialized()&&"EXPLICIT"===(null===(q=Y.getComponent())||void 0===q?void 0:q.instantiationMode)&&Y.initialize(),Y.getImmediate({identifier:P})}_removeServiceInstance(N,P=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(N).clearInstance(P)}_addComponent(N){(0,b._addComponent)(this._delegate,N)}_addOrOverwriteComponent(N){(0,b._addOrOverwriteComponent)(this._delegate,N)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const H=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),x=function Q(){const U=function j(U){const N={},P={__esModule:!0,initializeApp:function J(le,pe={}){const ye=b.initializeApp(le,pe);if((0,s.r3)(N,ye.name))return N[ye.name];const me=new U(ye,P);return N[ye.name]=me,me},app:Y,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function fe(le){const pe=le.name,ye=pe.replace("-compat","");if(b._registerComponent(le)&&"PUBLIC"===le.type){const me=(de=Y())=>{if("function"!=typeof de[ye])throw H.create("invalid-app-argument",{appName:pe});return de[ye]()};void 0!==le.serviceProps&&(0,s.ZB)(me,le.serviceProps),P[ye]=me,U.prototype[ye]=function(...de){return this._getService.bind(this,pe).apply(this,le.multipleInstances?de:[])}}return"PUBLIC"===le.type?P[ye]:null},removeApp:function q(le){delete N[le]},useAsService:function we(le,pe){return"serverAuth"===pe?null:pe},modularAPIs:b}};function Y(le){if(!(0,s.r3)(N,le=le||b._DEFAULT_ENTRY_NAME))throw H.create("no-app",{appName:le});return N[le]}return P.default=P,Object.defineProperty(P,"apps",{get:function ee(){return Object.keys(N).map(le=>N[le])}}),Y.App=U,P}(F);return U.INTERNAL=Object.assign(Object.assign({},U.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function N(P){(0,s.ZB)(U,P)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),U}(),V=new A.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const U=self.firebase.SDK_VERSION;U&&U.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const O=x;!function X(U){(0,b.registerVersion)("@firebase/app-compat","0.1.28",U)}()},9681:(d,p,g)=>{"use strict";g.r(p),g.d(p,{FirebaseError:()=>A.ZR,SDK_VERSION:()=>Sn,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>ct,_addOrOverwriteComponent:()=>yt,_apps:()=>ot,_clearComponents:()=>sn,_components:()=>Ot,_getProvider:()=>kt,_registerComponent:()=>Ct,_removeServiceInstance:()=>Ht,deleteApp:()=>bt,getApp:()=>In,getApps:()=>hi,initializeApp:()=>Jn,onLog:()=>Yt,registerVersion:()=>ln,setLogLevel:()=>jn});var s=g(5861),y=g(4859),b=g(1877),A=g(2090),F=g(8766);class L{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function H(Pe){return"VERSION"===Pe.getComponent()?.type}(je)){const rt=je.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(je=>je).join(" ")}}const j="@firebase/app",Q="0.7.27",x=new b.Yd("@firebase/app"),Ze="[DEFAULT]",Be={[j]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ot=new Map,Ot=new Map;function ct(Pe,ve){try{Pe.container.addComponent(ve)}catch(je){x.debug(`Component ${ve.name} failed to register with FirebaseApp ${Pe.name}`,je)}}function yt(Pe,ve){Pe.container.addOrOverwriteComponent(ve)}function Ct(Pe){const ve=Pe.name;if(Ot.has(ve))return x.debug(`There were multiple attempts to register component ${ve}.`),!1;Ot.set(ve,Pe);for(const je of ot.values())ct(je,Pe);return!0}function kt(Pe,ve){const je=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Pe.container.getProvider(ve)}function Ht(Pe,ve,je=Ze){kt(Pe,ve).clearInstance(je)}function sn(){Ot.clear()}const qe=new A.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class jt{constructor(ve,je,rt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}}const Sn="9.8.4";function Jn(Pe,ve={}){"object"!=typeof ve&&(ve={name:ve});const je=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},ve),rt=je.name;if("string"!=typeof rt||!rt)throw qe.create("bad-app-name",{appName:String(rt)});const Tt=ot.get(rt);if(Tt){if((0,A.vZ)(Pe,Tt.options)&&(0,A.vZ)(je,Tt.config))return Tt;throw qe.create("duplicate-app",{appName:rt})}const en=new y.H0(rt);for(const kn of Ot.values())en.addComponent(kn);const vn=new jt(Pe,je,en);return ot.set(rt,vn),vn}function In(Pe=Ze){const ve=ot.get(Pe);if(!ve)throw qe.create("no-app",{appName:Pe});return ve}function hi(){return Array.from(ot.values())}function bt(Pe){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(Pe){const ve=Pe.name;ot.has(ve)&&(ot.delete(ve),yield Promise.all(Pe.container.getProviders().map(je=>je.delete())),Pe.isDeleted=!0)})).apply(this,arguments)}function ln(Pe,ve,je){var rt;let Tt=null!==(rt=Be[Pe])&&void 0!==rt?rt:Pe;je&&(Tt+=`-${je}`);const en=Tt.match(/\s|\//),vn=ve.match(/\s|\//);if(en||vn){const kn=[`Unable to register library "${Tt}" with version "${ve}":`];return en&&kn.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),en&&vn&&kn.push("and"),vn&&kn.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void x.warn(kn.join(" "))}Ct(new y.wA(`${Tt}-version`,()=>({library:Tt,version:ve}),"VERSION"))}function Yt(Pe,ve){if(null!==Pe&&"function"!=typeof Pe)throw qe.create("invalid-log-argument");(0,b.Am)(Pe,ve)}function jn(Pe){(0,b.Ub)(Pe)}const dn="firebase-heartbeat-store";let Bn=null;function mr(){return Bn||(Bn=(0,F.X3)("firebase-heartbeat-database",1,{upgrade:(Pe,ve)=>{0===ve&&Pe.createObjectStore(dn)}}).catch(Pe=>{throw qe.create("storage-open",{originalErrorMessage:Pe.message})})),Bn}function ut(){return(ut=(0,s.Z)(function*(Pe){var ve;try{return(yield mr()).transaction(dn).objectStore(dn).get(Ri(Pe))}catch(je){throw qe.create("storage-get",{originalErrorMessage:null===(ve=je)||void 0===ve?void 0:ve.message})}})).apply(this,arguments)}function St(Pe,ve){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,s.Z)(function*(Pe,ve){var je;try{const Tt=(yield mr()).transaction(dn,"readwrite");return yield Tt.objectStore(dn).put(ve,Ri(Pe)),Tt.done}catch(rt){throw qe.create("storage-set",{originalErrorMessage:null===(je=rt)||void 0===je?void 0:je.message})}})).apply(this,arguments)}function Ri(Pe){return`${Pe.name}!${Pe.options.appId}`}class ei{constructor(ve){this.container=ve,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Ie(je),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var ve=this;return(0,s.Z)(function*(){const rt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=$n();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!ve._heartbeatsCache.heartbeats.some(en=>en.date===Tt))return ve._heartbeatsCache.heartbeats.push({date:Tt,agent:rt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(en=>{const vn=new Date(en.date).valueOf();return Date.now()-vn<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,s.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const je=$n(),{heartbeatsToSend:rt,unsentEntries:Tt}=function Dn(Pe,ve=1024){const je=[];let rt=Pe.slice();for(const Tt of Pe){const en=je.find(vn=>vn.agent===Tt.agent);if(en){if(en.dates.push(Tt.date),be(je)>ve){en.dates.pop();break}}else if(je.push({agent:Tt.agent,dates:[Tt.date]}),be(je)>ve){je.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:je,unsentEntries:rt}}(ve._heartbeatsCache.heartbeats),en=(0,A.L)(JSON.stringify({version:2,heartbeats:rt}));return ve._heartbeatsCache.lastSentHeartbeatDate=je,Tt.length>0?(ve._heartbeatsCache.heartbeats=Tt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),en})()}}function $n(){return(new Date).toISOString().substring(0,10)}class Ie{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,A.hl)()&&(0,A.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,s.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function Xt(Pe){return ut.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var je=this;return(0,s.Z)(function*(){var rt;if(yield je._canUseIndexedDBPromise){const en=yield je.read();return St(je.app,{lastSentHeartbeatDate:null!==(rt=ve.lastSentHeartbeatDate)&&void 0!==rt?rt:en.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var je=this;return(0,s.Z)(function*(){var rt;if(yield je._canUseIndexedDBPromise){const en=yield je.read();return St(je.app,{lastSentHeartbeatDate:null!==(rt=ve.lastSentHeartbeatDate)&&void 0!==rt?rt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...ve.heartbeats]})}})()}}function be(Pe){return(0,A.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function Me(Pe){Ct(new y.wA("platform-logger",ve=>new L(ve),"PRIVATE")),Ct(new y.wA("heartbeat",ve=>new ei(ve),"PRIVATE")),ln(j,Q,Pe),ln(j,Q,"esm2017"),ln("fire-js","")}("")},4859:(d,p,g)=>{"use strict";g.d(p,{H0:()=>j,wA:()=>b,zt:()=>F});var s=g(5861),y=g(2090);class b{constructor(x,V,G){this.name=x,this.instanceFactory=V,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}const A="[DEFAULT]";class F{constructor(x,V){this.name=x,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const V=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(V)){const G=new y.BH;if(this.instancesDeferred.set(V,G),this.isInitialized(V)||this.shouldAutoInitialize())try{const W=this.getOrInitializeService({instanceIdentifier:V});W&&G.resolve(W)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(x){var V;const G=this.normalizeInstanceIdentifier(x?.identifier),W=null!==(V=x?.optional)&&void 0!==V&&V;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(W)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(X){if(W)return null;throw X}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,this.shouldAutoInitialize()){if(function H(Q){return"EAGER"===Q.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:A})}catch{}for(const[V,G]of this.instancesDeferred.entries()){const W=this.normalizeInstanceIdentifier(V);try{const X=this.getOrInitializeService({instanceIdentifier:W});G.resolve(X)}catch{}}}}clearInstance(x=A){this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}delete(){var x=this;return(0,s.Z)(function*(){const V=Array.from(x.instances.values());yield Promise.all([...V.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...V.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(x=A){return this.instances.has(x)}getOptions(x=A){return this.instancesOptions.get(x)||{}}initialize(x={}){const{options:V={}}=x,G=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const W=this.getOrInitializeService({instanceIdentifier:G,options:V});for(const[X,O]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(X)&&O.resolve(W);return W}onInit(x,V){var G;const W=this.normalizeInstanceIdentifier(V),X=null!==(G=this.onInitCallbacks.get(W))&&void 0!==G?G:new Set;X.add(x),this.onInitCallbacks.set(W,X);const O=this.instances.get(W);return O&&x(O,W),()=>{X.delete(x)}}invokeOnInitCallbacks(x,V){const G=this.onInitCallbacks.get(V);if(G)for(const W of G)try{W(x,V)}catch{}}getOrInitializeService({instanceIdentifier:x,options:V={}}){let G=this.instances.get(x);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=x,Q===A?void 0:Q),options:V}),this.instances.set(x,G),this.instancesOptions.set(x,V),this.invokeOnInitCallbacks(G,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,G)}catch{}var Q;return G||null}normalizeInstanceIdentifier(x=A){return this.component?this.component.multipleInstances?x:A:x}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(x){this.name=x,this.providers=new Map}addComponent(x){const V=this.getProvider(x.name);if(V.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);V.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const V=new F(x,this);return this.providers.set(x,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(d,p,g)=>{"use strict";g.d(p,{Am:()=>Q,Ub:()=>j,Yd:()=>H,in:()=>y});const s=[];var y=(()=>{return(x=y||(y={}))[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT",y;var x})();const b={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},A=y.INFO,F={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},L=(x,V,...G)=>{if(V<x.logLevel)return;const W=(new Date).toISOString(),X=F[V];if(!X)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[X](`[${W}]  ${x.name}:`,...G)};class H{constructor(V){this.name=V,this._logLevel=A,this._logHandler=L,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in y))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?b[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...V),this._logHandler(this,y.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...V),this._logHandler(this,y.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,y.INFO,...V),this._logHandler(this,y.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,y.WARN,...V),this._logHandler(this,y.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...V),this._logHandler(this,y.ERROR,...V)}}function j(x){s.forEach(V=>{V.setLogLevel(x)})}function Q(x,V){for(const G of s){let W=null;V&&V.level&&(W=b[V.level]),G.userLogHandler=null===x?null:(X,O,...U)=>{const N=U.map(P=>{if(null==P)return null;if("string"==typeof P)return P;if("number"==typeof P||"boolean"==typeof P)return P.toString();if(P instanceof Error)return P.message;try{return JSON.stringify(P)}catch{return null}}).filter(P=>P).join(" ");O>=(W??X.logLevel)&&x({level:y[O].toLowerCase(),message:N,args:U,type:X.name})}}}},8766:(d,p,g)=>{"use strict";g.d(p,{Lj:()=>J,X3:()=>Y});var s=g(5861);let b,A;const H=new WeakMap,j=new WeakMap,Q=new WeakMap,x=new WeakMap,V=new WeakMap;let X={get(pe,ye,me){if(pe instanceof IDBTransaction){if("done"===ye)return j.get(pe);if("objectStoreNames"===ye)return pe.objectStoreNames||Q.get(pe);if("store"===ye)return me.objectStoreNames[1]?void 0:me.objectStore(me.objectStoreNames[0])}return P(pe[ye])},set:(pe,ye,me)=>(pe[ye]=me,!0),has:(pe,ye)=>pe instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in pe};function N(pe){return"function"==typeof pe?function U(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L(){return A||(A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...ye){return pe.apply(q(this),ye),P(H.get(this))}:function(...ye){return P(pe.apply(q(this),ye))}:function(ye,...me){const de=pe.call(q(this),ye,...me);return Q.set(de,ye.sort?ye.sort():[ye]),P(de)}}(pe):(pe instanceof IDBTransaction&&function W(pe){if(j.has(pe))return;const ye=new Promise((me,de)=>{const ie=()=>{pe.removeEventListener("complete",te),pe.removeEventListener("error",Z),pe.removeEventListener("abort",Z)},te=()=>{me(),ie()},Z=()=>{de(pe.error||new DOMException("AbortError","AbortError")),ie()};pe.addEventListener("complete",te),pe.addEventListener("error",Z),pe.addEventListener("abort",Z)});j.set(pe,ye)}(pe),((pe,ye)=>ye.some(me=>pe instanceof me))(pe,function F(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,X):pe)}function P(pe){if(pe instanceof IDBRequest)return function G(pe){const ye=new Promise((me,de)=>{const ie=()=>{pe.removeEventListener("success",te),pe.removeEventListener("error",Z)},te=()=>{me(P(pe.result)),ie()},Z=()=>{de(pe.error),ie()};pe.addEventListener("success",te),pe.addEventListener("error",Z)});return ye.then(me=>{me instanceof IDBCursor&&H.set(me,pe)}).catch(()=>{}),V.set(ye,pe),ye}(pe);if(x.has(pe))return x.get(pe);const ye=N(pe);return ye!==pe&&(x.set(pe,ye),V.set(ye,pe)),ye}const q=pe=>V.get(pe);function Y(pe,ye,{blocked:me,upgrade:de,blocking:ie,terminated:te}={}){const Z=indexedDB.open(pe,ye),ae=P(Z);return de&&Z.addEventListener("upgradeneeded",Ne=>{de(P(Z.result),Ne.oldVersion,Ne.newVersion,P(Z.transaction))}),me&&Z.addEventListener("blocked",()=>me()),ae.then(Ne=>{te&&Ne.addEventListener("close",()=>te()),ie&&Ne.addEventListener("versionchange",()=>ie())}).catch(()=>{}),ae}function J(pe,{blocked:ye}={}){const me=indexedDB.deleteDatabase(pe);return ye&&me.addEventListener("blocked",()=>ye()),P(me).then(()=>{})}const ee=["get","getKey","getAll","getAllKeys","count"],fe=["put","add","delete","clear"],we=new Map;function le(pe,ye){if(!(pe instanceof IDBDatabase)||ye in pe||"string"!=typeof ye)return;if(we.get(ye))return we.get(ye);const me=ye.replace(/FromIndex$/,""),de=ye!==me,ie=fe.includes(me);if(!(me in(de?IDBIndex:IDBObjectStore).prototype)||!ie&&!ee.includes(me))return;const te=function(){var Z=(0,s.Z)(function*(ae,...Ne){const De=this.transaction(ae,ie?"readwrite":"readonly");let Ze=De.store;return de&&(Ze=Ze.index(Ne.shift())),(yield Promise.all([Ze[me](...Ne),ie&&De.done]))[0]});return function(Ne){return Z.apply(this,arguments)}}();return we.set(ye,te),te}!function O(pe){X=pe(X)}(pe=>({...pe,get:(ye,me,de)=>le(ye,me)||pe.get(ye,me,de),has:(ye,me)=>!!le(ye,me)||pe.has(ye,me)}))},5861:(d,p,g)=>{"use strict";function s(b,A,F,L,H,j,Q){try{var x=b[j](Q),V=x.value}catch(G){return void F(G)}x.done?A(V):Promise.resolve(V).then(L,H)}function y(b){return function(){var A=this,F=arguments;return new Promise(function(L,H){var j=b.apply(A,F);function Q(V){s(j,L,H,Q,x,"next",V)}function x(V){s(j,L,H,Q,x,"throw",V)}Q(void 0)})}}g.d(p,{Z:()=>y})}},d=>{d(d.s=9257)}]);