(self.webpackChunkMERCv3=self.webpackChunkMERCv3||[]).push([[179],{2011:(an,Qe,q)=>{"use strict";q.d(Qe,{Dh:()=>Se,GT:()=>Me,cc:()=>Oe,hO:()=>we,on:()=>re,pX:()=>Ve,xv:()=>fe});var s=q(4650),V=q(127),Y=q(4027);an=q.hmd(an);const _e=["ngOnDestroy"],Ve=(Ne,St,pt,Ke={})=>new Proxy(Ne,{get:(He,$e)=>pt.runOutsideAngular(()=>{var Xe;if(Ne[$e])return!(null===(Xe=Ke?.spy)||void 0===Xe)&&Xe.get&&Ke.spy.get($e,Ne[$e]),Ne[$e];if(_e.indexOf($e)>-1)return()=>{};const pe=St.toPromise().then(Ie=>{const Ae=Ie&&Ie[$e];return"function"==typeof Ae?Ae.bind(Ie):Ae&&Ae.then?Ae.then(be=>pt.run(()=>be)):pt.run(()=>Ae)});return new Proxy(()=>{},{get:(Ie,Ae)=>pe[Ae],apply:(Ie,Ae,be)=>pe.then(Ce=>{var Ue;const Pe=Ce&&Ce(...be);return!(null===(Ue=Ke?.spy)||void 0===Ue)&&Ue.apply&&Ke.spy.apply($e,be,Pe),Pe})})})}),Me=(Ne,St)=>{St.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Ke=>{Object.defineProperty(Ne.prototype,Ke,Object.getOwnPropertyDescriptor(pt.prototype||pt,Ke))})})};class ve{constructor(St){return St}}const Se=new s.OlP("angularfire2.app.options"),fe=new s.OlP("angularfire2.app.name");function re(Ne,St,pt){const He="object"==typeof pt&&pt||{};He.name=He.name||"string"==typeof pt&&pt||"[DEFAULT]";const Xe=V.Z.apps.filter(pe=>pe&&pe.name===He.name)[0]||St.runOutsideAngular(()=>V.Z.initializeApp(Ne,He));try{JSON.stringify(Ne)!==JSON.stringify(Xe.options)&&ne("error",`${Xe.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Xe)}const ne=(Ne,...St)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ne](...St)},ce={provide:ve,useFactory:re,deps:[Se,s.R0b,[new s.FiY,fe]]};let we=(()=>{class Ne{constructor(pt){V.Z.registerVersion("angularfire",Y.q4.full,"core"),V.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),V.Z.registerVersion("angular",s.q4F.full,pt.toString())}static initializeApp(pt,Ke){return{ngModule:Ne,providers:[{provide:Se,useValue:pt},{provide:fe,useValue:Ke}]}}}return Ne.\u0275fac=function(pt){return new(pt||Ne)(s.LFG(s.Lbi))},Ne.\u0275mod=s.oAB({type:Ne}),Ne.\u0275inj=s.cJS({providers:[ce]}),Ne})();function Oe(Ne,St,pt,Ke,He){const[,$e,Xe]=globalThis.\u0275AngularfireInstanceCache.find(pe=>pe[0]===Ne)||[];if($e)return function je(Ne,St){try{return Ne.toString()===St.toString()}catch{return Ne===St}}(He,Xe)||(Be("error",`${St} was already initialized on the ${pt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:He,was:Xe})),$e;{const pe=Ke();return globalThis.\u0275AngularfireInstanceCache.push([Ne,pe,He]),pe}}const ut=!!an.hot,Be=(Ne,...St)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Ne](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4027:(an,Qe,q)=>{"use strict";q.d(Qe,{q4:()=>Be,iC:()=>Zt,fc:()=>Tt,HU:()=>ct,vb:()=>Ce,JM:()=>be,nk:()=>Ae,n1:()=>pe,_J:()=>Ie,u3:()=>Wt});var s=q(4650),V=q(5867),Y=q(3226),_e=q(2375),Ve=q(6148),Me=q(4408),Se=q(7565);const re=new class fe extends Se.v{}(class ve extends Me.o{constructor(nn,Qt){super(nn,Qt),this.scheduler=nn,this.work=Qt}schedule(nn,Qt=0){return Qt>0?super.schedule(nn,Qt):(this.delay=Qt,this.state=nn,this.scheduler.flush(this),this)}execute(nn,Qt){return Qt>0||this.closed?super.execute(nn,Qt):this._execute(nn,Qt)}requestAsyncId(nn,Qt,ln=0){return null!=ln&&ln>0||null==ln&&this.delay>0?super.requestAsyncId(nn,Qt,ln):nn.flush(this)}});var ce=q(4986),we=q(9751),Oe=q(8505),je=q(5363),ut=q(9468);const Be=new s.GfV("7.4.1"),Ne="__angularfire_symbol__analyticsIsSupportedValue",St="__angularfire_symbol__analyticsIsSupported",pt="__angularfire_symbol__remoteConfigIsSupportedValue",Ke="__angularfire_symbol__remoteConfigIsSupported",He="__angularfire_symbol__messagingIsSupportedValue",$e="__angularfire_symbol__messagingIsSupported";globalThis[St]||(globalThis[St]=(0,Ve.Gb)().then(dt=>globalThis[Ne]=dt).catch(()=>globalThis[Ne]=!1)),globalThis[$e]||(globalThis[$e]=(0,_e.Gb)().then(dt=>globalThis[He]=dt).catch(()=>globalThis[He]=!1)),globalThis[Ke]||(globalThis[Ke]=(0,Y.Gb)().then(dt=>globalThis[pt]=dt).catch(()=>globalThis[pt]=!1));const Xe=dt=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${dt} in the constructor, first ensure that ${dt} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${dt})\`.`,pe={async:()=>globalThis[$e],sync:()=>{const dt=globalThis[He];if(void 0===dt)throw new Error(Xe("Messaging"));return dt}},Ie={async:()=>globalThis[Ke],sync:()=>{const dt=globalThis[pt];if(void 0===dt)throw new Error(Xe("RemoteConfig"));return dt}},Ae={async:()=>globalThis[St],sync:()=>{const dt=globalThis[Ne];if(void 0===dt)throw new Error(Xe("Analytics"));return dt}};function be(dt,nn,Qt){if(nn){if(1===nn.length)return nn[0];const Cn=nn.filter(ai=>ai.app===Qt);if(1===Cn.length)return Cn[0]}return Qt.container.getProvider(dt).getImmediate({optional:!0})}const Ce=(dt,nn)=>{const Qt=nn?[nn]:(0,V.C6)(),ln=[];return Qt.forEach(Jt=>{Jt.container.getProvider(dt).instances.forEach(ai=>{ln.includes(ai)||ln.push(ai)})}),ln};function Ue(){}class Pe{constructor(nn,Qt=re){this.zone=nn,this.delegate=Qt}now(){return this.delegate.now()}schedule(nn,Qt,ln){const Jt=this.zone;return this.delegate.schedule(function(ai){Jt.runGuarded(()=>{nn.apply(this,[ai])})},Qt,ln)}}class gt{constructor(nn){this.zone=nn,this.task=null}call(nn,Qt){const ln=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ue,{},Ue,Ue)),Qt.pipe((0,Oe.b)({next:ln,complete:ln,error:ln})).subscribe(nn).add(ln)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ct=(()=>{class dt{constructor(Qt){this.ngZone=Qt,this.outsideAngular=Qt.runOutsideAngular(()=>new Pe(Zone.current)),this.insideAngular=Qt.run(()=>new Pe(Zone.current,ce.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return dt.\u0275fac=function(Qt){return new(Qt||dt)(s.LFG(s.R0b))},dt.\u0275prov=s.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})();function Kt(){const dt=globalThis.\u0275AngularFireScheduler;if(!dt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return dt}function pn(dt){return Kt().ngZone.runOutsideAngular(()=>dt())}function en(dt){return Kt().ngZone.run(()=>dt())}function Tt(dt){return dt.pipe((0,je.Q)(Kt().outsideAngular))}function Zt(dt){return Kt(),function Vt(dt){return function(Qt){return(Qt=Qt.lift(new gt(dt.ngZone))).pipe((0,ut.R)(dt.outsideAngular),(0,je.Q)(dt.insideAngular))}}(Kt())(dt)}const $t=(dt,nn)=>function(){const ln=arguments;return nn&&setTimeout(()=>{"scheduled"===nn.state&&nn.invoke()},10),en(()=>dt.apply(void 0,ln))},Wt=(dt,nn)=>function(){let Qt;const ln=arguments;for(let Cn=0;Cn<arguments.length;Cn++)"function"==typeof ln[Cn]&&(nn&&(Qt||(Qt=en(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ue,{},Ue,Ue)))),ln[Cn]=$t(ln[Cn],Qt));const Jt=pn(()=>dt.apply(this,ln));if(!nn){if(Jt instanceof we.y){const Cn=Kt();return Jt.pipe((0,ut.R)(Cn.outsideAngular),(0,je.Q)(Cn.insideAngular))}return en(()=>Jt)}return Jt instanceof we.y?Jt.pipe(Zt):Jt instanceof Promise?en(()=>new Promise((Cn,ai)=>Jt.then(vn=>en(()=>Cn(vn)),vn=>en(()=>ai(vn))))):"function"==typeof Jt&&Qt?function(){return setTimeout(()=>{Qt&&"scheduled"===Qt.state&&Qt.invoke()},10),Jt.apply(this,arguments)}:en(()=>Jt)}},6457:(an,Qe,q)=>{"use strict";q.d(Qe,{$:()=>xf,A:()=>ne,B:()=>Oe,G:()=>tt,H:()=>Mn,J:()=>na,L:()=>mn,M:()=>as,N:()=>Ev,P:()=>th,Q:()=>rl,R:()=>Hr,T:()=>Vs,U:()=>kc,V:()=>Ru,W:()=>Ci,X:()=>ug,Y:()=>Zl,Z:()=>Tf,_:()=>Ef,a:()=>dl,a0:()=>Fc,a1:()=>Sf,a2:()=>cs,a3:()=>Lc,a4:()=>Sv,a5:()=>Nu,a6:()=>Ra,a7:()=>Df,a8:()=>Pa,a9:()=>If,aA:()=>Gf,aB:()=>Ss,aC:()=>Ba,aD:()=>jf,aE:()=>kn,aI:()=>Fn,aL:()=>zl,aa:()=>Af,ab:()=>Lu,ac:()=>zd,af:()=>Gd,ag:()=>Of,ah:()=>Bc,ak:()=>Es,al:()=>Jm,an:()=>Wd,ao:()=>t_,ap:()=>oi,aq:()=>Ae,ar:()=>cn,as:()=>Pt,at:()=>pt,au:()=>da,av:()=>$u,aw:()=>Ke,ax:()=>pe,ay:()=>Ce,az:()=>Un,b:()=>Yt,c:()=>Hf,d:()=>ih,e:()=>Uf,f:()=>Ur,g:()=>$c,h:()=>ic,i:()=>hl,j:()=>Wc,k:()=>Pv,l:()=>Eo,m:()=>Ju,n:()=>lo,o:()=>Se,q:()=>Pf,r:()=>eh,s:()=>_g,u:()=>kv,v:()=>Yl});var s=q(5861),V=q(2090),Y=q(9681),_e=q(655),Ve=q(1877),Me=q(4859);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new Ve.Yd("@firebase/auth");function St(R,...S){Ne.logLevel<=Ve.in.ERROR&&Ne.error(`Auth (${Y.SDK_VERSION}): ${R}`,...S)}function pt(R,...S){throw Xe(R,...S)}function Ke(R,...S){return Xe(R,...S)}function He(R,S,I){const L=Object.assign(Object.assign({},je()),{[S]:I});return new V.LL("auth","Firebase",L).create(S,{appName:R.name})}function $e(R,S,I){if(!(S instanceof I))throw I.name!==S.constructor.name&&pt(R,"argument-error"),He(R,"argument-error",`Type of ${S.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(R,...S){if("string"!=typeof R){const I=S[0],L=[...S.slice(1)];return L[0]&&(L[0].appName=R.name),R._errorFactory.create(I,...L)}return ut.create(R,...S)}function pe(R,S,...I){if(!R)throw Xe(S,...I)}function Ie(R){const S="INTERNAL ASSERTION FAILED: "+R;throw St(S),new Error(S)}function Ae(R,S){R||Ie(S)}const be=new Map;function Ce(R){Ae(R instanceof Function,"Expected a class definition");let S=be.get(R);return S?(Ae(S instanceof R,"Instance stored in cache mismatched with class"),S):(S=new R,be.set(R,S),S)}function gt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function ct(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class Tt{constructor(S,I){this.shortDelay=S,this.longDelay=I,Ae(I>S,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function pn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function It(R,S){Ae(R.emulator,"Emulator should always be set here");const{url:I}=R.emulator;return S?`${I}${S.startsWith("/")?S.slice(1):S}`:I}class Zt{static initialize(S,I,L){this.fetchImpl=S,I&&(this.headersImpl=I),L&&(this.responseImpl=L)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$t=new Tt(3e4,6e4);function Wt(R,S){return R.tenantId&&!S.tenantId?Object.assign(Object.assign({},S),{tenantId:R.tenantId}):S}function dt(R,S,I,L){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(R,S,I,L,J={}){return Qt(R,J,(0,s.Z)(function*(){let le={},ze={};L&&("GET"===S?ze=L:le={body:JSON.stringify(L)});const vt=(0,V.xO)(Object.assign({key:R.config.apiKey},ze)).slice(1),hn=yield R._getAdditionalHeaders();return hn["Content-Type"]="application/json",R.languageCode&&(hn["X-Firebase-Locale"]=R.languageCode),Zt.fetch()(ai(R,R.config.apiHost,I,vt),Object.assign({method:S,headers:hn,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Qt(R,S,I){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(R,S,I){R._canInitEmulator=!1;const L=Object.assign(Object.assign({},Vt),S);try{const J=new vn(R),le=yield Promise.race([I(),J.promise]);J.clearNetworkTimeout();const ze=yield le.json();if("needConfirmation"in ze)throw En(R,"account-exists-with-different-credential",ze);if(le.ok&&!("errorMessage"in ze))return ze;{const vt=le.ok?ze.errorMessage:ze.error.message,[hn,bn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===hn)throw En(R,"credential-already-in-use",ze);if("EMAIL_EXISTS"===hn)throw En(R,"email-already-in-use",ze);if("USER_DISABLED"===hn)throw En(R,"user-disabled",ze);const ni=L[hn]||hn.toLowerCase().replace(/[_\s]+/g,"-");if(bn)throw He(R,ni,bn);pt(R,ni)}}catch(J){if(J instanceof V.ZR)throw J;pt(R,"network-request-failed")}})).apply(this,arguments)}function Jt(R,S,I,L){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,s.Z)(function*(R,S,I,L,J={}){const le=yield dt(R,S,I,L,J);return"mfaPendingCredential"in le&&pt(R,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function ai(R,S,I,L){const J=`${S}${I}?${L}`;return R.config.emulator?It(R.config,J):`${R.config.apiScheme}://${J}`}class vn{constructor(S){this.auth=S,this.timer=null,this.promise=new Promise((I,L)=>{this.timer=setTimeout(()=>L(Ke(this.auth,"network-request-failed")),$t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(R,S,I){const L={appName:R.name};I.email&&(L.email=I.email),I.phoneNumber&&(L.phoneNumber=I.phoneNumber);const J=Ke(R,S,L);return J.customData._tokenResponse=I,J}function nt(){return(nt=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:delete",S)})).apply(this,arguments)}function Fe(R,S){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Et(R,S){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:lookup",S)})).apply(this,arguments)}function Rn(R){if(R)try{const S=new Date(Number(R));if(!isNaN(S.getTime()))return S.toUTCString()}catch{}}function Xn(){return(Xn=(0,s.Z)(function*(R,S=!1){const I=(0,V.m9)(R),L=yield I.getIdToken(S),J=Ft(L);pe(J&&J.exp&&J.auth_time&&J.iat,I.auth,"internal-error");const le="object"==typeof J.firebase?J.firebase:void 0,ze=le?.sign_in_provider;return{claims:J,token:L,authTime:Rn(Bn(J.auth_time)),issuedAtTime:Rn(Bn(J.iat)),expirationTime:Rn(Bn(J.exp)),signInProvider:ze||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function Bn(R){return 1e3*Number(R)}function Ft(R){var S;const[I,L,J]=R.split(".");if(void 0===I||void 0===L||void 0===J)return St("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,V.tV)(L);return le?JSON.parse(le):(St("Failed to decode base64 JWT payload"),null)}catch(le){return St("Caught error parsing JWT payload as JSON",null===(S=le)||void 0===S?void 0:S.toString()),null}}function ei(R,S){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(R,S,I=!1){if(I)return S;try{return yield S}catch(L){throw L instanceof V.ZR&&yi(L)&&R.auth.currentUser===R&&(yield R.auth.signOut()),L}})).apply(this,arguments)}function yi({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class An{constructor(S){this.user=S,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(S){var I;if(S){const L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}{this.errorBackoff=3e4;const J=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(S=!1){var I=this;if(!this.isRunning)return;const L=this.getInterval(S);this.timerId=setTimeout((0,s.Z)(function*(){yield I.iteration()}),L)}iteration(){var S=this;return(0,s.Z)(function*(){var I;try{yield S.user.getIdToken(!0)}catch(L){return void("auth/network-request-failed"===(null===(I=L)||void 0===I?void 0:I.code)&&S.schedule(!0))}S.schedule()})()}}class hi{constructor(S,I){this.createdAt=S,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(S){this.createdAt=S.createdAt,this.lastLoginAt=S.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qi(R){return In.apply(this,arguments)}function In(){return(In=(0,s.Z)(function*(R){var S;const I=R.auth,L=yield R.getIdToken(),J=yield ei(R,Et(I,{idToken:L}));pe(J?.users.length,I,"internal-error");const le=J.users[0];R._notifyReloadListener(le);const ze=null!==(S=le.providerUserInfo)&&void 0!==S&&S.length?K(le.providerUserInfo):[],vt=G(R.providerData,ze),ni=!!R.isAnonymous&&!(R.email&&le.passwordHash||vt?.length),or={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:vt,metadata:new hi(le.createdAt,le.lastLoginAt),isAnonymous:ni};Object.assign(R,or)})).apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(R){const S=(0,V.m9)(R);yield Qi(S),yield S.auth._persistUserIfCurrent(S),S.auth._notifyListenersIfCurrent(S)})).apply(this,arguments)}function G(R,S){return[...R.filter(L=>!S.some(J=>J.providerId===L.providerId)),...S]}function K(R){return R.map(S=>{var{providerId:I}=S,L=(0,_e._T)(S,["providerId"]);return{providerId:I,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}})}function Q(){return(Q=(0,s.Z)(function*(R,S){const I=yield Qt(R,{},(0,s.Z)(function*(){const L=(0,V.xO)({grant_type:"refresh_token",refresh_token:S}).slice(1),{tokenApiHost:J,apiKey:le}=R.config,ze=ai(R,J,"/v1/token",`key=${le}`),vt=yield R._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(ze,{method:"POST",headers:vt,body:L})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class de{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(S){pe(S.idToken,"internal-error"),pe(typeof S.idToken<"u","internal-error"),pe(typeof S.refreshToken<"u","internal-error");const I="expiresIn"in S&&typeof S.expiresIn<"u"?Number(S.expiresIn):function Rt(R){const S=Ft(R);return pe(S,"internal-error"),pe(typeof S.exp<"u","internal-error"),pe(typeof S.iat<"u","internal-error"),Number(S.exp)-Number(S.iat)}(S.idToken);this.updateTokensAndExpiration(S.idToken,S.refreshToken,I)}getToken(S,I=!1){var L=this;return(0,s.Z)(function*(){return pe(!L.accessToken||L.refreshToken,S,"user-token-expired"),I||!L.accessToken||L.isExpired?L.refreshToken?(yield L.refresh(S,L.refreshToken),L.accessToken):null:L.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(S,I){var L=this;return(0,s.Z)(function*(){const{accessToken:J,refreshToken:le,expiresIn:ze}=yield function ee(R,S){return Q.apply(this,arguments)}(S,I);L.updateTokensAndExpiration(J,le,Number(ze))})()}updateTokensAndExpiration(S,I,L){this.refreshToken=I||null,this.accessToken=S||null,this.expirationTime=Date.now()+1e3*L}static fromJSON(S,I){const{refreshToken:L,accessToken:J,expirationTime:le}=I,ze=new de;return L&&(pe("string"==typeof L,"internal-error",{appName:S}),ze.refreshToken=L),J&&(pe("string"==typeof J,"internal-error",{appName:S}),ze.accessToken=J),le&&(pe("number"==typeof le,"internal-error",{appName:S}),ze.expirationTime=le),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(S){this.accessToken=S.accessToken,this.refreshToken=S.refreshToken,this.expirationTime=S.expirationTime}_clone(){return Object.assign(new de,this.toJSON())}_performRefresh(){return Ie("not implemented")}}function qe(R,S){pe("string"==typeof R||typeof R>"u","internal-error",{appName:S})}class bt{constructor(S){var{uid:I,auth:L,stsTokenManager:J}=S,le=(0,_e._T)(S,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new An(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=L,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new hi(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(S){var I=this;return(0,s.Z)(function*(){const L=yield ei(I,I.stsTokenManager.getToken(I.auth,S));return pe(L,I.auth,"internal-error"),I.accessToken!==L&&(I.accessToken=L,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),L})()}getIdTokenResult(S){return function $n(R){return Xn.apply(this,arguments)}(this,S)}reload(){return function Zi(R){return me.apply(this,arguments)}(this)}_assign(S){this!==S&&(pe(this.uid===S.uid,this.auth,"internal-error"),this.displayName=S.displayName,this.photoURL=S.photoURL,this.email=S.email,this.emailVerified=S.emailVerified,this.phoneNumber=S.phoneNumber,this.isAnonymous=S.isAnonymous,this.tenantId=S.tenantId,this.providerData=S.providerData.map(I=>Object.assign({},I)),this.metadata._copy(S.metadata),this.stsTokenManager._assign(S.stsTokenManager))}_clone(S){return new bt(Object.assign(Object.assign({},this),{auth:S,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(S){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=S,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(S){this.reloadListener?this.reloadListener(S):this.reloadUserInfo=S}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(S,I=!1){var L=this;return(0,s.Z)(function*(){let J=!1;S.idToken&&S.idToken!==L.stsTokenManager.accessToken&&(L.stsTokenManager.updateFromServerResponse(S),J=!0),I&&(yield Qi(L)),yield L.auth._persistUserIfCurrent(L),J&&L.auth._notifyListenersIfCurrent(L)})()}delete(){var S=this;return(0,s.Z)(function*(){const I=yield S.getIdToken();return yield ei(S,function wi(R,S){return nt.apply(this,arguments)}(S.auth,{idToken:I})),S.stsTokenManager.clearRefreshToken(),S.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(S=>Object.assign({},S)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(S,I){var L,J,le,ze,vt,hn,bn,ni;const or=null!==(L=I.displayName)&&void 0!==L?L:void 0,ha=null!==(J=I.email)&&void 0!==J?J:void 0,_l=null!==(le=I.phoneNumber)&&void 0!==le?le:void 0,Tg=null!==(ze=I.photoURL)&&void 0!==ze?ze:void 0,Fv=null!==(vt=I.tenantId)&&void 0!==vt?vt:void 0,w_=null!==(hn=I._redirectEventId)&&void 0!==hn?hn:void 0,Yf=null!==(bn=I.createdAt)&&void 0!==bn?bn:void 0,Eg=null!==(ni=I.lastLoginAt)&&void 0!==ni?ni:void 0,{uid:Kf,emailVerified:uh,isAnonymous:dh,providerData:xg,stsTokenManager:Lv}=I;pe(Kf&&Lv,S,"internal-error");const yw=de.fromJSON(this.name,Lv);pe("string"==typeof Kf,S,"internal-error"),qe(or,S.name),qe(ha,S.name),pe("boolean"==typeof uh,S,"internal-error"),pe("boolean"==typeof dh,S,"internal-error"),qe(_l,S.name),qe(Tg,S.name),qe(Fv,S.name),qe(w_,S.name),qe(Yf,S.name),qe(Eg,S.name);const Sg=new bt({uid:Kf,auth:S,email:ha,emailVerified:uh,displayName:or,isAnonymous:dh,photoURL:Tg,phoneNumber:_l,tenantId:Fv,stsTokenManager:yw,createdAt:Yf,lastLoginAt:Eg});return xg&&Array.isArray(xg)&&(Sg.providerData=xg.map(Ua=>Object.assign({},Ua))),w_&&(Sg._redirectEventId=w_),Sg}static _fromIdTokenResponse(S,I,L=!1){return(0,s.Z)(function*(){const J=new de;J.updateFromServerResponse(I);const le=new bt({uid:I.localId,auth:S,stsTokenManager:J,isAnonymous:L});return yield Qi(le),le})()}}const mn=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(I,L){var J=this;return(0,s.Z)(function*(){J.storage[I]=L})()}_get(I){var L=this;return(0,s.Z)(function*(){const J=L.storage[I];return void 0===J?null:J})()}_remove(I){var L=this;return(0,s.Z)(function*(){delete L.storage[I]})()}_addListener(I,L){}_removeListener(I,L){}}return R.type="NONE",R})();function Un(R,S,I){return`firebase:${R}:${S}:${I}`}class Re{constructor(S,I,L){this.persistence=S,this.auth=I,this.userKey=L;const{config:J,name:le}=this.auth;this.fullUserKey=Un(this.userKey,J.apiKey,le),this.fullPersistenceKey=Un("persistence",J.apiKey,le),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(S){return this.persistence._set(this.fullUserKey,S.toJSON())}getCurrentUser(){var S=this;return(0,s.Z)(function*(){const I=yield S.persistence._get(S.fullUserKey);return I?bt._fromJSON(S.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(S){var I=this;return(0,s.Z)(function*(){if(I.persistence===S)return;const L=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=S,L?I.setCurrentUser(L):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(S,I,L="authUser"){return(0,s.Z)(function*(){if(!I.length)return new Re(Ce(mn),S,L);const J=(yield Promise.all(I.map(function(){var bn=(0,s.Z)(function*(ni){if(yield ni._isAvailable())return ni});return function(ni){return bn.apply(this,arguments)}}()))).filter(bn=>bn);let le=J[0]||Ce(mn);const ze=Un(L,S.config.apiKey,S.name);let vt=null;for(const bn of I)try{const ni=yield bn._get(ze);if(ni){const or=bt._fromJSON(S,ni);bn!==le&&(vt=or),le=bn;break}}catch{}const hn=J.filter(bn=>bn._shouldAllowMigration);return le._shouldAllowMigration&&hn.length?(le=hn[0],vt&&(yield le._set(ze,vt.toJSON())),yield Promise.all(I.map(function(){var bn=(0,s.Z)(function*(ni){if(ni!==le)try{yield ni._remove(ze)}catch{}});return function(ni){return bn.apply(this,arguments)}}())),new Re(le,S,L)):new Re(le,S,L)})()}}function ae(R){const S=R.toLowerCase();if(S.includes("opera/")||S.includes("opr/")||S.includes("opios/"))return"Opera";if(lt(S))return"IEMobile";if(S.includes("msie")||S.includes("trident/"))return"IE";if(S.includes("edge/"))return"Edge";if(oe(S))return"Firefox";if(S.includes("silk/"))return"Silk";if(rt(S))return"Blackberry";if(kt(S))return"Webos";if(ue(S))return"Safari";if((S.includes("chrome/")||De(S))&&!S.includes("edge/"))return"Chrome";if(Pt(S))return"Android";{const L=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===L?.length)return L[1]}return"Other"}function oe(R=(0,V.z$)()){return/firefox\//i.test(R)}function ue(R=(0,V.z$)()){const S=R.toLowerCase();return S.includes("safari/")&&!S.includes("chrome/")&&!S.includes("crios/")&&!S.includes("android")}function De(R=(0,V.z$)()){return/crios\//i.test(R)}function lt(R=(0,V.z$)()){return/iemobile/i.test(R)}function Pt(R=(0,V.z$)()){return/android/i.test(R)}function rt(R=(0,V.z$)()){return/blackberry/i.test(R)}function kt(R=(0,V.z$)()){return/webos/i.test(R)}function cn(R=(0,V.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function oi(R=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function Di(R=(0,V.z$)()){return cn(R)||Pt(R)||kt(R)||rt(R)||/windows phone/i.test(R)||lt(R)}function et(R,S=[]){let I;switch(R){case"Browser":I=ae((0,V.z$)());break;case"Worker":I=`${ae((0,V.z$)())}-${R}`;break;default:I=R}const L=S.length?S.join(","):"FirebaseCore-web";return`${I}/JsCore/${Y.SDK_VERSION}/${L}`}class zt{constructor(S){this.auth=S,this.queue=[]}pushCallback(S,I){const L=le=>new Promise((ze,vt)=>{try{ze(S(le))}catch(hn){vt(hn)}});L.onAbort=I,this.queue.push(L);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(S){var I=this;return(0,s.Z)(function*(){var L;if(I.auth.currentUser===S)return;const J=[];try{for(const le of I.queue)yield le(S),le.onAbort&&J.push(le.onAbort)}catch(le){J.reverse();for(const ze of J)try{ze()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null===(L=le)||void 0===L?void 0:L.message})}})()}}class Dt{constructor(S,I,L){this.app=S,this.heartbeatServiceProvider=I,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=S.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(S,I){var L=this;return I&&(this._popupRedirectResolver=Ce(I)),this._initializationPromise=this.queue((0,s.Z)(function*(){var J,le;if(!L._deleted&&(L.persistenceManager=yield Re.create(L,S),!L._deleted)){if(null!==(J=L._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield L._popupRedirectResolver._initialize(L)}catch{}yield L.initializeCurrentUser(I),L.lastNotifiedUid=(null===(le=L.currentUser)||void 0===le?void 0:le.uid)||null,!L._deleted&&(L._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var S=this;return(0,s.Z)(function*(){if(S._deleted)return;const I=yield S.assertedPersistence.getCurrentUser();if(S.currentUser||I){if(S.currentUser&&I&&S.currentUser.uid===I.uid)return S._currentUser._assign(I),void(yield S.currentUser.getIdToken());yield S._updateCurrentUser(I,!0)}})()}initializeCurrentUser(S){var I=this;return(0,s.Z)(function*(){var L;const J=yield I.assertedPersistence.getCurrentUser();let le=J,ze=!1;if(S&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const vt=null===(L=I.redirectUser)||void 0===L?void 0:L._redirectEventId,hn=le?._redirectEventId,bn=yield I.tryRedirectSignIn(S);(!vt||vt===hn)&&bn?.user&&(le=bn.user,ze=!0)}if(!le)return I.directlySetCurrentUser(null);if(!le._redirectEventId){if(ze)try{yield I.beforeStateQueue.runMiddleware(le)}catch(vt){le=J,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(vt))}return le?I.reloadAndSetCurrentUserOrClear(le):I.directlySetCurrentUser(null)}return pe(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===le._redirectEventId?I.directlySetCurrentUser(le):I.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(S){var I=this;return(0,s.Z)(function*(){let L=null;try{L=yield I._popupRedirectResolver._completeRedirectFn(I,S,!0)}catch{yield I._setRedirectUser(null)}return L})()}reloadAndSetCurrentUserOrClear(S){var I=this;return(0,s.Z)(function*(){var L;try{yield Qi(S)}catch(J){if("auth/network-request-failed"!==(null===(L=J)||void 0===L?void 0:L.code))return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(S)})()}useDeviceLanguage(){this.languageCode=function en(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var S=this;return(0,s.Z)(function*(){S._deleted=!0})()}updateCurrentUser(S){var I=this;return(0,s.Z)(function*(){const L=S?(0,V.m9)(S):null;return L&&pe(L.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(L&&L._clone(I))})()}_updateCurrentUser(S,I=!1){var L=this;return(0,s.Z)(function*(){if(!L._deleted)return S&&pe(L.tenantId===S.tenantId,L,"tenant-id-mismatch"),I||(yield L.beforeStateQueue.runMiddleware(S)),L.queue((0,s.Z)(function*(){yield L.directlySetCurrentUser(S),L.notifyAuthListeners()}))})()}signOut(){var S=this;return(0,s.Z)(function*(){return yield S.beforeStateQueue.runMiddleware(null),(S.redirectPersistenceManager||S._popupRedirectResolver)&&(yield S._setRedirectUser(null)),S._updateCurrentUser(null,!0)})()}setPersistence(S){var I=this;return this.queue((0,s.Z)(function*(){yield I.assertedPersistence.setPersistence(Ce(S))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(S){this._errorFactory=new V.LL("auth","Firebase",S())}onAuthStateChanged(S,I,L){return this.registerStateListener(this.authStateSubscription,S,I,L)}beforeAuthStateChanged(S,I){return this.beforeStateQueue.pushCallback(S,I)}onIdTokenChanged(S,I,L){return this.registerStateListener(this.idTokenSubscription,S,I,L)}toJSON(){var S;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(S=this._currentUser)||void 0===S?void 0:S.toJSON()}}_setRedirectUser(S,I){var L=this;return(0,s.Z)(function*(){const J=yield L.getOrInitRedirectPersistenceManager(I);return null===S?J.removeCurrentUser():J.setCurrentUser(S)})()}getOrInitRedirectPersistenceManager(S){var I=this;return(0,s.Z)(function*(){if(!I.redirectPersistenceManager){const L=S&&Ce(S)||I._popupRedirectResolver;pe(L,I,"argument-error"),I.redirectPersistenceManager=yield Re.create(I,[Ce(L._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(S){var I=this;return(0,s.Z)(function*(){var L,J;return I._isInitialized&&(yield I.queue((0,s.Z)(function*(){}))),(null===(L=I._currentUser)||void 0===L?void 0:L._redirectEventId)===S?I._currentUser:(null===(J=I.redirectUser)||void 0===J?void 0:J._redirectEventId)===S?I.redirectUser:null})()}_persistUserIfCurrent(S){var I=this;return(0,s.Z)(function*(){if(S===I.currentUser)return I.queue((0,s.Z)(function*(){return I.directlySetCurrentUser(S)}))})()}_notifyListenersIfCurrent(S){S===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var S,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const L=null!==(I=null===(S=this.currentUser)||void 0===S?void 0:S.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}registerStateListener(S,I,L,J){if(this._deleted)return()=>{};const le="function"==typeof I?I:I.next.bind(I),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(ze,this,"internal-error"),ze.then(()=>le(this.currentUser)),"function"==typeof I?S.addObserver(I,L,J):S.addObserver(I)}directlySetCurrentUser(S){var I=this;return(0,s.Z)(function*(){I.currentUser&&I.currentUser!==S&&(I._currentUser._stopProactiveRefresh(),S&&I.isProactiveRefreshEnabled&&S._startProactiveRefresh()),I.currentUser=S,S?yield I.assertedPersistence.setCurrentUser(S):yield I.assertedPersistence.removeCurrentUser()})()}queue(S){return this.operations=this.operations.then(S,S),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(S){!S||this.frameworks.includes(S)||(this.frameworks.push(S),this.frameworks.sort(),this.clientVersion=et(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var S=this;return(0,s.Z)(function*(){var I;const L={"X-Client-Version":S.clientVersion};S.app.options.appId&&(L["X-Firebase-gmpid"]=S.app.options.appId);const J=yield null===(I=S.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();return J&&(L["X-Firebase-Client"]=J),L})()}}function kn(R){return(0,V.m9)(R)}class Ee{constructor(S){this.auth=S,this.observer=null,this.addObserver=(0,V.ne)(I=>this.observer=I)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tt(R,S,I){const L=kn(R);pe(L._canInitEmulator,L,"emulator-config-failed"),pe(/^https?:\/\//.test(S),L,"invalid-emulator-scheme");const J=!!I?.disableWarnings,le=yt(S),{host:ze,port:vt}=function rn(R){const S=yt(R),I=/(\/\/)?([^?#/]+)/.exec(R.substr(S.length));if(!I)return{host:"",port:null};const L=I[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(L);if(J){const le=J[1];return{host:le,port:xi(L.substr(le.length+1))}}{const[le,ze]=L.split(":");return{host:le,port:xi(ze)}}}(S);L.config.emulator={url:`${le}//${ze}${null===vt?"":`:${vt}`}/`},L.settings.appVerificationDisabledForTesting=!0,L.emulatorConfig=Object.freeze({host:ze,port:vt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function li(){function R(){const S=document.createElement("p"),I=S.style;S.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",S.classList.add("firebase-emulator-warning"),document.body.appendChild(S)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function yt(R){const S=R.indexOf(":");return S<0?"":R.substr(0,S+1)}function xi(R){if(!R)return null;const S=Number(R);return isNaN(S)?null:S}class Mn{constructor(S,I){this.providerId=S,this.signInMethod=I}toJSON(){return Ie("not implemented")}_getIdTokenResponse(S){return Ie("not implemented")}_linkToIdToken(S,I){return Ie("not implemented")}_getReauthenticationResolver(S){return Ie("not implemented")}}function Or(R,S){return Po.apply(this,arguments)}function Po(){return(Po=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:resetPassword",Wt(R,S))})).apply(this,arguments)}function ui(R,S){return wr.apply(this,arguments)}function wr(){return(wr=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Mc(R,S){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:update",Wt(R,S))})).apply(this,arguments)}function jl(){return(jl=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signInWithPassword",Wt(R,S))})).apply(this,arguments)}function Ui(R,S){return ea.apply(this,arguments)}function ea(){return(ea=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:sendOobCode",Wt(R,S))})).apply(this,arguments)}function ji(R,S){return zi.apply(this,arguments)}function zi(){return(zi=(0,s.Z)(function*(R,S){return Ui(R,S)})).apply(this,arguments)}function ro(R,S){return yo.apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(R,S){return Ui(R,S)})).apply(this,arguments)}function Ou(R,S){return vo.apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(R,S){return Ui(R,S)})).apply(this,arguments)}function Ns(R,S){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(R,S){return Ui(R,S)})).apply(this,arguments)}function Ld(){return(Ld=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signInWithEmailLink",Wt(R,S))})).apply(this,arguments)}function Rr(){return(Rr=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signInWithEmailLink",Wt(R,S))})).apply(this,arguments)}class lr extends Mn{constructor(S,I,L,J=null){super("password",L),this._email=S,this._password=I,this._tenantId=J}static _fromEmailAndPassword(S,I){return new lr(S,I,"password")}static _fromEmailAndCode(S,I,L=null){return new lr(S,I,"emailLink",L)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(S){const I="string"==typeof S?JSON.parse(S):S;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(S){var I=this;return(0,s.Z)(function*(){switch(I.signInMethod){case"password":return function Ac(R,S){return jl.apply(this,arguments)}(S,{returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function _f(R,S){return Ld.apply(this,arguments)}(S,{email:I._email,oobCode:I._password});default:pt(S,"internal-error")}})()}_linkToIdToken(S,I){var L=this;return(0,s.Z)(function*(){switch(L.signInMethod){case"password":return ui(S,{idToken:I,returnSecureToken:!0,email:L._email,password:L._password});case"emailLink":return function sg(R,S){return Rr.apply(this,arguments)}(S,{idToken:I,email:L._email,oobCode:L._password});default:pt(S,"internal-error")}})()}_getReauthenticationResolver(S){return this._getIdTokenResponse(S)}}function ta(R,S){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signInWithIdp",Wt(R,S))})).apply(this,arguments)}class na extends Mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(S){const I=new na(S.providerId,S.signInMethod);return S.idToken||S.accessToken?(S.idToken&&(I.idToken=S.idToken),S.accessToken&&(I.accessToken=S.accessToken),S.nonce&&!S.pendingToken&&(I.nonce=S.nonce),S.pendingToken&&(I.pendingToken=S.pendingToken)):S.oauthToken&&S.oauthTokenSecret?(I.accessToken=S.oauthToken,I.secret=S.oauthTokenSecret):pt("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(S){const I="string"==typeof S?JSON.parse(S):S,{providerId:L,signInMethod:J}=I,le=(0,_e._T)(I,["providerId","signInMethod"]);if(!L||!J)return null;const ze=new na(L,J);return ze.idToken=le.idToken||void 0,ze.accessToken=le.accessToken||void 0,ze.secret=le.secret,ze.nonce=le.nonce,ze.pendingToken=le.pendingToken||null,ze}_getIdTokenResponse(S){return ta(S,this.buildRequest())}_linkToIdToken(S,I){const L=this.buildRequest();return L.idToken=I,ta(S,L)}_getReauthenticationResolver(S){const I=this.buildRequest();return I.autoCreate=!1,ta(S,I)}buildRequest(){const S={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)S.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),S.postBody=(0,V.xO)(I)}return S}}function ag(R,S){return yf.apply(this,arguments)}function yf(){return(yf=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:sendVerificationCode",Wt(R,S))})).apply(this,arguments)}function lg(){return(lg=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signInWithPhoneNumber",Wt(R,S))})).apply(this,arguments)}function Ym(){return(Ym=(0,s.Z)(function*(R,S){const I=yield Jt(R,"POST","/v1/accounts:signInWithPhoneNumber",Wt(R,S));if(I.temporaryProof)throw En(R,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const vf={USER_NOT_FOUND:"user-not-found"};function Vd(){return(Vd=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signInWithPhoneNumber",Wt(R,Object.assign(Object.assign({},S),{operation:"REAUTH"})),vf)})).apply(this,arguments)}class Fs extends Mn{constructor(S){super("phone","phone"),this.params=S}static _fromVerification(S,I){return new Fs({verificationId:S,verificationCode:I})}static _fromTokenResponse(S,I){return new Fs({phoneNumber:S,temporaryProof:I})}_getIdTokenResponse(S){return function bv(R,S){return lg.apply(this,arguments)}(S,this._makeVerificationRequest())}_linkToIdToken(S,I){return function wv(R,S){return Ym.apply(this,arguments)}(S,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(S){return function Cv(R,S){return Vd.apply(this,arguments)}(S,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:S,phoneNumber:I,verificationId:L,verificationCode:J}=this.params;return S&&I?{temporaryProof:S,phoneNumber:I}:{sessionInfo:L,code:J}}toJSON(){const S={providerId:this.providerId};return this.params.phoneNumber&&(S.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(S.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(S.verificationCode=this.params.verificationCode),this.params.verificationId&&(S.verificationId=this.params.verificationId),S}static fromJSON(S){"string"==typeof S&&(S=JSON.parse(S));const{verificationId:I,verificationCode:L,phoneNumber:J,temporaryProof:le}=S;return L||I||J||le?new Fs({verificationId:I,verificationCode:L,phoneNumber:J,temporaryProof:le}):null}}class bf{constructor(S){var I,L,J,le,ze,vt;const hn=(0,V.zd)((0,V.pd)(S)),bn=null!==(I=hn.apiKey)&&void 0!==I?I:null,ni=null!==(L=hn.oobCode)&&void 0!==L?L:null,or=function il(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=hn.mode)&&void 0!==J?J:null);pe(bn&&ni&&or,"argument-error"),this.apiKey=bn,this.operation=or,this.code=ni,this.continueUrl=null!==(le=hn.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(ze=hn.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(vt=hn.tenantId)&&void 0!==vt?vt:null}static parseLink(S){const I=function Km(R){const S=(0,V.zd)((0,V.pd)(R)).link,I=S?(0,V.zd)((0,V.pd)(S)).deep_link_id:null,L=(0,V.zd)((0,V.pd)(R)).deep_link_id;return(L?(0,V.zd)((0,V.pd)(L)).link:null)||L||I||S||R}(S);try{return new bf(I)}catch{return null}}}let as=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(I,L){return lr._fromEmailAndPassword(I,L)}static credentialWithLink(I,L){const J=bf.parseLink(L);return pe(J,"argument-error"),lr._fromEmailAndCode(I,J.code,J.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Ls{constructor(S){this.providerId=S,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(S){this.defaultLanguageCode=S}setCustomParameters(S){return this.customParameters=S,this}getCustomParameters(){return this.customParameters}}class ls extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(S){return this.scopes.includes(S)||this.scopes.push(S),this}getScopes(){return[...this.scopes]}}class kc extends ls{static credentialFromJSON(S){const I="string"==typeof S?JSON.parse(S):S;return pe("providerId"in I&&"signInMethod"in I,"argument-error"),na._fromParams(I)}credential(S){return this._credential(Object.assign(Object.assign({},S),{nonce:S.rawNonce}))}_credential(S){return pe(S.idToken||S.accessToken,"argument-error"),na._fromParams(Object.assign(Object.assign({},S),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(S){return kc.oauthCredentialFromTaggedObject(S)}static credentialFromError(S){return kc.oauthCredentialFromTaggedObject(S.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{oauthIdToken:I,oauthAccessToken:L,oauthTokenSecret:J,pendingToken:le,nonce:ze,providerId:vt}=S;if(!L&&!J&&!I&&!le||!vt)return null;try{return new kc(vt)._credential({idToken:I,accessToken:L,nonce:ze,pendingToken:le})}catch{return null}}}let Ev=(()=>{class R extends ls{constructor(){super("facebook.com")}static credential(I){return na._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),rl=(()=>{class R extends ls{constructor(){super("google.com"),this.addScope("profile")}static credential(I,L){return na._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:L})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:L,oauthAccessToken:J}=I;if(!L&&!J)return null;try{return R.credential(L,J)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),Vs=(()=>{class R extends ls{constructor(){super("github.com")}static credential(I){return na._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class zl extends Mn{constructor(S,I){super(S,S),this.pendingToken=I}_getIdTokenResponse(S){return ta(S,this.buildRequest())}_linkToIdToken(S,I){const L=this.buildRequest();return L.idToken=I,ta(S,L)}_getReauthenticationResolver(S){const I=this.buildRequest();return I.autoCreate=!1,ta(S,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(S){const I="string"==typeof S?JSON.parse(S):S,{providerId:L,signInMethod:J,pendingToken:le}=I;return L&&J&&le&&L===J?new zl(L,le):null}static _create(S,I){return new zl(S,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ru extends Ls{constructor(S){pe(S.startsWith("saml."),"argument-error"),super(S)}static credentialFromResult(S){return Ru.samlCredentialFromTaggedObject(S)}static credentialFromError(S){return Ru.samlCredentialFromTaggedObject(S.customData||{})}static credentialFromJSON(S){const I=zl.fromJSON(S);return pe(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{pendingToken:I,providerId:L}=S;if(!I||!L)return null;try{return zl._create(L,I)}catch{return null}}}let Ci=(()=>{class R extends ls{constructor(){super("twitter.com")}static credential(I,L){return na._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:L})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:L,oauthTokenSecret:J}=I;if(!L||!J)return null;try{return R.credential(L,J)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function Oc(R,S){return cg.apply(this,arguments)}function cg(){return(cg=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signUp",Wt(R,S))})).apply(this,arguments)}class bo{constructor(S){this.user=S.user,this.providerId=S.providerId,this._tokenResponse=S._tokenResponse,this.operationType=S.operationType}static _fromIdTokenResponse(S,I,L,J=!1){return(0,s.Z)(function*(){const le=yield bt._fromIdTokenResponse(S,L,J),ze=Rc(L);return new bo({user:le,providerId:ze,_tokenResponse:L,operationType:I})})()}static _forOperation(S,I,L){return(0,s.Z)(function*(){yield S._updateTokensIfNecessary(L,!0);const J=Rc(L);return new bo({user:S,providerId:J,_tokenResponse:L,operationType:I})})()}}function Rc(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function ug(R){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,s.Z)(function*(R){var S;const I=kn(R);if(yield I._initializationPromise,null!==(S=I.currentUser)&&void 0!==S&&S.isAnonymous)return new bo({user:I.currentUser,providerId:null,operationType:"signIn"});const L=yield Oc(I,{returnSecureToken:!0}),J=yield bo._fromIdTokenResponse(I,"signIn",L,!0);return yield I._updateCurrentUser(J.user),J})).apply(this,arguments)}class wf extends V.ZR{constructor(S,I,L,J){var le;super(I.code,I.message),this.operationType=L,this.user=J,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:S.name,tenantId:null!==(le=S.tenantId)&&void 0!==le?le:void 0,_serverResponse:I.customData._serverResponse,operationType:L}}static _fromErrorAndOperation(S,I,L,J){return new wf(S,I,L,J)}}function xv(R,S,I,L){return("reauthenticate"===S?I._getReauthenticationResolver(R):I._getIdTokenResponse(R)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?wf._fromErrorAndOperation(R,le,S,L):le})}function Hd(R){return new Set(R.map(({providerId:S})=>S).filter(S=>!!S))}function Es(R,S){return dg.apply(this,arguments)}function dg(){return(dg=(0,s.Z)(function*(R,S){const I=(0,V.m9)(R);yield wo(!0,I,S);const{providerUserInfo:L}=yield Fe(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[S]}),J=Hd(L||[]);return I.providerData=I.providerData.filter(le=>J.has(le.providerId)),J.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I})).apply(this,arguments)}function Gl(R,S){return No.apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(R,S,I=!1){const L=yield ei(R,S._linkToIdToken(R.auth,yield R.getIdToken()),I);return bo._forOperation(R,"link",L)})).apply(this,arguments)}function wo(R,S,I){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,s.Z)(function*(R,S,I){yield Qi(S);const J=!1===R?"provider-already-linked":"no-such-provider";pe(Hd(S.providerData).has(I)===R,S.auth,J)})).apply(this,arguments)}function ol(R,S){return ql.apply(this,arguments)}function ql(){return(ql=(0,s.Z)(function*(R,S,I=!1){var L;const{auth:J}=R,le="reauthenticate";try{const ze=yield ei(R,xv(J,le,S,R),I);pe(ze.idToken,J,"internal-error");const vt=Ft(ze.idToken);pe(vt,J,"internal-error");const{sub:hn}=vt;return pe(R.uid===hn,J,"user-mismatch"),bo._forOperation(R,le,ze)}catch(ze){throw"auth/user-not-found"===(null===(L=ze)||void 0===L?void 0:L.code)&&pt(J,"user-mismatch"),ze}})).apply(this,arguments)}function Bs(R,S){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,s.Z)(function*(R,S,I=!1){const L="signIn",J=yield xv(R,L,S),le=yield bo._fromIdTokenResponse(R,L,J);return I||(yield R._updateCurrentUser(le.user)),le})).apply(this,arguments)}function Zl(R,S){return ti.apply(this,arguments)}function ti(){return(ti=(0,s.Z)(function*(R,S){return Bs(kn(R),S)})).apply(this,arguments)}function Tf(R,S){return hg.apply(this,arguments)}function hg(){return(hg=(0,s.Z)(function*(R,S){const I=(0,V.m9)(R);return yield wo(!1,I,S.providerId),Gl(I,S)})).apply(this,arguments)}function Ef(R,S){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(R,S){return ol((0,V.m9)(R),S)})).apply(this,arguments)}function Ud(R,S){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,s.Z)(function*(R,S){return Jt(R,"POST","/v1/accounts:signInWithCustomToken",Wt(R,S))})).apply(this,arguments)}function xf(R,S){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,s.Z)(function*(R,S){const I=kn(R),L=yield Ud(I,{token:S,returnSecureToken:!0}),J=yield bo._fromIdTokenResponse(I,"signIn",L);return yield I._updateCurrentUser(J.user),J})).apply(this,arguments)}class xt{constructor(S,I){this.factorId=S,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(S,I){return"phoneInfo"in I?pi._fromServerResponse(S,I):pt(S,"internal-error")}}class pi extends xt{constructor(S){super("phone",S),this.phoneNumber=S.phoneInfo}static _fromServerResponse(S,I){return new pi(I)}}function Oa(R,S,I){var L;pe((null===(L=I.url)||void 0===L?void 0:L.length)>0,R,"invalid-continue-uri"),pe(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),S.continueUrl=I.url,S.dynamicLinkDomain=I.dynamicLinkDomain,S.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(pe(I.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),S.iOSBundleId=I.iOS.bundleId),I.android&&(pe(I.android.packageName.length>0,R,"missing-android-pkg-name"),S.androidInstallApp=I.android.installApp,S.androidMinimumVersionCode=I.android.minimumVersion,S.androidPackageName=I.android.packageName)}function Fc(R,S,I){return rr.apply(this,arguments)}function rr(){return(rr=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R),J={requestType:"PASSWORD_RESET",email:S};I&&Oa(L,J,I),yield ro(L,J)})).apply(this,arguments)}function Sf(R,S,I){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(R,S,I){yield Or((0,V.m9)(R),{oobCode:S,newPassword:I})})).apply(this,arguments)}function cs(R,S){return sl.apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(R,S){yield Mc((0,V.m9)(R),{oobCode:S})})).apply(this,arguments)}function Lc(R,S){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(R,S){const I=(0,V.m9)(R),L=yield Or(I,{oobCode:S}),J=L.requestType;switch(pe(J,I,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(L.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(L.mfaInfo,I,"internal-error");default:pe(L.email,I,"internal-error")}let le=null;return L.mfaInfo&&(le=xt._fromServerResponse(kn(I),L.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.newEmail:L.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.email:L.newEmail)||null,multiFactorInfo:le},operation:J}})).apply(this,arguments)}function Sv(R,S){return jd.apply(this,arguments)}function jd(){return(jd=(0,s.Z)(function*(R,S){const{data:I}=yield Lc((0,V.m9)(R),S);return I.email})).apply(this,arguments)}function Nu(R,S,I){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(R,S,I){const L=kn(R),J=yield Oc(L,{returnSecureToken:!0,email:S,password:I}),le=yield bo._fromIdTokenResponse(L,"signIn",J);return yield L._updateCurrentUser(le.user),le})).apply(this,arguments)}function Ra(R,S,I){return Zl((0,V.m9)(R),as.credential(S,I))}function Df(R,S,I){return al.apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R),J={requestType:"EMAIL_SIGNIN",email:S};pe(I.handleCodeInApp,L,"argument-error"),I&&Oa(L,J,I),yield Ou(L,J)})).apply(this,arguments)}function Pa(R,S){return"EMAIL_SIGNIN"===bf.parseLink(S)?.operation}function If(R,S,I){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R),J=as.credentialWithLink(S,I||gt());return pe(J._tenantId===(L.tenantId||null),L,"tenant-id-mismatch"),Zl(L,J)})).apply(this,arguments)}function ll(R,S){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:createAuthUri",Wt(R,S))})).apply(this,arguments)}function Af(R,S){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,s.Z)(function*(R,S){const L={identifier:S,continueUri:ct()?gt():"http://localhost"},{signinMethods:J}=yield ll((0,V.m9)(R),L);return J||[]})).apply(this,arguments)}function Lu(R,S){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,s.Z)(function*(R,S){const I=(0,V.m9)(R),J={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};S&&Oa(I.auth,J,S);const{email:le}=yield ji(I.auth,J);le!==R.email&&(yield R.reload())})).apply(this,arguments)}function zd(R,S,I){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:S};I&&Oa(L.auth,le,I);const{email:ze}=yield Ns(L.auth,le);ze!==R.email&&(yield R.reload())})).apply(this,arguments)}function fg(R,S){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,s.Z)(function*(R,S){return dt(R,"POST","/v1/accounts:update",S)})).apply(this,arguments)}function Gd(R,S){return kf.apply(this,arguments)}function kf(){return(kf=(0,s.Z)(function*(R,{displayName:S,photoURL:I}){if(void 0===S&&void 0===I)return;const L=(0,V.m9)(R),le={idToken:yield L.getIdToken(),displayName:S,photoUrl:I,returnSecureToken:!0},ze=yield ei(L,fg(L.auth,le));L.displayName=ze.displayName||null,L.photoURL=ze.photoUrl||null;const vt=L.providerData.find(({providerId:hn})=>"password"===hn);vt&&(vt.displayName=L.displayName,vt.photoURL=L.photoURL),yield L._updateTokensIfNecessary(ze)})).apply(this,arguments)}function Of(R,S){return Rf((0,V.m9)(R),S,null)}function Bc(R,S){return Rf((0,V.m9)(R),null,S)}function Rf(R,S,I){return qd.apply(this,arguments)}function qd(){return(qd=(0,s.Z)(function*(R,S,I){const{auth:L}=R,le={idToken:yield R.getIdToken(),returnSecureToken:!0};S&&(le.email=S),I&&(le.password=I);const ze=yield ei(R,ui(L,le));yield R._updateTokensIfNecessary(ze,!0)})).apply(this,arguments)}class To{constructor(S,I,L={}){this.isNewUser=S,this.providerId=I,this.profile=L}}class pr extends To{constructor(S,I,L,J){super(S,I,L),this.username=J}}class Zd extends To{constructor(S,I){super(S,"facebook.com",I)}}class Dv extends pr{constructor(S,I){super(S,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class pg extends To{constructor(S,I){super(S,"google.com",I)}}class cl extends pr{constructor(S,I,L){super(S,"twitter.com",I,L)}}function Jm(R){const{user:S,_tokenResponse:I}=R;return S.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function oo(R){var S,I;if(!R)return null;const{providerId:L}=R,J=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},le=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!L&&R?.idToken){const ze=null===(I=null===(S=Ft(R.idToken))||void 0===S?void 0:S.firebase)||void 0===I?void 0:I.sign_in_provider;if(ze)return new To(le,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!L)return null;switch(L){case"facebook.com":return new Zd(le,J);case"github.com":return new Dv(le,J);case"google.com":return new pg(le,J);case"twitter.com":return new cl(le,J,R.screenName||null);case"custom":case"anonymous":return new To(le,null);default:return new To(le,L,J)}}(I)}function Pf(R,S,I,L){return(0,V.m9)(R).onIdTokenChanged(S,I,L)}function Yl(R,S,I,L){return(0,V.m9)(R).onAuthStateChanged(S,I,L)}class Hc{constructor(S,I){this.type=S,this.credential=I}static _fromIdtoken(S){return new Hc("enroll",S)}static _fromMfaPendingCredential(S){return new Hc("signin",S)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(S){var I,L;if(S?.multiFactorSession){if(null!==(I=S.multiFactorSession)&&void 0!==I&&I.pendingCredential)return Hc._fromMfaPendingCredential(S.multiFactorSession.pendingCredential);if(null!==(L=S.multiFactorSession)&&void 0!==L&&L.idToken)return Hc._fromIdtoken(S.multiFactorSession.idToken)}return null}}class $d{constructor(S,I,L){this.session=S,this.hints=I,this.signInResolver=L}static _fromError(S,I){const L=kn(S),J=I.customData._serverResponse,le=(J.mfaInfo||[]).map(vt=>xt._fromServerResponse(L,vt));pe(J.mfaPendingCredential,L,"internal-error");const ze=Hc._fromMfaPendingCredential(J.mfaPendingCredential);return new $d(ze,le,function(){var vt=(0,s.Z)(function*(hn){const bn=yield hn._process(L,ze);delete J.mfaInfo,delete J.mfaPendingCredential;const ni=Object.assign(Object.assign({},J),{idToken:bn.idToken,refreshToken:bn.refreshToken});switch(I.operationType){case"signIn":const or=yield bo._fromIdTokenResponse(L,I.operationType,ni);return yield L._updateCurrentUser(or.user),or;case"reauthenticate":return pe(I.user,L,"internal-error"),bo._forOperation(I.user,I.operationType,ni);default:pt(L,"internal-error")}});return function(hn){return vt.apply(this,arguments)}}())}resolveSignIn(S){var I=this;return(0,s.Z)(function*(){return I.signInResolver(S)})()}}function Wd(R,S){var I;const L=(0,V.m9)(R),J=S;return pe(S.customData.operationType,L,"argument-error"),pe(null===(I=J.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,L,"argument-error"),$d._fromError(L,J)}function Nf(R,S){return dt(R,"POST","/v2/accounts/mfaEnrollment:start",Wt(R,S))}class Yd{constructor(S){this.user=S,this.enrolledFactors=[],S._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(L=>xt._fromServerResponse(S.auth,L)))})}static _fromUser(S){return new Yd(S)}getSession(){var S=this;return(0,s.Z)(function*(){return Hc._fromIdtoken(yield S.user.getIdToken())})()}enroll(S,I){var L=this;return(0,s.Z)(function*(){const J=S,le=yield L.getSession(),ze=yield ei(L.user,J._process(L.user.auth,le,I));return yield L.user._updateTokensIfNecessary(ze),L.user.reload()})()}unenroll(S){var I=this;return(0,s.Z)(function*(){var L;const J="string"==typeof S?S:S.uid,le=yield I.user.getIdToken(),ze=yield ei(I.user,function Av(R,S){return dt(R,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(R,S))}(I.user.auth,{idToken:le,mfaEnrollmentId:J}));I.enrolledFactors=I.enrolledFactors.filter(({uid:vt})=>vt!==J),yield I.user._updateTokensIfNecessary(ze);try{yield I.user.reload()}catch(vt){if("auth/user-token-expired"!==(null===(L=vt)||void 0===L?void 0:L.code))throw vt}})()}}const e_=new WeakMap;function t_(R){const S=(0,V.m9)(R);return e_.has(S)||e_.set(S,Yd._fromUser(S)),e_.get(S)}const Ff="__sak";class ds{constructor(S,I){this.storageRetriever=S,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(S,I){return this.storage.setItem(S,JSON.stringify(I)),Promise.resolve()}_get(S){const I=this.storage.getItem(S);return Promise.resolve(I?JSON.parse(I):null)}_remove(S){return this.storage.removeItem(S),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yt=(()=>{class R extends ds{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,L)=>this.onStorageEvent(I,L),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function it(){const R=(0,V.z$)();return ue(R)||cn(R)}()&&function Te(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Di(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const L of Object.keys(this.listeners)){const J=this.storage.getItem(L),le=this.localCache[L];J!==le&&I(L,le,J)}}onStorageEvent(I,L=!1){if(!I.key)return void this.forAllChangedKeys((vt,hn,bn)=>{this.notifyListeners(vt,bn)});const J=I.key;if(L?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(J);if(I.newValue!==vt)null!==I.newValue?this.storage.setItem(J,I.newValue):this.storage.removeItem(J);else if(this.localCache[J]===I.newValue&&!L)return}const le=()=>{const vt=this.storage.getItem(J);!L&&this.localCache[J]===vt||this.notifyListeners(J,vt)},ze=this.storage.getItem(J);!function Tn(){return(0,V.w1)()&&10===document.documentMode}()||ze===I.newValue||I.newValue===I.oldValue?le():setTimeout(le,10)}notifyListeners(I,L){this.localCache[I]=L;const J=this.listeners[I];if(J)for(const le of Array.from(J))le(L&&JSON.parse(L))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,L,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:L,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,L){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(L)}_removeListener(I,L){this.listeners[I]&&(this.listeners[I].delete(L),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,L){var J=()=>super._set,le=this;return(0,s.Z)(function*(){yield J().call(le,I,L),le.localCache[I]=JSON.stringify(L)})()}_get(I){var L=()=>super._get,J=this;return(0,s.Z)(function*(){const le=yield L().call(J,I);return J.localCache[I]=JSON.stringify(le),le})()}_remove(I){var L=()=>super._remove,J=this;return(0,s.Z)(function*(){yield L().call(J,I),delete J.localCache[I]})()}}return R.type="LOCAL",R})(),dl=(()=>{class R extends ds{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,L){}_removeListener(I,L){}}return R.type="SESSION",R})();let Nn=(()=>{class R{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const L=this.receivers.find(le=>le.isListeningto(I));if(L)return L;const J=new R(I);return this.receivers.push(J),J}isListeningto(I){return this.eventTarget===I}handleEvent(I){var L=this;return(0,s.Z)(function*(){const J=I,{eventId:le,eventType:ze,data:vt}=J.data,hn=L.handlersMap[ze];if(!hn?.size)return;J.ports[0].postMessage({status:"ack",eventId:le,eventType:ze});const bn=Array.from(hn).map(function(){var or=(0,s.Z)(function*(ha){return ha(J.origin,vt)});return function(ha){return or.apply(this,arguments)}}()),ni=yield function Uc(R){return Promise.all(R.map(function(){var S=(0,s.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(L){return{fulfilled:!1,reason:L}}});return function(I){return S.apply(this,arguments)}}()))}(bn);J.ports[0].postMessage({status:"done",eventId:le,eventType:ze,response:ni})})()}_subscribe(I,L){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(L)}_unsubscribe(I,L){this.handlersMap[I]&&L&&this.handlersMap[I].delete(L),(!L||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function Fn(R="",S=10){let I="";for(let L=0;L<S;L++)I+=Math.floor(10*Math.random());return R+I}class W{constructor(S){this.target=S,this.handlers=new Set}removeMessageHandler(S){S.messageChannel&&(S.messageChannel.port1.removeEventListener("message",S.onMessage),S.messageChannel.port1.close()),this.handlers.delete(S)}_send(S,I,L=50){var J=this;return(0,s.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let ze,vt;return new Promise((hn,bn)=>{const ni=Fn("",20);le.port1.start();const or=setTimeout(()=>{bn(new Error("unsupported_event"))},L);vt={messageChannel:le,onMessage(ha){const _l=ha;if(_l.data.eventId===ni)switch(_l.data.status){case"ack":clearTimeout(or),ze=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),hn(_l.data.response);break;default:clearTimeout(or),clearTimeout(ze),bn(new Error("invalid_response"))}}},J.handlers.add(vt),le.port1.addEventListener("message",vt.onMessage),J.target.postMessage({eventType:S,eventId:ni,data:I},[le.port2])}).finally(()=>{vt&&J.removeMessageHandler(vt)})})()}}function Wn(){return window}function Zn(){return typeof Wn().WorkerGlobalScope<"u"&&"function"==typeof Wn().importScripts}function Tr(){return(Tr=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Kd="firebaseLocalStorageDb",Kl="firebaseLocalStorage",Lf="fbase_key";class gi{constructor(S){this.request=S}toPromise(){return new Promise((S,I)=>{this.request.addEventListener("success",()=>{S(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Jd(R,S){return R.transaction([Kl],S?"readwrite":"readonly").objectStore(Kl)}function oa(){const R=indexedDB.open(Kd,1);return new Promise((S,I)=>{R.addEventListener("error",()=>{I(R.error)}),R.addEventListener("upgradeneeded",()=>{const L=R.result;try{L.createObjectStore(Kl,{keyPath:Lf})}catch(J){I(J)}}),R.addEventListener("success",(0,s.Z)(function*(){const L=R.result;L.objectStoreNames.contains(Kl)?S(L):(L.close(),yield function ra(){const R=indexedDB.deleteDatabase(Kd);return new gi(R).toPromise()}(),S(yield oa()))}))})}function Yr(R,S,I){return n_.apply(this,arguments)}function n_(){return(n_=(0,s.Z)(function*(R,S,I){const L=Jd(R,!0).put({[Lf]:S,value:I});return new gi(L).toPromise()})).apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(R,S){const I=Jd(R,!1).get(S),L=yield new gi(I).toPromise();return void 0===L?null:L.value})).apply(this,arguments)}function sa(R,S){const I=Jd(R,!0).delete(S);return new gi(I).toPromise()}const hl=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,s.Z)(function*(){return I.db||(I.db=yield oa()),I.db})()}_withRetries(I){var L=this;return(0,s.Z)(function*(){let J=0;for(;;)try{const le=yield L._openDb();return yield I(le)}catch(le){if(J++>3)throw le;L.db&&(L.db.close(),L.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,s.Z)(function*(){return Zn()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,s.Z)(function*(){I.receiver=Nn._getInstance(function zn(){return Zn()?self:null}()),I.receiver._subscribe("keyChanged",function(){var L=(0,s.Z)(function*(J,le){return{keyProcessed:(yield I._poll()).includes(le.key)}});return function(J,le){return L.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var L=(0,s.Z)(function*(J,le){return["keyChanged"]});return function(J,le){return L.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,s.Z)(function*(){var L,J;if(I.activeServiceWorker=yield function wt(){return Tr.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new W(I.activeServiceWorker);const le=yield I.sender._send("ping",{},800);!le||(null===(L=le[0])||void 0===L?void 0:L.fulfilled)&&(null===(J=le[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var L=this;return(0,s.Z)(function*(){if(L.sender&&L.activeServiceWorker&&function $i(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===L.activeServiceWorker)try{yield L.sender._send("keyChanged",{key:I},L.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const I=yield oa();return yield Yr(I,Ff,"1"),yield sa(I,Ff),!0}catch{}return!1})()}_withPendingWrite(I){var L=this;return(0,s.Z)(function*(){L.pendingWrites++;try{yield I()}finally{L.pendingWrites--}})()}_set(I,L){var J=this;return(0,s.Z)(function*(){return J._withPendingWrite((0,s.Z)(function*(){return yield J._withRetries(le=>Yr(le,I,L)),J.localCache[I]=L,J.notifyServiceWorker(I)}))})()}_get(I){var L=this;return(0,s.Z)(function*(){const J=yield L._withRetries(le=>function Jl(R,S){return mr.apply(this,arguments)}(le,I));return L.localCache[I]=J,J})()}_remove(I){var L=this;return(0,s.Z)(function*(){return L._withPendingWrite((0,s.Z)(function*(){return yield L._withRetries(J=>sa(J,I)),delete L.localCache[I],L.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,s.Z)(function*(){const L=yield I._withRetries(ze=>{const vt=Jd(ze,!1).getAll();return new gi(vt).toPromise()});if(!L)return[];if(0!==I.pendingWrites)return[];const J=[],le=new Set;for(const{fbase_key:ze,value:vt}of L)le.add(ze),JSON.stringify(I.localCache[ze])!==JSON.stringify(vt)&&(I.notifyListeners(ze,vt),J.push(ze));for(const ze of Object.keys(I.localCache))I.localCache[ze]&&!le.has(ze)&&(I.notifyListeners(ze,null),J.push(ze));return J})()}notifyListeners(I,L){this.localCache[I]=L;const J=this.listeners[I];if(J)for(const le of Array.from(J))le(L)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,L){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(L)}_removeListener(I,L){this.listeners[I]&&(this.listeners[I].delete(L),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function Qd(R,S){return dt(R,"POST","/v2/accounts/mfaSignIn:start",Wt(R,S))}function cr(){return(cr=(0,s.Z)(function*(R){return(yield dt(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fl(R){return new Promise((S,I)=>{const L=document.createElement("script");L.setAttribute("src",R),L.onload=S,L.onerror=J=>{const le=Ke("internal-error");le.customData=J,I(le)},L.type="text/javascript",L.charset="UTF-8",function so(){var R,S;return null!==(S=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==S?S:document}().appendChild(L)})}function pl(R){return`__${R}${Math.floor(1e6*Math.random())}`}const Gc=1e12;class Gi{constructor(S){this.auth=S,this.counter=Gc,this._widgets=new Map}render(S,I){const L=this.counter;return this._widgets.set(L,new s_(S,this.auth.name,I||{})),this.counter++,L}reset(S){var I;const L=S||Gc;null===(I=this._widgets.get(L))||void 0===I||I.delete(),this._widgets.delete(L)}getResponse(S){var I;return(null===(I=this._widgets.get(S||Gc))||void 0===I?void 0:I.getResponse())||""}execute(S){var I=this;return(0,s.Z)(function*(){var L;return null===(L=I._widgets.get(S||Gc))||void 0===L||L.execute(),""})()}}class s_{constructor(S,I,L){this.params=L,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof S?document.getElementById(S):S;pe(J,"argument-error",{appName:I}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function a_(R){const S=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<R;L++)S.push(I.charAt(Math.floor(Math.random()*I.length)));return S.join("")}(50);const{callback:S,"expired-callback":I}=this.params;if(S)try{S(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mg=pl("rcb"),Wo=new Tt(3e4,6e4);class Xd{constructor(){var S;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(S=Wn().grecaptcha)||void 0===S||!S.render)}load(S,I=""){return pe(function hs(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(I),S,"argument-error"),this.shouldResolveImmediately(I)?Promise.resolve(Wn().grecaptcha):new Promise((L,J)=>{const le=Wn().setTimeout(()=>{J(Ke(S,"network-request-failed"))},Wo.get());Wn()[mg]=()=>{Wn().clearTimeout(le),delete Wn()[mg];const vt=Wn().grecaptcha;if(!vt)return void J(Ke(S,"internal-error"));const hn=vt.render;vt.render=(bn,ni)=>{const or=hn(bn,ni);return this.counter++,or},this.hostLanguage=I,L(vt)},fl(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:mg,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(le),J(Ke(S,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(S){var I;return!(null===(I=Wn().grecaptcha)||void 0===I||!I.render)&&(S===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gl{load(S){return(0,s.Z)(function*(){return new Gi(S)})()}clearedOneInstance(){}}const Kr="recaptcha",l_={theme:"light",type:"image"};class Hr{constructor(S,I=Object.assign({},l_),L){this.parameters=I,this.type=Kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(L),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof S?document.getElementById(S):S;pe(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gl:new Xd,this.validateStartingState()}verify(){var S=this;return(0,s.Z)(function*(){S.assertNotDestroyed();const I=yield S.render(),L=S.getAssertedRecaptcha();return L.getResponse(I)||new Promise(le=>{const ze=vt=>{!vt||(S.tokenChangeListeners.delete(ze),le(vt))};S.tokenChangeListeners.add(ze),S.isInvisible&&L.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(S){return Promise.reject(S)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(S=>{throw this.renderPromise=null,S})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(S=>{this.container.removeChild(S)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(S){return I=>{if(this.tokenChangeListeners.forEach(L=>L(I)),"function"==typeof S)S(I);else if("string"==typeof S){const L=Wn()[S];"function"==typeof L&&L(I)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var S=this;return(0,s.Z)(function*(){if(yield S.init(),!S.widgetId){let I=S.container;if(!S.isInvisible){const L=document.createElement("div");I.appendChild(L),I=L}S.widgetId=S.getAssertedRecaptcha().render(I,S.parameters)}return S.widgetId})()}init(){var S=this;return(0,s.Z)(function*(){pe(ct()&&!Zn(),S.auth,"internal-error"),yield function qc(){let R=null;return new Promise(S=>{"complete"!==document.readyState?(R=()=>S(),window.addEventListener("load",R)):S()}).catch(S=>{throw R&&window.removeEventListener("load",R),S})}(),S.recaptcha=yield S._recaptchaLoader.load(S.auth,S.auth.languageCode||void 0);const I=yield function on(R){return cr.apply(this,arguments)}(S.auth);pe(I,S.auth,"internal-error"),S.parameters.sitekey=I})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Na{constructor(S,I){this.verificationId=S,this.onConfirmation=I}confirm(S){const I=Fs._fromVerification(this.verificationId,S);return this.onConfirmation(I)}}function _g(R,S,I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,s.Z)(function*(R,S,I){const L=kn(R),J=yield Xl(L,S,(0,V.m9)(I));return new Na(J,le=>Zl(L,le))})).apply(this,arguments)}function Eo(R,S,I){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R);yield wo(!1,L,"phone");const J=yield Xl(L.auth,S,(0,V.m9)(I));return new Na(J,le=>Tf(L,le))})).apply(this,arguments)}function eh(R,S,I){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R),J=yield Xl(L.auth,S,(0,V.m9)(I));return new Na(J,le=>Ef(L,le))})).apply(this,arguments)}function Xl(R,S,I){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,s.Z)(function*(R,S,I){var L;const J=yield I.verify();try{let le;if(pe("string"==typeof J,R,"argument-error"),pe(I.type===Kr,R,"argument-error"),le="string"==typeof S?{phoneNumber:S}:S,"session"in le){const ze=le.session;if("phoneNumber"in le)return pe("enroll"===ze.type,R,"internal-error"),(yield Nf(R,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{pe("signin"===ze.type,R,"internal-error");const vt=(null===(L=le.multiFactorHint)||void 0===L?void 0:L.uid)||le.multiFactorUid;return pe(vt,R,"missing-multi-factor-info"),(yield Qd(R,{mfaPendingCredential:ze.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield ag(R,{phoneNumber:le.phoneNumber,recaptchaToken:J});return ze}}finally{I._reset()}})).apply(this,arguments)}function kv(R,S){return yg.apply(this,arguments)}function yg(){return(yg=(0,s.Z)(function*(R,S){yield Gl((0,V.m9)(R),S)})).apply(this,arguments)}let th=(()=>{class R{constructor(I){this.providerId=R.PROVIDER_ID,this.auth=kn(I)}verifyPhoneNumber(I,L){return Xl(this.auth,I,(0,V.m9)(L))}static credential(I,L){return Fs._fromVerification(I,L)}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:L,temporaryProof:J}=I;return L&&J?Fs._fromTokenResponse(L,J):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function aa(R,S){return S?Ce(S):(pe(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class Fa extends Mn{constructor(S){super("custom","custom"),this.params=S}_getIdTokenResponse(S){return ta(S,this._buildIdpRequest())}_linkToIdToken(S,I){return ta(S,this._buildIdpRequest(I))}_getReauthenticationResolver(S){return ta(S,this._buildIdpRequest())}_buildIdpRequest(S){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return S&&(I.idToken=S),I}}function Ko(R){return Bs(R.auth,new Fa(R),R.bypassAuthState)}function nh(R){const{auth:S,user:I}=R;return pe(I,S,"internal-error"),ol(I,new Fa(R),R.bypassAuthState)}function la(R){return La.apply(this,arguments)}function La(){return(La=(0,s.Z)(function*(R){const{auth:S,user:I}=R;return pe(I,S,"internal-error"),Gl(I,new Fa(R),R.bypassAuthState)})).apply(this,arguments)}class zu{constructor(S,I,L,J,le=!1){this.auth=S,this.resolver=L,this.user=J,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var S=this;return new Promise(function(){var I=(0,s.Z)(function*(L,J){S.pendingPromise={resolve:L,reject:J};try{S.eventManager=yield S.resolver._initialize(S.auth),yield S.onExecution(),S.eventManager.registerConsumer(S)}catch(le){S.reject(le)}});return function(L,J){return I.apply(this,arguments)}}())}onAuthEvent(S){var I=this;return(0,s.Z)(function*(){const{urlResponse:L,sessionId:J,postBody:le,tenantId:ze,error:vt,type:hn}=S;if(vt)return void I.reject(vt);const bn={auth:I.auth,requestUri:L,sessionId:J,tenantId:ze||void 0,postBody:le||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(hn)(bn))}catch(ni){I.reject(ni)}})()}onError(S){this.reject(S)}getIdpTask(S){switch(S){case"signInViaPopup":case"signInViaRedirect":return Ko;case"linkViaPopup":case"linkViaRedirect":return la;case"reauthViaPopup":case"reauthViaRedirect":return nh;default:pt(this.auth,"internal-error")}}resolve(S){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(S),this.unregisterAndCleanUp()}reject(S){Ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(S),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zc=new Tt(2e3,1e4);function Hf(R,S,I){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(R,S,I){const L=kn(R);$e(R,S,Ls);const J=aa(L,I);return new xo(L,"signInViaPopup",S,J).executeNotNull()})).apply(this,arguments)}function Uf(R,S,I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R);$e(L.auth,S,Ls);const J=aa(L.auth,I);return new xo(L.auth,"reauthViaPopup",S,J,L).executeNotNull()})).apply(this,arguments)}function ih(R,S,I){return Va.apply(this,arguments)}function Va(){return(Va=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R);$e(L.auth,S,Ls);const J=aa(L.auth,I);return new xo(L.auth,"linkViaPopup",S,J,L).executeNotNull()})).apply(this,arguments)}let xo=(()=>{class R extends zu{constructor(I,L,J,le,ze){super(I,L,le,ze),this.provider=J,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var I=this;return(0,s.Z)(function*(){const L=yield I.execute();return pe(L,I.auth,"internal-error"),L})()}onExecution(){var I=this;return(0,s.Z)(function*(){Ae(1===I.filter.length,"Popup operations only handle one event");const L=Fn();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],L),I.authWindow.associatedEvent=L,I.resolver._originValidation(I.auth).catch(J=>{I.reject(J)}),I.resolver._isIframeWebStorageSupported(I.auth,J=>{J||I.reject(Ke(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const I=()=>{var L,J;this.pollId=null!==(J=null===(L=this.authWindow)||void 0===L?void 0:L.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(I,Zc.get())};I()}}return R.currentPopupAction=null,R})();const Fo=new Map;class qu extends zu{constructor(S,I,L=!1){super(S,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,L),this.eventId=null}execute(){var S=()=>super.execute,I=this;return(0,s.Z)(function*(){let L=Fo.get(I.auth._key());if(!L){try{const le=(yield function tc(R,S){return ml.apply(this,arguments)}(I.resolver,I.auth))?yield S().call(I):null;L=()=>Promise.resolve(le)}catch(J){L=()=>Promise.reject(J)}Fo.set(I.auth._key(),L)}return I.bypassAuthState||Fo.set(I.auth._key(),()=>Promise.resolve(null)),L()})()}onAuthEvent(S){var I=()=>super.onAuthEvent,L=this;return(0,s.Z)(function*(){if("signInViaRedirect"===S.type)return I().call(L,S);if("unknown"!==S.type){if(S.eventId){const J=yield L.auth._redirectUserForId(S.eventId);if(J)return L.user=J,I().call(L,S);L.resolve(null)}}else L.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function ml(){return(ml=(0,s.Z)(function*(R,S){const I=oh(S),L=nc(R);if(!(yield L._isAvailable()))return!1;const J="true"===(yield L._get(I));return yield L._remove(I),J})).apply(this,arguments)}function rh(R,S){return vg.apply(this,arguments)}function vg(){return(vg=(0,s.Z)(function*(R,S){return nc(R)._set(oh(S),"true")})).apply(this,arguments)}function jf(){Fo.clear()}function Ba(R,S){Fo.set(R._key(),S)}function nc(R){return Ce(R._redirectPersistence)}function oh(R){return Un("pendingRedirect",R.config.apiKey,R.name)}function Ur(R,S,I){return function c_(R,S,I){return sh.apply(this,arguments)}(R,S,I)}function sh(){return(sh=(0,s.Z)(function*(R,S,I){const L=kn(R);$e(R,S,Ls);const J=aa(L,I);return yield rh(J,L),J._openRedirect(L,S,"signInViaRedirect")})).apply(this,arguments)}function ic(R,S,I){return function ca(R,S,I){return zf.apply(this,arguments)}(R,S,I)}function zf(){return(zf=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R);$e(L.auth,S,Ls);const J=aa(L.auth,I);yield rh(J,L.auth);const le=yield ao(L);return J._openRedirect(L.auth,S,"reauthViaRedirect",le)})).apply(this,arguments)}function $c(R,S,I){return function u_(R,S,I){return xs.apply(this,arguments)}(R,S,I)}function xs(){return(xs=(0,s.Z)(function*(R,S,I){const L=(0,V.m9)(R);$e(L.auth,S,Ls);const J=aa(L.auth,I);yield wo(!1,L,S.providerId),yield rh(J,L.auth);const le=yield ao(L);return J._openRedirect(L.auth,S,"linkViaRedirect",le)})).apply(this,arguments)}function Wc(R,S){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,s.Z)(function*(R,S){return yield kn(R)._initializationPromise,Ss(R,S,!1)})).apply(this,arguments)}function Ss(R,S){return bg.apply(this,arguments)}function bg(){return(bg=(0,s.Z)(function*(R,S,I=!1){const L=kn(R),J=aa(L,S),ze=yield new qu(L,J,I).execute();return ze&&!I&&(delete ze.user._redirectEventId,yield L._persistUserIfCurrent(ze.user),yield L._setRedirectUser(null,S)),ze})).apply(this,arguments)}function ao(R){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(R){const S=Fn(`${R.uid}:::`);return R._redirectEventId=S,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),S})).apply(this,arguments)}class Gf{constructor(S){this.auth=S,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(S){this.consumers.add(S),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,S)&&(this.sendToConsumer(this.queuedRedirectEvent,S),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(S){this.consumers.delete(S)}onEvent(S){if(this.hasEventBeenHandled(S))return!1;let I=!1;return this.consumers.forEach(L=>{this.isEventForConsumer(S,L)&&(I=!0,this.sendToConsumer(S,L),this.saveEventToCache(S))}),this.hasHandledPotentialRedirect||!function oc(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wg(R);default:return!1}}(S)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=S,I=!0)),I}sendToConsumer(S,I){var L;if(S.error&&!wg(S)){const J=(null===(L=S.error.code)||void 0===L?void 0:L.split("auth/")[1])||"internal-error";I.onError(Ke(this.auth,J))}else I.onAuthEvent(S)}isEventForConsumer(S,I){const L=null===I.eventId||!!S.eventId&&S.eventId===I.eventId;return I.filter.includes(S.type)&&L}hasEventBeenHandled(S){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ah(S))}saveEventToCache(S){this.cachedEventUids.add(ah(S)),this.lastProcessedEventTime=Date.now()}}function ah(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(S=>S).join("-")}function wg({type:R,error:S}){return"unknown"===R&&"auth/no-auth-event"===S?.code}function $u(R){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,s.Z)(function*(R,S={}){return dt(R,"GET","/v1/projects",S)})).apply(this,arguments)}const Wu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d_=/^https?/;function h_(){return(h_=(0,s.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:S}=yield $u(R);for(const I of S)try{if(jr(I))return}catch{}pt(R,"unauthorized-domain")})).apply(this,arguments)}function jr(R){const S=gt(),{protocol:I,hostname:L}=new URL(S);if(R.startsWith("chrome-extension://")){const ze=new URL(R);return""===ze.hostname&&""===L?"chrome-extension:"===I&&R.replace("chrome-extension://","")===S.replace("chrome-extension://",""):"chrome-extension:"===I&&ze.hostname===L}if(!d_.test(I))return!1;if(Wu.test(R))return L===R;const J=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(L)}const Ti=new Tt(3e4,6e4);function Yu(){const R=Wn().___jsl;if(R?.H)for(const S of Object.keys(R.H))if(R.H[S].r=R.H[S].r||[],R.H[S].L=R.H[S].L||[],R.H[S].r=[...R.H[S].L],R.CP)for(let I=0;I<R.CP.length;I++)R.CP[I]=null}let Jc=null;function ua(R){return Jc=Jc||function Kc(R){return new Promise((S,I)=>{var L,J,le;function ze(){Yu(),gapi.load("gapi.iframes",{callback:()=>{S(gapi.iframes.getContext())},ontimeout:()=>{Yu(),I(Ke(R,"network-request-failed"))},timeout:Ti.get()})}if(null!==(J=null===(L=Wn().gapi)||void 0===L?void 0:L.iframes)&&void 0!==J&&J.Iframe)S(gapi.iframes.getContext());else{if(null===(le=Wn().gapi)||void 0===le||!le.load){const vt=pl("iframefcb");return Wn()[vt]=()=>{gapi.load?ze():I(Ke(R,"network-request-failed"))},fl(`https://apis.google.com/js/api.js?onload=${vt}`).catch(hn=>I(hn))}ze()}}).catch(S=>{throw Jc=null,S})}(R),Jc}const f_=new Tt(5e3,15e3),Qc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p_(R){const S=R.config;pe(S.authDomain,R,"auth-domain-config-required");const I=S.emulator?It(S,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,L={apiKey:S.apiKey,appName:R.name,v:Y.SDK_VERSION},J=zr.get(R.config.apiHost);J&&(L.eid=J);const le=R._getFrameworks();return le.length&&(L.fw=le.join(",")),`${I}?${(0,V.xO)(L).slice(1)}`}function Lo(){return Lo=(0,s.Z)(function*(R){const S=yield ua(R),I=Wn().gapi;return pe(I,R,"internal-error"),S.open({where:document.body,url:p_(R),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qc,dontclear:!0},L=>new Promise(function(){var J=(0,s.Z)(function*(le,ze){yield L.restyle({setHideOnLeave:!1});const vt=Ke(R,"network-request-failed"),hn=Wn().setTimeout(()=>{ze(vt)},f_.get());function bn(){Wn().clearTimeout(hn),le(L)}L.ping(bn).then(bn,()=>{ze(vt)})});return function(le,ze){return J.apply(this,arguments)}}()))}),Lo.apply(this,arguments)}const m_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ki{constructor(S){this.window=S,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function da(R,S,I,L,J,le){pe(R.config.authDomain,R,"auth-domain-config-required"),pe(R.config.apiKey,R,"invalid-api-key");const ze={apiKey:R.config.apiKey,appName:R.name,authType:I,redirectUrl:L,v:Y.SDK_VERSION,eventId:J};if(S instanceof Ls){S.setDefaultLanguage(R.languageCode),ze.providerId=S.providerId||"",(0,V.xb)(S.getCustomParameters())||(ze.customParameters=JSON.stringify(S.getCustomParameters()));for(const[hn,bn]of Object.entries(le||{}))ze[hn]=bn}if(S instanceof ls){const hn=S.getScopes().filter(bn=>""!==bn);hn.length>0&&(ze.scopes=hn.join(","))}R.tenantId&&(ze.tid=R.tenantId);const vt=ze;for(const hn of Object.keys(vt))void 0===vt[hn]&&delete vt[hn];return`${function Cg({config:R}){return R.emulator?It(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,V.xO)(vt).slice(1)}`}const Xc="webStorageSupport",Pv=class Ku{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dl,this._completeRedirectFn=Ss,this._overrideRedirectResult=Ba}_openPopup(S,I,L,J){var le=this;return(0,s.Z)(function*(){var ze;Ae(null===(ze=le.eventManagers[S._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const vt=da(S,I,L,gt(),J);return function __(R,S,I,L=500,J=600){const le=Math.max((window.screen.availHeight-J)/2,0).toString(),ze=Math.max((window.screen.availWidth-L)/2,0).toString();let vt="";const hn=Object.assign(Object.assign({},m_),{width:L.toString(),height:J.toString(),top:le,left:ze}),bn=(0,V.z$)().toLowerCase();I&&(vt=De(bn)?"_blank":I),oe(bn)&&(S=S||"http://localhost",hn.scrollbars="yes");const ni=Object.entries(hn).reduce((ha,[_l,Tg])=>`${ha}${_l}=${Tg},`,"");if(function Hi(R=(0,V.z$)()){var S;return cn(R)&&!(null===(S=window.navigator)||void 0===S||!S.standalone)}(bn)&&"_self"!==vt)return function qi(R,S){const I=document.createElement("a");I.href=R,I.target=S;const L=document.createEvent("MouseEvent");L.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(L)}(S||"",vt),new ki(null);const or=window.open(S||"",vt,ni);pe(or,R,"popup-blocked");try{or.focus()}catch{}return new ki(or)}(S,vt,Fn())})()}_openRedirect(S,I,L,J){var le=this;return(0,s.Z)(function*(){return yield le._originValidation(S),function gr(R){Wn().location.href=R}(da(S,I,L,gt(),J)),new Promise(()=>{})})()}_initialize(S){const I=S._key();if(this.eventManagers[I]){const{manager:J,promise:le}=this.eventManagers[I];return J?Promise.resolve(J):(Ae(le,"If manager is not set, promise should be"),le)}const L=this.initAndGetManager(S);return this.eventManagers[I]={promise:L},L.catch(()=>{delete this.eventManagers[I]}),L}initAndGetManager(S){var I=this;return(0,s.Z)(function*(){const L=yield function g_(R){return Lo.apply(this,arguments)}(S),J=new Gf(S);return L.register("authEvent",le=>(pe(le?.authEvent,S,"invalid-auth-event"),{status:J.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[S._key()]={manager:J},I.iframes[S._key()]=L,J})()}_isIframeWebStorageSupported(S,I){this.iframes[S._key()].send(Xc,{type:Xc},J=>{var le;const ze=null===(le=J?.[0])||void 0===le?void 0:le[Xc];void 0!==ze&&I(!!ze),pt(S,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(S){const I=S._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function qf(R){return h_.apply(this,arguments)}(S)),this.originValidationPromises[I]}get _shouldInitProactively(){return Di()||ue()||cn()}};class Us extends class Wf{constructor(S){this.factorId=S}_process(S,I,L){switch(I.type){case"enroll":return this._finalizeEnroll(S,I.credential,L);case"signin":return this._finalizeSignIn(S,I.credential);default:return Ie("unexpected MultiFactorSessionType")}}}{constructor(S){super("phone"),this.credential=S}static _fromCredential(S){return new Us(S)}_finalizeEnroll(S,I,L){return function Xm(R,S){return dt(R,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(R,S))}(S,{idToken:I,displayName:L,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(S,I){return function Vf(R,S){return dt(R,"POST","/v2/accounts/mfaSignIn:finalize",Wt(R,S))}(S,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ju=(()=>{class R{constructor(){}static assertion(I){return Us._fromCredential(I)}}return R.FACTOR_ID="phone",R})();var y_="@firebase/auth";class ch{constructor(S){this.auth=S,this.internalListeners=new Map}getUid(){var S;return this.assertAuthConfigured(),(null===(S=this.auth.currentUser)||void 0===S?void 0:S.uid)||null}getToken(S){var I=this;return(0,s.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(S)}:null})()}addAuthTokenListener(S){if(this.assertAuthConfigured(),this.internalListeners.has(S))return;const I=this.auth.onIdTokenChanged(L=>{var J;S((null===(J=L)||void 0===J?void 0:J.stsTokenManager.accessToken)||null)});this.internalListeners.set(S,I),this.updateProactiveRefresh()}removeAuthTokenListener(S){this.assertAuthConfigured();const I=this.internalListeners.get(S);!I||(this.internalListeners.delete(S),I(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lo(R=(0,Y.getApp)()){const S=(0,Y._getProvider)(R,"auth");return S.isInitialized()?S.getImmediate():function Ue(R,S){const I=(0,Y._getProvider)(R,"auth");if(I.isInitialized()){const J=I.getImmediate(),le=I.getOptions();if((0,V.vZ)(le,S??{}))return J;pt(J,"already-initialized")}return I.initialize({options:S})}(R,{popupRedirectResolver:Pv,persistence:[hl,Yt,dl]})}!function Nv(R){(0,Y._registerComponent)(new Me.wA("auth",(S,{options:I})=>{const L=S.getProvider("app").getImmediate(),J=S.getProvider("heartbeat"),{apiKey:le,authDomain:ze}=L.options;return((vt,hn)=>{pe(le&&!le.includes(":"),"invalid-api-key",{appName:vt.name}),pe(!ze?.includes(":"),"argument-error",{appName:vt.name});const bn={apiKey:le,authDomain:ze,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:et(R)},ni=new Dt(vt,hn,bn);return function Pe(R,S){const I=S?.persistence||[],L=(Array.isArray(I)?I:[I]).map(Ce);S?.errorMap&&R._updateErrorMap(S.errorMap),R._initializeWithPersistence(L,S?.popupRedirectResolver)}(ni,I),ni})(L,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((S,I,L)=>{S.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new Me.wA("auth-internal",S=>{const I=kn(S.getProvider("auth").getImmediate());return new ch(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(y_,"0.20.5",function b_(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,Y.registerVersion)(y_,"0.20.5","esm2017")}("Browser")},2090:(an,Qe,q)=>{"use strict";q.d(Qe,{$s:()=>Qi,BH:()=>we,DV:()=>dt,Dv:()=>Rn,G6:()=>pe,GJ:()=>$t,L:()=>Se,LL:()=>gt,Mn:()=>$e,Pz:()=>en,Sg:()=>Oe,UG:()=>Be,UI:()=>Qt,US:()=>Me,Wj:()=>Xn,Yr:()=>Xe,ZB:()=>ne,ZR:()=>Pe,b$:()=>pt,cI:()=>pn,d:()=>Ke,dS:()=>Ft,eu:()=>Ae,g5:()=>Y,gK:()=>xn,gQ:()=>wi,h$:()=>ve,hl:()=>Ie,hu:()=>V,jU:()=>Ne,lb:()=>Bn,m9:()=>me,ne:()=>nt,p$:()=>re,pd:()=>En,r3:()=>Wt,ru:()=>St,tV:()=>fe,uI:()=>ut,ug:()=>Rt,vZ:()=>ln,w1:()=>He,w9:()=>Vt,xO:()=>ai,xb:()=>nn,z$:()=>je,zI:()=>be,zd:()=>vn});const V=function(G,K){if(!G)throw Y(K)},Y=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},_e=function(G){const K=[];let ee=0;for(let Q=0;Q<G.length;Q++){let de=G.charCodeAt(Q);de<128?K[ee++]=de:de<2048?(K[ee++]=de>>6|192,K[ee++]=63&de|128):55296==(64512&de)&&Q+1<G.length&&56320==(64512&G.charCodeAt(Q+1))?(de=65536+((1023&de)<<10)+(1023&G.charCodeAt(++Q)),K[ee++]=de>>18|240,K[ee++]=de>>12&63|128,K[ee++]=de>>6&63|128,K[ee++]=63&de|128):(K[ee++]=de>>12|224,K[ee++]=de>>6&63|128,K[ee++]=63&de|128)}return K},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,K){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let de=0;de<G.length;de+=3){const qe=G[de],bt=de+1<G.length,Gt=bt?G[de+1]:0,mn=de+2<G.length,Un=mn?G[de+2]:0;let oe=(15&Gt)<<2|Un>>6,ue=63&Un;mn||(ue=64,bt||(oe=64)),Q.push(ee[qe>>2],ee[(3&qe)<<4|Gt>>4],ee[oe],ee[ue])}return Q.join("")},encodeString(G,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(G):this.encodeByteArray(_e(G),K)},decodeString(G,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(G):function(G){const K=[];let ee=0,Q=0;for(;ee<G.length;){const de=G[ee++];if(de<128)K[Q++]=String.fromCharCode(de);else if(de>191&&de<224){const qe=G[ee++];K[Q++]=String.fromCharCode((31&de)<<6|63&qe)}else if(de>239&&de<365){const mn=((7&de)<<18|(63&G[ee++])<<12|(63&G[ee++])<<6|63&G[ee++])-65536;K[Q++]=String.fromCharCode(55296+(mn>>10)),K[Q++]=String.fromCharCode(56320+(1023&mn))}else{const qe=G[ee++],bt=G[ee++];K[Q++]=String.fromCharCode((15&de)<<12|(63&qe)<<6|63&bt)}}return K.join("")}(this.decodeStringToByteArray(G,K))},decodeStringToByteArray(G,K){this.init_();const ee=K?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let de=0;de<G.length;){const qe=ee[G.charAt(de++)],Gt=de<G.length?ee[G.charAt(de)]:0;++de;const Un=de<G.length?ee[G.charAt(de)]:64;++de;const ae=de<G.length?ee[G.charAt(de)]:64;if(++de,null==qe||null==Gt||null==Un||null==ae)throw Error();Q.push(qe<<2|Gt>>4),64!==Un&&(Q.push(Gt<<4&240|Un>>2),64!==ae&&Q.push(Un<<6&192|ae))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ve=function(G){const K=_e(G);return Me.encodeByteArray(K,!0)},Se=function(G){return ve(G).replace(/\./g,"")},fe=function(G){try{return Me.decodeString(G,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function re(G){return ne(void 0,G)}function ne(G,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return K}for(const ee in K)!K.hasOwnProperty(ee)||!ce(ee)||(G[ee]=ne(G[ee],K[ee]));return G}function ce(G){return"__proto__"!==G}class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,ee)=>{this.resolve=K,this.reject=ee})}wrapCallback(K){return(ee,Q)=>{ee?this.reject(ee):this.resolve(Q),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(ee):K(ee,Q))}}}function Oe(G,K){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=K||"demo-project",de=G.iat||0,qe=G.sub||G.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:de,exp:de+3600,auth_time:de,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(bt)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function St(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){return je().indexOf("Electron/")>=0}function He(){const G=je();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function $e(){return je().indexOf("MSAppHost/")>=0}function Xe(){return!1}function pe(){return!Be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){return"object"==typeof indexedDB}function Ae(){return new Promise((G,K)=>{try{let ee=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(Q);de.onsuccess=()=>{de.result.close(),ee||self.indexedDB.deleteDatabase(Q),G(!0)},de.onupgradeneeded=()=>{ee=!1},de.onerror=()=>{var qe;K((null===(qe=de.error)||void 0===qe?void 0:qe.message)||"")}}catch(ee){K(ee)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor(K,ee,Q){super(ee),this.code=K,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(K,ee,Q){this.service=K,this.serviceName=ee,this.errors=Q}create(K,...ee){const Q=ee[0]||{},de=`${this.service}/${K}`,qe=this.errors[K],bt=qe?function ct(G,K){return G.replace(Kt,(ee,Q)=>{const de=K[Q];return null!=de?String(de):`<${Q}?>`})}(qe,Q):"Error";return new Pe(de,`${this.serviceName}: ${bt} (${de}).`,Q)}}const Kt=/\{\$([^}]+)}/g;function pn(G){return JSON.parse(G)}function en(G){return JSON.stringify(G)}const Tt=function(G){let K={},ee={},Q={},de="";try{const qe=G.split(".");K=pn(fe(qe[0])||""),ee=pn(fe(qe[1])||""),de=qe[2],Q=ee.d||{},delete ee.d}catch{}return{header:K,claims:ee,data:Q,signature:de}},Vt=function(G){const ee=Tt(G).claims;return!!ee&&"object"==typeof ee&&ee.hasOwnProperty("iat")},$t=function(G){const K=Tt(G).claims;return"object"==typeof K&&!0===K.admin};function Wt(G,K){return Object.prototype.hasOwnProperty.call(G,K)}function dt(G,K){if(Object.prototype.hasOwnProperty.call(G,K))return G[K]}function nn(G){for(const K in G)if(Object.prototype.hasOwnProperty.call(G,K))return!1;return!0}function Qt(G,K,ee){const Q={};for(const de in G)Object.prototype.hasOwnProperty.call(G,de)&&(Q[de]=K.call(ee,G[de],de,G));return Q}function ln(G,K){if(G===K)return!0;const ee=Object.keys(G),Q=Object.keys(K);for(const de of ee){if(!Q.includes(de))return!1;const qe=G[de],bt=K[de];if(Jt(qe)&&Jt(bt)){if(!ln(qe,bt))return!1}else if(qe!==bt)return!1}for(const de of Q)if(!ee.includes(de))return!1;return!0}function Jt(G){return null!==G&&"object"==typeof G}function ai(G){const K=[];for(const[ee,Q]of Object.entries(G))Array.isArray(Q)?Q.forEach(de=>{K.push(encodeURIComponent(ee)+"="+encodeURIComponent(de))}):K.push(encodeURIComponent(ee)+"="+encodeURIComponent(Q));return K.length?"&"+K.join("&"):""}function vn(G){const K={};return G.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[de,qe]=Q.split("=");K[decodeURIComponent(de)]=decodeURIComponent(qe)}}),K}function En(G){const K=G.indexOf("?");if(!K)return"";const ee=G.indexOf("#",K);return G.substring(K,ee>0?ee:void 0)}class wi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let K=1;K<this.blockSize;++K)this.pad_[K]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(K,ee){ee||(ee=0);const Q=this.W_;if("string"==typeof K)for(let ae=0;ae<16;ae++)Q[ae]=K.charCodeAt(ee)<<24|K.charCodeAt(ee+1)<<16|K.charCodeAt(ee+2)<<8|K.charCodeAt(ee+3),ee+=4;else for(let ae=0;ae<16;ae++)Q[ae]=K[ee]<<24|K[ee+1]<<16|K[ee+2]<<8|K[ee+3],ee+=4;for(let ae=16;ae<80;ae++){const oe=Q[ae-3]^Q[ae-8]^Q[ae-14]^Q[ae-16];Q[ae]=4294967295&(oe<<1|oe>>>31)}let Un,Re,de=this.chain_[0],qe=this.chain_[1],bt=this.chain_[2],Gt=this.chain_[3],mn=this.chain_[4];for(let ae=0;ae<80;ae++){ae<40?ae<20?(Un=Gt^qe&(bt^Gt),Re=1518500249):(Un=qe^bt^Gt,Re=1859775393):ae<60?(Un=qe&bt|Gt&(qe|bt),Re=2400959708):(Un=qe^bt^Gt,Re=3395469782);const oe=(de<<5|de>>>27)+Un+mn+Re+Q[ae]&4294967295;mn=Gt,Gt=bt,bt=4294967295&(qe<<30|qe>>>2),qe=de,de=oe}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+qe&4294967295,this.chain_[2]=this.chain_[2]+bt&4294967295,this.chain_[3]=this.chain_[3]+Gt&4294967295,this.chain_[4]=this.chain_[4]+mn&4294967295}update(K,ee){if(null==K)return;void 0===ee&&(ee=K.length);const Q=ee-this.blockSize;let de=0;const qe=this.buf_;let bt=this.inbuf_;for(;de<ee;){if(0===bt)for(;de<=Q;)this.compress_(K,de),de+=this.blockSize;if("string"==typeof K){for(;de<ee;)if(qe[bt]=K.charCodeAt(de),++bt,++de,bt===this.blockSize){this.compress_(qe),bt=0;break}}else for(;de<ee;)if(qe[bt]=K[de],++bt,++de,bt===this.blockSize){this.compress_(qe),bt=0;break}}this.inbuf_=bt,this.total_+=ee}digest(){const K=[];let ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&ee,ee/=256;this.compress_(this.buf_);let Q=0;for(let de=0;de<5;de++)for(let qe=24;qe>=0;qe-=8)K[Q]=this.chain_[de]>>qe&255,++Q;return K}}function nt(G,K){const ee=new Fe(G,K);return ee.subscribe.bind(ee)}class Fe{constructor(K,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{K(this)}).catch(Q=>{this.error(Q)})}next(K){this.forEachObserver(ee=>{ee.next(K)})}error(K){this.forEachObserver(ee=>{ee.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,ee,Q){let de;if(void 0===K&&void 0===ee&&void 0===Q)throw new Error("Missing Observer.");de=function Et(G,K){if("object"!=typeof G||null===G)return!1;for(const ee of K)if(ee in G&&"function"==typeof G[ee])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:ee,complete:Q},void 0===de.next&&(de.next=Ut),void 0===de.error&&(de.error=Ut),void 0===de.complete&&(de.complete=Ut);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),qe}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,K)}sendOne(K,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{ee(this.observers[K])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}const Rn=function(G,K,ee,Q){let de;if(Q<K?de="at least "+K:Q>ee&&(de=0===ee?"none":"no more than "+ee),de)throw new Error(G+" failed: Was called with "+Q+(1===Q?" argument.":" arguments.")+" Expects "+de+".")};function xn(G,K){return`${G} failed: ${K} argument `}function Xn(G,K,ee,Q){if((!Q||ee)&&"function"!=typeof ee)throw new Error(xn(G,K)+"must be a valid function.")}function Bn(G,K,ee,Q){if((!Q||ee)&&("object"!=typeof ee||null===ee))throw new Error(xn(G,K)+"must be a valid context object.")}const Ft=function(G){const K=[];let ee=0;for(let Q=0;Q<G.length;Q++){let de=G.charCodeAt(Q);if(de>=55296&&de<=56319){const qe=de-55296;Q++,V(Q<G.length,"Surrogate pair missing trail surrogate."),de=65536+(qe<<10)+(G.charCodeAt(Q)-56320)}de<128?K[ee++]=de:de<2048?(K[ee++]=de>>6|192,K[ee++]=63&de|128):de<65536?(K[ee++]=de>>12|224,K[ee++]=de>>6&63|128,K[ee++]=63&de|128):(K[ee++]=de>>18|240,K[ee++]=de>>12&63|128,K[ee++]=de>>6&63|128,K[ee++]=63&de|128)}return K},Rt=function(G){let K=0;for(let ee=0;ee<G.length;ee++){const Q=G.charCodeAt(ee);Q<128?K++:Q<2048?K+=2:Q>=55296&&Q<=56319?(K+=4,ee++):K+=3}return K};function Qi(G,K=1e3,ee=2){const Q=K*Math.pow(ee,G),de=Math.round(.5*Q*(Math.random()-.5)*2);return Math.min(144e5,Q+de)}function me(G){return G&&G._delegate?G._delegate:G}},5910:(an,Qe,q)=>{"use strict";var s=q(4650);let V=null;function Y(){return V}const ve=new s.OlP("DocumentToken");let Se=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return function fe(){return(0,s.LFG)(ne)}()},providedIn:"platform"}),i})();const re=new s.OlP("Location Initialized");let ne=(()=>{class i extends Se{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(e){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=Y().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,a){ce()?this._history.pushState(e,o,a):this.location.hash=a}replaceState(e,o,a){ce()?this._history.replaceState(e,o,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:function(){return function we(){return new ne((0,s.LFG)(ve))}()},providedIn:"platform"}),i})();function ce(){return!!window.history.pushState}function Oe(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function je(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ut(i){return i&&"?"!==i[0]?"?"+i:i}let Be=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(St)},providedIn:"root"}),i})();const Ne=new s.OlP("appBaseHref");let St=(()=>{class i extends Be{constructor(e,o){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Oe(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ut(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${o}${a}`:o}pushState(e,o,a,l){const c=this.prepareExternalUrl(a+ut(l));this._platformLocation.pushState(e,o,c)}replaceState(e,o,a,l){const c=this.prepareExternalUrl(a+ut(l));this._platformLocation.replaceState(e,o,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Se),s.LFG(Ne,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pt=(()=>{class i extends Be{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=Oe(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,a,l){let c=this.prepareExternalUrl(a+ut(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,o,c)}replaceState(e,o,a,l){let c=this.prepareExternalUrl(a+ut(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Se),s.LFG(Ne,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),Ke=(()=>{class i{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const o=this._locationStrategy.getBaseHref();this._baseHref=je(Xe(o)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ut(o))}normalize(e){return i.stripTrailingSlash(function $e(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,Xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,o="",a=null){this._locationStrategy.pushState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ut(o)),a)}replaceState(e,o="",a=null){this._locationStrategy.replaceState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ut(o)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(a=>a(e,o))}subscribe(e,o,a){return this._subject.subscribe({next:e,error:o,complete:a})}}return i.normalizeQueryParams=ut,i.joinWithSlash=Oe,i.stripTrailingSlash=je,i.\u0275fac=function(e){return new(e||i)(s.LFG(Be))},i.\u0275prov=s.Yz7({token:i,factory:function(){return function He(){return new Ke((0,s.LFG)(Be))}()},providedIn:"root"}),i})();function Xe(i){return i.replace(/\/index.html$/,"")}function ui(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[a,l]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(a.trim()===t)return decodeURIComponent(l)}return null}let wr=(()=>{class i{constructor(e,o,a,l){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{o?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class jl{constructor(t,e,o,a){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ui=(()=>{class i{constructor(e,o,a){this._viewContainer=e,this._template=o,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((a,l,c)=>{if(null==a.previousIndex)o.createEmbeddedView(this._template,new jl(a.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)o.remove(null===l?void 0:l);else if(null!==l){const g=o.get(l);o.move(g,c),ea(g,a)}});for(let a=0,l=o.length;a<l;a++){const g=o.get(a).context;g.index=a,g.count=l,g.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{ea(o.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function ea(i,t){i.context.$implicit=t.item}let zi=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new ro,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){yo("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){yo("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class ro{constructor(){this.$implicit=null,this.ngIf=null}}function yo(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Ou{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let vo=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const o=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),i})(),Ns=(()=>{class i{constructor(e,o,a){this.ngSwitch=a,a._addCase(),this._view=new Ou(e,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(vo,9))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),i})(),$o=(()=>{class i{constructor(e,o,a){a._addDefault(new Ou(e,o))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(vo,9))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0}),i})(),Rr=(()=>{class i{constructor(e,o,a){this._ngEl=e,this._differs=o,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,o){const[a,l]=e.split("."),c=-1===a.indexOf("-")?void 0:s.JOm.DashCase;null!=o?this._renderer.setStyle(this._ngEl.nativeElement,a,l?`${o}${l}`:o,c):this._renderer.removeStyle(this._ngEl.nativeElement,a,c)}_applyChanges(e){e.forEachRemovedItem(o=>this._setStyle(o.key,null)),e.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),e.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),i})(),lr=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:a,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=o.createEmbeddedView(a,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),i})(),qn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const Ru="browser";function bo(i){return i===Ru}function Rc(i){return"server"===i}let xv=(()=>{class i{}return i.\u0275prov=(0,s.Yz7)({token:i,providedIn:"root",factory:()=>new Hd((0,s.LFG)(ve),window)}),i})();class Hd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function dg(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const l=a.shadowRoot;if(l){const c=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(c)return c}a=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(o-l[0],a-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Es(this.window.history)||Es(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Es(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class No{}class Pc extends class wo extends class Me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ve(i){V||(V=i)}(new Pc)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ql(){return ol=ol||document.querySelector("base"),ol?ol.getAttribute("href"):null}();return null==e?null:function Cf(i){Bs=Bs||document.createElement("a"),Bs.setAttribute("href",i);const t=Bs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ui(document.cookie,t)}}let Bs,ol=null;const Zl=new s.OlP("TRANSITION_ID"),Tf=[{provide:s.ip1,useFactory:function ti(i,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const o=Y(),a=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let l=0;l<a.length;l++)o.remove(a[l])})}},deps:[Zl,ve,s.zs3],multi:!0}];let Ef=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const $l=new s.OlP("EventManagerPlugins");let Ud=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,a){return this._findPluginFor(o).addEventListener(e,o,a)}addGlobalEventListener(e,o,a){return this._findPluginFor(o).addGlobalEventListener(e,o,a)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const a=this._plugins;for(let l=0;l<a.length;l++){const c=a[l];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG($l),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class Pu{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const a=Y().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,o)}}let xf=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),o.add(a))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),Nc=(()=>{class i extends xf{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,a){e.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,a.push(o.appendChild(c))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(xt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,a)=>{this._addStylesToHost(e,a,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(xt))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function xt(i){Y().remove(i)}const pi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oa=/%COMP%/g;function Lc(i,t,e){for(let o=0;o<t.length;o++){let a=t[o];Array.isArray(a)?Lc(i,a,e):(a=a.replace(Oa,i),e.push(a))}return e}function Cr(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let jd=(()=>{class i{constructor(e,o,a){this.eventManager=e,this.sharedStylesHost=o,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Nu(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case s.ifc.Emulated:{let a=this.rendererByCompId.get(o.id);return a||(a=new al(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,a)),a.applyToHost(e),a}case 1:case s.ifc.ShadowDom:return new Pa(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const a=Lc(o.id,o.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Ud),s.LFG(Nc),s.LFG(s.AFp))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class Nu{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(pi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Df(t)?t.content:t).appendChild(e)}insertBefore(t,e,o){t&&(Df(t)?t.content:t).insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,a){if(a){e=a+":"+e;const l=pi[a];l?t.setAttributeNS(l,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const a=pi[o];a?t.removeAttributeNS(a,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,a){a&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,o,a&s.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Cr(o)):this.eventManager.addEventListener(t,e,Cr(o))}}function Df(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class al extends Nu{constructor(t,e,o,a){super(t),this.component=o;const l=Lc(a+"-"+o.id,o.styles,[]);e.addStyles(l),this.contentAttr=function cs(i){return"_ngcontent-%COMP%".replace(Oa,i)}(a+"-"+o.id),this.hostAttr=function sl(i){return"_nghost-%COMP%".replace(Oa,i)}(a+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class Pa extends Nu{constructor(t,e,o,a){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Lc(a.id,a.styles,[]);for(let c=0;c<l.length;c++){const g=document.createElement("style");g.textContent=l[c],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let If=(()=>{class i extends Pu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,a){return e.addEventListener(o,a,!1),()=>this.removeEventListener(e,o,a)}removeEventListener(e,o,a){return e.removeEventListener(o,a)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Fu=["alt","control","meta","shift"],Mf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Af={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vc={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Lu=(()=>{class i extends Pu{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,a){const l=i.parseEventName(o),c=i.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(e,l.domEventName,c))}static parseEventName(e){const o=e.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const l=i._normalizeKey(o.pop());let c="";if(Fu.forEach(_=>{const b=o.indexOf(_);b>-1&&(o.splice(b,1),c+=_+".")}),c+=l,0!=o.length||0===l.length)return null;const g={};return g.domEventName=a,g.fullKey=c,g}static getEventFullKey(e){let o="",a=function Vu(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&Af.hasOwnProperty(t)&&(t=Af[t]))}return Mf[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Fu.forEach(l=>{l!=a&&(0,Vc[l])(e)&&(o+=l+".")}),o+=a,o}static eventCallback(e,o,a){return l=>{i.getEventFullKey(l)===e&&a.runGuarded(()=>o(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Bc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ru},{provide:s.g9A,useValue:function Hu(){Pc.makeCurrent()},multi:!0},{provide:ve,useFactory:function kf(){return(0,s.RDi)(document),document},deps:[]}]),Rf=new s.OlP(""),qd=[{provide:s.rWj,useClass:class hg{addToWindow(t){s.dqk.getAngularTestability=(o,a=!0)=>{const l=t.findTestabilityInTree(o,a);if(null==l)throw new Error("Could not find testability for element.");return l},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(o=>{const a=s.dqk.getAllAngularTestabilities();let l=a.length,c=!1;const g=function(_){c=c||_,l--,0==l&&o(c)};a.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(t,e,o){return null==e?null:t.getTestability(e)??(o?Y().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],oo=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Gd(){return new s.qLn},deps:[]},{provide:$l,useClass:If,multi:!0,deps:[ve,s.R0b,s.Lbi]},{provide:$l,useClass:Lu,multi:!0,deps:[ve]},{provide:jd,useClass:jd,deps:[Ud,Nc,s.AFp]},{provide:s.FYo,useExisting:jd},{provide:xf,useExisting:Nc},{provide:Nc,useClass:Nc,deps:[ve]},{provide:Ud,useClass:Ud,deps:[$l,s.R0b]},{provide:No,useClass:Ef,deps:[]},[]];let To=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:s.AFp,useValue:e.appId},{provide:Zl,useExisting:s.AFp},Tf]}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Rf,12))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[...oo,...qd],imports:[qn,s.hGG]}),i})(),cl=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:function(e){let o=null;return o=e?new e:function pg(){return new cl((0,s.LFG)(ve))}(),o},providedIn:"root"}),i})();typeof window<"u"&&window;var Fn=q(6457),W=q(2090),Wn=q(9681),gr=q(1877),Zn=q(4859),wt=q(4027),Tr=q(5867);class $i{constructor(t){return t}}class zn{constructor(){return(0,Tr.C6)()}}const Kl=new s.OlP("angularfire2._apps"),Lf={provide:$i,useFactory:function jc(i){return i&&1===i.length?i[0]:new $i((0,Tr.Mq)())},deps:[[new s.FiY,Kl]]},gi={provide:zn,deps:[[new s.FiY,Kl]]};function Jd(i){return(t,e)=>{const o=t.runOutsideAngular(()=>i(e));return new $i(o)}}let ra=(()=>{class i{constructor(e){(0,Tr.KN)("angularfire",wt.q4.full,"core"),(0,Tr.KN)("angularfire",wt.q4.full,"app"),(0,Tr.KN)("angular",s.q4F.full,e.toString())}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.Lbi))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Lf,gi]}),i})();function oa(i,...t){return{ngModule:ra,providers:[{provide:Kl,useFactory:Jd(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,...t]}]}}const mr=(0,wt.u3)(Tr.ZF,!0);var st=q(5861);const hl=new Map,Qd={activated:!1,tokenObservers:[]},Vf={initialized:!1,enabled:!1};function on(i){return hl.get(i)||Qd}function cr(i,t){hl.set(i,t)}function so(){return Vf}class s_{constructor(t,e,o,a,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,st.Z)(function*(){e.stop();try{e.pending=new W.BH,yield function a_(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new W.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Wo=new W.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xd(i){if(!on(i).activated)throw Wo.create("use-before-activation",{appName:i.name})}function Kr(i,t){return l_.apply(this,arguments)}function l_(){return(l_=(0,st.Z)(function*({url:i,body:t},e){var o,a;const l={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const F=yield c.getHeartbeatsHeader();F&&(l["X-Firebase-Client"]=F)}const g={method:"POST",body:JSON.stringify(t),headers:l};let _,b;try{_=yield fetch(i,g)}catch(F){throw Wo.create("fetch-network-error",{originalErrorMessage:null===(o=F)||void 0===o?void 0:o.message})}if(200!==_.status)throw Wo.create("fetch-status-error",{httpStatus:_.status});try{b=yield _.json()}catch(F){throw Wo.create("fetch-parse-error",{originalErrorMessage:null===(a=F)||void 0===a?void 0:a.message})}const T=b.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const D=1e3*Number(T[1]),O=Date.now();return{token:b.token,expireTimeMillis:O+D,issuedAtTimeMillis:O}})).apply(this,arguments)}function Na(i,t){const{projectId:e,appId:o,apiKey:a}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${o}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Eo="firebase-app-check-store";let eh=null;function Ql(){return eh||(eh=new Promise((i,t)=>{var e;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=a=>{i(a.target.result)},o.onerror=a=>{var l;t(Wo.create("storage-open",{originalErrorMessage:null===(l=a.target.error)||void 0===l?void 0:l.message}))},o.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Eo,{keyPath:"compositeKey"})}}catch(o){t(Wo.create("storage-open",{originalErrorMessage:null===(e=o)||void 0===e?void 0:e.message}))}}),eh)}function aa(){return(aa=(0,st.Z)(function*(i,t){const o=(yield Ql()).transaction(Eo,"readwrite"),l=o.objectStore(Eo).put({compositeKey:i,value:t});return new Promise((c,g)=>{l.onsuccess=_=>{c()},o.onerror=_=>{var b;g(Wo.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const la=new gr.Yd("@firebase/app-check");function Zc(i,t){return(0,W.hl)()?function Bf(i,t){return function th(i,t){return aa.apply(this,arguments)}(function nh(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{la.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Uf(){return so().enabled}function Gu(){return ih.apply(this,arguments)}function ih(){return(ih=(0,st.Z)(function*(){const i=so();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xo={error:"UNKNOWN_ERROR"};function Ov(i){return W.US.encodeString(JSON.stringify(i),!1)}function Fo(i){return qu.apply(this,arguments)}function qu(){return(qu=(0,st.Z)(function*(i,t=!1){const e=i.app;Xd(e);const o=on(e);let l,a=o.token;if(!a){const _=yield o.cachedTokenPromise;_&&Ba(_)&&(a=_)}if(!t&&a&&Ba(a))return{token:a.token};let g,c=!1;if(Uf()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Kr(Na(e,yield Gu()),i.heartbeatServiceProvider).then(b=>(o.exchangeTokenPromise=void 0,b)),c=!0);const _=yield o.exchangeTokenPromise;return yield Zc(e,_),cr(e,Object.assign(Object.assign({},o),{token:_})),{token:_.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(_=>(o.exchangeTokenPromise=void 0,_)),c=!0),a=yield o.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?la.warn(_.message):la.error(_),l=_}return a?(g={token:a.token},cr(e,Object.assign(Object.assign({},o),{token:a})),yield Zc(e,a)):g=nc(l),c&&jf(e,g),g})).apply(this,arguments)}function ml(i,t){const e=on(i),o=e.tokenObservers.filter(a=>a.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),cr(i,Object.assign(Object.assign({},e),{tokenObservers:o}))}function rh(i){const{app:t}=i,e=on(t);let o=e.tokenRefresher;o||(o=function vg(i){const{app:t}=i;return new s_((0,st.Z)(function*(){let o;if(o=on(t).token?yield Fo(i,!0):yield Fo(i),o.error)throw o.error}),()=>!0,()=>{const e=on(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),cr(t,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function jf(i,t){const e=on(i).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch{}}function Ba(i){return i.expireTimeMillis-Date.now()>0}function nc(i){return{token:Ov(xo),error:i}}class oh{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=on(this.app);for(const e of t)ml(this.app,e.next);return Promise.resolve()}}const Ti="app-check-internal";!function Yu(){(0,Wn._registerComponent)(new Zn.wA("app-check",i=>function Ur(i,t){return new oh(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(Ti).initialize()})),(0,Wn._registerComponent)(new Zn.wA(Ti,i=>function c_(i){return{getToken:t=>Fo(i,t),addTokenListener:t=>function tc(i,t,e,o){const{app:a}=i,l=on(a),c={next:e,error:o,type:t};if(cr(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&Ba(l.token)){const g=l.token;Promise.resolve().then(()=>{e({token:g.token}),rh(i)}).catch(()=>{})}l.cachedTokenPromise.then(()=>rh(i))}(i,"INTERNAL",t),removeTokenListener:t=>ml(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wn.registerVersion)("@firebase/app-check","0.5.12")}();class ua{constructor(){return(0,wt.vb)("app-check")}}typeof window<"u"&&window;var qi=q(9751);function $f(i){return new qi.y(function(t){return{unsubscribe:(0,Fn.v)(i,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}function lh(i){return new qi.y(function(t){return{unsubscribe:(0,Fn.q)(i,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class Xc{constructor(t){return t}}class Ku{constructor(){return(0,wt.vb)("auth")}}const Wf=new s.OlP("angularfire2.auth-instances");function Ju(i){return(t,e)=>{const o=t.runOutsideAngular(()=>i(e));return new Xc(o)}}const y_={provide:Ku,deps:[[new s.FiY,Wf]]},v_={provide:Xc,useFactory:function Us(i,t){const e=(0,wt.JM)("auth",i,t);return e&&new Xc(e)},deps:[[new s.FiY,Wf],$i]};let ch=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"auth")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[v_,y_]}),i})();function b_(i,...t){return{ngModule:ch,providers:[{provide:Wf,useFactory:Ju(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,[new s.FiY,ua],...t]}]}}const Nv=(0,wt.u3)($f,!0),lo=(0,wt.u3)(lh,!0),ni=(0,wt.u3)(Fn.n,!0);var _n,Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xu={},yl=yl||{},si=Qu||self;function vl(){}function ac(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function ph(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Do="closure_uid_"+(1e9*Math.random()>>>0),Vv=0;function Bv(i,t,e){return i.call.apply(i.bind,arguments)}function gh(i,t,e){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),i.apply(t,a)}}return function(){return i.apply(t,arguments)}}function xr(i,t,e){return(xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bv:gh).apply(null,arguments)}function mh(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var o=e.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function co(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(o,a,l){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return t.prototype[a].apply(o,c)}}function lc(){this.s=this.s,this.o=this.o}var _h={};lc.prototype.s=!1,lc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function T_(i){return Object.prototype.hasOwnProperty.call(i,Do)&&i[Do]||(i[Do]=++Vv)}(this);delete _h[i]}},lc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ga=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},yh=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){const o=i.length,a="string"==typeof i?i.split(""):i;for(let l=0;l<o;l++)l in a&&t.call(e,a[l],l,i)};function Hv(i){return Array.prototype.concat.apply([],arguments)}function Mg(i){const t=i.length;if(0<t){const e=Array(t);for(let o=0;o<t;o++)e[o]=i[o];return e}return[]}function Jf(i){return/^[\s\xa0]*$/.test(i)}var Vo,Uv=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Jo(i,t){return-1!=i.indexOf(t)}function jv(i,t){return i<t?-1:i>t?1:0}e:{var fT=si.navigator;if(fT){var zv=fT.userAgent;if(zv){Vo=zv;break e}}Vo=""}function ed(i,t,e){for(const o in i)t.call(e,i[o],o,i)}function bl(i){const t={};for(const e in i)t[e]=i[e];return t}var td="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iu(i,t){let e,o;for(let a=1;a<arguments.length;a++){for(e in o=arguments[a],o)i[e]=o[e];for(let l=0;l<td.length;l++)e=td[l],Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=o[e])}}function Gv(i){return Gv[" "](i),i}Gv[" "]=vl;var Cl,i,ru=Jo(Vo,"Opera"),wl=Jo(Vo,"Trident")||Jo(Vo,"MSIE"),qv=Jo(Vo,"Edge"),Qf=qv||wl,Zv=Jo(Vo,"Gecko")&&!(Jo(Vo.toLowerCase(),"webkit")&&!Jo(Vo,"Edge"))&&!(Jo(Vo,"Trident")||Jo(Vo,"MSIE"))&&!Jo(Vo,"Edge"),vh=Jo(Vo.toLowerCase(),"webkit")&&!Jo(Vo,"Edge");function Ag(){var i=si.document;return i?i.documentMode:void 0}e:{var ou="",Xf=(i=Vo,Zv?/rv:([^\);]+)(\)|;)/.exec(i):qv?/Edge\/([\d\.]+)/.exec(i):wl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):vh?/WebKit\/(\S+)/.exec(i):ru?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Xf&&(ou=Xf?Xf[1]:""),wl){var xw=Ag();if(null!=xw&&xw>parseFloat(ou)){Cl=String(xw);break e}}Cl=ou}var fD={};var kg=si.document&&wl&&(Ag()||parseInt(Cl,10))||void 0,gT=function(){if(!si.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{si.addEventListener("test",vl,t),si.removeEventListener("test",vl,t)}catch{}return i}();function Ms(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function Og(i,t){if(Ms.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(Zv){e:{try{Gv(t.nodeName);var a=!0;break e}catch{}a=!1}a||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Wv[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Og.Z.h.call(this)}}Ms.prototype.h=function(){this.defaultPrevented=!0},co(Og,Ms);var Wv={2:"touch",3:"pen",4:"mouse"};Og.prototype.h=function(){Og.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var js="closure_listenable_"+(1e6*Math.random()|0),Rg=0;function Dw(i,t,e,o,a){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!o,this.ia=a,this.key=++Rg,this.ca=this.fa=!1}function ep(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function nd(i){this.src=i,this.g={},this.h=0}function Yv(i,t){var e=t.type;if(e in i.g){var l,o=i.g[e],a=Ga(o,t);(l=0<=a)&&Array.prototype.splice.call(o,a,1),l&&(ep(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function su(i,t,e,o){for(var a=0;a<i.length;++a){var l=i[a];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==o)return a}return-1}nd.prototype.add=function(i,t,e,o,a){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var c=su(i,t,o,a);return-1<c?(t=i[c],e||(t.fa=!1)):((t=new Dw(t,this.src,l,!!o,a)).fa=e,i.push(t)),t};var cc="closure_lm_"+(1e6*Math.random()|0),Pg={};function Iw(i,t,e,o,a){if(o&&o.once)return Jv(i,t,e,o,a);if(Array.isArray(t)){for(var l=0;l<t.length;l++)Iw(i,t[l],e,o,a);return null}return e=D_(e),i&&i[js]?i.N(t,e,ph(o)?!!o.capture:!!o,a):Kv(i,t,e,!1,o,a)}function Kv(i,t,e,o,a,l){if(!t)throw Error("Invalid event type");var c=ph(a)?!!a.capture:!!a,g=S_(i);if(g||(i[cc]=g=new nd(i)),(e=g.add(t,e,o,c,l)).proxy)return e;if(o=function Mw(){var t=Xv;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=o,o.src=i,o.listener=e,i.addEventListener)gT||(a=c),void 0===a&&(a=!1),i.addEventListener(t.toString(),o,a);else if(i.attachEvent)i.attachEvent(Qv(t.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return e}function Jv(i,t,e,o,a){if(Array.isArray(t)){for(var l=0;l<t.length;l++)Jv(i,t[l],e,o,a);return null}return e=D_(e),i&&i[js]?i.O(t,e,ph(o)?!!o.capture:!!o,a):Kv(i,t,e,!0,o,a)}function Aw(i,t,e,o,a){if(Array.isArray(t))for(var l=0;l<t.length;l++)Aw(i,t[l],e,o,a);else o=ph(o)?!!o.capture:!!o,e=D_(e),i&&i[js]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=su(l=i.g[t],e,o,a))&&(ep(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete i.g[t],i.h--))):i&&(i=S_(i))&&(t=i.g[t.toString()],i=-1,t&&(i=su(t,e,o,a)),(e=-1<i?t[i]:null)&&x_(e))}function x_(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[js])Yv(t.i,i);else{var e=i.type,o=i.proxy;t.removeEventListener?t.removeEventListener(e,o,i.capture):t.detachEvent?t.detachEvent(Qv(e),o):t.addListener&&t.removeListener&&t.removeListener(o),(e=S_(t))?(Yv(e,i),0==e.h&&(e.src=null,t[cc]=null)):ep(i)}}}function Qv(i){return i in Pg?Pg[i]:Pg[i]="on"+i}function Xv(i,t){if(i.ca)i=!0;else{t=new Og(t,this);var e=i.listener,o=i.ia||i.src;i.fa&&x_(i),i=e.call(o,t)}return i}function S_(i){return(i=i[cc])instanceof nd?i:null}var eb="__closure_events_fn_"+(1e9*Math.random()>>>0);function D_(i){return"function"==typeof i?i:(i[eb]||(i[eb]=function(t){return i.handleEvent(t)}),i[eb])}function Io(){lc.call(this),this.i=new nd(this),this.P=this,this.I=null}function Gr(i,t){var e,o=i.I;if(o)for(e=[];o;o=o.I)e.push(o);if(i=i.P,o=t.type||t,"string"==typeof t)t=new Ms(t,i);else if(t instanceof Ms)t.target=t.target||i;else{var a=t;iu(t=new Ms(o,i),a)}if(a=!0,e)for(var l=e.length-1;0<=l;l--){var c=t.g=e[l];a=au(c,o,!0,t)&&a}if(a=au(c=t.g=i,o,!0,t)&&a,a=au(c,o,!1,t)&&a,e)for(l=0;l<e.length;l++)a=au(c=t.g=e[l],o,!1,t)&&a}function au(i,t,e,o){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,l=0;l<t.length;++l){var c=t[l];if(c&&!c.ca&&c.capture==e){var g=c.listener,_=c.ia||c.src;c.fa&&Yv(i.i,c),a=!1!==g.call(_,o)&&a}}return a&&!o.defaultPrevented}co(Io,lc),Io.prototype[js]=!0,Io.prototype.removeEventListener=function(i,t,e,o){Aw(this,i,t,e,o)},Io.prototype.M=function(){if(Io.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],o=0;o<e.length;o++)ep(e[o]);delete i.g[t],i.h--}}this.I=null},Io.prototype.N=function(i,t,e,o){return this.i.add(String(i),t,!1,e,o)},Io.prototype.O=function(i,t,e,o){return this.i.add(String(i),t,!0,e,o)};var uo=si.JSON.stringify;function I_(){var i=kw;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var Lg,M_=new class{constructor(i,t){this.i=i,this.j=t,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ps,i=>i.reset());class ps{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ng(i){si.setTimeout(()=>{throw i},0)}function Fg(i,t){Lg||function Bo(){var i=si.Promise.resolve(void 0);Lg=function(){i.then(Ow)}}(),A_||(Lg(),A_=!0),kw.add(i,t)}var A_=!1,kw=new class tb{constructor(){this.h=this.g=null}add(t,e){const o=M_.get();o.set(t,e),this.h?this.h.next=o:this.g=o,this.h=o}};function Ow(){for(var i;i=I_();){try{i.h.call(i.g)}catch(e){Ng(e)}var t=M_;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}A_=!1}function k_(i,t){Io.call(this),this.h=i||1,this.g=t||si,this.j=xr(this.kb,this),this.l=Date.now()}function O_(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function nb(i,t,e){if("function"==typeof i)e&&(i=xr(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=xr(i.handleEvent,i)}return 2147483647<Number(t)?-1:si.setTimeout(i,t||0)}function Rw(i){i.g=nb(()=>{i.g=null,i.i&&(i.i=!1,Rw(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}co(k_,Io),(_n=k_.prototype).da=!1,_n.S=null,_n.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gr(this,"tick"),this.da&&(O_(this),this.start()))}},_n.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_n.M=function(){k_.Z.M.call(this),O_(this),delete this.g};class Qo extends lc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Rw(this)}M(){super.M(),this.g&&(si.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bh(i){lc.call(this),this.h=i,this.g={}}co(bh,lc);var ib=[];function R_(i,t,e,o){Array.isArray(e)||(e&&(ib[0]=e.toString()),e=ib);for(var a=0;a<e.length;a++){var l=Iw(t,e[a],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function id(i){ed(i.g,function(t,e){this.g.hasOwnProperty(e)&&x_(t)},i),i.g={}}function zs(){this.g=!0}function wh(i,t,e,o){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function rb(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var o=e[i];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<a.length;c++)a[c]=""}}}return uo(e)}catch{return t}}(i,e)+(o?" "+o:"")})}bh.prototype.M=function(){bh.Z.M.call(this),id(this)},bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zs.prototype.Aa=function(){this.g=!1},zs.prototype.info=function(){};var tp={},qa=null;function np(){return qa=qa||new Io}function P_(i){Ms.call(this,tp.Ma,i)}function Vg(i){const t=np();Gr(t,new P_(t,i))}function N_(i,t){Ms.call(this,tp.STAT_EVENT,i),this.stat=t}function Ho(i){const t=np();Gr(t,new N_(t,i))}function uc(i,t){Ms.call(this,tp.Na,i),this.size=t}function Ch(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return si.setTimeout(function(){i()},t)}tp.Ma="serverreachability",co(P_,Ms),tp.STAT_EVENT="statevent",co(N_,Ms),tp.Na="timingevent",co(uc,Ms);var ip={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},F_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bg(){}function _T(){}Bg.prototype.h=null;var rp,dc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lu(){Ms.call(this,"d")}function cu(){Ms.call(this,"c")}function hc(){}function Th(i,t,e,o){this.l=i,this.j=t,this.m=e,this.X=o||1,this.V=new bh(this),this.P=ab,this.W=new k_(i=Qf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sb}function sb(){this.i=null,this.g="",this.h=!1}co(lu,Ms),co(cu,Ms),co(hc,Bg),hc.prototype.g=function(){return new XMLHttpRequest},hc.prototype.i=function(){return{}},rp=new hc;var ab=45e3,Hg={},Tl={};function L_(i,t,e){i.K=1,i.v=jg(Za(t)),i.s=e,i.U=!0,lb(i,null)}function lb(i,t){i.F=Date.now(),sp(i),i.A=Za(i.v);var e=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),U_(e.h,"t",o),i.C=0,e=i.l.H,i.h=new sb,i.g=Ib(i.l,e?t:null,!i.s),0<i.O&&(i.L=new Qo(xr(i.Ia,i,i.g),i.O)),R_(i.V,i.g,"readystatechange",i.gb),t=i.H?bl(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),Vg(1),function Pw(i,t,e,o,a,l){i.info(function(){if(i.g)if(l)for(var c="",g=l.split("&"),_=0;_<g.length;_++){var b=g[_].split("=");if(1<b.length){var T=b[0];b=b[1];var D=T.split("_");c=2<=D.length&&"type"==D[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+t+"\n"+e+"\n"+c})}(i.j,i.u,i.A,i.m,i.X,i.s)}function V_(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function cb(i,t,e){let a,o=!0;for(;!i.I&&i.C<e.length;){if(a=op(i,e),a==Tl){4==t&&(i.o=4,Ho(14),o=!1),wh(i.j,i.m,null,"[Incomplete Response]");break}if(a==Hg){i.o=4,Ho(15),wh(i.j,i.m,e,"[Invalid Chunk]"),o=!1;break}wh(i.j,i.m,a,null),B_(i,a)}V_(i)&&a!=Tl&&a!=Hg&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,Ho(16),o=!1),i.i=i.i&&o,o?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),W_(t),t.L=!0,Ho(11))):(wh(i.j,i.m,e,"[Invalid Chunked Response]"),pa(i),xh(i))}function op(i,t){var e=i.C,o=t.indexOf("\n",e);return-1==o?Tl:(e=Number(t.substring(e,o)),isNaN(e)?Hg:(o+=1)+e>t.length?Tl:(t=t.substr(o,e),i.C=o+e,t))}function sp(i){i.Y=Date.now()+i.P,Eh(i,i.P)}function Eh(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ch(xr(i.eb,i),t)}function ap(i){i.B&&(si.clearTimeout(i.B),i.B=null)}function xh(i){0==i.l.G||i.I||tm(i.l,i)}function pa(i){ap(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,O_(i.W),id(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function B_(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||j_(e.i,i)))if(e.I=i.N,!i.J&&j_(e.i,i)&&3==e.G){try{var o=e.Ca.g.parse(t)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<i.F))break e;Y_(e),Jg(e)}em(e),Ho(18)}}else e.ta=a[1],0<e.ta-e.U&&37500>a[2]&&e.N&&0==e.A&&!e.v&&(e.v=Ch(xr(e.ab,e),6e3));if(1>=Uw(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else dp(e,11)}else if((i.J||e.g==i)&&Y_(e),!Jf(t))for(a=e.Ca.g.parse(t),t=0;t<a.length;t++){let b=a[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const T=b[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const D=b[4];null!=D&&(e.za=D,e.h.info("SVER="+e.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(e.K=o=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+o)),o=e;const F=i.g;if(F){const j=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var l=o.i;!l.g&&(Jo(j,"spdy")||Jo(j,"quic")||Jo(j,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(zg(l,l.h),l.h=null))}if(o.D){const X=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(o.sa=X,er(o.F,o.D,X))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=i;if((o=e).oa=Db(o,o.H?o.la:null,o.W),c.J){z_(o.i,c);var g=c,_=o.K;_&&g.setTimeout(_),g.B&&(ap(g),sp(g)),o.g=c}else xb(o);0<e.l.length&&Xg(e)}else"stop"!=b[0]&&"close"!=b[0]||dp(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?dp(e,7):Ph(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}Vg(4)}catch{}}function ub(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(ac(i)||"string"==typeof i)yh(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(ac(i)||"string"==typeof i){e=[];for(var o=i.length,a=0;a<o;a++)e.push(a)}else for(a in e=[],o=0,i)e[o++]=a;o=function Fw(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ac(i)){for(var t=[],e=i.length,o=0;o<e;o++)t.push(i[o]);return t}for(o in t=[],e=0,i)t[e++]=i[o];return t}(i),a=o.length;for(var l=0;l<a;l++)t.call(void 0,o[l],e&&e[l],i)}}function Sh(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var o=0;o<e;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Sh)for(e=i.T(),o=0;o<e.length;o++)this.set(e[o],i.get(e[o]));else for(o in i)this.set(o,i[o])}function El(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var o=i.g[t];Gs(i.h,o)&&(i.g[e++]=o),t++}i.g.length=e}if(i.i!=i.g.length){var a={};for(e=t=0;t<i.g.length;)Gs(a,o=i.g[t])||(i.g[e++]=o,a[o]=1),t++;i.g.length=e}}function Gs(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(_n=Th.prototype).setTimeout=function(i){this.P=i},_n.gb=function(i){i=i.target;const t=this.L;t&&3==xl(i)?t.l():this.Ia(i)},_n.Ia=function(i){try{if(i==this.g)e:{const T=xl(this.g);var t=this.g.Da();const D=this.g.ba();if(!(3>T)&&(3!=T||Qf||this.g&&(this.h.h||this.g.ga()||$_(this.g)))){this.I||4!=T||7==t||Vg(8==t||0>=D?3:2),ap(this);var e=this.g.ba();this.N=e;t:if(V_(this)){var o=$_(this.g);i="";var a=o.length,l=4==xl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pa(this),xh(this);var c="";break t}this.h.i=new si.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,i+=this.h.i.decode(o[t],{stream:l&&t==a-1});o.splice(0,a),this.h.g+=i,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function mT(i,t,e,o,a,l,c){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+t+"\n"+e+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jf(g)){var b=g;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Ho(12),pa(this),xh(this);break e}wh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,B_(this,e)}this.U?(cb(this,T,c),Qf&&this.i&&3==T&&(R_(this.V,this.W,"tick",this.fb),this.W.start())):(wh(this.j,this.m,c,null),B_(this,c)),4==T&&pa(this),this.i&&!this.I&&(4==T?tm(this.l,this):(this.i=!1,sp(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Ho(12)):(this.o=0,Ho(13)),pa(this),xh(this)}}}catch{}},_n.fb=function(){if(this.g){var i=xl(this.g),t=this.g.ga();this.C<t.length&&(ap(this),cb(this,i,t),this.i&&4!=i&&sp(this))}},_n.cancel=function(){this.I=!0,pa(this)},_n.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Nw(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Vg(3),Ho(17)),pa(this),this.o=2,xh(this)):Eh(this,this.Y-i)},(_n=Sh.prototype).R=function(){El(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},_n.T=function(){return El(this),this.g.concat()},_n.get=function(i,t){return Gs(this.h,i)?this.h[i]:t},_n.set=function(i,t){Gs(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},_n.forEach=function(i,t){for(var e=this.T(),o=0;o<e.length;o++){var a=e[o],l=this.get(a);i.call(t,l,a,this)}};var db=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function uu(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof uu){this.g=void 0!==t?t:i.g,rd(this,i.j),this.s=i.s,Ih(this,i.i),Mh(this,i.m),this.l=i.l,t=i.h;var e=new cp;e.i=t.i,t.g&&(e.g=new Sh(t.g),e.h=t.h),Ug(this,e),this.o=i.o}else i&&(e=String(i).match(db))?(this.g=!!t,rd(this,e[1]||"",!0),this.s=kh(e[2]||""),Ih(this,e[3]||"",!0),Mh(this,e[4]),this.l=kh(e[5]||"",!0),Ug(this,e[6]||"",!0),this.o=kh(e[7]||"")):(this.g=!!t,this.h=new cp(null,this.g))}function Za(i){return new uu(i)}function rd(i,t,e){i.j=e?kh(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function Ih(i,t,e){i.i=e?kh(t,!0):t}function Mh(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function Ug(i,t,e){t instanceof cp?(i.h=t,function vT(i,t){t&&!i.j&&(od(i),i.i=null,i.g.forEach(function(e,o){var a=o.toLowerCase();o!=a&&(gb(this,o),U_(this,a,e))},i)),i.j=t}(i.h,i.g)):(e||(t=lp(t,pb)),i.h=new cp(t,i.g))}function er(i,t,e){i.h.set(t,e)}function jg(i){return er(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function kh(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function lp(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,Lw),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Lw(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}uu.prototype.toString=function(){var i=[],t=this.j;t&&i.push(lp(t,Vw,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(lp(t,Vw,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(lp(e,"/"==e.charAt(0)?H_:fb,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",lp(e,yT)),i.join("")};var Vw=/[#\/\?@]/g,fb=/[#\?:]/g,H_=/[#\?]/g,pb=/[#\?@]/g,yT=/#/g;function cp(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function od(i){i.g||(i.g=new Sh,i.h=0,i.i&&function Dh(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var o=i[e].indexOf("="),a=null;if(0<=o){var l=i[e].substring(0,o);a=i[e].substring(o+1)}else l=i[e];t(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function gb(i,t){od(i),t=gs(i,t),Gs(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,Gs((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&El(i)))}function Bw(i,t){return od(i),t=gs(i,t),Gs(i.g.h,t)}function U_(i,t,e){gb(i,t),0<e.length&&(i.i=null,i.g.set(gs(i,t),Mg(e)),i.h+=e.length)}function gs(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}function _b(i){this.l=i||bT,i=si.PerformanceNavigationTiming?0<(i=si.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(si.g&&si.g.Ea&&si.g.Ea()&&si.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_n=cp.prototype).add=function(i,t){od(this),this.i=null,i=gs(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},_n.forEach=function(i,t){od(this),this.g.forEach(function(e,o){yh(e,function(a){i.call(t,a,o,this)},this)},this)},_n.T=function(){od(this);for(var i=this.g.R(),t=this.g.T(),e=[],o=0;o<t.length;o++)for(var a=i[o],l=0;l<a.length;l++)e.push(t[o]);return e},_n.R=function(i){od(this);var t=[];if("string"==typeof i)Bw(this,i)&&(t=Hv(t,this.g.get(gs(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=Hv(t,i[e])}return t},_n.set=function(i,t){return od(this),this.i=null,Bw(this,i=gs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},_n.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},_n.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var o=t[e],a=encodeURIComponent(String(o));o=this.R(o);for(var l=0;l<o.length;l++){var c=a;""!==o[l]&&(c+="="+encodeURIComponent(String(o[l]))),i.push(c)}}return this.i=i.join("&")};var bT=10;function Hw(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Uw(i){return i.h?1:i.g?i.g.size:0}function j_(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function zg(i,t){i.g?i.g.add(t):i.h=t}function z_(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function Oh(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const e of i.g.values())t=t.concat(e.D);return t}return Mg(i.i)}function ri(){}function G_(){this.g=new ri}function jw(i,t,e){const o=e||"";try{ub(i,function(a,l){let c=a;ph(a)&&(c=uo(a)),t.push(o+l+"="+encodeURIComponent(c))})}catch(a){throw t.push(o+"type="+encodeURIComponent("_badmap")),a}}function $a(i,t,e,o,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(o)}catch{}}function Gg(i){this.l=i.$b||null,this.j=i.ib||!1}function qg(i,t){Io.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=yb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_b.prototype.cancel=function(){if(this.i=Oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ri.prototype.stringify=function(i){return si.JSON.stringify(i,void 0)},ri.prototype.parse=function(i){return si.JSON.parse(i,void 0)},co(Gg,Bg),Gg.prototype.g=function(){return new qg(this.l,this.j)},Gg.prototype.i=function(i){return function(){return i}}({}),co(qg,Io);var yb=0;function vb(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Zg(i){i.readyState=4,i.l=null,i.j=null,i.A=null,$g(i)}function $g(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(_n=qg.prototype).open=function(i,t){if(this.readyState!=yb)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,$g(this)},_n.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||si).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},_n.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zg(this)),this.readyState=yb},_n.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,$g(this)),this.g&&(this.readyState=3,$g(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof si.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vb(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},_n.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Zg(this):$g(this),3==this.readyState&&vb(this)}},_n.Ua=function(i){this.g&&(this.response=this.responseText=i,Zg(this))},_n.Ta=function(i){this.g&&(this.response=i,Zg(this))},_n.ha=function(){this.g&&Zg(this)},_n.setRequestHeader=function(i,t){this.v.append(i,t)},_n.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},_n.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(qg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var wT=si.JSON.parse;function qr(i){Io.call(this),this.headers=new Sh,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bb,this.K=this.L=!1}co(qr,Io);var bb="",Rh=/^https?$/i,CT=["POST","PUT"];function Yg(i){return"content-type"==i.toLowerCase()}function zw(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,Gw(i),wb(i)}function Gw(i){i.D||(i.D=!0,Gr(i,"complete"),Gr(i,"error"))}function qw(i){if(i.h&&typeof yl<"u"&&(!i.C[1]||4!=xl(i)||2!=i.ba()))if(i.v&&4==xl(i))nb(i.Fa,0,i);else if(Gr(i,"readystatechange"),4==xl(i)){i.h=!1;try{const g=i.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var o;if(o=0===g){var a=String(i.H).match(db)[1]||null;if(!a&&si.self&&si.self.location){var l=si.self.location.protocol;a=l.substr(0,l.length-1)}o=!Rh.test(a?a.toLowerCase():"")}e=o}if(e)Gr(i,"complete"),Gr(i,"success");else{i.m=6;try{var c=2<xl(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.ba()+"]",Gw(i)}}finally{wb(i)}}}function wb(i,t){if(i.g){Z_(i);const e=i.g,o=i.C[0]?vl:null;i.g=null,i.C=null,t||Gr(i,"ready");try{e.onreadystatechange=o}catch{}}}function Z_(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(si.clearTimeout(i.A),i.A=null)}function xl(i){return i.g?i.g.readyState:0}function $_(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case bb:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function sd(i,t,e){e:{for(o in e){var o=!1;break e}o=!0}o||(e=function TT(i){let t="";return ed(i,function(e,o){t+=o,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):er(i,t,e))}function Kg(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function Cb(i){this.za=0,this.l=[],this.h=new zs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kg("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kg("baseRetryDelayMs",5e3,i),this.$a=Kg("retryDelaySeedMs",1e4,i),this.Ya=Kg("forwardChannelMaxRetries",2,i),this.ra=Kg("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new _b(i&&i.concurrentRequestLimit),this.Ca=new G_,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ph(i){if(Qg(i),3==i.G){var t=i.V++,e=Za(i.F);er(e,"SID",i.J),er(e,"RID",t),er(e,"TYPE","terminate"),Nh(i,e),(t=new Th(i,i.h,t,void 0)).K=2,t.v=jg(Za(e)),e=!1,si.navigator&&si.navigator.sendBeacon&&(e=si.navigator.sendBeacon(t.v.toString(),"")),!e&&si.Image&&((new Image).src=t.v,e=!0),e||(t.g=Ib(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sp(t)}Lh(i)}function Jg(i){i.g&&(W_(i),i.g.cancel(),i.g=null)}function Qg(i){Jg(i),i.u&&(si.clearTimeout(i.u),i.u=null),Y_(i),i.i.cancel(),i.m&&("number"==typeof i.m&&si.clearTimeout(i.m),i.m=null)}function up(i,t){i.l.push(new class{constructor(i,t){this.h=i,this.g=t}}(i.Za++,t)),3==i.G&&Xg(i)}function Xg(i){Hw(i.i)||i.m||(i.m=!0,Fg(i.Ha,i),i.C=0)}function Eb(i,t){var e;e=t?t.m:i.V++;const o=Za(i.F);er(o,"SID",i.J),er(o,"RID",e),er(o,"AID",i.U),Nh(i,o),i.o&&i.s&&sd(o,i.o,i.s),e=new Th(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=ad(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),zg(i.i,e),L_(e,o,t)}function Nh(i,t){i.j&&ub({},function(e,o){er(t,o,e)})}function ad(i,t,e){e=Math.min(i.l.length,e);var o=i.j?xr(i.j.Oa,i.j,i):null;e:{var a=i.l;let l=-1;for(;;){const c=["count="+e];-1==l?0<e?(l=a[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let g=!0;for(let _=0;_<e;_++){let b=a[_].h;const T=a[_].g;if(b-=l,0>b)l=Math.max(0,a[_].h-100),g=!1;else try{jw(T,c,"req"+b+"_")}catch{o&&o(T)}}if(g){o=c.join("&");break e}}}return i=i.l.splice(0,e),t.D=i,o}function xb(i){i.g||i.u||(i.Y=1,Fg(i.Ga,i),i.A=0)}function em(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Ch(xr(i.Ga,i),Sb(i,i.A)),i.A++,0))}function W_(i){null!=i.B&&(si.clearTimeout(i.B),i.B=null)}function Fh(i){i.g=new Th(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=Za(i.oa);er(t,"RID","rpc"),er(t,"SID",i.J),er(t,"CI",i.N?"0":"1"),er(t,"AID",i.U),Nh(i,t),er(t,"TYPE","xmlhttp"),i.o&&i.s&&sd(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=jg(Za(t)),e.s=null,e.U=!0,lb(e,i)}function Y_(i){null!=i.v&&(si.clearTimeout(i.v),i.v=null)}function tm(i,t){var e=null;if(i.g==t){Y_(i),W_(i),i.g=null;var o=2}else{if(!j_(i.i,t))return;e=t.D,z_(i.i,t),o=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==o){e=t.s?t.s.length:0,t=Date.now()-t.F;var a=i.C;Gr(o=np(),new uc(o,e,t,a)),Xg(i)}else xb(i);else if(3==(a=t.o)||0==a&&0<i.I||!(1==o&&function Tb(i,t){return!(Uw(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Ch(xr(i.Ha,i,t),Sb(i,i.C)),i.C++,0)))}(i,t)||2==o&&em(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),a){case 1:dp(i,5);break;case 4:dp(i,10);break;case 3:dp(i,6);break;default:dp(i,2)}}function Sb(i,t){let e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function dp(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var o=xr(i.jb,i);e||(e=new uu("//www.google.com/images/cleardot.gif"),si.location&&"http"==si.location.protocol||rd(e,"https"),jg(e)),function q_(i,t){const e=new zs;if(si.Image){const o=new Image;o.onload=mh($a,e,o,"TestLoadImage: loaded",!0,t),o.onerror=mh($a,e,o,"TestLoadImage: error",!1,t),o.onabort=mh($a,e,o,"TestLoadImage: abort",!1,t),o.ontimeout=mh($a,e,o,"TestLoadImage: timeout",!1,t),si.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else t(!1)}(e.toString(),o)}else Ho(2);i.G=0,i.j&&i.j.va(t),Lh(i),Qg(i)}function Lh(i){i.G=0,i.I=-1,i.j&&((0!=Oh(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Mg(i.l),i.l.length=0),i.j.ua())}function Db(i,t,e){let o=function hb(i){return i instanceof uu?Za(i):new uu(i,void 0)}(e);if(""!=o.i)t&&Ih(o,t+"."+o.i),Mh(o,o.m);else{const a=si.location;o=function Ah(i,t,e,o){var a=new uu(null,void 0);return i&&rd(a,i),t&&Ih(a,t),e&&Mh(a,e),o&&(a.l=o),a}(a.protocol,t?t+"."+a.hostname:a.hostname,+a.port,e)}return i.aa&&ed(i.aa,function(a,l){er(o,l,a)}),e=i.sa,(t=i.D)&&e&&er(o,t,e),er(o,"VER",i.ma),Nh(i,o),o}function Ib(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new qr(e&&i.Ba&&!i.qa?new Gg({ib:!0}):i.qa)).L=i.H,t}function Vh(){}function ms(){if(wl&&!(10<=Number(kg)))throw Error("Environmental error: no available transport.")}function As(i,t){Io.call(this),this.g=new Cb(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!Jf(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jf(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new Xo(this)}function Mb(i){lu.call(this);var t=i.__sm__;if(t){e:{for(const e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function nm(){cu.call(this),this.status=1}function Xo(i){this.g=i}(_n=qr.prototype).ea=function(i,t,e,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rp.g(),this.C=function ob(i){return i.h||(i.h=i.i())}(this.u?this.u:rp),this.g.onreadystatechange=xr(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(l){return void zw(this,l)}i=e||"";const a=new Sh(this.headers);o&&ub(o,function(l,c){a.set(c,l)}),o=function Ig(i){e:{var t=Yg;const e=i.length,o="string"==typeof i?i.split(""):i;for(let a=0;a<e;a++)if(a in o&&t.call(void 0,o[a],a,i)){t=a;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(a.T()),e=si.FormData&&i instanceof si.FormData,!(0<=Ga(CT,t))||o||e||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Z_(this),0<this.B&&((this.K=function Wg(i){return wl&&function $v(){return function pT(i){var t=fD;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=i(9)}(function(){let i=0;const t=Uv(String(Cl)).split("."),e=Uv("9").split("."),o=Math.max(t.length,e.length);for(let c=0;0==i&&c<o;c++){var a=t[c]||"",l=e[c]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;i=jv(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||jv(0==a[2].length,0==l[2].length)||jv(a[2],l[2]),a=a[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.pa,this)):this.A=nb(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){zw(this,l)}},_n.pa=function(){typeof yl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},_n.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Gr(this,"complete"),Gr(this,"abort"),wb(this))},_n.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wb(this,!0)),qr.Z.M.call(this)},_n.Fa=function(){this.s||(this.F||this.v||this.l?qw(this):this.cb())},_n.cb=function(){qw(this)},_n.ba=function(){try{return 2<xl(this)?this.g.status:-1}catch{return-1}},_n.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},_n.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),wT(t)}},_n.Da=function(){return this.m},_n.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(_n=Cb.prototype).ma=8,_n.G=1,_n.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},_n.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const a=new Th(this,this.h,i,void 0);let l=this.s;if(this.P&&(l?(l=bl(l),iu(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var o=this.l[e];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=ad(this,a,t),er(e=Za(this.F),"RID",i),er(e,"CVER",22),this.D&&er(e,"X-HTTP-Session-Id",this.D),Nh(this,e),this.o&&l&&sd(e,this.o,l),zg(this.i,a),this.Ra&&er(e,"TYPE","init"),this.ja?(er(e,"$req",t),er(e,"SID","null"),a.$=!0,L_(a,e,null)):L_(a,e,t),this.G=2}}else 3==this.G&&(i?Eb(this,i):0==this.l.length||Hw(this.i)||Eb(this))},_n.Ga=function(){if(this.u=null,Fh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Ch(xr(this.bb,this),i)}},_n.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ho(10),Jg(this),Fh(this))},_n.ab=function(){null!=this.v&&(this.v=null,Jg(this),em(this),Ho(19))},_n.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ho(2)):(this.h.info("Failed to ping google.com"),Ho(1))},(_n=Vh.prototype).xa=function(){},_n.wa=function(){},_n.va=function(){},_n.ua=function(){},_n.Oa=function(){},ms.prototype.g=function(i,t){return new As(i,t)},co(As,Io),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Fg(xr(i.hb,i,t))),Ho(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=Db(i,null,i.W),Xg(i)},As.prototype.close=function(){Ph(this.g)},As.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,up(this.g,t)}else this.v?((t={}).__data__=uo(i),up(this.g,t)):up(this.g,i)},As.prototype.M=function(){this.g.j=null,delete this.j,Ph(this.g),delete this.g,As.Z.M.call(this)},co(Mb,lu),co(nm,cu),co(Xo,Vh),Xo.prototype.xa=function(){Gr(this.g,"a")},Xo.prototype.wa=function(i){Gr(this.g,new Mb(i))},Xo.prototype.va=function(i){Gr(this.g,new nm(i))},Xo.prototype.ua=function(){Gr(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,ip.NO_ERROR=0,ip.TIMEOUT=8,ip.HTTP_ERROR=6,F_.COMPLETE="complete",_T.EventType=dc,dc.OPEN="a",dc.CLOSE="b",dc.ERROR="c",dc.MESSAGE="d",Io.prototype.listen=Io.prototype.N,qr.prototype.listenOnce=qr.prototype.O,qr.prototype.getLastError=qr.prototype.La,qr.prototype.getLastErrorCode=qr.prototype.Da,qr.prototype.getStatus=qr.prototype.ba,qr.prototype.getResponseJson=qr.prototype.Qa,qr.prototype.getResponseText=qr.prototype.ga,qr.prototype.send=qr.prototype.ea;var Oi=Xu.createWebChannelTransport=function(){return new ms},Ab=Xu.getStatEventTarget=function(){return np()},hp=Xu.ErrorCode=ip,K_=Xu.EventType=F_,Sr=Xu.Event=tp,qs=Xu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Sl=Xu.FetchXmlHttpFactory=Gg,ld=Xu.WebChannel=_T,fp=Xu.XhrIo=qr;const im="@firebase/firestore";class Qr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let rm="9.9.1";const ga=new gr.Yd("@firebase/firestore");function kb(){return ga.logLevel}function Ct(i,...t){if(ga.logLevel<=gr.in.DEBUG){const e=t.map(J_);ga.debug(`Firestore (${rm}): ${i}`,...e)}}function vi(i,...t){if(ga.logLevel<=gr.in.ERROR){const e=t.map(J_);ga.error(`Firestore (${rm}): ${i}`,...e)}}function om(i,...t){if(ga.logLevel<=gr.in.WARN){const e=t.map(J_);ga.warn(`Firestore (${rm}): ${i}`,...e)}}function J_(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Sn(i="Unexpected state"){const t=`FIRESTORE (${rm}) INTERNAL ASSERTION FAILED: `+i;throw vi(t),new Error(t)}function Ln(i,t){i||Sn()}function tn(i,t){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends W.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Zw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qr.UNAUTHENTICATED))}shutdown(){}}class ST{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class pD{constructor(t){this.t=t,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var o=this;let a=this.i;const l=b=>this.i!==a?(a=this.i,e(b)):Promise.resolve();let c=new es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new es,t.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const b=c;t.enqueueRetryable((0,st.Z)(function*(){yield b.promise,yield l(o.currentUser)}))},_=b=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new es)}},0),g()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(o=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ln("string"==typeof o.accessToken),new Zw(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ln(null===t||"string"==typeof t),new Qr(t)}}class pp{constructor(t,e,o){this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ob{constructor(t,e,o){this.h=t,this.l=e,this.m=o}getToken(){return Promise.resolve(new pp(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DT{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const o=l=>{null!=l.error&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,Ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>o(l))};const a=l=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?a(l):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ln("string"==typeof e.token),this.p=e.token,new Rb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pb(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let o=0;o<i;o++)e[o]=Math.floor(256*Math.random());return e}class $w{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const a=Pb(40);for(let l=0;l<a.length;++l)o.length<20&&a[l]<e&&(o+=t.charAt(a[l]%t.length))}return o}}function ci(i,t){return i<t?-1:i>t?1:0}function fc(i,t,e){return i.length===t.length&&i.every((o,a)=>e(o,t[a]))}function sm(i){return i+"\0"}class ar{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ar.fromMillis(Date.now())}static fromDate(t){return ar.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*e));return new ar(e,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ci(this.nanoseconds,t.nanoseconds):ci(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new jn(t)}static min(){return new jn(new ar(0,0))}static max(){return new jn(new ar(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ma{constructor(t,e,o){void 0===e?e=0:e>t.length&&Sn(),void 0===o?o=t.length-e:o>t.length-e&&Sn(),this.segments=t,this.offset=e,this.len=o}get length(){return this.len}isEqual(t){return 0===ma.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ma?t.forEach(o=>{e.push(o)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,o=this.limit();e<o;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const o=Math.min(t.length,e.length);for(let a=0;a<o;a++){const l=t.get(a),c=e.get(a);if(l<c)return-1;if(l>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Si extends ma{construct(t,e,o){return new Si(t,e,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const o of t){if(o.indexOf("//")>=0)throw new Mt(ot.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);e.push(...o.split("/").filter(a=>a.length>0))}return new Si(e)}static emptyPath(){return new Si([])}}const Nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends ma{construct(t,e,o){return new _r(t,e,o)}static isValidIdentifier(t){return Nb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(t){const e=[];let o="",a=0;const l=()=>{if(0===o.length)throw new Mt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(o),o=""};let c=!1;for(;a<t.length;){const g=t[a];if("\\"===g){if(a+1===t.length)throw new Mt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[a+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Mt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=_,a+=2}else"`"===g?(c=!c,a++):"."!==g||c?(o+=g,a++):(l(),a++)}if(l(),c)throw new Mt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _r(e)}static emptyPath(){return new _r([])}}class sn{constructor(t){this.path=t}static fromPath(t){return new sn(Si.fromString(t))}static fromName(t){return new sn(Si.fromString(t).popFirst(5))}static empty(){return new sn(Si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Si.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Si.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new sn(new Si(t.slice()))}}class Hh{constructor(t,e,o,a){this.indexId=t,this.collectionGroup=e,this.fields=o,this.indexState=a}}function gp(i){return i.fields.find(t=>2===t.kind)}function ud(i){return i.fields.filter(t=>2!==t.kind)}Hh.UNKNOWN_ID=-1;class Dl{constructor(t,e){this.fieldPath=t,this.kind=e}}class pc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new pc(0,Dr.min())}}function Uh(i,t){const e=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=jn.fromTimestamp(1e9===o?new ar(e+1,0):new ar(e,o));return new Dr(a,sn.empty(),t)}function _a(i){return new Dr(i.readTime,i.key,-1)}class Dr{constructor(t,e,o){this.readTime=t,this.documentKey=e,this.largestBatchId=o}static min(){return new Dr(jn.min(),sn.empty(),-1)}static max(){return new Dr(jn.max(),sn.empty(),-1)}}function Il(i,t){let e=i.readTime.compareTo(t.readTime);return 0!==e?e:(e=sn.comparator(i.documentKey,t.documentKey),0!==e?e:ci(i.largestBatchId,t.largestBatchId))}const du="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function gc(i){return mp.apply(this,arguments)}function mp(){return mp=(0,st.Z)(function*(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==du)throw i;Ct("LocalStore","Unexpectedly lost primary lease")}),mp.apply(this,arguments)}class Je{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Je((o,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(o,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(o,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Je?e:Je.resolve(e)}catch(e){return Je.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Je.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Je.reject(e)}static resolve(t){return new Je((e,o)=>{e(t)})}static reject(t){return new Je((e,o)=>{o(t)})}static waitFor(t){return new Je((e,o)=>{let a=0,l=0,c=!1;t.forEach(g=>{++a,g.next(()=>{++l,c&&l===a&&e()},_=>o(_))}),c=!0,l===a&&e()})}static or(t){let e=Je.resolve(!1);for(const o of t)e=e.next(a=>a?Je.resolve(a):o());return e}static forEach(t,e){const o=[];return t.forEach((a,l)=>{o.push(e.call(this,a,l))}),this.waitFor(o)}static mapArray(t,e){return new Je((o,a)=>{const l=t.length,c=new Array(l);let g=0;for(let _=0;_<l;_++){const b=_;e(t[b]).next(T=>{c[b]=T,++g,g===l&&o(c)},T=>a(T))}})}static doWhile(t,e){return new Je((o,a)=>{const l=()=>{!0===t()?e().next(()=>{l()},a):o()};l()})}}class Wa{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new es,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new am(t,e.error)):this.T.resolve()},this.transaction.onerror=o=>{const a=lm(o.target.error);this.T.reject(new am(t,a))}}static open(t,e,o,a){try{return new Wa(e,t.transaction(a,o))}catch(l){throw new am(e,l)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Ct("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Lb(e)}}class ya{constructor(t,e,o){this.name=t,this.version=e,this.P=o,12.2===ya.v((0,W.z$)())&&vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ct("SimpleDb","Removing database:",t),dd(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,W.hl)())return!1;if(ya.S())return!0;const t=(0,W.z$)(),e=ya.v(t),o=0<e&&e<10,a=ya.D(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||l)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(t){const e=t.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(t){var e=this;return(0,st.Z)(function*(){return e.db||(Ct("SimpleDb","Opening database:",e.name),e.db=yield new Promise((o,a)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=c=>{o(c.target.result)},l.onblocked=()=>{a(new am(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const g=c.target.error;a("VersionError"===g.name?new Mt(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Mt(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new am(t,g))},l.onupgradeneeded=c=>{Ct("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.P.O(c.target.result,l.transaction,c.oldVersion,e.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.M&&(e.db.onversionchange=o=>e.M(o)),e.db})()}F(t){this.M=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,o,a){var l=this;return(0,st.Z)(function*(){const c="readonly"===e;let g=0;for(;;){++g;try{l.db=yield l.k(t);const _=Wa.open(l.db,t,c?"readonly":"readwrite",o),b=a(_).next(T=>(_.R(),T)).catch(T=>(_.abort(T),Je.reject(T))).toPromise();return b.catch(()=>{}),yield _.A,b}catch(_){const b=_,T="FirebaseError"!==b.name&&g<3;if(Ct("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),l.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class IT{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return dd(this.$.delete())}}class am extends Mt{constructor(t,e){super(ot.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function hu(i){return"IndexedDbTransactionError"===i.name}class Lb{constructor(t){this.store=t}put(t,e){let o;return void 0!==e?(Ct("SimpleDb","PUT",this.store.name,t,e),o=this.store.put(e,t)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),dd(o)}add(t){return Ct("SimpleDb","ADD",this.store.name,t,t),dd(this.store.add(t))}get(t){return dd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ct("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ct("SimpleDb","DELETE",this.store.name,t),dd(this.store.delete(t))}count(){return Ct("SimpleDb","COUNT",this.store.name),dd(this.store.count())}K(t,e){const o=this.options(t,e);if(o.index||"function"!=typeof this.store.getAll){const a=this.cursor(o),l=[];return this.G(a,(c,g)=>{l.push(g)}).next(()=>l)}{const a=this.store.getAll(o.range);return new Je((l,c)=>{a.onerror=g=>{c(g.target.error)},a.onsuccess=g=>{l(g.target.result)}})}}j(t,e){const o=this.store.getAll(t,null===e?void 0:e);return new Je((a,l)=>{o.onerror=c=>{l(c.target.error)},o.onsuccess=c=>{a(c.target.result)}})}W(t,e){Ct("SimpleDb","DELETE ALL",this.store.name);const o=this.options(t,e);o.H=!1;const a=this.cursor(o);return this.G(a,(l,c,g)=>g.delete())}J(t,e){let o;e?o=t:(o={},e=t);const a=this.cursor(o);return this.G(a,e)}Y(t){const e=this.cursor({});return new Je((o,a)=>{e.onerror=l=>{const c=lm(l.target.error);a(c)},e.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next(g=>{g?c.continue():o()}):o()}})}G(t,e){const o=[];return new Je((a,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const g=c.target.result;if(!g)return void a();const _=new IT(g),b=e(g.primaryKey,g.value,_);if(b instanceof Je){const T=b.catch(D=>(_.done(),Je.reject(D)));o.push(T)}_.isDone?a():null===_.U?g.continue():g.continue(_.U)}}).next(()=>Je.waitFor(o))}options(t,e){let o;return void 0!==t&&("string"==typeof t?o=t:e=t),{index:o,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const o=this.store.index(t.index);return t.H?o.openKeyCursor(t.range,e):o.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function dd(i){return new Je((t,e)=>{i.onsuccess=o=>{t(o.target.result)},i.onerror=o=>{const a=lm(o.target.error);e(a)}})}let Q_=!1;function lm(i){const t=ya.v((0,W.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const o=new Mt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Q_||(Q_=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ww{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Ct("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,st.Z)(function*(){e.task=null;try{Ct("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(o){hu(o)?Ct("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield gc(o)}yield e.Z(1)}))}}class ks{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,st.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>e.et(o,t))})()}et(t,e){const o=new Set;let a=e,l=!0;return Je.doWhile(()=>!0===l&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!o.has(c))return Ct("IndexBackiller",`Processing collection: ${c}`),this.nt(t,c,a).next(g=>{a-=g,o.add(c)});l=!1})).next(()=>e-a)}nt(t,e,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(a=>this.localStore.localDocuments.getNextDocuments(t,e,a,o).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.st(a,l)).next(g=>(Ct("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(t,e,g))).next(()=>c.size)}))}st(t,e){let o=t;return e.changes.forEach((a,l)=>{const c=_a(l);Il(c,o)>0&&(o=c)}),new Dr(o.readTime,o.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Uo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=o=>this.it(o),this.rt=o=>e.writeSequenceNumber(o))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function Yw(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function _p(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function fu(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}Uo.ot=-1;class Wi{constructor(t,e){this.comparator=t,this.root=e||jo.EMPTY}insert(t,e){return new Wi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,jo.BLACK,null,null))}remove(t){return new Wi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const o=this.comparator(t,e.key);if(0===o)return e.value;o<0?e=e.left:o>0&&(e=e.right)}return null}indexOf(t){let e=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(t,o.key);if(0===a)return e+o.left.size;a<0?o=o.left:(e+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,o)=>(t(e,o),!1))}toString(){const t=[];return this.inorderTraversal((e,o)=>(t.push(`${e}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yp(this.root,t,this.comparator,!1)}getReverseIterator(){return new yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yp(this.root,t,this.comparator,!0)}}class yp{constructor(t,e,o,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?o(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jo{constructor(t,e,o,a,l){this.key=t,this.value=e,this.color=o??jo.RED,this.left=a??jo.EMPTY,this.right=l??jo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,o,a,l){return new jo(t??this.key,e??this.value,o??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,o){let a=this;const l=o(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,o),null):0===l?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return jo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let o,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===e(t,a.key)){if(a.right.isEmpty())return jo.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Sn();const t=this.left.check();if(t!==this.right.check())throw Sn();return t+(this.isRed()?0:1)}}jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1,jo.EMPTY=new class{constructor(){this.size=0}get key(){throw Sn()}get value(){throw Sn()}get color(){throw Sn()}get left(){throw Sn()}get right(){throw Sn()}copy(i,t,e,o,a){return this}insert(i,t,e){return new jo(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yi{constructor(t){this.comparator=t,this.data=new Wi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,o)=>(t(e),!1))}forEachInRange(t,e){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let o;for(o=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vp(this.data.getIterator())}getIteratorFrom(t){return new vp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(o=>{e=e.add(o)}),e}isEqual(t){if(!(t instanceof Yi)||this.size!==t.size)return!1;const e=this.data.getIterator(),o=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=o.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yi(this.comparator);return e.data=t,e}}class vp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pu(i){return i.hasNext()?i.getNext():void 0}class va{constructor(t){this.fields=t,t.sort(_r.comparator)}static empty(){return new va([])}unionWith(t){let e=new Yi(_r.comparator);for(const o of this.fields)e=e.add(o);for(const o of t)e=e.add(o);return new va(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fc(this.fields,t.fields,(e,o)=>e.isEqual(o))}}class ho{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ho(e)}static fromUint8Array(t){const e=function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a}(t);return new ho(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let o=0;o<t.length;o++)e[o]=t.charCodeAt(o);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ci(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ho.EMPTY_BYTE_STRING=new ho("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gu(i){if(Ln(!!i),"string"==typeof i){let t=0;const e=Kw.exec(i);if(Ln(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ir(i.seconds),nanos:Ir(i.nanos)}}function Ir(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function mc(i){return"string"==typeof i?ho.fromBase64String(i):ho.fromUint8Array(i)}function Ya(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function cm(i){const t=i.mapValue.fields.__previous_value__;return Ya(t)?cm(t):t}function bp(i){const t=gu(i.mapValue.fields.__local_write_time__.timestampValue);return new ar(t.seconds,t.nanos)}class X_{constructor(t,e,o,a,l,c,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=o,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class Zs{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Zs&&t.projectId===this.projectId&&t.database===this.database}}function fo(i){return null==i}function wp(i){return 0===i&&1/i==-1/0}function Bb(i){return"number"==typeof i&&Number.isInteger(i)&&!wp(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_c={nullValue:"NULL_VALUE"};function Ml(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ya(i)?4:f(i)?9007199254740991:10:Sn()}function yc(i,t){if(i===t)return!0;const e=Ml(i);if(e!==Ml(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return bp(i).isEqual(bp(t));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=gu(o.timestampValue),c=gu(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return a=t,mc(i.bytesValue).isEqual(mc(a.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,a){return Ir(o.geoPointValue.latitude)===Ir(a.geoPointValue.latitude)&&Ir(o.geoPointValue.longitude)===Ir(a.geoPointValue.longitude)}(i,t);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Ir(o.integerValue)===Ir(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=Ir(o.doubleValue),c=Ir(a.doubleValue);return l===c?wp(l)===wp(c):isNaN(l)&&isNaN(c)}return!1}(i,t);case 9:return fc(i.arrayValue.values||[],t.arrayValue.values||[],yc);case 10:return function(o,a){const l=o.mapValue.fields||{},c=a.mapValue.fields||{};if(Yw(l)!==Yw(c))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===c[g]||!yc(l[g],c[g])))return!1;return!0}(i,t);default:return Sn()}var a}function vc(i,t){return void 0!==(i.values||[]).find(e=>yc(e,t))}function ba(i,t){if(i===t)return 0;const e=Ml(i),o=Ml(t);if(e!==o)return ci(e,o);switch(e){case 0:case 9007199254740991:return 0;case 1:return ci(i.booleanValue,t.booleanValue);case 2:return function(a,l){const c=Ir(a.integerValue||a.doubleValue),g=Ir(l.integerValue||l.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(i,t);case 3:return hd(i.timestampValue,t.timestampValue);case 4:return hd(bp(i),bp(t));case 5:return ci(i.stringValue,t.stringValue);case 6:return function(a,l){const c=mc(a),g=mc(l);return c.compareTo(g)}(i.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),g=l.split("/");for(let _=0;_<c.length&&_<g.length;_++){const b=ci(c[_],g[_]);if(0!==b)return b}return ci(c.length,g.length)}(i.referenceValue,t.referenceValue);case 8:return function(a,l){const c=ci(Ir(a.latitude),Ir(l.latitude));return 0!==c?c:ci(Ir(a.longitude),Ir(l.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(a,l){const c=a.values||[],g=l.values||[];for(let _=0;_<c.length&&_<g.length;++_){const b=ba(c[_],g[_]);if(b)return b}return ci(c.length,g.length)}(i.arrayValue,t.arrayValue);case 10:return function(a,l){if(a===Ka.mapValue&&l===Ka.mapValue)return 0;if(a===Ka.mapValue)return 1;if(l===Ka.mapValue)return-1;const c=a.fields||{},g=Object.keys(c),_=l.fields||{},b=Object.keys(_);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const D=ci(g[T],b[T]);if(0!==D)return D;const O=ba(c[g[T]],_[b[T]]);if(0!==O)return O}return ci(g.length,b.length)}(i.mapValue,t.mapValue);default:throw Sn()}}function hd(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return ci(i,t);const e=gu(i),o=gu(t),a=ci(e.seconds,o.seconds);return 0!==a?a:ci(e.nanos,o.nanos)}function jh(i){return um(i)}function um(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const a=gu(o);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?mc(i.bytesValue).toBase64():"referenceValue"in i?sn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(t=i.geoPointValue).latitude},${t.longitude})`:"arrayValue"in i?function(o){let a="[",l=!0;for(const c of o.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"}(i.arrayValue):"mapValue"in i?function(o){const a=Object.keys(o.fields||{}).sort();let l="{",c=!0;for(const g of a)c?c=!1:l+=",",l+=`${g}:${um(o.fields[g])}`;return l+"}"}(i.mapValue):Sn();var t}function zh(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function MT(i){return!!i&&"integerValue"in i}function ey(i){return!!i&&"arrayValue"in i}function ty(i){return!!i&&"nullValue"in i}function AT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function d(i){return!!i&&"mapValue"in i}function u(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return _p(i.mapValue.fields,(e,o)=>t.mapValue.fields[e]=u(o)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=u(i.arrayValue.values[e]);return t}return Object.assign({},i)}function f(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function y(i){return"nullValue"in i?_c:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?zh(Zs.empty(),sn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Sn()}function w(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?zh(Zs.empty(),sn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ka:Sn()}function E(i,t){const e=ba(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function M(i,t){const e=ba(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class P{constructor(t){this.value=t}static empty(){return new P({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let o=0;o<t.length-1;++o)if(e=(e.mapValue.fields||{})[t.get(o)],!d(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=u(e)}setAll(t){let e=_r.emptyPath(),o={},a=[];t.forEach((c,g)=>{if(!e.isImmediateParentOf(g)){const _=this.getFieldsMap(e);this.applyChanges(_,o,a),o={},a=[],e=g.popLast()}c?o[g.lastSegment()]=u(c):a.push(g.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,o,a)}delete(t){const e=this.field(t.popLast());d(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return yc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let o=0;o<t.length;++o){let a=e.mapValue.fields[t.get(o)];d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(o)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,o){_p(e,(a,l)=>t[a]=l);for(const a of o)delete t[a]}clone(){return new P(u(this.value))}}function H(i){const t=[];return _p(i.fields,(e,o)=>{const a=new _r([e]);if(d(o)){const l=H(o.mapValue).fields;if(0===l.length)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new va(t)}class z{constructor(t,e,o,a,l,c){this.key=t,this.documentType=e,this.version=o,this.readTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new z(t,0,jn.min(),jn.min(),P.empty(),0)}static newFoundDocument(t,e,o){return new z(t,1,e,jn.min(),o,0)}static newNoDocument(t,e){return new z(t,2,e,jn.min(),P.empty(),0)}static newUnknownDocument(t,e){return new z(t,3,e,jn.min(),P.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=P.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=P.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof z&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new z(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ie{constructor(t,e=null,o=[],a=[],l=null,c=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=o,this.filters=a,this.limit=l,this.startAt=c,this.endAt=g,this.ut=null}}function ge(i,t=null,e=[],o=[],a=null,l=null,c=null){return new ie(i,t,e,o,a,l,c)}function ye(i){const t=tn(i);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(o=>{return(a=o).field.canonicalString()+a.op.toString()+jh(a.value);var a}).join(","),e+="|ob:",e+=t.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),fo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(o=>jh(o)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(o=>jh(o)).join(",")),t.ut=e}return t.ut}function Ge(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<i.orderBy.length;a++)if(!vO(i.orderBy[a],t.orderBy[a]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let a=0;a<i.filters.length;a++)if((e=i.filters[a]).op!==(o=t.filters[a]).op||!e.field.isEqual(o.field)||!yc(e.value,o.value))return!1;var e,o;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!mD(i.startAt,t.startAt)&&mD(i.endAt,t.endAt)}function at(i){return sn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Lt(i,t){return i.filters.filter(e=>e instanceof yn&&e.field.isEqual(t))}function Xt(i,t,e){let o=_c,a=!0;for(const l of Lt(i,t)){let c=_c,g=!0;switch(l.op){case"<":case"<=":c=y(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,g=!1;break;case"!=":case"not-in":c=_c}E({value:o,inclusive:a},{value:c,inclusive:g})<0&&(o=c,a=g)}if(null!==e)for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(t)){const c=e.position[l];E({value:o,inclusive:a},{value:c,inclusive:e.inclusive})<0&&(o=c,a=e.inclusive);break}return{value:o,inclusive:a}}function Hn(i,t,e){let o=Ka,a=!0;for(const l of Lt(i,t)){let c=Ka,g=!0;switch(l.op){case">=":case">":c=w(l.value),g=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,g=!1;break;case"!=":case"not-in":c=Ka}M({value:o,inclusive:a},{value:c,inclusive:g})>0&&(o=c,a=g)}if(null!==e)for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(t)){const c=e.position[l];M({value:o,inclusive:a},{value:c,inclusive:e.inclusive})>0&&(o=c,a=e.inclusive);break}return{value:o,inclusive:a}}class yn extends class{}{constructor(t,e,o){super(),this.field=t,this.op=e,this.value=o}static create(t,e,o){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,o):new bi(t,e,o):"array-contains"===e?new Jw(t,o):"in"===e?new Cp(t,o):"not-in"===e?new ny(t,o):"array-contains-any"===e?new Qw(t,o):new yn(t,e,o)}static ct(t,e,o){return"in"===e?new Ri(t,o):new Ki(t,o)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(ba(e,this.value)):null!==e&&Ml(this.value)===Ml(e)&&this.at(ba(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Sn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bi extends yn{constructor(t,e,o){super(t,e,o),this.key=sn.fromName(o.referenceValue)}matches(t){const e=sn.comparator(t.key,this.key);return this.at(e)}}class Ri extends yn{constructor(t,e){super(t,"in",e),this.keys=zo(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Ki extends yn{constructor(t,e){super(t,"not-in",e),this.keys=zo(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function zo(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(o=>sn.fromName(o.referenceValue))}class Jw extends yn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ey(e)&&vc(e.arrayValue,this.value)}}class Cp extends yn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&vc(this.value.arrayValue,e)}}class ny extends yn{constructor(t,e){super(t,"not-in",e)}matches(t){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!vc(this.value.arrayValue,e)}}class Qw extends yn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ey(e)||!e.arrayValue.values)&&e.arrayValue.values.some(o=>vc(this.value.arrayValue,o))}}class fd{constructor(t,e){this.position=t,this.inclusive=e}}class iy{constructor(t,e="asc"){this.field=t,this.dir=e}}function vO(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function gD(i,t,e){let o=0;for(let a=0;a<i.position.length;a++){const l=t[a],c=i.position[a];if(o=l.field.isKeyField()?sn.comparator(sn.fromName(c.referenceValue),e.key):ba(c,e.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function mD(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!yc(i.position[e],t.position[e]))return!1;return!0}class Gh{constructor(t,e=null,o=[],a=[],l=null,c="F",g=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=o,this.filters=a,this.limit=l,this.limitType=c,this.startAt=g,this.endAt=_,this.lt=null,this.ft=null}}function _D(i,t,e,o,a,l,c,g){return new Gh(i,t,e,o,a,l,c,g)}function qh(i){return new Gh(i)}function yD(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function hm(i){for(const t of i.filters)if(t.ht())return t.field;return null}function kT(i){return null!==i.collectionGroup}function ry(i){const t=tn(i);if(null===t.lt){t.lt=[];const e=hm(t),o=yD(t);if(null!==e&&null===o)e.isKeyField()||t.lt.push(new iy(e)),t.lt.push(new iy(_r.keyField(),"asc"));else{let a=!1;for(const l of t.explicitOrderBy)t.lt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new iy(_r.keyField(),l))}}}return t.lt}function Ja(i){const t=tn(i);if(!t.ft)if("F"===t.limitType)t.ft=ge(t.path,t.collectionGroup,ry(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of ry(t))e.push(new iy(l.field,"desc"===l.dir?"asc":"desc"));const o=t.endAt?new fd(t.endAt.position,t.endAt.inclusive):null,a=t.startAt?new fd(t.startAt.position,t.startAt.inclusive):null;t.ft=ge(t.path,t.collectionGroup,e,t.filters,t.limit,o,a)}return t.ft}function vD(i,t,e){return new Gh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Qa(i,t){return Ge(Ja(i),Ja(t))&&i.limitType===t.limitType}function oy(i){return`${ye(Ja(i))}|lt:${i.limitType}`}function _s(i){return`Query(target=${function Ye(i){let t=i.path.canonicalString();return null!==i.collectionGroup&&(t+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(t+=`, filters: [${i.filters.map(e=>{return`${(o=e).field.canonicalString()} ${o.op} ${jh(o.value)}`;var o}).join(", ")}]`),fo(i.limit)||(t+=", limit: "+i.limit),i.orderBy.length>0&&(t+=`, orderBy: [${i.orderBy.map(e=>{return`${(o=e).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(t+=", startAt: ",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(e=>jh(e)).join(",")),i.endAt&&(t+=", endAt: ",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(e=>jh(e)).join(",")),`Target(${t})`}(Ja(i))}; limitType=${i.limitType})`}function Zh(i,t){return t.isFoundDocument()&&function(e,o){const a=o.key.path;return null!==e.collectionGroup?o.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):sn.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a)}(i,t)&&function(e,o){for(const a of e.explicitOrderBy)if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(i,t)&&function(e,o){for(const a of e.filters)if(!a.matches(o))return!1;return!0}(i,t)&&(o=t,!((e=i).startAt&&!function(a,l,c){const g=gD(a,l,c);return a.inclusive?g<=0:g<0}(e.startAt,ry(e),o)||e.endAt&&!function(a,l,c){const g=gD(a,l,c);return a.inclusive?g>=0:g>0}(e.endAt,ry(e),o)));var e,o}function Hb(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Al(i){return(t,e)=>{let o=!1;for(const a of ry(i)){const l=OT(a,t,e);if(0!==l)return l;o=o||a.field.isKeyField()}return 0}}function OT(i,t,e){const o=i.field.isKeyField()?sn.comparator(t.key,e.key):function(a,l,c){const g=l.data.field(a),_=c.data.field(a);return null!==g&&null!==_?ba(g,_):Sn()}(i.field,t,e);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Sn()}}function fm(i,t){if(i.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(t)?"-0":t}}function pm(i){return{integerValue:""+i}}function gm(i,t){return Bb(t)?pm(t):fm(i,t)}class $h{constructor(){this._=void 0}}function sy(i,t,e){return i instanceof mu?function(o,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(e,t):i instanceof bc?RT(i,t):i instanceof Tp?PT(i,t):function(o,a){const l=mm(o,a),c=NT(l)+NT(o._t);return MT(l)&&MT(o._t)?pm(c):fm(o.wt,c)}(i,t)}function ay(i,t,e){return i instanceof bc?RT(i,t):i instanceof Tp?PT(i,t):e}function mm(i,t){return i instanceof _m?MT(e=t)||(o=e)&&"doubleValue"in o?t:{integerValue:0}:null;var o,e}class mu extends $h{}class bc extends $h{constructor(t){super(),this.elements=t}}function RT(i,t){const e=FT(t);for(const o of i.elements)e.some(a=>yc(a,o))||e.push(o);return{arrayValue:{values:e}}}class Tp extends $h{constructor(t){super(),this.elements=t}}function PT(i,t){let e=FT(t);for(const o of i.elements)e=e.filter(a=>!yc(a,o));return{arrayValue:{values:e}}}class _m extends $h{constructor(t,e){super(),this.wt=t,this._t=e}}function NT(i){return Ir(i.integerValue||i.doubleValue)}function FT(i){return ey(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ly{constructor(t,e){this.field=t,this.transform=e}}class wD{constructor(t,e){this.version=t,this.transformResults=e}}class Xr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xr}static exists(t){return new Xr(void 0,t)}static updateTime(t){return new Xr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xw(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class eC{}function LT(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new Wh(i.key,Xr.none()):new uy(i.key,i.data,Xr.none());{const e=i.data,o=P.empty();let a=new Yi(_r.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);null===c&&l.length>1&&(l=l.popLast(),c=e.field(l)),null===c?o.delete(l):o.set(l,c),a=a.add(l)}return new wc(i.key,o,new va(a.toArray()),Xr.none())}}function bO(i,t,e){i instanceof uy?function(o,a,l){const c=o.value.clone(),g=nC(o.fieldTransforms,a,l.transformResults);c.setAll(g),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(i,t,e):i instanceof wc?function(o,a,l){if(!Xw(o.precondition,a))return void a.convertToUnknownDocument(l.version);const c=nC(o.fieldTransforms,a,l.transformResults),g=a.data;g.setAll(Ub(o)),g.setAll(c),a.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(i,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function cy(i,t,e,o){return i instanceof uy?function(a,l,c,g){if(!Xw(a.precondition,l))return c;const _=a.value.clone(),b=CD(a.fieldTransforms,g,l);return _.setAll(b),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(i,t,e,o):i instanceof wc?function(a,l,c,g){if(!Xw(a.precondition,l))return c;const _=CD(a.fieldTransforms,g,l),b=l.data;return b.setAll(Ub(a)),b.setAll(_),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null===c?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(i,t,e,o):(c=e,Xw(i.precondition,l=t)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function VT(i,t){let e=null;for(const o of i.fieldTransforms){const a=t.data.field(o.field),l=mm(o.transform,a||null);null!=l&&(null===e&&(e=P.empty()),e.set(o.field,l))}return e||null}function tC(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(o=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===o||e&&o&&fc(e,o,(a,l)=>function bD(i,t){return i.field.isEqual(t.field)&&(o=t.transform,(e=i.transform)instanceof bc&&o instanceof bc||e instanceof Tp&&o instanceof Tp?fc(e.elements,o.elements,yc):e instanceof _m&&o instanceof _m?yc(e._t,o._t):e instanceof mu&&o instanceof mu);var e,o}(a,l))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,o}class uy extends eC{constructor(t,e,o,a=[]){super(),this.key=t,this.value=e,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wc extends eC{constructor(t,e,o,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=o,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const o=i.data.field(e);t.set(e,o)}}),t}function nC(i,t,e){const o=new Map;Ln(i.length===e.length);for(let a=0;a<e.length;a++){const l=i[a],c=l.transform,g=t.data.field(l.field);o.set(l.field,ay(c,g,e[a]))}return o}function CD(i,t,e){const o=new Map;for(const a of i){const l=a.transform,c=e.data.field(a.field);o.set(a.field,sy(l,c,t))}return o}class Wh extends eC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dy extends eC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BT{constructor(t){this.count=t}}var Mo,Pi;function HT(i){switch(i){default:return Sn();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function UT(i){if(void 0===i)return vi("GRPC error has no .code"),ot.UNKNOWN;switch(i){case Mo.OK:return ot.OK;case Mo.CANCELLED:return ot.CANCELLED;case Mo.UNKNOWN:return ot.UNKNOWN;case Mo.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Mo.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Mo.INTERNAL:return ot.INTERNAL;case Mo.UNAVAILABLE:return ot.UNAVAILABLE;case Mo.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Mo.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Mo.NOT_FOUND:return ot.NOT_FOUND;case Mo.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Mo.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Mo.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Mo.ABORTED:return ot.ABORTED;case Mo.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Mo.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Mo.DATA_LOSS:return ot.DATA_LOSS;default:return Sn()}}(Pi=Mo||(Mo={}))[Pi.OK=0]="OK",Pi[Pi.CANCELLED=1]="CANCELLED",Pi[Pi.UNKNOWN=2]="UNKNOWN",Pi[Pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pi[Pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pi[Pi.NOT_FOUND=5]="NOT_FOUND",Pi[Pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pi[Pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pi[Pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pi[Pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pi[Pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pi[Pi.ABORTED=10]="ABORTED",Pi[Pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pi[Pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pi[Pi.INTERNAL=13]="INTERNAL",Pi[Pi.UNAVAILABLE=14]="UNAVAILABLE",Pi[Pi.DATA_LOSS=15]="DATA_LOSS";class pd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),o=this.inner[e];if(void 0!==o)for(const[a,l]of o)if(this.equalsFn(a,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const o=this.mapKeyFn(t),a=this.inner[o];if(void 0===a)return this.inner[o]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),o=this.inner[e];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return 1===o.length?delete this.inner[e]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(t){_p(this.inner,(e,o)=>{for(const[a,l]of o)t(a,l)})}isEmpty(){return fu(this.inner)}size(){return this.innerSize}}const TD=new Wi(sn.comparator);function Xa(){return TD}const jT=new Wi(sn.comparator);function hy(...i){let t=jT;for(const e of i)t=t.insert(e.key,e);return t}function zT(i){let t=jT;return i.forEach((e,o)=>t=t.insert(e,o.overlayedDocument)),t}function _u(){return fy()}function ED(){return fy()}function fy(){return new pd(i=>i.toString(),(i,t)=>i.isEqual(t))}const xD=new Wi(sn.comparator),GT=new Yi(sn.comparator);function di(...i){let t=GT;for(const e of i)t=t.add(e);return t}const SD=new Yi(ci);function jb(){return SD}class py{constructor(t,e,o,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const o=new Map;return o.set(t,gy.createSynthesizedTargetChangeForCurrentChange(t,e)),new py(jn.min(),o,jb(),Xa(),di())}}class gy{constructor(t,e,o,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new gy(ho.EMPTY_BYTE_STRING,e,di(),di(),di())}}class zb{constructor(t,e,o,a){this.gt=t,this.removedTargetIds=e,this.key=o,this.yt=a}}class qT{constructor(t,e){this.targetId=t,this.It=e}}class ZT{constructor(t,e,o=ho.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=o,this.cause=a}}class $T{constructor(){this.Tt=0,this.Et=ID(),this.At=ho.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=di(),e=di(),o=di();return this.Et.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:o=o.add(a);break;default:Sn()}}),new gy(this.At,this.Rt,t,e,o)}Dt(){this.bt=!1,this.Et=ID()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class tV{constructor(t){this.Mt=t,this.Ft=new Map,this.$t=Xa(),this.Bt=DD(),this.Lt=new Yi(ci)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const o=this.Qt(e);switch(t.state){case 0:this.jt(e)&&o.Vt(t.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(t.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(o.Ot(),o.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),o.Vt(t.resumeToken));break;default:Sn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((o,a)=>{this.jt(a)&&e(a)})}zt(t){const e=t.targetId,o=t.It.count,a=this.Ht(e);if(a){const l=a.target;if(at(l))if(0===o){const c=new sn(l.path);this.Kt(e,c,z.newNoDocument(c,jn.min()))}else Ln(1===o);else this.Jt(e)!==o&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((l,c)=>{const g=this.Ht(c);if(g){if(l.current&&at(g.target)){const _=new sn(g.target.path);null!==this.$t.get(_)||this.Xt(c,_)||this.Kt(c,_,z.newNoDocument(_,t))}l.vt&&(e.set(c,l.St()),l.Dt())}});let o=di();this.Bt.forEach((l,c)=>{let g=!0;c.forEachWhile(_=>{const b=this.Ht(_);return!b||2===b.purpose||(g=!1,!1)}),g&&(o=o.add(l))}),this.$t.forEach((l,c)=>c.setReadTime(t));const a=new py(t,e,this.Lt,this.$t,o);return this.$t=Xa(),this.Bt=DD(),this.Lt=new Yi(ci),a}qt(t,e){if(!this.jt(t))return;const o=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,o),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,o){if(!this.jt(t))return;const a=this.Qt(t);this.Xt(t,e)?a.Ct(e,1):a.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),o&&(this.$t=this.$t.insert(e,o))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new $T,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Yi(ci),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Ct("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}Wt(t){this.Ft.set(t,new $T),this.Mt.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}function DD(){return new Wi(sn.comparator)}function ID(){return new Wi(sn.comparator)}const MD={asc:"ASCENDING",desc:"DESCENDING"},wO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ts{constructor(t,e){this.databaseId=t,this.dt=e}}function my(i,t){return i.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AD(i,t){return i.dt?t.toBase64():t.toUint8Array()}function CO(i,t){return my(i,t.toTimestamp())}function ns(i){return Ln(!!i),jn.fromTimestamp(function(t){const e=gu(t);return new ar(e.seconds,e.nanos)}(i))}function WT(i,t){return(e=i,new Si(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function YT(i){const t=Si.fromString(i);return Ln(iE(t)),t}function _y(i,t){return WT(i.databaseId,t.path)}function wa(i,t){const e=YT(t);if(e.get(1)!==i.databaseId.projectId)throw new Mt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Mt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new sn(OD(e))}function KT(i,t){return WT(i.databaseId,t)}function kD(i){const t=YT(i);return 4===t.length?Si.emptyPath():OD(t)}function yy(i){return new Si(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OD(i){return Ln(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function JT(i,t,e){return{name:_y(i,t),fields:e.value.mapValue.fields}}function TO(i,t,e){const o=wa(i,t.name),a=ns(t.updateTime),l=new P({mapValue:{fields:t.fields}}),c=z.newFoundDocument(o,a,l);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function Ca(i,t){let e;if(t instanceof uy)e={update:JT(i,t.key,t.value)};else if(t instanceof Wh)e={delete:_y(i,t.key)};else if(t instanceof wc)e={update:JT(i,t.key,t.data),updateMask:SO(t.fieldMask)};else{if(!(t instanceof dy))return Sn();e={verify:_y(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(o=>function(a,l){const c=l.transform;if(c instanceof mu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Tp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _m)return{fieldPath:l.field.canonicalString(),increment:c._t};throw Sn()}(0,o))),t.precondition.isNone||(e.currentDocument=void 0!==(a=t.precondition).updateTime?{updateTime:CO(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Sn()),e;var a}function eE(i,t){const e=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?Xr.updateTime(ns(a.updateTime)):void 0!==a.exists?Xr.exists(a.exists):Xr.none():Xr.none(),o=t.updateTransforms?t.updateTransforms.map(a=>function(l,c){let g=null;"setToServerValue"in c?(Ln("REQUEST_TIME"===c.setToServerValue),g=new mu):"appendMissingElements"in c?g=new bc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new Tp(c.removeAllFromArray.values||[]):"increment"in c?g=new _m(l,c.increment):Sn();const _=_r.fromServerFormat(c.fieldPath);return new ly(_,g)}(i,a)):[];var a;if(t.update){const a=wa(i,t.update.name),l=new P({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new va((t.updateMask.fieldPaths||[]).map(b=>_r.fromServerFormat(b)));return new wc(a,l,c,e,o)}return new uy(a,l,e,o)}if(t.delete){const a=wa(i,t.delete);return new Wh(a,e)}if(t.verify){const a=wa(i,t.verify);return new dy(a,e)}return Sn()}function yu(i,t){return{documents:[KT(i,t.path)]}}function Cc(i,t){const e={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(e.parent=KT(i,o),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=KT(i,o.popLast()),e.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(_){if(0===_.length)return;const b=_.map(T=>function(D){if("=="===D.op){if(AT(D.value))return{unaryFilter:{field:vy(D.field),op:"IS_NAN"}};if(ty(D.value))return{unaryFilter:{field:vy(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(AT(D.value))return{unaryFilter:{field:vy(D.field),op:"IS_NOT_NAN"}};if(ty(D.value))return{unaryFilter:{field:vy(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vy(D.field),op:xO(D.op),value:D.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);a&&(e.structuredQuery.where=a);const l=function(_){if(0!==_.length)return _.map(b=>{return{field:vy((T=b).field),direction:EO(T.dir)};var T})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=(b=t.limit,i.dt||fo(b)?b:{value:b});var b,g,_;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(g=t.startAt).inclusive,values:g.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function Tc(i){let t=kD(i.parent);const e=i.structuredQuery,o=e.from?e.from.length:0;let a=null;if(o>0){Ln(1===o);const T=e.from[0];T.allDescendants?a=T.collectionId:t=t.child(T.collectionId)}let l=[];e.where&&(l=tE(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(T=>{return new iy(by((D=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let g=null;e.limit&&(g=function(T){let D;return D="object"==typeof T?T.value:T,fo(D)?null:D}(e.limit));let _=null;var T;e.startAt&&(_=new fd((T=e.startAt).values||[],!!T.before));let b=null;return e.endAt&&(b=function(T){return new fd(T.values||[],!T.before)}(e.endAt)),_D(t,a,c,l,g,"F",_,b)}function tE(i){return i?void 0!==i.unaryFilter?[Gb(i)]:void 0!==i.fieldFilter?[nE(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(t=>tE(t)).reduce((t,e)=>t.concat(e)):Sn():[]}function EO(i){return MD[i]}function xO(i){return wO[i]}function vy(i){return{fieldPath:i.canonicalString()}}function by(i){return _r.fromServerFormat(i.fieldPath)}function nE(i){return yn.create(by(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Gb(i){switch(i.unaryFilter.op){case"IS_NAN":const t=by(i.unaryFilter.field);return yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=by(i.unaryFilter.field);return yn.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=by(i.unaryFilter.field);return yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=by(i.unaryFilter.field);return yn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Sn()}}function SO(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function iE(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ta(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=rE(t)),t=ND(i.get(e),t);return rE(t)}function ND(i,t){let e=t;const o=i.length;for(let a=0;a<o;a++){const l=i.charAt(a);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function rE(i){return i+"\x01\x01"}function kl(i){const t=i.length;if(Ln(t>=2),2===t)return Ln("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Si.emptyPath();const e=t-2,o=[];let a="";for(let l=0;l<t;){const c=i.indexOf("\x01",l);switch((c<0||c>e)&&Sn(),i.charAt(c+1)){case"\x01":const g=i.substring(l,c);let _;0===a.length?_=g:(a+=g,_=a,a=""),o.push(_);break;case"\x10":a+=i.substring(l,c),a+="\0";break;case"\x11":a+=i.substring(l,c+1);break;default:Sn()}l=c+2}return new Si(o)}const FD=["userId","batchId"];function qb(i,t){return[i,Ta(t)]}function oE(i,t,e){return[i,Ta(t),e]}const sE={},iC=["prefixPath","collectionGroup","readTime","documentId"],aE=["prefixPath","collectionGroup","documentId"],LD=["collectionGroup","readTime","prefixPath","documentId"],VD=["canonicalId","targetId"],BD=["targetId","path"],HD=["path","targetId"],UD=["collectionId","parent"],jD=["indexId","uid"],zD=["uid","sequenceNumber"],DO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IO=["indexId","uid","orderedDocumentKey"],MO=["userId","collectionPath","documentId"],AO=["userId","collectionPath","largestBatchId"],kO=["userId","collectionGroup","largestBatchId"],GD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OO=[...GD,"documentOverlays"],qD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZD=qD,RO=[...ZD,"indexConfiguration","indexState","indexEntries"];class lE extends Fb{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function ys(i,t){const e=tn(i);return ya.N(e.ee,t)}class cE{constructor(t,e,o,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(t,e){const o=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&bO(l,t,o[a])}}applyToLocalView(t,e){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(e=cy(o,t,e,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(e=cy(o,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const o=ED();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let g=this.applyToLocalView(c,l.mutatedFields);g=e.has(a.key)?null:g;const _=LT(c,g);null!==_&&o.set(a.key,_),c.isValidDocument()||c.convertToNoDocument(jn.min())}),o}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),di())}isEqual(t){return this.batchId===t.batchId&&fc(this.mutations,t.mutations,(e,o)=>tC(e,o))&&fc(this.baseMutations,t.baseMutations,(e,o)=>tC(e,o))}}class uE{constructor(t,e,o,a){this.batch=t,this.commitVersion=e,this.mutationResults=o,this.docVersions=a}static from(t,e,o){Ln(t.mutations.length===o.length);let a=xD;const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,o[c].version);return new uE(t,e,o,a)}}class dE{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ep{constructor(t,e,o,a,l=jn.min(),c=jn.min(),g=ho.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g}withSequenceNumber(t){return new Ep(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ep(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ep(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class $D{constructor(t){this.ne=t}}function hE(i,t){const e=t.key,o={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Zb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())o.document={name:_y(a=i.ne,(l=t).key),fields:l.data.value.mapValue.fields,updateTime:my(a,l.version.toTimestamp())};else if(t.isNoDocument())o.noDocument={path:e.path.toArray(),readTime:xp(t.version)};else{if(!t.isUnknownDocument())return Sn();o.unknownDocument={path:e.path.toArray(),version:xp(t.version)}}var a,l;return o}function Zb(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function xp(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sp(i){const t=new ar(i.seconds,i.nanoseconds);return jn.fromTimestamp(t)}function Dp(i,t){const e=(t.baseMutations||[]).map(l=>eE(i.ne,l));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(c.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const o=t.mutations.map(l=>eE(i.ne,l)),a=ar.fromMillis(t.localWriteTimeMs);return new cE(t.batchId,a,e,o)}function wy(i){const t=Sp(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?Sp(i.lastLimboFreeSnapshotVersion):jn.min();let o;var a;return void 0!==i.query.documents?(Ln(1===(a=i.query).documents.length),o=Ja(qh(kD(a.documents[0])))):o=Ja(Tc(i.query)),new Ep(o,i.targetId,0,i.lastListenSequenceNumber,t,e,ho.fromBase64String(i.resumeToken))}function fE(i,t){const e=xp(t.snapshotVersion),o=xp(t.lastLimboFreeSnapshotVersion);let a;a=at(t.target)?yu(i.ne,t.target):Cc(i.ne,t.target);const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ye(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:a}}function rC(i){const t=Tc({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?vD(t,t.limit,"L"):t}function oC(i,t){return new dE(t.largestBatchId,eE(i.ne,t.overlayMutation))}function sC(i,t){const e=t.path.lastSegment();return[i,Ta(t.path.popLast()),e]}function pE(i,t,e,o){return{indexId:i,uid:t.uid||"",sequenceNumber:e,readTime:xp(o.readTime),documentKey:Ta(o.documentKey.path),largestBatchId:o.largestBatchId}}class ym{getBundleMetadata(t,e){return WD(t).get(e).next(o=>{if(o)return{id:(a=o).bundleId,createTime:Sp(a.createTime),version:a.version};var a})}saveBundleMetadata(t,e){return WD(t).put({bundleId:(o=e).id,createTime:xp(ns(o.createTime)),version:o.version});var o}getNamedQuery(t,e){return YD(t).get(e).next(o=>{if(o)return{name:(a=o).name,query:rC(a.bundledQuery),readTime:Sp(a.readTime)};var a})}saveNamedQuery(t,e){return YD(t).put({name:(o=e).name,readTime:xp(ns(o.readTime)),bundledQuery:o.bundledQuery});var o}}function WD(i){return ys(i,"bundles")}function YD(i){return ys(i,"namedQueries")}class Yh{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new Yh(t,e.uid||"")}getOverlay(t,e){return aC(t).get(sC(this.userId,e)).next(o=>o?oC(this.wt,o):null)}getOverlays(t,e){const o=_u();return Je.forEach(e,a=>this.getOverlay(t,a).next(l=>{null!==l&&o.set(a,l)})).next(()=>o)}saveOverlays(t,e,o){const a=[];return o.forEach((l,c)=>{const g=new dE(e,c);a.push(this.ie(t,g))}),Je.waitFor(a)}removeOverlaysForBatchId(t,e,o){const a=new Set;e.forEach(c=>a.add(Ta(c.getCollectionPath())));const l=[];return a.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,o],[this.userId,c,o+1],!1,!0);l.push(aC(t).W("collectionPathOverlayIndex",g))}),Je.waitFor(l)}getOverlaysForCollection(t,e,o){const a=_u(),l=Ta(e),c=IDBKeyRange.bound([this.userId,l,o],[this.userId,l,Number.POSITIVE_INFINITY],!0);return aC(t).K("collectionPathOverlayIndex",c).next(g=>{for(const _ of g){const b=oC(this.wt,_);a.set(b.getKey(),b)}return a})}getOverlaysForCollectionGroup(t,e,o,a){const l=_u();let c;const g=IDBKeyRange.bound([this.userId,e,o],[this.userId,e,Number.POSITIVE_INFINITY],!0);return aC(t).J({index:"collectionGroupOverlayIndex",range:g},(_,b,T)=>{const D=oC(this.wt,b);l.size()<a||D.largestBatchId===c?(l.set(D.getKey(),D),c=D.largestBatchId):T.done()}).next(()=>l)}ie(t,e){return aC(t).put(function(o,a,l){const[c,g,_]=sC(a,l.mutation.key);return{userId:a,collectionPath:g,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Ca(o.ne,l.mutation)}}(this.wt,this.userId,e))}}function aC(i){return ys(i,"documentOverlays")}class Kh{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Ir(t.integerValue));else if("doubleValue"in t){const o=Ir(t.doubleValue);isNaN(o)?this.ce(e,13):(this.ce(e,15),wp(o)?e.ae(0):e.ae(o))}else if("timestampValue"in t){const o=t.timestampValue;this.ce(e,20),"string"==typeof o?e.he(o):(e.he(`${o.seconds||""}`),e.ae(o.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(mc(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const o=t.geoPointValue;this.ce(e,45),e.ae(o.latitude||0),e.ae(o.longitude||0)}else"mapValue"in t?f(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):Sn()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const o=t.fields||{};this.ce(e,55);for(const a of Object.keys(o))this.le(a,e),this.oe(o[a],e)}me(t,e){const o=t.values||[];this.ce(e,50);for(const a of o)this.oe(a,e)}_e(t,e){this.ce(e,37),sn.fromName(t).path.forEach(o=>{this.ce(e,60),this.ge(o,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function nV(i){if(0===i)return 8;let t=0;return i>>4==0&&(t+=4,i<<=4),i>>6==0&&(t+=2,i<<=2),i>>7==0&&(t+=1),t}function gE(i){const t=64-function(e){let o=0;for(let a=0;a<8;++a){const l=nV(255&e[a]);if(o+=l,8!==l)break}return o}(i);return Math.ceil(t/8)}Kh.ye=new Kh;class KD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let o=e.next();for(;!o.done;)this.Ie(o.value),o=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let o=e.next();for(;!o.done;)this.Ae(o.value),o=e.next();this.Re()}be(t){for(const e of t){const o=e.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const a=e.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}this.Te()}Pe(t){for(const e of t){const o=e.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const a=e.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}this.Re()}ve(t){const e=this.Ve(t),o=gE(e);this.Se(1+o),this.buffer[this.position++]=255&o;for(let a=e.length-o;a<e.length;++a)this.buffer[this.position++]=255&e[a]}De(t){const e=this.Ve(t),o=gE(e);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let a=e.length-o;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Oe(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(t),o=0!=(128&e[0]);e[0]^=o?255:128;for(let a=1;a<e.length;++a)e[a]^=o?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let o=2*this.buffer.length;o<e&&(o=e);const a=new Uint8Array(o);a.set(this.buffer),this.buffer=a}}class iV{constructor(t){this.Me=t}de(t){this.Me.pe(t)}he(t){this.Me.be(t)}ae(t){this.Me.ve(t)}ue(){this.Me.Ce()}}class Jn{constructor(t){this.Me=t}de(t){this.Me.Ee(t)}he(t){this.Me.Pe(t)}ae(t){this.Me.De(t)}ue(){this.Me.Ne()}}class $b{constructor(){this.Me=new KD,this.Fe=new iV(this.Me),this.$e=new Jn(this.Me)}seed(t){this.Me.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class vm{constructor(t,e,o,a){this.indexId=t,this.documentKey=e,this.arrayValue=o,this.directionalValue=a}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,o=new Uint8Array(e);return o.set(this.directionalValue,0),e!==t?o.set([0],this.directionalValue.length):++o[o.length-1],new vm(this.indexId,this.documentKey,this.arrayValue,o)}}function bm(i,t){let e=i.indexId-t.indexId;return 0!==e?e:(e=wm(i.arrayValue,t.arrayValue),0!==e?e:(e=wm(i.directionalValue,t.directionalValue),0!==e?e:sn.comparator(i.documentKey,t.documentKey)))}function wm(i,t){for(let e=0;e<i.length&&e<t.length;++e){const o=i[e]-t[e];if(0!==o)return o}return i.length-t.length}class NO{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const o=e;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(t){const e=gp(t);if(void 0!==e&&!this.Qe(e))return!1;const o=ud(t);let a=0,l=0;for(;a<o.length&&this.Qe(o[a]);++a);if(a===o.length)return!0;if(void 0!==this.Ke){const c=o[a];if(!this.je(this.Ke,c)||!this.We(this.Ue[l++],c))return!1;++a}for(;a<o.length;++a){const c=o[a];if(l>=this.Ue.length||!this.We(this.Ue[l++],c))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class lC{constructor(){this.ze=new Cy}addToCollectionParentIndex(t,e){return this.ze.add(e),Je.resolve()}getCollectionParents(t,e){return Je.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return Je.resolve()}deleteFieldIndex(t,e){return Je.resolve()}getDocumentsMatchingTarget(t,e){return Je.resolve(null)}getIndexType(t,e){return Je.resolve(0)}getFieldIndexes(t,e){return Je.resolve([])}getNextCollectionGroupToUpdate(t){return Je.resolve(null)}getMinOffset(t,e){return Je.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,e){return Je.resolve(Dr.min())}updateCollectionGroup(t,e,o){return Je.resolve()}updateIndexEntries(t,e){return Je.resolve()}}class Cy{constructor(){this.index={}}add(t){const e=t.lastSegment(),o=t.popLast(),a=this.index[e]||new Yi(Si.comparator),l=!a.has(o);return this.index[e]=a.add(o),l}has(t){const e=t.lastSegment(),o=t.popLast(),a=this.index[e];return a&&a.has(o)}getEntries(t){return(this.index[t]||new Yi(Si.comparator)).toArray()}}const Fr=new Uint8Array(0);class rV{constructor(t,e){this.user=t,this.databaseId=e,this.He=new Cy,this.Je=new pd(o=>ye(o),(o,a)=>Ge(o,a)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const o=e.lastSegment(),a=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const l={collectionId:o,parent:Ta(a)};return mE(t).put(l)}return Je.resolve()}getCollectionParents(t,e){const o=[],a=IDBKeyRange.bound([e,""],[sm(e),""],!1,!0);return mE(t).K(a).next(l=>{for(const c of l){if(c.collectionId!==e)break;o.push(kl(c.parent))}return o})}addFieldIndex(t,e){const o=cC(t),a={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var c;delete a.indexId;const l=o.add(a);if(e.indexState){const c=Ey(t);return l.next(g=>{c.put(pE(g,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return l.next()}deleteFieldIndex(t,e){const o=cC(t),a=Ey(t),l=Ty(t);return o.delete(e.indexId).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const o=Ty(t);let a=!0;const l=new Map;return Je.forEach(this.Ye(e),c=>this.Xe(t,c).next(g=>{a&&(a=!!g),l.set(c,g)})).next(()=>{if(a){let c=di();const g=[];return Je.forEach(l,(_,b)=>{var T;Ct("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${ye(e)}`);const D=function(ft,ht){const Ht=gp(ht);if(void 0===Ht)return null;for(const qt of Lt(ft,Ht.fieldPath))switch(qt.op){case"array-contains-any":return qt.value.arrayValue.values||[];case"array-contains":return[qt.value]}return null}(b,_),O=function(ft,ht){const Ht=new Map;for(const qt of ud(ht))for(const wn of Lt(ft,qt.fieldPath))switch(wn.op){case"==":case"in":Ht.set(qt.fieldPath.canonicalString(),wn.value);break;case"not-in":case"!=":return Ht.set(qt.fieldPath.canonicalString(),wn.value),Array.from(Ht.values())}return null}(b,_),F=function(ft,ht){const Ht=[];let qt=!0;for(const wn of ud(ht)){const Vn=0===wn.kind?Xt(ft,wn.fieldPath,ft.startAt):Hn(ft,wn.fieldPath,ft.startAt);Ht.push(Vn.value),qt&&(qt=Vn.inclusive)}return new fd(Ht,qt)}(b,_),j=function(ft,ht){const Ht=[];let qt=!0;for(const wn of ud(ht)){const Vn=0===wn.kind?Hn(ft,wn.fieldPath,ft.endAt):Xt(ft,wn.fieldPath,ft.endAt);Ht.push(Vn.value),qt&&(qt=Vn.inclusive)}return new fd(Ht,qt)}(b,_),X=this.Ze(_,b,F),se=this.Ze(_,b,j),ke=this.tn(_,b,O),We=this.en(_.indexId,D,X,F.inclusive,se,j.inclusive,ke);return Je.forEach(We,ft=>o.j(ft,e.limit).next(ht=>{ht.forEach(Ht=>{const qt=sn.fromSegments(Ht.documentKey);c.has(qt)||(c=c.add(qt),g.push(qt))})}))}).next(()=>g)}return Je.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,o,a,l,c,g){const _=(null!=e?e.length:1)*Math.max(o.length,l.length),b=_/(null!=e?e.length:1),T=[];for(let D=0;D<_;++D){const O=e?this.nn(e[D/b]):Fr,F=this.sn(t,O,o[D%b],a),j=this.rn(t,O,l[D%b],c),X=g.map(se=>this.sn(t,O,se,!0));T.push(...this.createRange(F,j,X))}return T}sn(t,e,o,a){const l=new vm(t,sn.empty(),e,o);return a?l:l.Le()}rn(t,e,o,a){const l=new vm(t,sn.empty(),e,o);return a?l.Le():l}Xe(t,e){const o=new NO(e),a=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next(l=>{let c=null;for(const g of l)o.Ge(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(t,e){let o=2;return Je.forEach(this.Ye(e),a=>this.Xe(t,a).next(l=>{l?0!==o&&l.fields.length<function(c){let g=new Yi(_r.comparator),_=!1;for(const b of c.filters){const T=b;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:g=g.add(T.field))}for(const b of c.orderBy)b.field.isKeyField()||(g=g.add(b.field));return g.size+(_?1:0)}(a)&&(o=1):o=0})).next(()=>o)}on(t,e){const o=new $b;for(const a of ud(t)){const l=e.data.field(a.fieldPath);if(null==l)return null;const c=o.Be(a.kind);Kh.ye.re(l,c)}return o.Oe()}nn(t){const e=new $b;return Kh.ye.re(t,e.Be(0)),e.Oe()}un(t,e){const o=new $b;return Kh.ye.re(zh(this.databaseId,e),o.Be(function(a){const l=ud(a);return 0===l.length?0:l[l.length-1].kind}(t))),o.Oe()}tn(t,e,o){if(null===o)return[];let a=[];a.push(new $b);let l=0;for(const c of ud(t)){const g=o[l++];for(const _ of a)if(this.cn(e,c.fieldPath)&&ey(g))a=this.an(a,c,g);else{const b=_.Be(c.kind);Kh.ye.re(g,b)}}return this.hn(a)}Ze(t,e,o){return this.tn(t,e,o.position)}hn(t){const e=[];for(let o=0;o<t.length;++o)e[o]=t[o].Oe();return e}an(t,e,o){const a=[...t],l=[];for(const c of o.arrayValue.values||[])for(const g of a){const _=new $b;_.seed(g.Oe()),Kh.ye.re(c,_.Be(e.kind)),l.push(_)}return l}cn(t,e){return!!t.filters.find(o=>o instanceof yn&&o.field.isEqual(e)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(t,e){const o=cC(t),a=Ey(t);return(e?o.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):o.K()).next(l=>{const c=[];return Je.forEach(l,g=>a.get([g.indexId,this.uid]).next(_=>{c.push(function(b,T){const D=T?new pc(T.sequenceNumber,new Dr(Sp(T.readTime),new sn(kl(T.documentKey)),T.largestBatchId)):pc.empty(),O=b.fields.map(([F,j])=>new Dl(_r.fromServerFormat(F),j));return new Hh(b.indexId,b.collectionGroup,O,D)}(g,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((o,a)=>{const l=o.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==l?l:ci(o.collectionGroup,a.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,o){const a=cC(t),l=Ey(t);return this.ln(t).next(c=>a.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(g=>Je.forEach(g,_=>l.put(pE(_.indexId,this.user,c,o)))))}updateIndexEntries(t,e){const o=new Map;return Je.forEach(e,(a,l)=>{const c=o.get(a.collectionGroup);return(c?Je.resolve(c):this.getFieldIndexes(t,a.collectionGroup)).next(g=>(o.set(a.collectionGroup,g),Je.forEach(g,_=>this.fn(t,a,_).next(b=>{const T=this.dn(l,_);return b.isEqual(T)?Je.resolve():this._n(t,l,_,b,T)}))))})}wn(t,e,o,a){return Ty(t).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.un(o,e.key),documentKey:e.key.path.toArray()})}mn(t,e,o,a){return Ty(t).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.un(o,e.key),e.key.path.toArray()])}fn(t,e,o){const a=Ty(t);let l=new Yi(bm);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,e)])},(c,g)=>{l=l.add(new vm(o.indexId,e,g.arrayValue,g.directionalValue))}).next(()=>l)}dn(t,e){let o=new Yi(bm);const a=this.on(e,t);if(null==a)return o;const l=gp(e);if(null!=l){const c=t.data.field(l.fieldPath);if(ey(c))for(const g of c.arrayValue.values||[])o=o.add(new vm(e.indexId,t.key,this.nn(g),a))}else o=o.add(new vm(e.indexId,t.key,Fr,a));return o}_n(t,e,o,a,l){Ct("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(g,_,b,T,D){const O=g.getIterator(),F=_.getIterator();let j=pu(O),X=pu(F);for(;j||X;){let se=!1,ke=!1;if(j&&X){const We=b(j,X);We<0?ke=!0:We>0&&(se=!0)}else null!=j?ke=!0:se=!0;se?(T(X),X=pu(F)):ke?(D(j),j=pu(O)):(j=pu(O),X=pu(F))}}(a,l,bm,g=>{c.push(this.wn(t,e,o,g))},g=>{c.push(this.mn(t,e,o,g))}),Je.waitFor(c)}ln(t){let e=1;return Ey(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,a,l)=>{l.done(),e=a.sequenceNumber+1}).next(()=>e)}createRange(t,e,o){o=o.sort((c,g)=>bm(c,g)).filter((c,g,_)=>!g||0!==bm(c,_[g-1]));const a=[];a.push(t);for(const c of o){const g=bm(c,t),_=bm(c,e);if(0===g)a[0]=t.Le();else if(g>0&&_<0)a.push(c),a.push(c.Le());else if(_>0)break}a.push(e);const l=[];for(let c=0;c<a.length;c+=2)l.push(IDBKeyRange.bound([a[c].indexId,this.uid,a[c].arrayValue,a[c].directionalValue,Fr,[]],[a[c+1].indexId,this.uid,a[c+1].arrayValue,a[c+1].directionalValue,Fr,[]]));return l}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(_E)}getMinOffset(t,e){return Je.mapArray(this.Ye(e),o=>this.Xe(t,o).next(a=>a||Sn())).next(_E)}}function mE(i){return ys(i,"collectionParents")}function Ty(i){return ys(i,"indexEntries")}function cC(i){return ys(i,"indexConfiguration")}function Ey(i){return ys(i,"indexState")}function _E(i){Ln(0!==i.length);let t=i[0].indexState.offset,e=t.largestBatchId;for(let o=1;o<i.length;o++){const a=i[o].indexState.offset;Il(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Dr(t.readTime,t.documentKey,e)}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ea{constructor(t,e,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=o}static withCacheSize(t){return new Ea(t,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JD(i,t,e){const o=i.store("mutations"),a=i.store("documentMutations"),l=[],c=IDBKeyRange.only(e.batchId);let g=0;const _=o.J({range:c},(T,D,O)=>(g++,O.delete()));l.push(_.next(()=>{Ln(1===g)}));const b=[];for(const T of e.mutations){const D=oE(t,T.key.path,e.batchId);l.push(a.delete(D)),b.push(T.key)}return Je.waitFor(l).next(()=>b)}function uC(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw Sn();t=i.noDocument}return JSON.stringify(t).length}Ea.DEFAULT_COLLECTION_PERCENTILE=10,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ea.DEFAULT=new Ea(41943040,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ea.DISABLED=new Ea(-1,0,0);class dC{constructor(t,e,o,a){this.userId=t,this.wt=e,this.indexManager=o,this.referenceDelegate=a,this.gn={}}static se(t,e,o,a){Ln(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new dC(l,e,o,a)}checkEmpty(t){let e=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ip(t).J({index:"userMutationsIndex",range:o},(a,l,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,o,a){const l=Sy(t),c=Ip(t);return c.add({}).next(g=>{Ln("number"==typeof g);const _=new cE(g,e,o,a),b=function(O,F,j){const X=j.baseMutations.map(ke=>Ca(O.ne,ke)),se=j.mutations.map(ke=>Ca(O.ne,ke));return{userId:F,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:X,mutations:se}}(this.wt,this.userId,_),T=[];let D=new Yi((O,F)=>ci(O.canonicalString(),F.canonicalString()));for(const O of a){const F=oE(this.userId,O.key.path,g);D=D.add(O.key.path.popLast()),T.push(c.put(b)),T.push(l.put(F,sE))}return D.forEach(O=>{T.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.gn[g]=_.keys()}),Je.waitFor(T).next(()=>_)})}lookupMutationBatch(t,e){return Ip(t).get(e).next(o=>o?(Ln(o.userId===this.userId),Dp(this.wt,o)):null)}yn(t,e){return this.gn[e]?Je.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(o=>{if(o){const a=o.keys();return this.gn[e]=a,a}return null})}getNextMutationBatchAfterBatchId(t,e){const o=e+1,a=IDBKeyRange.lowerBound([this.userId,o]);let l=null;return Ip(t).J({index:"userMutationsIndex",range:a},(c,g,_)=>{g.userId===this.userId&&(Ln(g.batchId>=o),l=Dp(this.wt,g)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ip(t).J({index:"userMutationsIndex",range:e,reverse:!0},(a,l,c)=>{o=l.batchId,c.done()}).next(()=>o)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ip(t).K("userMutationsIndex",e).next(o=>o.map(a=>Dp(this.wt,a)))}getAllMutationBatchesAffectingDocumentKey(t,e){const o=qb(this.userId,e.path),a=IDBKeyRange.lowerBound(o),l=[];return Sy(t).J({range:a},(c,g,_)=>{const[b,T,D]=c,O=kl(T);if(b===this.userId&&e.path.isEqual(O))return Ip(t).get(D).next(F=>{if(!F)throw Sn();Ln(F.userId===this.userId),l.push(Dp(this.wt,F))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let o=new Yi(ci);const a=[];return e.forEach(l=>{const c=qb(this.userId,l.path),g=IDBKeyRange.lowerBound(c),_=Sy(t).J({range:g},(b,T,D)=>{const[O,F,j]=b,X=kl(F);O===this.userId&&l.path.isEqual(X)?o=o.add(j):D.done()});a.push(_)}),Je.waitFor(a).next(()=>this.pn(t,o))}getAllMutationBatchesAffectingQuery(t,e){const o=e.path,a=o.length+1,l=qb(this.userId,o),c=IDBKeyRange.lowerBound(l);let g=new Yi(ci);return Sy(t).J({range:c},(_,b,T)=>{const[D,O,F]=_,j=kl(O);D===this.userId&&o.isPrefixOf(j)?j.length===a&&(g=g.add(F)):T.done()}).next(()=>this.pn(t,g))}pn(t,e){const o=[],a=[];return e.forEach(l=>{a.push(Ip(t).get(l).next(c=>{if(null===c)throw Sn();Ln(c.userId===this.userId),o.push(Dp(this.wt,c))}))}),Je.waitFor(a).next(()=>o)}removeMutationBatch(t,e){return JD(t.ee,this.userId,e).next(o=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),Je.forEach(o,a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Je.resolve();const o=IDBKeyRange.lowerBound([this.userId]),a=[];return Sy(t).J({range:o},(l,c,g)=>{if(l[0]===this.userId){const _=kl(l[1]);a.push(_)}else g.done()}).next(()=>{Ln(0===a.length)})})}containsKey(t,e){return xy(t,this.userId,e)}Tn(t){return QD(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xy(i,t,e){const o=qb(t,e.path),a=o[1],l=IDBKeyRange.lowerBound(o);let c=!1;return Sy(i).J({range:l,H:!0},(g,_,b)=>{const[T,D,O]=g;T===t&&D===a&&(c=!0),b.done()}).next(()=>c)}function Ip(i){return ys(i,"mutations")}function Sy(i){return ys(i,"documentMutations")}function QD(i){return ys(i,"mutationQueues")}class gd{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new gd(0)}static Rn(){return new gd(-1)}}class XD{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const o=new gd(e.highestTargetId);return e.highestTargetId=o.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>jn.fromTimestamp(new ar(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,o){return this.bn(t).next(a=>(a.highestListenSequenceNumber=e,o&&(a.lastRemoteSnapshotVersion=o.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.Pn(t,a)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(o=>(o.targetCount+=1,this.Vn(e,o),this.Pn(t,o))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Cm(t).delete(e.targetId)).next(()=>this.bn(t)).next(o=>(Ln(o.targetCount>0),o.targetCount-=1,this.Pn(t,o)))}removeTargets(t,e,o){let a=0;const l=[];return Cm(t).J((c,g)=>{const _=wy(g);_.sequenceNumber<=e&&null===o.get(_.targetId)&&(a++,l.push(this.removeTargetData(t,_)))}).next(()=>Je.waitFor(l)).next(()=>a)}forEachTarget(t,e){return Cm(t).J((o,a)=>{const l=wy(a);e(l)})}bn(t){return vE(t).get("targetGlobalKey").next(e=>(Ln(null!==e),e))}Pn(t,e){return vE(t).put("targetGlobalKey",e)}vn(t,e){return Cm(t).put(fE(this.wt,e))}Vn(t,e){let o=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,o=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,o=!0),o}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const o=ye(e),a=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let l=null;return Cm(t).J({range:a,index:"queryTargetsIndex"},(c,g,_)=>{const b=wy(g);Ge(e,b.target)&&(l=b,_.done())}).next(()=>l)}addMatchingKeys(t,e,o){const a=[],l=Mp(t);return e.forEach(c=>{const g=Ta(c.path);a.push(l.put({targetId:o,path:g})),a.push(this.referenceDelegate.addReference(t,o,c))}),Je.waitFor(a)}removeMatchingKeys(t,e,o){const a=Mp(t);return Je.forEach(e,l=>{const c=Ta(l.path);return Je.waitFor([a.delete([o,c]),this.referenceDelegate.removeReference(t,o,l)])})}removeMatchingKeysForTargetId(t,e){const o=Mp(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return o.delete(a)}getMatchingKeysForTargetId(t,e){const o=IDBKeyRange.bound([e],[e+1],!1,!0),a=Mp(t);let l=di();return a.J({range:o,H:!0},(c,g,_)=>{const b=kl(c[1]),T=new sn(b);l=l.add(T)}).next(()=>l)}containsKey(t,e){const o=Ta(e.path),a=IDBKeyRange.bound([o],[sm(o)],!1,!0);let l=0;return Mp(t).J({index:"documentTargetsIndex",H:!0,range:a},([c,g],_,b)=>{0!==c&&(l++,b.done())}).next(()=>l>0)}te(t,e){return Cm(t).get(e).next(o=>o?wy(o):null)}}function Cm(i){return ys(i,"targets")}function vE(i){return ys(i,"targetGlobal")}function Mp(i){return ys(i,"targetDocuments")}function Dy([i,t],[e,o]){const a=ci(i,e);return 0===a?ci(t,o):a}class Wb{constructor(t){this.Sn=t,this.buffer=new Yi(Dy),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const o=this.buffer.last();Dy(e,o)<0&&(this.buffer=this.buffer.delete(o).add(e))}}get maxValue(){return this.buffer.last()[0]}}class FO{constructor(t,e,o){this.garbageCollector=t,this.asyncQueue=e,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Ct("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,st.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(o){hu(o)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield gc(o)}yield e.kn(3e5)}))}}class LO{constructor(t,e){this.On=t,this.params=e}calculateTargetCount(t,e){return this.On.Mn(t).next(o=>Math.floor(e/100*o))}nthSequenceNumber(t,e){if(0===e)return Je.resolve(Uo.ot);const o=new Wb(e);return this.On.forEachTarget(t,a=>o.xn(a.sequenceNumber)).next(()=>this.On.Fn(t,a=>o.xn(a))).next(()=>o.maxValue)}removeTargets(t,e,o){return this.On.removeTargets(t,e,o)}removeOrphanedDocuments(t,e){return this.On.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(yE)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.$n(t,e))}getCacheSize(t){return this.On.getCacheSize(t)}$n(t,e){let o,a,l,c,g,_,b;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),a=this.params.maximumSequenceNumbersToCollect):a=D,c=Date.now(),this.nthSequenceNumber(t,a))).next(D=>(o=D,g=Date.now(),this.removeTargets(t,o,e))).next(D=>(l=D,_=Date.now(),this.removeOrphanedDocuments(t,o))).next(D=>(b=Date.now(),kb()<=gr.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${a} in `+(g-c)+`ms\n\tRemoved ${l} targets in `+(_-g)+`ms\n\tRemoved ${D} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:D})))}}class VO{constructor(t,e){this.db=t,this.garbageCollector=new LO(this,e)}Mn(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(o=>e.next(a=>o+a))}Bn(t){let e=0;return this.Fn(t,o=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(o,a)=>e(a))}addReference(t,e,o){return Yb(t,o)}removeReference(t,e,o){return Yb(t,o)}removeTargets(t,e,o){return this.db.getTargetCache().removeTargets(t,e,o)}markPotentiallyOrphaned(t,e){return Yb(t,e)}Un(t,e){return function(o,a){let l=!1;return QD(o).Y(c=>xy(o,c,a).next(g=>(g&&(l=!0),Je.resolve(!g)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ln(t,(c,g)=>{if(g<=e){const _=this.Un(t,c).next(b=>{if(!b)return l++,o.getEntry(t,c).next(()=>(o.removeEntry(c,jn.min()),Mp(t).delete([0,Ta(c.path)])))});a.push(_)}}).next(()=>Je.waitFor(a)).next(()=>o.apply(t)).next(()=>l)}removeTarget(t,e){const o=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)}updateLimboDocument(t,e){return Yb(t,e)}Ln(t,e){const o=Mp(t);let a,l=Uo.ot;return o.J({index:"documentTargetsIndex"},([c,g],{path:_,sequenceNumber:b})=>{0===c?(l!==Uo.ot&&e(new sn(kl(a)),l),l=b,a=_):l=Uo.ot}).next(()=>{l!==Uo.ot&&e(new sn(kl(a)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Yb(i,t){return Mp(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ta(t.path),sequenceNumber:o}));var o}class bE{constructor(){this.changes=new pd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,z.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const o=this.changes.get(e);return void 0!==o?Je.resolve(o):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eI{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,o){return Tm(t).put(o)}removeEntry(t,e,o){return Tm(t).delete(function(a,l){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Zb(l),c[c.length-1]]}(e,o))}updateMetadata(t,e){return this.getMetadata(t).next(o=>(o.byteSize+=e,this.qn(t,o)))}getEntry(t,e){let o=z.newInvalidDocument(e);return Tm(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(hC(e))},(a,l)=>{o=this.Kn(e,l)}).next(()=>o)}Gn(t,e){let o={size:0,document:z.newInvalidDocument(e)};return Tm(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(hC(e))},(a,l)=>{o={document:this.Kn(e,l),size:uC(l)}}).next(()=>o)}getEntries(t,e){let o=Xa();return this.Qn(t,e,(a,l)=>{const c=this.Kn(a,l);o=o.insert(a,c)}).next(()=>o)}jn(t,e){let o=Xa(),a=new Wi(sn.comparator);return this.Qn(t,e,(l,c)=>{const g=this.Kn(l,c);o=o.insert(l,g),a=a.insert(l,uC(c))}).next(()=>({documents:o,Wn:a}))}Qn(t,e,o){if(e.isEmpty())return Je.resolve();let a=new Yi(HO);e.forEach(_=>a=a.add(_));const l=IDBKeyRange.bound(hC(a.first()),hC(a.last())),c=a.getIterator();let g=c.getNext();return Tm(t).J({index:"documentKeyIndex",range:l},(_,b,T)=>{const D=sn.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;g&&HO(g,D)<0;)o(g,null),g=c.getNext();g&&g.isEqual(D)&&(o(g,b),g=c.hasNext()?c.getNext():null),g?T.q(hC(g)):T.done()}).next(()=>{for(;g;)o(g,null),g=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,o){const a=[e.popLast().toArray(),e.lastSegment(),Zb(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],l=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tm(t).K(IDBKeyRange.bound(a,l,!0)).next(c=>{let g=Xa();for(const _ of c){const b=this.Kn(sn.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);g=g.insert(b.key,b)}return g})}getAllFromCollectionGroup(t,e,o,a){let l=Xa();const c=BO(e,o),g=BO(e,Dr.max());return Tm(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(_,b,T)=>{const D=this.Kn(sn.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);l=l.insert(D.key,D),l.size===a&&T.done()}).next(()=>l)}newChangeBuffer(t){return new nI(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return iI(t).get("remoteDocumentGlobalKey").next(e=>(Ln(!!e),e))}qn(t,e){return iI(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const o=function PO(i,t){let e;if(t.document)e=TO(i.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const o=sn.fromSegments(t.noDocument.path),a=Sp(t.noDocument.readTime);e=z.newNoDocument(o,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Sn();{const o=sn.fromSegments(t.unknownDocument.path),a=Sp(t.unknownDocument.version);e=z.newUnknownDocument(o,a)}}return t.readTime&&e.setReadTime(function(o){const a=new ar(o[0],o[1]);return jn.fromTimestamp(a)}(t.readTime)),e}(this.wt,e);if(!o.isNoDocument()||!o.version.isEqual(jn.min()))return o}return z.newInvalidDocument(t)}}function tI(i){return new eI(i)}class nI extends bE{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new pd(o=>o.toString(),(o,a)=>o.isEqual(a))}applyChanges(t){const e=[];let o=0,a=new Yi((l,c)=>ci(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const g=this.Hn.get(l);if(e.push(this.zn.removeEntry(t,l,g.readTime)),c.isValidDocument()){const _=hE(this.zn.wt,c);a=a.add(l.path.popLast()),o+=uC(_)-g.size,e.push(this.zn.addEntry(t,l,_))}else if(o-=g.size,this.trackRemovals){const _=hE(this.zn.wt,c.convertToNoDocument(jn.min()));e.push(this.zn.addEntry(t,l,_))}}),a.forEach(l=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.zn.updateMetadata(t,o)),Je.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(o=>(this.Hn.set(e,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:o,Wn:a})=>(a.forEach((l,c)=>{this.Hn.set(l,{size:c,readTime:o.get(l).readTime})}),o))}}function iI(i){return ys(i,"remoteDocumentGlobal")}function Tm(i){return ys(i,"remoteDocumentsV14")}function hC(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function BO(i,t){const e=t.documentKey.path.toArray();return[i,Zb(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function HO(i,t){const e=i.path.toArray(),o=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<o.length-2;++l)if(a=ci(e[l],o[l]),a)return a;return a=ci(e.length,o.length),a||(a=ci(e[e.length-2],o[o.length-2]),a||ci(e[e.length-1],o[o.length-1]))}class oV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class wE{constructor(t,e,o,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=o,this.indexManager=a}getDocument(t,e){let o=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(o=a,this.getBaseDocument(t,e,o))).next(a=>(null!==o&&cy(o.mutation,a,va.empty(),ar.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(o=>this.getLocalViewOfDocuments(t,o,di()).next(()=>o))}getLocalViewOfDocuments(t,e,o=di()){const a=_u();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,o).next(l=>{let c=hy();return l.forEach((g,_)=>{c=c.insert(g,_.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const o=_u();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,di()))}populateOverlays(t,e,o){const a=[];return o.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,g)=>{e.set(c,g)})})}computeViews(t,e,o,a){let l=Xa();const c=fy(),g=fy();return e.forEach((_,b)=>{const T=o.get(b.key);a.has(b.key)&&(void 0===T||T.mutation instanceof wc)?l=l.insert(b.key,b):void 0!==T&&(c.set(b.key,T.mutation.getFieldMask()),cy(T.mutation,b,T.mutation.getFieldMask(),ar.now()))}),this.recalculateAndSaveOverlays(t,l).next(_=>(_.forEach((b,T)=>c.set(b,T)),e.forEach((b,T)=>{var D;return g.set(b,new oV(T,null!==(D=c.get(b))&&void 0!==D?D:null))}),g))}recalculateAndSaveOverlays(t,e){const o=fy();let a=new Wi((c,g)=>c-g),l=di();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const g of c)g.keys().forEach(_=>{const b=e.get(_);if(null===b)return;let T=o.get(_)||va.empty();T=g.applyToLocalView(b,T),o.set(_,T);const D=(a.get(g.batchId)||di()).add(_);a=a.insert(g.batchId,D)})}).next(()=>{const c=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),b=_.key,T=_.value,D=ED();T.forEach(O=>{if(!l.has(O)){const F=LT(e.get(O),o.get(O));null!==F&&D.set(O,F),l=l.add(O)}}),c.push(this.documentOverlayCache.saveOverlays(t,b,D))}return Je.waitFor(c)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,e,o){return sn.isDocumentKey((a=e).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):kT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,o):this.getDocumentsMatchingCollectionQuery(t,e,o);var a}getNextDocuments(t,e,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,o,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,o.largestBatchId,a-l.size):Je.resolve(_u());let g=-1,_=l;return c.next(b=>Je.forEach(b,(T,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),l.get(T)?Je.resolve():this.getBaseDocument(t,T,D).next(O=>{_=_.insert(T,O)}))).next(()=>this.populateOverlays(t,b,l)).next(()=>this.computeViews(t,_,b,di())).next(T=>({batchId:g,changes:zT(T)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new sn(e)).next(o=>{let a=hy();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,o){const a=e.collectionGroup;let l=hy();return this.indexManager.getCollectionParents(t,a).next(c=>Je.forEach(c,g=>{const _=(b=e,T=g.child(a),new Gh(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.getDocumentsMatchingCollectionQuery(t,_,o).next(b=>{b.forEach((T,D)=>{l=l.insert(T,D)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,o){let a;return this.remoteDocumentCache.getAllFromCollection(t,e.path,o).next(l=>(a=l,this.documentOverlayCache.getOverlaysForCollection(t,e.path,o.largestBatchId))).next(l=>{l.forEach((g,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,z.newInvalidDocument(b)))});let c=hy();return a.forEach((g,_)=>{const b=l.get(g);void 0!==b&&cy(b.mutation,_,va.empty(),ar.now()),Zh(e,_)&&(c=c.insert(g,_))}),c})}getBaseDocument(t,e,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(t,e):Je.resolve(z.newInvalidDocument(e))}}class fC{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return Je.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var o;return this.Jn.set(e.id,{id:(o=e).id,version:o.version,createTime:ns(o.createTime)}),Je.resolve()}getNamedQuery(t,e){return Je.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(o=e).name,query:rC(o.bundledQuery),readTime:ns(o.readTime)}),Je.resolve();var o}}class UO{constructor(){this.overlays=new Wi(sn.comparator),this.Xn=new Map}getOverlay(t,e){return Je.resolve(this.overlays.get(e))}getOverlays(t,e){const o=_u();return Je.forEach(e,a=>this.getOverlay(t,a).next(l=>{null!==l&&o.set(a,l)})).next(()=>o)}saveOverlays(t,e,o){return o.forEach((a,l)=>{this.ie(t,e,l)}),Je.resolve()}removeOverlaysForBatchId(t,e,o){const a=this.Xn.get(o);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(o)),Je.resolve()}getOverlaysForCollection(t,e,o){const a=_u(),l=e.length+1,c=new sn(e.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const _=g.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===l&&_.largestBatchId>o&&a.set(_.getKey(),_)}return Je.resolve(a)}getOverlaysForCollectionGroup(t,e,o,a){let l=new Wi((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>o){let T=l.get(b.largestBatchId);null===T&&(T=_u(),l=l.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const g=_u(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>g.set(b,T)),!(g.size()>=a)););return Je.resolve(g)}ie(t,e,o){const a=this.overlays.get(o.key);if(null!==a){const c=this.Xn.get(a.largestBatchId).delete(o.key);this.Xn.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(o.key,new dE(e,o));let l=this.Xn.get(e);void 0===l&&(l=di(),this.Xn.set(e,l)),this.Xn.set(e,l.add(o.key))}}class CE{constructor(){this.Zn=new Yi(is.ts),this.es=new Yi(is.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const o=new is(t,e);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(t,e){t.forEach(o=>this.addReference(o,e))}removeReference(t,e){this.rs(new is(t,e))}os(t,e){t.forEach(o=>this.removeReference(o,e))}us(t){const e=new sn(new Si([])),o=new is(e,t),a=new is(e,t+1),l=[];return this.es.forEachInRange([o,a],c=>{this.rs(c),l.push(c.key)}),l}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new sn(new Si([])),o=new is(e,t),a=new is(e,t+1);let l=di();return this.es.forEachInRange([o,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new is(t,0),o=this.Zn.firstAfterOrEqual(e);return null!==o&&t.isEqual(o.key)}}class is{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return sn.comparator(t.key,e.key)||ci(t.ls,e.ls)}static ns(t,e){return ci(t.ls,e.ls)||sn.comparator(t.key,e.key)}}class Kb{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Yi(is.ts)}checkEmpty(t){return Je.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,o,a){const l=this.fs;this.fs++;const c=new cE(l,e,o,a);this.mutationQueue.push(c);for(const g of a)this.ds=this.ds.add(new is(g.key,l)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Je.resolve(c)}lookupMutationBatch(t,e){return Je.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const a=this.ws(e+1),l=a<0?0:a;return Je.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const o=new is(e,0),a=new is(e,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([o,a],c=>{const g=this._s(c.ls);l.push(g)}),Je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let o=new Yi(ci);return e.forEach(a=>{const l=new is(a,0),c=new is(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,c],g=>{o=o.add(g.ls)})}),Je.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(t,e){const o=e.path,a=o.length+1;let l=o;sn.isDocumentKey(l)||(l=l.child(""));const c=new is(new sn(l),0);let g=new Yi(ci);return this.ds.forEachWhile(_=>{const b=_.key.path;return!!o.isPrefixOf(b)&&(b.length===a&&(g=g.add(_.ls)),!0)},c),Je.resolve(this.gs(g))}gs(t){const e=[];return t.forEach(o=>{const a=this._s(o);null!==a&&e.push(a)}),e}removeMutationBatch(t,e){Ln(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Je.forEach(e.mutations,a=>{const l=new is(a.key,e.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.ds=o})}In(t){}containsKey(t,e){const o=new is(e,0),a=this.ds.firstAfterOrEqual(o);return Je.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return Je.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class jO{constructor(t){this.ps=t,this.docs=new Wi(sn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const o=e.key,a=this.docs.get(o),l=a?a.size:0,c=this.ps(e);return this.docs=this.docs.insert(o,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const o=this.docs.get(e);return Je.resolve(o?o.document.mutableCopy():z.newInvalidDocument(e))}getEntries(t,e){let o=Xa();return e.forEach(a=>{const l=this.docs.get(a);o=o.insert(a,l?l.document.mutableCopy():z.newInvalidDocument(a))}),Je.resolve(o)}getAllFromCollection(t,e,o){let a=Xa();const l=new sn(e.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:g,value:{document:_}}=c.getNext();if(!e.isPrefixOf(g.path))break;g.path.length>e.length+1||Il(_a(_),o)<=0||(a=a.insert(_.key,_.mutableCopy()))}return Je.resolve(a)}getAllFromCollectionGroup(t,e,o,a){Sn()}Is(t,e){return Je.forEach(this.docs,o=>e(o))}newChangeBuffer(t){return new zO(this)}getSize(t){return Je.resolve(this.size)}}class zO extends bE{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?e.push(this.zn.addEntry(t,a)):this.zn.removeEntry(o)}),Je.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class GO{constructor(t){this.persistence=t,this.Ts=new pd(e=>ye(e),Ge),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.Es=0,this.As=new CE,this.targetCount=0,this.Rs=gd.An()}forEachTarget(t,e){return this.Ts.forEach((o,a)=>e(a)),Je.resolve()}getLastRemoteSnapshotVersion(t){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Je.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(t,e,o){return o&&(this.lastRemoteSnapshotVersion=o),e>this.Es&&(this.Es=e),Je.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new gd(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,Je.resolve()}updateTargetData(t,e){return this.vn(e),Je.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,Je.resolve()}removeTargets(t,e,o){let a=0;const l=[];return this.Ts.forEach((c,g)=>{g.sequenceNumber<=e&&null===o.get(g.targetId)&&(this.Ts.delete(c),l.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),Je.waitFor(l).next(()=>a)}getTargetCount(t){return Je.resolve(this.targetCount)}getTargetData(t,e){const o=this.Ts.get(e)||null;return Je.resolve(o)}addMatchingKeys(t,e,o){return this.As.ss(e,o),Je.resolve()}removeMatchingKeys(t,e,o){this.As.os(e,o);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),Je.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),Je.resolve()}getMatchingKeysForTargetId(t,e){const o=this.As.hs(e);return Je.resolve(o)}containsKey(t,e){return Je.resolve(this.As.containsKey(e))}}class rI{constructor(t,e){this.bs={},this.overlays={},this.Ps=new Uo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new GO(this),this.indexManager=new lC,this.remoteDocumentCache=new jO(o=>this.referenceDelegate.Ss(o)),this.wt=new $D(e),this.Ds=new fC(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new UO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let o=this.bs[t.toKey()];return o||(o=new Kb(e,this.referenceDelegate),this.bs[t.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,o){Ct("MemoryPersistence","Starting transaction:",t);const a=new qO(this.Ps.next());return this.referenceDelegate.Cs(),o(a).next(l=>this.referenceDelegate.xs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ns(t,e){return Je.or(Object.values(this.bs).map(o=>()=>o.containsKey(t,e)))}}class qO extends Fb{constructor(t){super(),this.currentSequenceNumber=t}}class Jb{constructor(t){this.persistence=t,this.ks=new CE,this.Os=null}static Ms(t){return new Jb(t)}get Fs(){if(this.Os)return this.Os;throw Sn()}addReference(t,e,o){return this.ks.addReference(o,e),this.Fs.delete(o.toString()),Je.resolve()}removeReference(t,e,o){return this.ks.removeReference(o,e),this.Fs.add(o.toString()),Je.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),Je.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(a=>this.Fs.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.Fs.add(l.toString()))}).next(()=>o.removeTargetData(t,e))}Cs(){this.Os=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Fs,o=>{const a=sn.fromPath(o);return this.$s(t,a).next(l=>{l||e.removeEntry(a,jn.min())})}).next(()=>(this.Os=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(o=>{o?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return Je.or([()=>Je.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class ZO{constructor(t){this.wt=t}O(t,e,o,a){const l=new Wa("createOrUpgrade",e);var g;o<1&&a>=1&&(t.createObjectStore("owner"),(g=t).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FD,{unique:!0}),g.createObjectStore("documentMutations"),oI(t),function(g){g.createObjectStore("remoteDocuments")}(t));let c=Je.resolve();return o<3&&a>=3&&(0!==o&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(t),oI(t)),c=c.next(()=>function(g){const _=g.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jn.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(l))),o<4&&a>=4&&(0!==o&&(c=c.next(()=>function(g,_){return _.store("mutations").K().next(b=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FD,{unique:!0});const T=_.store("mutations"),D=b.map(O=>T.put(O));return Je.waitFor(D)})}(t,l))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),o<5&&a>=5&&(c=c.next(()=>this.Bs(l))),o<6&&a>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(l)))),o<7&&a>=7&&(c=c.next(()=>this.Us(l))),o<8&&a>=8&&(c=c.next(()=>this.qs(t,l))),o<9&&a>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(t)})),o<10&&a>=10&&(c=c.next(()=>this.Ks(l))),o<11&&a>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),o<12&&a>=12&&(c=c.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:MO});_.createIndex("collectionPathOverlayIndex",AO,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",kO,{unique:!1})}(t)})),o<13&&a>=13&&(c=c.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:iC});_.createIndex("documentKeyIndex",aE),_.createIndex("collectionGroupIndex",LD)}(t)).next(()=>this.Gs(t,l)).next(()=>t.deleteObjectStore("remoteDocuments"))),o<14&&a>=14&&(c=c.next(()=>this.Qs(t,l))),o<15&&a>=15&&(c=c.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:jD}).createIndex("sequenceNumberIndex",zD,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:DO}).createIndex("documentKeyIndex",IO,{unique:!1})}(t))),c}Ls(t){let e=0;return t.store("remoteDocuments").J((o,a)=>{e+=uC(a)}).next(()=>{const o={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(t){const e=t.store("mutationQueues"),o=t.store("mutations");return e.K().next(a=>Je.forEach(a,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",c).next(g=>Je.forEach(g,_=>{Ln(_.userId===l.userId);const b=Dp(this.wt,_);return JD(t,l.userId,b).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),o=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return o.J((c,g)=>{const _=new Si(c),b=[0,Ta(_)];l.push(e.get(b).next(T=>T?Je.resolve():e.put({targetId:0,path:Ta(_),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Je.waitFor(l))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:UD});const o=e.store("collectionParents"),a=new Cy,l=c=>{if(a.add(c)){const g=c.lastSegment(),_=c.popLast();return o.put({collectionId:g,parent:Ta(_)})}};return e.store("remoteDocuments").J({H:!0},(c,g)=>{const _=new Si(c);return l(_.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([c,g,_],b)=>{const T=kl(g);return l(T.popLast())}))}Ks(t){const e=t.store("targets");return e.J((o,a)=>{const l=wy(a),c=fE(this.wt,l);return e.put(c)})}Gs(t,e){const o=e.store("remoteDocuments"),a=[];return o.J((l,c)=>{const g=e.store("remoteDocumentsV14"),_=(b=c,b.document?new sn(Si.fromString(b.document.name).popFirst(5)):b.noDocument?sn.fromSegments(b.noDocument.path):b.unknownDocument?sn.fromSegments(b.unknownDocument.path):Sn()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(g.put(T))}).next(()=>Je.waitFor(a))}Qs(t,e){const o=e.store("mutations"),a=tI(this.wt),l=new rI(Jb.Ms,this.wt.ne);return o.K().next(c=>{const g=new Map;return c.forEach(_=>{var b;let T=null!==(b=g.get(_.userId))&&void 0!==b?b:di();Dp(this.wt,_).keys().forEach(D=>T=T.add(D)),g.set(_.userId,T)}),Je.forEach(g,(_,b)=>{const T=new Qr(b),D=Yh.se(this.wt,T),O=l.getIndexManager(T),F=dC.se(T,this.wt,O,l.referenceDelegate);return new wE(a,F,D,O).recalculateAndSaveOverlaysForDocumentKeys(new lE(e,Uo.ot),_).next()})})}}function oI(i){i.createObjectStore("targetDocuments",{keyPath:BD}).createIndex("documentTargetsIndex",HD,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",VD,{unique:!0}),i.createObjectStore("targetGlobal")}const Ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class TE{constructor(t,e,o,a,l,c,g,_,b,T,D=14){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=o,this.js=l,this.window=c,this.document=g,this.Ws=b,this.zs=T,this.Hs=D,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=O=>Promise.resolve(),!TE.V())throw new Mt(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VO(this,a),this.ei=e+"main",this.wt=new $D(_),this.ni=new ya(this.ei,this.Hs,new ZO(this.wt)),this.Vs=new XD(this.referenceDelegate,this.wt),this.remoteDocumentCache=tI(this.wt),this.Ds=new ym,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===T&&vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Mt(ot.FAILED_PRECONDITION,Ap);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new Uo(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var o=(0,st.Z)(function*(a){if(e.started)return t(a)});return function(a){return o.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,st.Z)(function*(o){null===o.newVersion&&(yield t())});return function(o){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,st.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>pC(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(hu(t))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Iy(t).get("owner").next(e=>Je.resolve(this.di(e)))}_i(t){return pC(t).delete(this.clientId)}wi(){var t=this;return(0,st.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const a=ys(o,"clientMetadata");return a.K().next(l=>{const c=t.gi(l,18e5),g=l.filter(_=>-1===c.indexOf(_));return Je.forEach(g,_=>a.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(t.si)for(const o of e)t.si.removeItem(t.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?Je.resolve(!0):Iy(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Mt(ot.FAILED_PRECONDITION,Ap);return!1}}return!(!this.networkEnabled||!this.inForeground)||pC(t).K().next(o=>void 0===this.gi(o,5e3).find(a=>{if(this.clientId!==a.clientId){const c=!this.inForeground&&a.inForeground,g=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||c&&g)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ct("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,st.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const o=new lE(e,Uo.ot);return t.li(o).next(()=>t._i(o))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(o=>this.mi(o.updateTimeMs,e)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>pC(t).K().next(e=>this.gi(e,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return dC.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new rV(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return Yh.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,o){Ct("IndexedDbPersistence","Starting transaction:",t);const a="readonly"===e?"readonly":"readwrite",l=15===(c=this.Hs)?RO:14===c?ZD:13===c?qD:12===c?OO:11===c?GD:void Sn();var c;let g;return this.ni.runTransaction(t,a,l,_=>(g=new lE(_,this.Ps?this.Ps.next():Uo.ot),"readwrite-primary"===e?this.ai(g).next(b=>!!b||this.hi(g)).next(b=>{if(!b)throw vi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Mt(ot.FAILED_PRECONDITION,du);return o(g)}).next(b=>this.fi(g).next(()=>b)):this.bi(g).next(()=>o(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}bi(t){return Iy(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Mt(ot.FAILED_PRECONDITION,Ap)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iy(t).put("owner",e)}static V(){return ya.V()}li(t){const e=Iy(t);return e.get("owner").next(o=>this.di(o)?(Ct("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Je.resolve())}mi(t,e){const o=Date.now();return!(t<o-e||t>o&&(vi(`Detected an update time that is in the future: ${t} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,W.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const o=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Ct("IndexedDbPersistence",`Client '${t}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return vi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){vi("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Iy(i){return ys(i,"owner")}function pC(i){return ys(i,"clientMetadata")}function gC(i,t){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}class EE{constructor(t,e,o,a){this.targetId=t,this.fromCache=e,this.Pi=o,this.vi=a}static Vi(t,e){let o=di(),a=di();for(const l of e.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new EE(t,e.fromCache,o,a)}}class xE{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,o,a){return this.Ci(t,e).next(l=>l||this.xi(t,e,a,o)).next(l=>l||this.Ni(t,e))}Ci(t,e){return Je.resolve(null)}xi(t,e,o,a){return function dm(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(e)||a.isEqual(jn.min())?this.Ni(t,e):this.Di.getDocuments(t,o).next(l=>{const c=this.ki(e,l);return this.Oi(e,c,o,a)?this.Ni(t,e):(kb()<=gr.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_s(e)),this.Mi(t,c,e,Uh(a,-1)))})}ki(t,e){let o=new Yi(Al(t));return e.forEach((a,l)=>{Zh(t,l)&&(o=o.add(l))}),o}Oi(t,e,o,a){if(null===t.limit)return!1;if(o.size!==e.size)return!0;const l="F"===t.limitType?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ni(t,e){return kb()<=gr.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",_s(e)),this.Di.getDocumentsMatchingQuery(t,e,Dr.min())}Mi(t,e,o,a){return this.Di.getDocumentsMatchingQuery(t,o,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}class $O{constructor(t,e,o,a){this.persistence=t,this.Fi=e,this.wt=a,this.$i=new Wi(ci),this.Bi=new pd(l=>ye(l),Ge),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(o)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wE(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function mC(i,t,e,o){return new $O(i,t,e,o)}function sI(i,t){return _C.apply(this,arguments)}function _C(){return _C=(0,st.Z)(function*(i,t){const e=tn(i);return yield e.persistence.runTransaction("Handle user change","readonly",o=>{let a;return e.mutationQueue.getAllMutationBatches(o).next(l=>(a=l,e.qi(t),e.mutationQueue.getAllMutationBatches(o))).next(l=>{const c=[],g=[];let _=di();for(const b of a){c.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of l){g.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return e.localDocuments.getDocuments(o,_).next(b=>({Ki:b,removedBatchIds:c,addedBatchIds:g}))})})}),_C.apply(this,arguments)}function aI(i,t){const e=tn(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=t.batch.keys(),l=e.Ui.newChangeBuffer({trackRemovals:!0});return function(c,g,_,b){const T=_.batch,D=T.keys();let O=Je.resolve();return D.forEach(F=>{O=O.next(()=>b.getEntry(g,F)).next(j=>{const X=_.docVersions.get(F);Ln(null!==X),j.version.compareTo(X)<0&&(T.applyToRemoteDocument(j,_),j.isValidDocument()&&(j.setReadTime(_.commitVersion),b.addEntry(j)))})}),O.next(()=>c.mutationQueue.removeMutationBatch(g,T))}(e,o,t,l).next(()=>l.apply(o)).next(()=>e.mutationQueue.performConsistencyCheck(o)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(o,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(c){let g=di();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(g=g.add(c.batch.mutations[_].key));return g}(t))).next(()=>e.localDocuments.getDocuments(o,a))})}function lI(i){const t=tn(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function WO(i,t){const e=tn(i),o=t.snapshotVersion;let a=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Ui.newChangeBuffer({trackRemovals:!0});a=e.$i;const g=[];t.targetChanges.forEach((T,D)=>{const O=a.get(D);if(!O)return;g.push(e.Vs.removeMatchingKeys(l,T.removedDocuments,D).next(()=>e.Vs.addMatchingKeys(l,T.addedDocuments,D)));let F=O.withSequenceNumber(l.currentSequenceNumber);var j,X,se;t.targetMismatches.has(D)?F=F.withResumeToken(ho.EMPTY_BYTE_STRING,jn.min()).withLastLimboFreeSnapshotVersion(jn.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,o)),a=a.insert(D,F),X=F,se=T,(0===(j=O).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&g.push(e.Vs.updateTargetData(l,F))});let _=Xa(),b=di();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(l,T))}),g.push(cI(l,c,t.documentUpdates).next(T=>{_=T.Gi,b=T.Qi})),!o.isEqual(jn.min())){const T=e.Vs.getLastRemoteSnapshotVersion(l).next(D=>e.Vs.setTargetsMetadata(l,l.currentSequenceNumber,o));g.push(T)}return Je.waitFor(g).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,_,b)).next(()=>_)}).then(l=>(e.$i=a,l))}function cI(i,t,e){let o=di(),a=di();return e.forEach(l=>o=o.add(l)),t.getEntries(i,o).next(l=>{let c=Xa();return e.forEach((g,_)=>{const b=l.get(g);_.isFoundDocument()!==b.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual(jn.min())?(t.removeEntry(g,_.readTime),c=c.insert(g,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(_),c=c.insert(g,_)):Ct("LocalStore","Ignoring outdated watch update for ",g,". Current version:",b.version," Watch version:",_.version)}),{Gi:c,Qi:a}})}function SE(i,t){const e=tn(i);return e.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function My(i,t){const e=tn(i);return e.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return e.Vs.getTargetData(o,t).next(l=>l?(a=l,Je.resolve(a)):e.Vs.allocateTargetId(o).next(c=>(a=new Ep(t,c,0,o.currentSequenceNumber),e.Vs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=e.$i.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.$i=e.$i.insert(o.targetId,o),e.Bi.set(t,o.targetId)),o})}function Em(i,t,e){return DE.apply(this,arguments)}function DE(){return DE=(0,st.Z)(function*(i,t,e){const o=tn(i),a=o.$i.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield o.persistence.runTransaction("Release target",l,c=>o.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hu(c))throw c;Ct("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}o.$i=o.$i.remove(t),o.Bi.delete(a.target)}),DE.apply(this,arguments)}function yC(i,t,e){const o=tn(i);let a=jn.min(),l=di();return o.persistence.runTransaction("Execute query","readonly",c=>function(g,_,b){const T=tn(g),D=T.Bi.get(b);return void 0!==D?Je.resolve(T.$i.get(D)):T.Vs.getTargetData(_,b)}(o,c,Ja(t)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(c,g.targetId).next(_=>{l=_})}).next(()=>o.Fi.getDocumentsMatchingQuery(c,t,e?a:jn.min(),e?l:di())).next(g=>(hI(o,Hb(t),g),{documents:g,ji:l})))}function uI(i,t){const e=tn(i),o=tn(e.Vs),a=e.$i.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",l=>o.te(l,t).next(c=>c?c.target:null))}function dI(i,t){const e=tn(i),o=e.Li.get(t)||jn.min();return e.persistence.runTransaction("Get new document changes","readonly",a=>e.Ui.getAllFromCollectionGroup(a,t,Uh(o,-1),Number.MAX_SAFE_INTEGER)).then(a=>(hI(e,t,a),a))}function hI(i,t,e){let o=jn.min();e.forEach((a,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Li.set(t,o)}function IE(){return IE=(0,st.Z)(function*(i,t,e,o){const a=tn(i);let l=di(),c=Xa();for(const b of e){const T=t.Wi(b.metadata.name);b.document&&(l=l.add(T));const D=t.zi(b);D.setReadTime(t.Hi(b.metadata.readTime)),c=c.insert(T,D)}const g=a.Ui.newChangeBuffer({trackRemovals:!0}),_=yield My(a,(b=o,Ja(qh(Si.fromString(`__bundle__/docs/${b}`)))));var b;return a.persistence.runTransaction("Apply bundle documents","readwrite",b=>cI(b,g,c).next(T=>(g.apply(b),T)).next(T=>a.Vs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>a.Vs.addMatchingKeys(b,l,_.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(b,T.Gi,T.Qi)).next(()=>T.Gi)))}),IE.apply(this,arguments)}function KO(i,t){return vC.apply(this,arguments)}function vC(){return vC=(0,st.Z)(function*(i,t,e=di()){const o=yield My(i,Ja(rC(t.bundledQuery))),a=tn(i);return a.persistence.runTransaction("Save named query","readwrite",l=>{const c=ns(t.readTime);if(o.snapshotVersion.compareTo(c)>=0)return a.Ds.saveNamedQuery(l,t);const g=o.withResumeToken(ho.EMPTY_BYTE_STRING,c);return a.$i=a.$i.insert(g.targetId,g),a.Vs.updateTargetData(l,g).next(()=>a.Vs.removeMatchingKeysForTargetId(l,o.targetId)).next(()=>a.Vs.addMatchingKeys(l,e,o.targetId)).next(()=>a.Ds.saveNamedQuery(l,t))})}),vC.apply(this,arguments)}function ME(i,t){return`firestore_clients_${i}_${t}`}function AE(i,t,e){let o=`firestore_mutations_${i}_${e}`;return t.isAuthenticated()&&(o+=`_${t.uid}`),o}function kE(i,t){return`firestore_targets_${i}_${t}`}class Ay{constructor(t,e,o,a){this.user=t,this.batchId=e,this.state=o,this.error=a}static Ji(t,e,o){const a=JSON.parse(o);let l,c="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return c&&a.error&&(c="string"==typeof a.error.message&&"string"==typeof a.error.code,c&&(l=new Mt(a.error.code,a.error.message))),c?new Ay(t,e,a.state,l):(vi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${o}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ky{constructor(t,e,o){this.targetId=t,this.state=e,this.error=o}static Ji(t,e){const o=JSON.parse(e);let a,l="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(a=new Mt(o.error.code,o.error.message))),l?new ky(t,o.state,a):(vi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bC{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const o=JSON.parse(e);let a="object"==typeof o&&o.activeTargetIds instanceof Array,l=jb();for(let c=0;a&&c<o.activeTargetIds.length;++c)a=Bb(o.activeTargetIds[c]),l=l.add(o.activeTargetIds[c]);return a?new bC(t,l):(vi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class OE{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new OE(e.clientId,e.onlineState):(vi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Qb{constructor(){this.activeTargetIds=jb()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Xb{constructor(t,e,o,a,l){this.window=t,this.js=e,this.persistenceKey=o,this.tr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Wi(ci),this.started=!1,this.ir=[];const c=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=ME(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Qb),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,st.Z)(function*(){const e=yield t.syncEngine.Ri();for(const a of e){if(a===t.tr)continue;const l=t.getItem(ME(t.persistenceKey,a));if(l){const c=bC.Ji(a,l);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const o=t.storage.getItem(t.lr);if(o){const a=t.wr(o);a&&t.mr(a)}for(const a of t.ir)t.nr(a);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((o,a)=>{a.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,o){this.yr(t,e,o),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const o=this.storage.getItem(kE(this.persistenceKey,t));if(o){const a=ky.Ji(t,o);a&&(e=a.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(kE(this.persistenceKey,t))}updateQueryState(t,e,o){this.Tr(t,e,o)}handleUserChange(t,e,o){e.forEach(a=>{this.pr(a)}),this.currentUser=t,o.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ct("SharedClientState","READ",t,e),e}setItem(t,e){Ct("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ct("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const o=t;if(o.storageArea===this.storage){if(Ct("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,st.Z)(function*(){if(e.started){if(null!==o.key)if(e.cr.test(o.key)){if(null==o.newValue){const a=e.Rr(o.key);return e.br(a,null)}{const a=e.Pr(o.key,o.newValue);if(a)return e.br(a.clientId,a)}}else if(e.ar.test(o.key)){if(null!==o.newValue){const a=e.vr(o.key,o.newValue);if(a)return e.Vr(a)}}else if(e.hr.test(o.key)){if(null!==o.newValue){const a=e.Sr(o.key,o.newValue);if(a)return e.Dr(a)}}else if(o.key===e.lr){if(null!==o.newValue){const a=e.wr(o.newValue);if(a)return e.mr(a)}}else if(o.key===e.ur){const a=function(l){let c=Uo.ot;if(null!=l)try{const g=JSON.parse(l);Ln("number"==typeof g),c=g}catch(g){vi("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(o.newValue);a!==Uo.ot&&e.sequenceNumberHandler(a)}else if(o.key===e.dr){const a=e.Cr(o.newValue);yield Promise.all(a.map(l=>e.syncEngine.Nr(l)))}}else e.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,o){const a=new Ay(this.currentUser,t,e,o),l=AE(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Yi())}pr(t){const e=AE(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,o){const a=kE(this.persistenceKey,t),l=new ky(t,e,o);this.setItem(a,l.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const o=this.Rr(t);return bC.Ji(o,e)}vr(t,e){const o=this.ar.exec(t),a=Number(o[1]);return Ay.Ji(new Qr(void 0!==o[2]?o[2]:null),a,e)}Sr(t,e){const o=this.hr.exec(t),a=Number(o[1]);return ky.Ji(a,e)}wr(t){return OE.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,st.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const o=e?this.sr.insert(t,e):this.sr.remove(t),a=this.gr(this.sr),l=this.gr(o),c=[],g=[];return l.forEach(_=>{a.has(_)||c.push(_)}),a.forEach(_=>{l.has(_)||g.push(_)}),this.syncEngine.Mr(c,g).then(()=>{this.sr=o})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=jb();return t.forEach((o,a)=>{e=e.unionWith(a.activeTargetIds)}),e}}class RE{constructor(){this.Fr=new Qb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,o){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,o){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new Qb,Promise.resolve()}handleUserChange(t,e,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class PE{Br(t){}shutdown(){}}class fI{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const JO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NE{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class QO extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,o,a,l){const c=this.oo(t,e);Ct("RestConnection","Sending: ",c,o);const g={};return this.uo(g,a,l),this.co(t,c,g,o).then(_=>(Ct("RestConnection","Received: ",_),_),_=>{throw om("RestConnection",`${t} failed with error: `,_,"url: ",c,"request:",o),_})}ao(t,e,o,a,l,c){return this.ro(t,e,o,a,l)}uo(t,e,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+rm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),o&&o.headers.forEach((a,l)=>t[l]=a)}oo(t,e){return`${this.so}/v1/${e}:${JO[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,o,a){return new Promise((l,c)=>{const g=new fp;g.listenOnce(K_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hp.NO_ERROR:const b=g.getResponseJson();Ct("Connection","XHR received:",JSON.stringify(b)),l(b);break;case hp.TIMEOUT:Ct("Connection",'RPC "'+t+'" timed out'),c(new Mt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const T=g.getStatus();if(Ct("Connection",'RPC "'+t+'" failed with status:',T,"response text:",g.getResponseText()),T>0){const D=g.getResponseJson().error;if(D&&D.status&&D.message){const O=function(F){const j=F.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(j)>=0?j:ot.UNKNOWN}(D.status);c(new Mt(O,D.message))}else c(new Mt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else c(new Mt(ot.UNAVAILABLE,"Connection failed."));break;default:Sn()}}finally{Ct("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(a);g.send(e,"POST",_,o,15)})}ho(t,e,o){const a=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=Oi(),c=Ab(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new Sl({})),this.uo(g.initMessageHeaders,e,o),(0,W.uI)()||(0,W.b$)()||(0,W.d)()||(0,W.w1)()||(0,W.Mn)()||(0,W.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const _=a.join("");Ct("Connection","Creating WebChannel: "+_,g);const b=l.createWebChannel(_,g);let T=!1,D=!1;const O=new NE({jr:j=>{D?Ct("Connection","Not sending because WebChannel is closed:",j):(T||(Ct("Connection","Opening WebChannel transport."),b.open(),T=!0),Ct("Connection","WebChannel sending:",j),b.send(j))},Wr:()=>b.close()}),F=(j,X,se)=>{j.listen(X,ke=>{try{se(ke)}catch(We){setTimeout(()=>{throw We},0)}})};return F(b,ld.EventType.OPEN,()=>{D||Ct("Connection","WebChannel transport opened.")}),F(b,ld.EventType.CLOSE,()=>{D||(D=!0,Ct("Connection","WebChannel transport closed"),O.eo())}),F(b,ld.EventType.ERROR,j=>{D||(D=!0,om("Connection","WebChannel transport errored:",j),O.eo(new Mt(ot.UNAVAILABLE,"The operation could not be completed")))}),F(b,ld.EventType.MESSAGE,j=>{var X;if(!D){const se=j.data[0];Ln(!!se);const ke=se,We=ke.error||(null===(X=ke[0])||void 0===X?void 0:X.error);if(We){Ct("Connection","WebChannel received error:",We);const ft=We.status;let ht=function(qt){const wn=Mo[qt];if(void 0!==wn)return UT(wn)}(ft),Ht=We.message;void 0===ht&&(ht=ot.INTERNAL,Ht="Unknown error status: "+ft+" with message "+We.message),D=!0,O.eo(new Mt(ht,Ht)),b.close()}else Ct("Connection","WebChannel received:",se),O.no(se)}}),F(c,Sr.STAT_EVENT,j=>{j.stat===qs.PROXY?Ct("Connection","Detected buffering proxy"):j.stat===qs.NOPROXY&&Ct("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function FE(){return typeof window<"u"?window:null}function Jh(){return typeof document<"u"?document:null}function Oy(i){return new ts(i,!0)}class LE{constructor(t,e,o=1e3,a=1.5,l=6e4){this.js=t,this.timerId=e,this.lo=o,this.fo=a,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),a=Math.max(0,e-o);a>0&&Ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,a,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class XO{constructor(t,e,o,a,l,c,g,_){this.js=t,this.Ao=o,this.Ro=a,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new LE(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,st.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(t){this.Fo(),this.stream.send(t)}Oo(){var t=this;return(0,st.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var o=this;return(0,st.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==t?o.So.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(vi(e.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):e&&e.code===ot.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=t,yield o.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Po===e&&this.Uo(o,a)},o=>{t(()=>{const a=new Mt(ot.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(a)})})}Uo(t,e){const o=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(a=>{o(()=>this.qo(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}xo(){var t=this;this.state=5,this.So.Io((0,st.Z)(function*(){t.state=0,t.start()}))}qo(t){return Ct("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pI extends XO{constructor(t,e,o,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,o,a,c),this.wt=l}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function XT(i,t){let e;if("targetChange"in t){const o="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Sn(),a=t.targetChange.targetIds||[],l=function(_,b){return _.dt?(Ln(void 0===b||"string"==typeof b),ho.fromBase64String(b||"")):(Ln(void 0===b||b instanceof Uint8Array),ho.fromUint8Array(b||new Uint8Array))}(i,t.targetChange.resumeToken),c=t.targetChange.cause,g=c&&function(_){const b=void 0===_.code?ot.UNKNOWN:UT(_.code);return new Mt(b,_.message||"")}(c);e=new ZT(o,a,l,g||null)}else if("documentChange"in t){const o=t.documentChange,a=wa(i,o.document.name),l=ns(o.document.updateTime),c=new P({mapValue:{fields:o.document.fields}}),g=z.newFoundDocument(a,l,c);e=new zb(o.targetIds||[],o.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const o=t.documentDelete,a=wa(i,o.document),l=o.readTime?ns(o.readTime):jn.min(),c=z.newNoDocument(a,l);e=new zb([],o.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const o=t.documentRemove,a=wa(i,o.document);e=new zb([],o.removedTargetIds||[],a,null)}else{if(!("filter"in t))return Sn();{const o=t.filter,l=new BT(o.count||0);e=new qT(o.targetId,l)}}var _;return e}(this.wt,t),o=function(a){if(!("targetChange"in a))return jn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?jn.min():l.readTime?ns(l.readTime):jn.min()}(t);return this.listener.Go(e,o)}Qo(t){const e={};e.database=yy(this.wt),e.addTarget=function(a,l){let c;const g=l.target;return c=at(g)?{documents:yu(a,g)}:{query:Cc(a,g)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=AD(a,l.resumeToken):l.snapshotVersion.compareTo(jn.min())>0&&(c.readTime=my(a,l.snapshotVersion.toTimestamp())),c}(this.wt,t);const o=function PD(i,t){const e=function(o,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sn()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);o&&(e.labels=o),this.Mo(e)}jo(t){const e={};e.database=yy(this.wt),e.removeTarget=t,this.Mo(e)}}class VE extends XO{constructor(t,e,o,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,o,a,c),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Ln(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function RD(i,t){return i&&i.length>0?(Ln(void 0!==t),i.map(e=>function(o,a){let l=ns(o.updateTime?o.updateTime:a);return l.isEqual(jn.min())&&(l=ns(a)),new wD(l,o.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),o=ns(t.commitTime);return this.listener.Jo(o,e)}return Ln(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=yy(this.wt),this.Mo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(o=>Ca(this.wt,o))};this.Mo(e)}}class eR extends class{}{constructor(t,e,o,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=o,this.wt=a,this.Zo=!1}tu(){if(this.Zo)throw new Mt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.bo.ro(t,e,o,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Mt(ot.UNKNOWN,a.toString())})}ao(t,e,o,a){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.bo.ao(t,e,o,l,c,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Mt(ot.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class BE{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(vi(e),this.su=!1):Ct("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class tR{constructor(t,e,o,a,l){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(g=>{o.enqueueAndForget((0,st.Z)(function*(){var _;Qh(c)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,st.Z)(function*(b){const T=tn(b);T.lu.add(4),yield xm(T),T._u.set("Unknown"),T.lu.delete(4),yield e0(T)}),function(b){return _.apply(this,arguments)})(c))}))}),this._u=new BE(o,a)}}function e0(i){return t0.apply(this,arguments)}function t0(){return t0=(0,st.Z)(function*(i){if(Qh(i))for(const t of i.fu)yield t(!0)}),t0.apply(this,arguments)}function xm(i){return wC.apply(this,arguments)}function wC(){return wC=(0,st.Z)(function*(i){for(const t of i.fu)yield t(!1)}),wC.apply(this,arguments)}function n0(i,t){const e=tn(i);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),jE(e)?UE(e):Py(e).Co()&&HE(e,t))}function Ry(i,t){const e=tn(i),o=Py(e);e.hu.delete(t),o.Co()&&gI(e,t),0===e.hu.size&&(o.Co()?o.ko():Qh(e)&&e._u.set("Unknown"))}function HE(i,t){i.wu.Nt(t.targetId),Py(i).Qo(t)}function gI(i,t){i.wu.Nt(t),Py(i).jo(t)}function UE(i){i.wu=new tV({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),te:t=>i.hu.get(t)||null}),Py(i).start(),i._u.iu()}function jE(i){return Qh(i)&&!Py(i).Do()&&i.hu.size>0}function Qh(i){return 0===tn(i).lu.size}function nR(i){i.wu=void 0}function mI(i){return zE.apply(this,arguments)}function zE(){return zE=(0,st.Z)(function*(i){i.hu.forEach((t,e)=>{HE(i,t)})}),zE.apply(this,arguments)}function iR(i,t){return _I.apply(this,arguments)}function _I(){return _I=(0,st.Z)(function*(i,t){nR(i),jE(i)?(i._u.uu(t),UE(i)):i._u.set("Unknown")}),_I.apply(this,arguments)}function sV(i,t,e){return GE.apply(this,arguments)}function GE(){return GE=(0,st.Z)(function*(i,t,e){if(i._u.set("Online"),t instanceof ZT&&2===t.state&&t.cause)try{yield(o=(0,st.Z)(function*(a,l){const c=l.cause;for(const g of l.targetIds)a.hu.has(g)&&(yield a.remoteSyncer.rejectListen(g,c),a.hu.delete(g),a.wu.removeTarget(g))}),function(a,l){return o.apply(this,arguments)})(i,t)}catch(o){Ct("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),yield CC(i,o)}else if(t instanceof zb?i.wu.Ut(t):t instanceof qT?i.wu.zt(t):i.wu.Gt(t),!e.isEqual(jn.min()))try{const o=yield lI(i.localStore);e.compareTo(o)>=0&&(yield function(a,l){const c=a.wu.Yt(l);return c.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const b=a.hu.get(_);b&&a.hu.set(_,b.withResumeToken(g.resumeToken,l))}}),c.targetMismatches.forEach(g=>{const _=a.hu.get(g);if(!_)return;a.hu.set(g,_.withResumeToken(ho.EMPTY_BYTE_STRING,_.snapshotVersion)),gI(a,g);const b=new Ep(_.target,g,1,_.sequenceNumber);HE(a,b)}),a.remoteSyncer.applyRemoteEvent(c)}(i,e))}catch(o){Ct("RemoteStore","Failed to raise snapshot:",o),yield CC(i,o)}var o}),GE.apply(this,arguments)}function CC(i,t,e){return TC.apply(this,arguments)}function TC(){return TC=(0,st.Z)(function*(i,t,e){if(!hu(t))throw t;i.lu.add(1),yield xm(i),i._u.set("Offline"),e||(e=()=>lI(i.localStore)),i.asyncQueue.enqueueRetryable((0,st.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield e(),i.lu.delete(1),yield e0(i)}))}),TC.apply(this,arguments)}function qE(i,t){return t().catch(e=>CC(i,e,t))}function Sm(i){return EC.apply(this,arguments)}function EC(){return EC=(0,st.Z)(function*(i){const t=tn(i),e=kp(t);let o=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;yI(t);)try{const a=yield SE(t.localStore,o);if(null===a){0===t.au.length&&e.ko();break}o=a.batchId,vI(t,a)}catch(a){yield CC(t,a)}ZE(t)&&$E(t)}),EC.apply(this,arguments)}function yI(i){return Qh(i)&&i.au.length<10}function vI(i,t){i.au.push(t);const e=kp(i);e.Co()&&e.zo&&e.Ho(t.mutations)}function ZE(i){return Qh(i)&&!kp(i).Do()&&i.au.length>0}function $E(i){kp(i).start()}function rR(i){return xC.apply(this,arguments)}function xC(){return xC=(0,st.Z)(function*(i){kp(i).Xo()}),xC.apply(this,arguments)}function r0(i){return SC.apply(this,arguments)}function SC(){return SC=(0,st.Z)(function*(i){const t=kp(i);for(const e of i.au)t.Ho(e.mutations)}),SC.apply(this,arguments)}function bI(i,t,e){return DC.apply(this,arguments)}function DC(){return DC=(0,st.Z)(function*(i,t,e){const o=i.au.shift(),a=uE.from(o,t,e);yield qE(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),yield Sm(i)}),DC.apply(this,arguments)}function wI(i,t){return IC.apply(this,arguments)}function IC(){return IC=(0,st.Z)(function*(i,t){var e;t&&kp(i).zo&&(yield(e=(0,st.Z)(function*(o,a){if(HT(l=a.code)&&l!==ot.ABORTED){const c=o.au.shift();kp(o).No(),yield qE(o,()=>o.remoteSyncer.rejectFailedWrite(c.batchId,a)),yield Sm(o)}var l}),function(o,a){return e.apply(this,arguments)})(i,t)),ZE(i)&&$E(i)}),IC.apply(this,arguments)}function CI(i,t){return WE.apply(this,arguments)}function WE(){return WE=(0,st.Z)(function*(i,t){const e=tn(i);e.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const o=Qh(e);e.lu.add(3),yield xm(e),o&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield e0(e)}),WE.apply(this,arguments)}function TI(i,t){return YE.apply(this,arguments)}function YE(){return YE=(0,st.Z)(function*(i,t){const e=tn(i);t?(e.lu.delete(2),yield e0(e)):t||(e.lu.add(2),yield xm(e),e._u.set("Unknown"))}),YE.apply(this,arguments)}function Py(i){return i.mu||(i.mu=function(t,e,o){const a=tn(t);return a.tu(),new pI(e,a.bo,a.authCredentials,a.appCheckCredentials,a.wt,o)}(i.datastore,i.asyncQueue,{zr:mI.bind(null,i),Jr:iR.bind(null,i),Go:sV.bind(null,i)}),i.fu.push(function(){var t=(0,st.Z)(function*(e){e?(i.mu.No(),jE(i)?UE(i):i._u.set("Unknown")):(yield i.mu.stop(),nR(i))});return function(e){return t.apply(this,arguments)}}())),i.mu}function kp(i){return i.gu||(i.gu=function(t,e,o){const a=tn(t);return a.tu(),new VE(e,a.bo,a.authCredentials,a.appCheckCredentials,a.wt,o)}(i.datastore,i.asyncQueue,{zr:rR.bind(null,i),Jr:wI.bind(null,i),Yo:r0.bind(null,i),Jo:bI.bind(null,i)}),i.fu.push(function(){var t=(0,st.Z)(function*(e){e?(i.gu.No(),yield Sm(i)):(yield i.gu.stop(),i.au.length>0&&(Ct("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(e){return t.apply(this,arguments)}}())),i.gu}class KE{constructor(t,e,o,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=o,this.op=a,this.removalCallback=l,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,o,a,l){const c=Date.now()+o,g=new KE(t,e,c,a,l);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ny(i,t){if(vi("AsyncQueue",`${t}: ${i}`),hu(i))return new Mt(ot.UNAVAILABLE,`${t}: ${i}`);throw i}class md{constructor(t){this.comparator=t?(e,o)=>t(e,o)||sn.comparator(e.key,o.key):(e,o)=>sn.comparator(e.key,o.key),this.keyedMap=hy(),this.sortedSet=new Wi(this.comparator)}static emptySet(t){return new md(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,o)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof md)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=o.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const o=new md;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=e,o}}class EI{constructor(){this.yu=new Wi(sn.comparator)}track(t){const e=t.doc.key,o=this.yu.get(e);o?0!==t.type&&3===o.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==o.type?this.yu=this.yu.insert(e,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.yu=this.yu.remove(e):1===t.type&&2===o.type?this.yu=this.yu.insert(e,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):Sn():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,o)=>{t.push(o)}),t}}class Op{constructor(t,e,o,a,l,c,g,_){this.query=t,this.docs=e,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,o,a){const l=[];return e.forEach(c=>{l.push({type:0,doc:c})}),new Op(t,e,md.emptySet(e),l,o,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,o=t.docChanges;if(e.length!==o.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==o[a].type||!e[a].doc.isEqual(o[a].doc))return!1;return!0}}class _d{constructor(){this.Iu=void 0,this.listeners=[]}}class oR{constructor(){this.queries=new pd(t=>oy(t),Qa),this.onlineState="Unknown",this.Tu=new Set}}function o0(i,t){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,st.Z)(function*(i,t){const e=tn(i),o=t.query;let a=!1,l=e.queries.get(o);if(l||(a=!0,l=new _d),a)try{l.Iu=yield e.onListen(o)}catch(c){const g=Ny(c,`Initialization of query '${_s(t.query)}' failed`);return void t.onError(g)}e.queries.set(o,l),l.listeners.push(t),t.Eu(e.onlineState),l.Iu&&t.Au(l.Iu)&&Fy(e)}),Dm.apply(this,arguments)}function JE(i,t){return QE.apply(this,arguments)}function QE(){return QE=(0,st.Z)(function*(i,t){const e=tn(i),o=t.query;let a=!1;const l=e.queries.get(o);if(l){const c=l.listeners.indexOf(t);c>=0&&(l.listeners.splice(c,1),a=0===l.listeners.length)}if(a)return e.queries.delete(o),e.onUnlisten(o)}),QE.apply(this,arguments)}function sR(i,t){const e=tn(i);let o=!1;for(const a of t){const c=e.queries.get(a.query);if(c){for(const g of c.listeners)g.Au(a)&&(o=!0);c.Iu=a}}o&&Fy(e)}function MC(i,t,e){const o=tn(i),a=o.queries.get(t);if(a)for(const l of a.listeners)l.onError(e);o.queries.delete(t)}function Fy(i){i.Tu.forEach(t=>{t.next()})}class XE{constructor(t,e,o){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(t){if(!this.options.includeMetadataChanges){const o=[];for(const a of t.docChanges)3!==a.type&&o.push(a);t=new Op(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Op.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class aR{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class ex{constructor(t){this.wt=t}Wi(t){return wa(this.wt,t)}zi(t){return t.metadata.exists?TO(this.wt,t.document,!1):z.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return ns(t)}}class xI{constructor(t,e,o){this.xu=t,this.localStore=e,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AC(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const o=Si.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,o=new ex(this.wt);for(const a of t)if(a.metadata.queries){const l=o.Wi(a.metadata.name);for(const c of a.metadata.queries){const g=(e.get(c)||di()).add(l);e.set(c,g)}}return e}complete(){var t=this;return(0,st.Z)(function*(){const e=yield function YO(i,t,e,o){return IE.apply(this,arguments)}(t.localStore,new ex(t.wt),t.documents,t.xu.id),o=t.ku(t.documents);for(const a of t.queries)yield KO(t.localStore,a,o.get(a.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Mu:e}})()}}function AC(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class tx{constructor(t){this.key=t}}class SI{constructor(t){this.key=t}}class DI{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=di(),this.mutatedKeys=di(),this.Lu=Al(t),this.Uu=new md(this.Lu)}get qu(){return this.Fu}Ku(t,e){const o=e?e.Gu:new EI,a=e?e.Uu:this.Uu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,g=!1;const _="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,b="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((T,D)=>{const O=a.get(T),F=Zh(this.query,D)?D:null,j=!!O&&this.mutatedKeys.has(O.key),X=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let se=!1;O&&F?O.data.isEqual(F.data)?j!==X&&(o.track({type:3,doc:F}),se=!0):this.Qu(O,F)||(o.track({type:2,doc:F}),se=!0,(_&&this.Lu(F,_)>0||b&&this.Lu(F,b)<0)&&(g=!0)):!O&&F?(o.track({type:0,doc:F}),se=!0):O&&!F&&(o.track({type:1,doc:O}),se=!0,(_||b)&&(g=!0)),se&&(F?(c=c.add(F),l=X?l.add(T):l.delete(T)):(c=c.delete(T),l=l.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),l=l.delete(T.key),o.track({type:1,doc:T})}return{Uu:c,Gu:o,Oi:g,mutatedKeys:l}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,o){const a=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const l=t.Gu.pu();l.sort((b,T)=>function(D,O){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sn()}};return F(D)-F(O)}(b.type,T.type)||this.Lu(b.doc,T.doc)),this.ju(o);const c=e?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,_=g!==this.$u;return this.$u=g,0!==l.length||_?{snapshot:new Op(this.query,t.Uu,a,l,t.mutatedKeys,0===g,_,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new EI,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=di(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const e=[];return t.forEach(o=>{this.Bu.has(o)||e.push(new SI(o))}),this.Bu.forEach(o=>{t.has(o)||e.push(new tx(o))}),e}Ju(t){this.Fu=t.ji,this.Bu=di();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Op.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class aV{constructor(t,e,o){this.query=t,this.targetId=e,this.view=o}}class nx{constructor(t){this.key=t,this.Xu=!1}}class ix{constructor(t,e,o,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=o,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new pd(g=>oy(g),Qa),this.ec=new Map,this.nc=new Set,this.sc=new Wi(sn.comparator),this.ic=new Map,this.rc=new CE,this.oc={},this.uc=new Map,this.cc=gd.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function II(i,t){return s0.apply(this,arguments)}function s0(){return s0=(0,st.Z)(function*(i,t){const e=HC(i);let o,a;const l=e.tc.get(t);if(l)o=l.targetId,e.sharedClientState.addLocalQueryTarget(o),a=l.view.Yu();else{const c=yield My(e.localStore,Ja(t));e.isPrimaryClient&&n0(e.remoteStore,c);const g=e.sharedClientState.addLocalQueryTarget(c.targetId);o=c.targetId,a=yield a0(e,t,o,"current"===g)}return a}),s0.apply(this,arguments)}function a0(i,t,e,o){return rx.apply(this,arguments)}function rx(){return rx=(0,st.Z)(function*(i,t,e,o){i.hc=(T,D,O)=>{return(F=(0,st.Z)(function*(j,X,se,ke){let We=X.view.Ku(se);We.Oi&&(We=yield yC(j.localStore,X.query,!1).then(({documents:Ht})=>X.view.Ku(Ht,We)));const ft=ke&&ke.targetChanges.get(X.targetId),ht=X.view.applyChanges(We,j.isPrimaryClient,ft);return RI(j,X.targetId,ht.zu),ht.snapshot}),function(j,X,se,ke){return F.apply(this,arguments)})(i,T,D,O);var F};const a=yield yC(i.localStore,t,!0),l=new DI(t,a.ji),c=l.Ku(a.documents),g=gy.createSynthesizedTargetChangeForCurrentChange(e,o&&"Offline"!==i.onlineState),_=l.applyChanges(c,i.isPrimaryClient,g);RI(i,e,_.zu);const b=new aV(t,e,l);return i.tc.set(t,b),i.ec.has(e)?i.ec.get(e).push(t):i.ec.set(e,[t]),_.snapshot}),rx.apply(this,arguments)}function lR(i,t){return ox.apply(this,arguments)}function ox(){return ox=(0,st.Z)(function*(i,t){const e=tn(i),o=e.tc.get(t),a=e.ec.get(o.targetId);if(a.length>1)return e.ec.set(o.targetId,a.filter(l=>!Qa(l,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(o.targetId),e.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Em(e.localStore,o.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(o.targetId),Ry(e.remoteStore,o.targetId),Ly(e,o.targetId)}).catch(gc))):(Ly(e,o.targetId),yield Em(e.localStore,o.targetId,!0))}),ox.apply(this,arguments)}function kC(){return kC=(0,st.Z)(function*(i,t,e){const o=h0(i);try{const a=yield function(l,c){const g=tn(l),_=ar.now(),b=c.reduce((O,F)=>O.add(F.key),di());let T,D;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let F=Xa(),j=di();return g.Ui.getEntries(O,b).next(X=>{F=X,F.forEach((se,ke)=>{ke.isValidDocument()||(j=j.add(se))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,F)).next(X=>{T=X;const se=[];for(const ke of c){const We=VT(ke,T.get(ke.key).overlayedDocument);null!=We&&se.push(new wc(ke.key,We,H(We.value.mapValue),Xr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,_,se,c)}).next(X=>{D=X;const se=X.applyToLocalDocumentSet(T,j);return g.documentOverlayCache.saveOverlays(O,X.batchId,se)})}).then(()=>({batchId:D.batchId,changes:zT(T)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(a.batchId),function(l,c,g){let _=l.oc[l.currentUser.toKey()];_||(_=new Wi(ci)),_=_.insert(c,g),l.oc[l.currentUser.toKey()]=_}(o,a.batchId,e),yield yd(o,a.changes),yield Sm(o.remoteStore)}catch(a){const l=Ny(a,"Failed to persist write");e.reject(l)}}),kC.apply(this,arguments)}function OC(i,t){return RC.apply(this,arguments)}function RC(){return RC=(0,st.Z)(function*(i,t){const e=tn(i);try{const o=yield WO(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.ic.get(l);c&&(Ln(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Xu=!0:a.modifiedDocuments.size>0?Ln(c.Xu):a.removedDocuments.size>0&&(Ln(c.Xu),c.Xu=!1))}),yield yd(e,o,t)}catch(o){yield gc(o)}}),RC.apply(this,arguments)}function sx(i,t,e){const o=tn(i);if(o.isPrimaryClient&&0===e||!o.isPrimaryClient&&1===e){const a=[];o.tc.forEach((l,c)=>{const g=c.view.Eu(t);g.snapshot&&a.push(g.snapshot)}),function(l,c){const g=tn(l);g.onlineState=c;let _=!1;g.queries.forEach((b,T)=>{for(const D of T.listeners)D.Eu(c)&&(_=!0)}),_&&Fy(g)}(o.eventManager,t),a.length&&o.Zu.Go(a),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function MI(i,t,e){return PC.apply(this,arguments)}function PC(){return PC=(0,st.Z)(function*(i,t,e){const o=tn(i);o.sharedClientState.updateQueryState(t,"rejected",e);const a=o.ic.get(t),l=a&&a.key;if(l){let c=new Wi(sn.comparator);c=c.insert(l,z.newNoDocument(l,jn.min()));const g=di().add(l),_=new py(jn.min(),new Map,new Yi(ci),c,g);yield OC(o,_),o.sc=o.sc.remove(l),o.ic.delete(t),LC(o)}else yield Em(o.localStore,t,!1).then(()=>Ly(o,t,e)).catch(gc)}),PC.apply(this,arguments)}function uR(i,t){return NC.apply(this,arguments)}function NC(){return NC=(0,st.Z)(function*(i,t){const e=tn(i),o=t.batch.batchId;try{const a=yield aI(e.localStore,t);Rp(e,o,null),Os(e,o),e.sharedClientState.updateMutationState(o,"acknowledged"),yield yd(e,a)}catch(a){yield gc(a)}}),NC.apply(this,arguments)}function AI(i,t,e){return ax.apply(this,arguments)}function ax(){return ax=(0,st.Z)(function*(i,t,e){const o=tn(i);try{const a=yield function(l,c){const g=tn(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return g.mutationQueue.lookupMutationBatch(_,c).next(T=>(Ln(null!==T),b=T.keys(),g.mutationQueue.removeMutationBatch(_,T))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>g.localDocuments.getDocuments(_,b))})}(o.localStore,t);Rp(o,t,e),Os(o,t),o.sharedClientState.updateMutationState(t,"rejected",e),yield yd(o,a)}catch(a){yield gc(a)}}),ax.apply(this,arguments)}function FC(){return FC=(0,st.Z)(function*(i,t){const e=tn(i);Qh(e.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(l){const c=tn(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.mutationQueue.getHighestUnacknowledgedBatchId(g))}(e.localStore);if(-1===o)return void t.resolve();const a=e.uc.get(o)||[];a.push(t),e.uc.set(o,a)}catch(o){const a=Ny(o,"Initialization of waitForPendingWrites() operation failed");t.reject(a)}}),FC.apply(this,arguments)}function Os(i,t){(i.uc.get(t)||[]).forEach(e=>{e.resolve()}),i.uc.delete(t)}function Rp(i,t,e){const o=tn(i);let a=o.oc[o.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),o.oc[o.currentUser.toKey()]=a}}function Ly(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const o of i.ec.get(t))i.tc.delete(o),e&&i.Zu.lc(o,e);i.ec.delete(t),i.isPrimaryClient&&i.rc.us(t).forEach(o=>{i.rc.containsKey(o)||OI(i,o)})}function OI(i,t){i.nc.delete(t.path.canonicalString());const e=i.sc.get(t);null!==e&&(Ry(i.remoteStore,e),i.sc=i.sc.remove(t),i.ic.delete(e),LC(i))}function RI(i,t,e){for(const o of e)o instanceof tx?(i.rc.addReference(o.key,t),lV(i,o)):o instanceof SI?(Ct("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,t),i.rc.containsKey(o.key)||OI(i,o.key)):Sn()}function lV(i,t){const e=t.key,o=e.path.canonicalString();i.sc.get(e)||i.nc.has(o)||(Ct("SyncEngine","New document in limbo: "+e),i.nc.add(o),LC(i))}function LC(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const t=i.nc.values().next().value;i.nc.delete(t);const e=new sn(Si.fromString(t)),o=i.cc.next();i.ic.set(o,new nx(e)),i.sc=i.sc.insert(e,o),n0(i.remoteStore,new Ep(Ja(qh(e.path)),o,2,Uo.ot))}}function yd(i,t,e){return Im.apply(this,arguments)}function Im(){return Im=(0,st.Z)(function*(i,t,e){const o=tn(i),a=[],l=[],c=[];var g;o.tc.isEmpty()||(o.tc.forEach((g,_)=>{c.push(o.hc(_,t,e).then(b=>{if(b){o.isPrimaryClient&&o.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),a.push(b);const T=EE.Vi(_.targetId,b);l.push(T)}}))}),yield Promise.all(c),o.Zu.Go(a),yield(g=(0,st.Z)(function*(_,b){const T=tn(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>Je.forEach(b,O=>Je.forEach(O.Pi,F=>T.persistence.referenceDelegate.addReference(D,O.targetId,F)).next(()=>Je.forEach(O.vi,F=>T.persistence.referenceDelegate.removeReference(D,O.targetId,F)))))}catch(D){if(!hu(D))throw D;Ct("LocalStore","Failed to update sequence numbers: "+D)}for(const D of b){const O=D.targetId;if(!D.fromCache){const F=T.$i.get(O),X=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);T.$i=T.$i.insert(O,X)}}}),function(_,b){return g.apply(this,arguments)})(o.localStore,l))}),Im.apply(this,arguments)}function dR(i,t){return l0.apply(this,arguments)}function l0(){return l0=(0,st.Z)(function*(i,t){const e=tn(i);if(!e.currentUser.isEqual(t)){Ct("SyncEngine","User change. New user:",t.toKey());const o=yield sI(e.localStore,t);e.currentUser=t,(a=e).uc.forEach(c=>{c.forEach(g=>{g.reject(new Mt(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.uc.clear(),e.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),yield yd(e,o.Ki)}var a}),l0.apply(this,arguments)}function hR(i,t){const e=tn(i),o=e.ic.get(t);if(o&&o.Xu)return di().add(o.key);{let a=di();const l=e.ec.get(t);if(!l)return a;for(const c of l){const g=e.tc.get(c);a=a.unionWith(g.view.qu)}return a}}function PI(i,t){return lx.apply(this,arguments)}function lx(){return lx=(0,st.Z)(function*(i,t){const e=tn(i),o=yield yC(e.localStore,t.query,!0),a=t.view.Ju(o);return e.isPrimaryClient&&RI(e,t.targetId,a.zu),a}),lx.apply(this,arguments)}function fR(i,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,st.Z)(function*(i,t){const e=tn(i);return dI(e.localStore,t).then(o=>yd(e,o))}),Pp.apply(this,arguments)}function pR(i,t,e,o){return c0.apply(this,arguments)}function c0(){return c0=(0,st.Z)(function*(i,t,e,o){const a=tn(i),l=yield function(c,g){const _=tn(c),b=tn(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.yn(T,g).next(D=>D?_.localDocuments.getDocuments(T,D):Je.resolve(null)))}(a.localStore,t);var g;null!==l?("pending"===e?yield Sm(a.remoteStore):"acknowledged"===e||"rejected"===e?(Rp(a,t,o||null),Os(a,t),g=t,tn(tn(a.localStore).mutationQueue).In(g)):Sn(),yield yd(a,l)):Ct("SyncEngine","Cannot apply mutation batch with id: "+t)}),c0.apply(this,arguments)}function VC(){return VC=(0,st.Z)(function*(i,t){const e=tn(i);if(HC(e),h0(e),!0===t&&!0!==e.ac){const o=e.sharedClientState.getAllActiveQueryTargets(),a=yield u0(e,o.toArray());e.ac=!0,yield TI(e.remoteStore,!0);for(const l of a)n0(e.remoteStore,l)}else if(!1===t&&!1!==e.ac){const o=[];let a=Promise.resolve();e.ec.forEach((l,c)=>{e.sharedClientState.isLocalQueryTarget(c)?o.push(c):a=a.then(()=>(Ly(e,c),Em(e.localStore,c,!0))),Ry(e.remoteStore,c)}),yield a,yield u0(e,o),function(l){const c=tn(l);c.ic.forEach((g,_)=>{Ry(c.remoteStore,_)}),c.rc.cs(),c.ic=new Map,c.sc=new Wi(sn.comparator)}(e),e.ac=!1,yield TI(e.remoteStore,!1)}}),VC.apply(this,arguments)}function u0(i,t,e){return d0.apply(this,arguments)}function d0(){return d0=(0,st.Z)(function*(i,t,e){const o=tn(i),a=[],l=[];for(const c of t){let g;const _=o.ec.get(c);if(_&&0!==_.length){g=yield My(o.localStore,Ja(_[0]));for(const b of _){const T=o.tc.get(b),D=yield PI(o,T);D.snapshot&&l.push(D.snapshot)}}else{const b=yield uI(o.localStore,c);g=yield My(o.localStore,b),yield a0(o,gR(b),c,!1)}a.push(g)}return o.Zu.Go(l),a}),d0.apply(this,arguments)}function gR(i){return _D(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function FI(i){const t=tn(i);return tn(tn(t.localStore).persistence).Ri()}function mR(i,t,e,o){return BC.apply(this,arguments)}function BC(){return BC=(0,st.Z)(function*(i,t,e,o){const a=tn(i);if(a.ac)return void Ct("SyncEngine","Ignoring unexpected query state notification.");const l=a.ec.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const c=yield dI(a.localStore,Hb(l[0])),g=py.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield yd(a,c,g);break}case"rejected":yield Em(a.localStore,t,!0),Ly(a,t,o);break;default:Sn()}}),BC.apply(this,arguments)}function Vy(i,t,e){return cx.apply(this,arguments)}function cx(){return cx=(0,st.Z)(function*(i,t,e){const o=HC(i);if(o.ac){for(const a of t){if(o.ec.has(a)){Ct("SyncEngine","Adding an already active target "+a);continue}const l=yield uI(o.localStore,a),c=yield My(o.localStore,l);yield a0(o,gR(l),c.targetId,!1),n0(o.remoteStore,c)}for(const a of e)o.ec.has(a)&&(yield Em(o.localStore,a,!1).then(()=>{Ry(o.remoteStore,a),Ly(o,a)}).catch(gc))}}),cx.apply(this,arguments)}function HC(i){const t=tn(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=OC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MI.bind(null,t),t.Zu.Go=sR.bind(null,t.eventManager),t.Zu.lc=MC.bind(null,t.eventManager),t}function h0(i){const t=tn(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AI.bind(null,t),t}class LI{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,st.Z)(function*(){e.wt=Oy(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return mC(this.persistence,new xE,t.initialUser,this.wt)}_c(t){return new rI(Jb.Ms,this.wt)}dc(t){return new RE}terminate(){var t=this;return(0,st.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class _R extends LI{constructor(t,e,o){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,o=this;return(0,st.Z)(function*(){yield e().call(o,t),yield o.yc.initialize(o,t),yield h0(o.yc.syncEngine),yield Sm(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return mC(this.persistence,new xE,t.initialUser,this.wt)}mc(t,e){return new FO(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const o=new ks(e,this.persistence);return new Ww(t.asyncQueue,o)}_c(t){const e=gC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ea.withCacheSize(this.cacheSizeBytes):Ea.DEFAULT;return new TE(this.synchronizeTabs,e,t.clientId,o,t.asyncQueue,FE(),Jh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new RE}}class yR extends _R{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,o=this;return(0,st.Z)(function*(){yield e().call(o,t);const a=o.yc.syncEngine;o.sharedClientState instanceof Xb&&(o.sharedClientState.syncEngine={kr:pR.bind(null,a),Or:mR.bind(null,a),Mr:Vy.bind(null,a),Ri:FI.bind(null,a),Nr:fR.bind(null,a)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var l=(0,st.Z)(function*(c){yield function NI(i,t){return VC.apply(this,arguments)}(o.yc.syncEngine,c),o.gcScheduler&&(c&&!o.gcScheduler.started?o.gcScheduler.start():c||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(c&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():c||o.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}dc(t){const e=FE();if(!Xb.V(e))throw new Mt(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=gC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Xb(e,t.asyncQueue,o,t.clientId,t.initialUser)}}class ux{initialize(t,e){var o=this;return(0,st.Z)(function*(){o.localStore||(o.localStore=t.localStore,o.sharedClientState=t.sharedClientState,o.datastore=o.createDatastore(e),o.remoteStore=o.createRemoteStore(e),o.eventManager=o.createEventManager(e),o.syncEngine=o.createSyncEngine(e,!t.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>sx(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=dR.bind(null,o.syncEngine),yield TI(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(t){return new oR}createDatastore(t){const e=Oy(t.databaseInfo.databaseId),o=new QO(t.databaseInfo);return new eR(t.authCredentials,t.appCheckCredentials,o,e)}createRemoteStore(t){return e=this.localStore,o=this.datastore,a=t.asyncQueue,l=g=>sx(this.syncEngine,g,0),c=fI.V()?new fI:new PE,new tR(e,o,a,l,c);var e,o,a,l,c}createSyncEngine(t,e){return function(o,a,l,c,g,_,b){const T=new ix(o,a,l,c,g,_);return b&&(T.ac=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,st.Z)(function*(e){const o=tn(e);Ct("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield xm(o),o.du.shutdown(),o._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function VI(i,t=10240){let e=0;return{read:()=>(0,st.Z)(function*(){if(e<i.byteLength){const o={value:i.slice(e,e+t),done:!1};return e+=t,o}return{done:!0}})(),cancel:()=>(0,st.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class f0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class BI{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new es,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,st.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,st.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,st.Z)(function*(){const e=yield t.bc();if(null===e)return null;const o=t.Ac.decode(e),a=Number(o);isNaN(a)&&t.Pc(`length string (${o}) is not valid number`);const l=yield t.vc(a);return new aR(JSON.parse(l),e.length+a)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,st.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const o=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),o})()}vc(t){var e=this;return(0,st.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const o=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),o})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,st.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const o=new Uint8Array(t.buffer.length+e.value.length);o.set(t.buffer),o.set(e.value,t.buffer.length),t.buffer=o}return e.done})()}}class vR{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,st.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Mt(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(a=(0,st.Z)(function*(l,c){const g=tn(l),_=yy(g.wt)+"/documents",b={documents:c.map(F=>_y(g.wt,F))},T=yield g.ao("BatchGetDocuments",_,b,c.length),D=new Map;T.forEach(F=>{const j=function QT(i,t){return"found"in t?function(e,o){Ln(!!o.found);const a=wa(e,o.found.name),l=ns(o.found.updateTime),c=new P({mapValue:{fields:o.found.fields}});return z.newFoundDocument(a,l,c)}(i,t):"missing"in t?function(e,o){Ln(!!o.missing),Ln(!!o.readTime);const a=wa(e,o.missing),l=ns(o.readTime);return z.newNoDocument(a,l)}(i,t):Sn()}(g.wt,F);D.set(j.key.toString(),j)});const O=[];return c.forEach(F=>{const j=D.get(F.toString());Ln(!!j),O.push(j)}),O}),function(l,c){return a.apply(this,arguments)})(e.datastore,t);var a;return o.forEach(a=>e.recordVersion(a)),o})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(t.toString())}delete(t){this.write(new Wh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,st.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var o;t.mutations.forEach(o=>{e.delete(o.key.toString())}),e.forEach((o,a)=>{const l=sn.fromPath(a);t.mutations.push(new dy(l,t.precondition(l)))}),yield(o=(0,st.Z)(function*(a,l){const c=tn(a),g=yy(c.wt)+"/documents",_={writes:l.map(b=>Ca(c.wt,b))};yield c.ro("Commit",g,_)}),function(a,l){return o.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Sn();e=jn.min()}const o=this.readVersions.get(t.key.toString());if(o){if(!e.isEqual(o))throw new Mt(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Xr.updateTime(e):Xr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(jn.min()))throw new Mt(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xr.updateTime(e)}return Xr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class HI{constructor(t,e,o,a,l){this.asyncQueue=t,this.datastore=e,this.options=o,this.updateFunction=a,this.deferred=l,this.Dc=o.maxAttempts,this.So=new LE(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,st.Z)(function*(){const e=new vR(t.datastore),o=t.xc(e);o&&o.then(a=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(a)}).catch(l=>{t.Nc(l)}))}).catch(a=>{t.Nc(a)})}))}xc(t){try{const e=this.updateFunction(t);return!fo(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!HT(e)}return!1}}class UI{constructor(t,e,o,a){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=o,this.databaseInfo=a,this.user=Qr.UNAUTHENTICATED,this.clientId=$w.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var c=(0,st.Z)(function*(g){Ct("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(o,c=>(Ct("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,st.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,st.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(o){const a=Ny(o,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}function jI(i,t){return dx.apply(this,arguments)}function dx(){return dx=(0,st.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const e=yield i.getConfiguration();yield t.initialize(e);let o=e.initialUser;i.setCredentialChangeListener(function(){var a=(0,st.Z)(function*(l){o.isEqual(l)||(yield sI(t.localStore,l),o=l)});return function(l){return a.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=t}),dx.apply(this,arguments)}function hx(i,t){return fx.apply(this,arguments)}function fx(){return fx=(0,st.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const e=yield UC(i);Ct("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield t.initialize(e,o),i.setCredentialChangeListener(a=>CI(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,l)=>CI(t.remoteStore,l)),i.onlineComponents=t}),fx.apply(this,arguments)}function UC(i){return jC.apply(this,arguments)}function jC(){return jC=(0,st.Z)(function*(i){return i.offlineComponents||(Ct("FirestoreClient","Using default OfflineComponentProvider"),yield jI(i,new LI)),i.offlineComponents}),jC.apply(this,arguments)}function p0(i){return zC.apply(this,arguments)}function zC(){return zC=(0,st.Z)(function*(i){return i.onlineComponents||(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield hx(i,new ux)),i.onlineComponents}),zC.apply(this,arguments)}function zI(i){return UC(i).then(t=>t.persistence)}function px(i){return UC(i).then(t=>t.localStore)}function bR(i){return p0(i).then(t=>t.remoteStore)}function GC(i){return p0(i).then(t=>t.syncEngine)}function g0(i){return GI.apply(this,arguments)}function GI(){return GI=(0,st.Z)(function*(i){const t=yield p0(i),e=t.eventManager;return e.onListen=II.bind(null,t.syncEngine),e.onUnlisten=lR.bind(null,t.syncEngine),e}),GI.apply(this,arguments)}function wR(i,t,e={}){const o=new es;return i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return function(a,l,c,g,_){const b=new f0({next:D=>{l.enqueueAndForget(()=>JE(a,T));const O=D.docs.has(c);!O&&D.fromCache?_.reject(new Mt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&D.fromCache&&g&&"server"===g.source?_.reject(new Mt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),T=new XE(qh(c.path),b,{includeMetadataChanges:!0,Du:!0});return o0(a,T)}(yield g0(i),i.asyncQueue,t,e,o)})),o.promise}function CR(i,t,e={}){const o=new es;return i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return function(a,l,c,g,_){const b=new f0({next:D=>{l.enqueueAndForget(()=>JE(a,T)),D.fromCache&&"server"===g.source?_.reject(new Mt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),T=new XE(c,b,{includeMetadataChanges:!0,Du:!0});return o0(a,T)}(yield g0(i),i.asyncQueue,t,e,o)})),o.promise}const gx=new Map;function $C(i,t,e){if(!e)throw new Mt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function TR(i,t,e,o){if(!0===t&&!0===o)throw new Mt(ot.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function WC(i){if(!sn.isDocumentKey(i))throw new Mt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mx(i){if(sn.isDocumentKey(i))throw new Mt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function YC(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(e=i).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof i?"a function":Sn()}function Ni(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Mt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=YC(i);throw new Mt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function ER(i,t){if(t<=0)throw new Mt(ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}class ZI{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Mt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,TR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class m0{constructor(t,e,o){this._authCredentials=e,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZI({}),this._settingsFrozen=!1,t instanceof Zs?this._databaseId=t:(this._app=t,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Mt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(a.options.projectId)}(t))}get app(){if(!this._app)throw new Mt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Mt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZI(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new xT;switch(e.type){case"gapi":const o=e.client;return Ln(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ob(o,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Mt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=gx.get(t);e&&(Ct("ComponentProvider","Removing Datastore"),gx.delete(t),e.terminate())}(this),Promise.resolve()}}class ur{constructor(t,e,o){this.converter=e,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ur(this.firestore,t,this._key)}}class $s{constructor(t,e,o){this.converter=e,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new $s(this.firestore,t,this._query)}}class Xh extends $s{constructor(t,e,o){super(t,e,qh(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ur(this.firestore,null,new sn(t))}withConverter(t){return new Xh(this.firestore,t,this._path)}}function $I(i,t,...e){if(i=(0,W.m9)(i),$C("collection","path",t),i instanceof m0){const o=Si.fromString(t,...e);return mx(o),new Xh(i,null,o)}{if(!(i instanceof ur||i instanceof Xh))throw new Mt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Si.fromString(t,...e));return mx(o),new Xh(i.firestore,null,o)}}function _0(i,t,...e){if(i=(0,W.m9)(i),1===arguments.length&&(t=$w.I()),$C("doc","path",t),i instanceof m0){const o=Si.fromString(t,...e);return WC(o),new ur(i,null,new sn(o))}{if(!(i instanceof ur||i instanceof Xh))throw new Mt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Si.fromString(t,...e));return WC(o),new ur(i.firestore,i instanceof Xh?i.converter:null,new sn(o))}}function WI(i,t){return i=(0,W.m9)(i),t=(0,W.m9)(t),(i instanceof ur||i instanceof Xh)&&(t instanceof ur||t instanceof Xh)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function YI(i,t){return i=(0,W.m9)(i),t=(0,W.m9)(t),i instanceof $s&&t instanceof $s&&i.firestore===t.firestore&&Qa(i._query,t._query)&&i.converter===t.converter}class mV{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new LE(this,"async_queue_retry"),this.Kc=()=>{const e=Jh();e&&Ct("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=Jh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=Jh();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new es;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Mc.push(t),this.jc()))}jc(){var t=this;return(0,st.Z)(function*(){if(0!==t.Mc.length){try{yield t.Mc[0](),t.Mc.shift(),t.So.reset()}catch(e){if(!hu(e))throw e;Ct("AsyncQueue","Operation failed with retryable error: "+e)}t.Mc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Oc.then(()=>(this.Lc=!0,t().catch(o=>{throw this.Bc=o,this.Lc=!1,vi("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=e,e}enqueueAfterDelay(t,e,o){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const a=KE.createAndSchedule(this,t,e,o,l=>this.Wc(l));return this.$c.push(a),a}Gc(){this.Bc&&Sn()}verifyOperationInProgress(){}zc(){var t=this;return(0,st.Z)(function*(){let e;do{e=t.Oc,yield e}while(e!==t.Oc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,o)=>e.targetTimeMs-o.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function _x(i){return function(t,e){if("object"!=typeof t||null===t)return!1;const o=t;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(i)}class KI{constructor(){this._progressObserver={},this._taskCompletionResolver=new es,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,o){this._progressObserver={next:t,error:e,complete:o}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class eo extends m0{constructor(t,e,o){super(t,e,o),this.type="firestore",this._queue=new mV,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QI(this),this._firestoreClient.terminate()}}function SR(i=(0,Wn.getApp)()){return(0,Wn._getProvider)(i,"firestore").getImmediate()}function po(i){return i._firestoreClient||QI(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function QI(i){var t;const e=i._freezeSettings(),o=(l=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new X_(i._databaseId,l,i._persistenceKey,(g=e).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;i._firestoreClient=new UI(i._authCredentials,i._appCheckCredentials,i._queue,o)}function KC(i,t,e){const o=new es;return i.asyncQueue.enqueue((0,st.Z)(function*(){try{yield jI(i,e),yield hx(i,t),o.resolve()}catch(a){const l=a;if(!("FirebaseError"===(c=l).name?c.code===ot.FAILED_PRECONDITION||c.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var c})).then(()=>o.promise)}function vx(i){if(i._initialized||i._terminated)throw new Mt(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ef{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Mt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bd(ho.fromBase64String(t))}catch(e){throw new Mt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new bd(ho.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class tf{constructor(t){this._methodName=t}}class vu{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ci(this._lat,t._lat)||ci(this._long,t._long)}}const tM=/^__.*__$/;class bx{constructor(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}toMutation(t,e){return null!==this.fieldMask?new wc(t,this.data,this.fieldMask,e,this.fieldTransforms):new uy(t,this.data,e,this.fieldTransforms)}}class wd{constructor(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}toMutation(t,e){return new wc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function nM(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sn()}}class wx{constructor(t,e,o,a,l,c){this.settings=t,this.databaseId=e,this.wt=o,this.ignoreUndefinedProperties=a,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new wx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const o=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.ta({path:o,na:!1});return a.sa(t),a}ia(t){var e;const o=null===(e=this.path)||void 0===e?void 0:e.child(t),a=this.ta({path:o,na:!1});return a.Xc(),a}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return e1(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(nM(this.Zc)&&tM.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class RR{constructor(t,e,o){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=o||Oy(t)}aa(t,e,o,a=!1){return new wx({Zc:t,methodName:e,ca:o,path:_r.emptyPath(),na:!1,ua:a},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Mm(i){const t=i._freezeSettings(),e=Oy(i._databaseId);return new RR(i._databaseId,!!t.ignoreUndefinedProperties,e)}function JC(i,t,e,o,a,l={}){const c=i.aa(l.merge||l.mergeFields?2:0,t,e,a);QC("Data must be an object, but it was:",c,o);const g=aM(o,c);let _,b;if(l.merge)_=new va(c.fieldMask),b=c.fieldTransforms;else if(l.mergeFields){const T=[];for(const D of l.mergeFields){const O=By(t,D,e);if(!c.contains(O))throw new Mt(ot.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);xx(T,O)||T.push(O)}_=new va(T),b=c.fieldTransforms.filter(D=>_.covers(D.field))}else _=null,b=c.fieldTransforms;return new bx(new P(g),_,b)}class y0 extends tf{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof y0}}function Cx(i,t,e){return new wx({Zc:3,ca:t.settings.ca,methodName:i._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class iM extends tf{_toFieldTransform(t){return new ly(t.path,new mu)}isEqual(t){return t instanceof iM}}class rM extends tf{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=Cx(this,t,!0),o=this.ha.map(l=>Np(l,e)),a=new bc(o);return new ly(t.path,a)}isEqual(t){return this===t}}class PR extends tf{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=Cx(this,t,!0),o=this.ha.map(l=>Np(l,e)),a=new Tp(o);return new ly(t.path,a)}isEqual(t){return this===t}}class oM extends tf{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new _m(t.wt,gm(t.wt,this.la));return new ly(t.path,e)}isEqual(t){return this===t}}function sM(i,t,e,o){const a=i.aa(1,t,e);QC("Data must be an object, but it was:",a,o);const l=[],c=P.empty();_p(o,(_,b)=>{const T=b0(t,_,e);b=(0,W.m9)(b);const D=a.ia(T);if(b instanceof y0)l.push(T);else{const O=Np(b,D);null!=O&&(l.push(T),c.set(T,O))}});const g=new va(l);return new wd(c,g,a.fieldTransforms)}function v0(i,t,e,o,a,l){const c=i.aa(1,t,e),g=[By(t,o,e)],_=[a];if(l.length%2!=0)throw new Mt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<l.length;O+=2)g.push(By(t,l[O])),_.push(l[O+1]);const b=[],T=P.empty();for(let O=g.length-1;O>=0;--O)if(!xx(b,g[O])){const F=g[O];let j=_[O];j=(0,W.m9)(j);const X=c.ia(F);if(j instanceof y0)b.push(F);else{const se=Np(j,X);null!=se&&(b.push(F),T.set(F,se))}}const D=new va(b);return new wd(T,D,c.fieldTransforms)}function Tx(i,t,e,o=!1){return Np(e,i.aa(o?4:3,t))}function Np(i,t){if(Ex(i=(0,W.m9)(i)))return QC("Unsupported field value:",t,i),aM(i,t);if(i instanceof tf)return function(e,o){if(!nM(o.Zc))throw o.oa(`${e._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${e._methodName}() is not currently supported inside arrays`);const a=e._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,o){const a=[];let l=0;for(const c of e){let g=Np(c,o.ra(l));null==g&&(g={nullValue:"NULL_VALUE"}),a.push(g),l++}return{arrayValue:{values:a}}}(i,t)}return function(e,o){if(null===(e=(0,W.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gm(o.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const a=ar.fromDate(e);return{timestampValue:my(o.wt,a)}}if(e instanceof ar){const a=new ar(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:my(o.wt,a)}}if(e instanceof vu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bd)return{bytesValue:AD(o.wt,e._byteString)};if(e instanceof ur){const a=o.databaseId,l=e.firestore._databaseId;if(!l.isEqual(a))throw o.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:WT(e.firestore._databaseId||o.databaseId,e._key.path)}}throw o.oa(`Unsupported field value: ${YC(e)}`)}(i,t)}function aM(i,t){const e={};return fu(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_p(i,(o,a)=>{const l=Np(a,t.ea(o));null!=l&&(e[o]=l)}),{mapValue:{fields:e}}}function Ex(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ar||i instanceof vu||i instanceof bd||i instanceof ur||i instanceof tf)}function QC(i,t,e){if(!Ex(e)||"object"!=typeof(o=e)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=YC(e);throw t.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function By(i,t,e){if((t=(0,W.m9)(t))instanceof ef)return t._internalPath;if("string"==typeof t)return b0(i,t);throw e1("Field path arguments must be of type string or ",i,!1,void 0,e)}const XC=new RegExp("[~\\*/\\[\\]]");function b0(i,t,e){if(t.search(XC)>=0)throw e1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new ef(...t.split("."))._internalPath}catch{throw e1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function e1(i,t,e,o,a){const l=o&&!o.isEmpty(),c=void 0!==a;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${o}`),c&&(_+=` in document ${a}`),_+=")"),new Mt(ot.INVALID_ARGUMENT,g+i+_)}function xx(i,t){return i.some(e=>e.isEqual(t))}class Hy{constructor(t,e,o,a,l){this._firestore=t,this._userDataWriter=e,this._key=o,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new NR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(t1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class NR extends Hy{data(){return super.data()}}function t1(i,t){return"string"==typeof t?b0(i,t):t instanceof ef?t._internalPath:t._delegate._internalPath}class Uy{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fp extends Hy{constructor(t,e,o,a,l,c){super(t,e,o,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new jy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const o=this._document.data.field(t1("DocumentSnapshot.get",t));if(null!==o)return this._userDataWriter.convertValue(o,e.serverTimestamps)}}}class jy extends Fp{data(t={}){return super.data(t)}}class Lp{constructor(t,e,o,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Uy(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(o=>{t.call(e,new jy(this._firestore,this._userDataWriter,o.key,o,new Uy(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(c=>({type:"added",doc:new jy(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Uy(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>a||3!==c.type).map(c=>{const g=new jy(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Uy(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),b=l.indexOf(c.doc.key)),{type:FR(c.type),doc:g,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function FR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sn()}}function lM(i,t){return i instanceof Fp&&t instanceof Fp?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Lp&&t instanceof Lp&&i._firestore===t._firestore&&YI(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function LR(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Mt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n1{}function Am(i,...t){for(const e of t)i=e._apply(i);return i}class _V extends n1{constructor(t,e,o){super(),this.fa=t,this.da=e,this._a=o,this.type="where"}_apply(t){const e=Mm(t.firestore),o=function(a,l,c,g,_,b,T){let D;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Mt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){UR(T,b);const F=[];for(const j of T)F.push(w0(g,a,j));D={arrayValue:{values:F}}}else D=w0(g,a,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||UR(T,b),D=Tx(c,"where",T,"in"===b||"not-in"===b);const O=yn.create(_,b,D);return function(F,j){if(j.ht()){const se=hm(F);if(null!==se&&!se.isEqual(j.field))throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${j.field.toString()}'`);const ke=yD(F);null!==ke&&jR(0,j.field,ke)}const X=function(se,ke){for(const We of se.filters)if(ke.indexOf(We.op)>=0)return We.op;return null}(F,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==X)throw new Mt(ot.INVALID_ARGUMENT,X===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${X.toString()}' filters.`)}(a,O),O}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new $s(t.firestore,t.converter,function(a,l){const c=a.filters.concat([l]);return new Gh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),c,a.limit,a.limitType,a.startAt,a.endAt)}(t._query,o))}}class VR extends n1{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(o,a,l){if(null!==o.startAt)throw new Mt(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Mt(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new iy(a,l);return function(g,_){if(null===yD(g)){const b=hm(g);null!==b&&jR(0,b,_.field)}}(o,c),c}(t._query,this.fa,this.wa);return new $s(t.firestore,t.converter,function(o,a){const l=o.explicitOrderBy.concat([a]);return new Gh(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,e))}}class cM extends n1{constructor(t,e,o){super(),this.type=t,this.ma=e,this.ga=o}_apply(t){return new $s(t.firestore,t.converter,vD(t._query,this.ma,this.ga))}}class Vp extends n1{constructor(t,e,o){super(),this.type=t,this.ya=e,this.pa=o}_apply(t){const e=s1(t,this.type,this.ya,this.pa);return new $s(t.firestore,t.converter,(a=e,new Gh((o=t._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)));var o,a}}class o1 extends n1{constructor(t,e,o){super(),this.type=t,this.ya=e,this.pa=o}_apply(t){const e=s1(t,this.type,this.ya,this.pa);return new $s(t.firestore,t.converter,(a=e,new Gh((o=t._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)));var o,a}}function s1(i,t,e,o){if(e[0]=(0,W.m9)(e[0]),e[0]instanceof Hy)return function(a,l,c,g,_){if(!g)throw new Mt(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of ry(a))if(T.field.isKeyField())b.push(zh(l,g.key));else{const D=g.data.field(T.field);if(Ya(D))throw new Mt(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const O=T.field.canonicalString();throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(D)}return new fd(b,_)}(i._query,i.firestore._databaseId,t,e[0]._document,o);{const a=Mm(i.firestore);return function(l,c,g,_,b,T){const D=l.explicitOrderBy;if(b.length>D.length)throw new Mt(ot.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let F=0;F<b.length;F++){const j=b[F];if(D[F].field.isKeyField()){if("string"!=typeof j)throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof j}`);if(!kT(l)&&-1!==j.indexOf("/"))throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${j}' contains a slash.`);const X=l.path.child(Si.fromString(j));if(!sn.isDocumentKey(X))throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const se=new sn(X);O.push(zh(c,se))}else{const X=Tx(g,_,j);O.push(X)}}return new fd(O,T)}(i._query,i.firestore._databaseId,a,t,e,o)}}function w0(i,t,e){if("string"==typeof(e=(0,W.m9)(e))){if(""===e)throw new Mt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kT(t)&&-1!==e.indexOf("/"))throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const o=t.path.child(Si.fromString(e));if(!sn.isDocumentKey(o))throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return zh(i,new sn(o))}if(e instanceof ur)return zh(i,e._key);throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YC(e)}.`)}function UR(i,t){if(!Array.isArray(i)||0===i.length)throw new Mt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(i.length>10)throw new Mt(ot.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function jR(i,t,e){if(!e.isEqual(t))throw new Mt(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const vV={maxAttempts:5};class hM{convertValue(t,e="none"){switch(Ml(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ir(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Sn()}}convertObject(t,e){const o={};return _p(t.fields,(a,l)=>{o[a]=this.convertValue(l,e)}),o}convertGeoPoint(t){return new vu(Ir(t.latitude),Ir(t.longitude))}convertArray(t,e){return(t.values||[]).map(o=>this.convertValue(o,e))}convertServerTimestamp(t,e){switch(e){case"previous":const o=cm(t);return null==o?null:this.convertValue(o,e);case"estimate":return this.convertTimestamp(bp(t));default:return null}}convertTimestamp(t){const e=gu(t);return new ar(e.seconds,e.nanos)}convertDocumentKey(t,e){const o=Si.fromString(t);Ln(iE(o));const a=new Zs(o.get(1),o.get(3)),l=new sn(o.popFirst(5));return a.isEqual(e)||vi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function C0(i,t,e){let o;return o=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,o}class zR extends hM{constructor(t){super(),this.firestore=t}convertBytes(t){return new bd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ur(this.firestore,null,e)}}class fM{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Mm(t)}set(t,e,o){this._verifyNotCommitted();const a=Bp(t,this._firestore),l=C0(a.converter,e,o),c=JC(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,o);return this._mutations.push(c.toMutation(a._key,Xr.none())),this}update(t,e,o,...a){this._verifyNotCommitted();const l=Bp(t,this._firestore);let c;return c="string"==typeof(e=(0,W.m9)(e))||e instanceof ef?v0(this._dataReader,"WriteBatch.update",l._key,e,o,a):sM(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(c.toMutation(l._key,Xr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Bp(t,this._firestore);return this._mutations=this._mutations.concat(new Wh(e._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bp(i,t){if((i=(0,W.m9)(i)).firestore!==t)throw new Mt(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Hp extends hM{constructor(t){super(),this.firestore=t}convertBytes(t){return new bd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ur(this.firestore,null,e)}}function T0(i,t,e){i=Ni(i,ur);const o=Ni(i.firestore,eo),a=C0(i.converter,t,e);return E0(o,[JC(Mm(o),"setDoc",i._key,a,null!==i.converter,e).toMutation(i._key,Xr.none())])}function _M(i,t,e,...o){i=Ni(i,ur);const a=Ni(i.firestore,eo),l=Mm(a);let c;return c="string"==typeof(t=(0,W.m9)(t))||t instanceof ef?v0(l,"updateDoc",i._key,t,e,o):sM(l,"updateDoc",i._key,t),E0(a,[c.toMutation(i._key,Xr.exists(!0))])}function Ix(i){return E0(Ni(i.firestore,eo),[new Wh(i._key,Xr.none())])}function a1(i,t){const e=Ni(i.firestore,eo),o=_0(i),a=C0(i.converter,t);return E0(e,[JC(Mm(i.firestore),"addDoc",o._key,a,null!==i.converter,{}).toMutation(o._key,Xr.exists(!1))]).then(()=>o)}function Mx(i,...t){var e,o,a;i=(0,W.m9)(i);let l={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||_x(t[c])||(l=t[c],c++);const g={includeMetadataChanges:l.includeMetadataChanges};if(_x(t[c])){const D=t[c];t[c]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[c+1]=null===(o=D.error)||void 0===o?void 0:o.bind(D),t[c+2]=null===(a=D.complete)||void 0===a?void 0:a.bind(D)}let _,b,T;if(i instanceof ur)b=Ni(i.firestore,eo),T=qh(i._key.path),_={next:D=>{t[c]&&t[c](yM(b,i,D))},error:t[c+1],complete:t[c+2]};else{const D=Ni(i,$s);b=Ni(D.firestore,eo),T=D._query;const O=new Hp(b);_={next:F=>{t[c]&&t[c](new Lp(b,O,D,F))},error:t[c+1],complete:t[c+2]},LR(i._query)}return function(D,O,F,j){const X=new f0(j),se=new XE(O,X,F);return D.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return o0(yield g0(D),se)})),()=>{X.Tc(),D.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return JE(yield g0(D),se)}))}}(po(b),T,g,_)}function E0(i,t){return function(e,o){const a=new es;return e.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return function cR(i,t,e){return kC.apply(this,arguments)}(yield GC(e),o,a)})),a.promise}(po(i),t)}function yM(i,t,e){const o=e.docs.get(t._key),a=new Hp(i);return new Fp(i,a,t._key,o,new Uy(e.hasPendingWrites,e.fromCache),t.converter)}class WR extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mm(t)}get(t){const e=Bp(t,this._firestore),o=new zR(this._firestore);return this._transaction.lookup([e._key]).then(a=>{if(!a||1!==a.length)return Sn();const l=a[0];if(l.isFoundDocument())return new Hy(this._firestore,o,l.key,l,e.converter);if(l.isNoDocument())return new Hy(this._firestore,o,e._key,null,e.converter);throw Sn()})}set(t,e,o){const a=Bp(t,this._firestore),l=C0(a.converter,e,o),c=JC(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,o);return this._transaction.set(a._key,c),this}update(t,e,o,...a){const l=Bp(t,this._firestore);let c;return c="string"==typeof(e=(0,W.m9)(e))||e instanceof ef?v0(this._dataReader,"Transaction.update",l._key,e,o,a):sM(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,c),this}delete(t){const e=Bp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Bp(t,this._firestore),o=new Hp(this._firestore);return super.get(t).then(a=>new Fp(this._firestore,o,e._key,a._document,new Uy(!1,!1),e.converter))}}!function(i,t=!0){rm=Wn.SDK_VERSION,(0,Wn._registerComponent)(new Zn.wA("firestore",(e,{options:o})=>{const a=e.getProvider("app").getImmediate(),l=new eo(a,new pD(e.getProvider("auth-internal")),new DT(e.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:t},o),l._setSettings(o),l},"PUBLIC")),(0,Wn.registerVersion)(im,"3.4.13",i),(0,Wn.registerVersion)(im,"3.4.13","esm2017")}();var dn=q(4004),xV={includeMetadataChanges:!1};function vM(i,t){return void 0===t&&(t=xV),new qi.y(function(e){return{unsubscribe:Mx(i,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}function DV(i,t){return void 0===t&&(t={}),function SV(i){return vM(i,{includeMetadataChanges:!0})}(i).pipe((0,dn.U)(function(e){return h(e,t)}))}function h(i,t){void 0===t&&(t={});var e=i.data();return!i.exists()||"object"!=typeof e||null===e||t.idField&&(e[t.idField]=i.id),e}function Ze(i,t){return void 0===t&&(t={}),function te(i){return vM(i,{includeMetadataChanges:!0}).pipe((0,dn.U)(function(t){return t.docs}))}(i).pipe((0,dn.U)(function(e){return e.map(function(o){return h(o,t)})}))}class _t{constructor(t){return t}}const Nt="firestore",Yn=new s.OlP("angularfire2.firestore-instances");function Gn(i){return(t,e)=>{const o=t.runOutsideAngular(()=>i(e));return new _t(o)}}const Fi={provide:class un{constructor(){return(0,wt.vb)(Nt)}},deps:[[new s.FiY,Yn]]},Lr={provide:_t,useFactory:function At(i,t){const e=(0,wt.JM)(Nt,i,t);return e&&new _t(e)},deps:[[new s.FiY,Yn],$i]};let km=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"fst")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Lr,Fi]}),i})();function Ax(i,...t){return{ngModule:km,providers:[{provide:Yn,useFactory:Gn(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,[new s.FiY,Ku],[new s.FiY,ua],...t]}]}}const bu=(0,wt.u3)(Ze,!0),l1=(0,wt.u3)(DV,!0),Nq=(0,wt.u3)(a1,!0),Up=(0,wt.u3)($I,!0),x0=(0,wt.u3)(Ix,!0),Mr=(0,wt.u3)(_0,!0),Fq=(0,wt.u3)(SR,!0),wu=(0,wt.u3)(T0,!0),c1=(0,wt.u3)(_M,!0),u1=q(2707);class S0{static init(t){return u1.default.initializeApp(t),[]}static getFirestore(){return u1.default.firestore()}static _getFirestore(){return u1.default.firestore}static getAuth(){return u1.default.auth()}static getStorage(){return u1.default.storage()}static getFirestoreTimestamp(){return u1.default.firestore.Timestamp.now()}}q(8739);class IV{constructor(){this.listeners=new Map}appendArray(t){return S0._getFirestore().FieldValue.arrayUnion(t)}increment(t){return S0._getFirestore().FieldValue.increment(t)}genDocId(){return S0.getFirestore().collection("TEMP").doc().id}all(t){const e=S0.getFirestore().batch();for(let o of t.operations)o.getOperation(e);return new Promise((o,a)=>{e.commit().then(()=>{try{t.onComplete()}catch{}o()}).catch(l=>{try{t.onFail(l)}catch{}a(l)})})}create(t){return new Promise((e,o)=>{if(null==t.data||null==t.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let a=this.genCollectionReference(t.path).doc();a.set(t.data).then(()=>{try{t.onComplete(a.id)}catch{}e(a.id)}).catch(l=>{try{t.onFail(l)}catch{}o(l)})}else if(this.isDocumentPath(t.path)){let a=this.genDocumentReference(t.path);a.set(t.data).then(()=>{try{t.onComplete(a.id)}catch{}e(a.id)}).catch(l=>{try{t.onFail(l)}catch{}o(l)})}})}delete(t){return new Promise((e,o)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch{}e()}).catch(a=>{try{t.onFail(a)}catch{}o(a)})})}update(t){return new Promise((e,o)=>{this.checkDocumentPathValidity(t.path);const a=this.genDocumentReference(t.path);a.update(t.data).then(()=>{try{t.onComplete(a)}catch{}e(a)}).catch(l=>{try{t.onFail(l)}catch{}o(l)})})}getCollection(t){let e=this.genCollectionReference(t.path);return new Promise((null!=t.where||null!=t.where)&&t.where.length>0?(o,a)=>{let l;const c=Array(t.where)[0];for(let g=0;g<c.length;g++)l=null==l?c[g].getQuery(e):c[g].concatQuery(l);l.get().then(g=>{try{t.onComplete(g)}catch{}o(g)}).catch(g=>{try{t.onFail(g)}catch{}a(g)})}:(o,a)=>{e.get().then(l=>{try{t.onComplete(l)}catch{}o(l)}).catch(l=>{try{t.onFail(l)}catch{}a(l)})})}getDocument(t){return new Promise((e,o)=>{this.genDocumentReference(t.path).get().then(a=>{try{t.onComplete(a)}catch{}e(a)}).catch(a=>{try{t.onFail(a)}catch{}o(a)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(e=>{try{t.onUpdate(e)}catch{}}))}listenToCollection(t){this.validateListenerName(t.name);let e=this.genCollectionReference(t.path);if((null!=t.where||null!=t.where)&&t.where.length>0){let o;const a=Array(t.where)[0];for(let l=0;l<a.length;l++)o=null==o?a[l].getQuery(e):a[l].concatQuery(o);this.addListener(t.name,o.onSnapshot(l=>{try{t.onUpdate(l)}catch{}}))}else this.addListener(t.name,e.onSnapshot(o=>{try{t.onUpdate(o)}catch{}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);const e=Array(t)[0];let o,a;for(let l=0;l<e.length;l++)l%2==0?o=null==o?S0.getFirestore().collection(e[l]):a.collection(e[l]):a=o.doc(e[l]);return o}genDocumentReference(t){this.checkDocumentPathValidity(t);const e=Array(t)[0];let o,a;for(let l=0;l<e.length;l++)l%2==0?o=null==o?S0.getFirestore().collection(e[l]):a.collection(e[l]):a=o.doc(e[l]);return a}addListener(t,e){return this.listeners.set(t,e),e}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch{}}stopListeningToAll(){this.listeners.forEach((t,e,o)=>{this.stopListeningTo(e)})}validateListenerName(t){if(null==t||null==t||"string"!=typeof t||t.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(t))throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(null==t||null==t||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(null==t||null==t||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}}let jp=(()=>{class i{constructor(e){this.firestore=e,this.firestoreDB=new IV}setProductsFromAllProducts(e){const o=Mr(this.firestore,`products/${e.id}`);return wu(o,e)}deleteProductCollectionFromAllProducts(e){const o=Mr(this.firestore,"products");return x0(o)}deleteProductIDFromAllProducts(e){const o=Mr(this.firestore,`products/${e.id}`);return x0(o)}updateProductIDFromAllProducts(e){const o=Mr(this.firestore,`products/${e.id}`);return wu(o,e)}getProductByIDFromAllProducts(e){const o=Mr(this.firestore,`products/${e}`);return l1(o,{idField:"id"})}setProductsFromDiscountedProducts(e){const o=Mr(this.firestore,`discountedProducts/${e.id}`);return wu(o,e)}deleteProductCollectionFromDiscountedProducts(e){const o=Mr(this.firestore,"discountedProducts");return x0(o)}deleteProductIDFromDiscountedProducts(e){const o=Mr(this.firestore,`discountedProducts/${e.id}`);return x0(o)}updateProductIDFromDiscountedProducts(e){const o=Mr(this.firestore,`discountedProducts/${e.id}`);return wu(o,e)}getProductByIDFromDiscountedProducts(e){const o=Mr(this.firestore,`discountedProducts/${e}`);return l1(o,{idField:"id"})}addToCart(e){const o=Up(this.firestore,"cart");return Nq(o,e)}setCart(e,o){const a=Mr(this.firestore,`${e}_cart/${o.id}`);return wu(a,o)}getCart(e){const o=Up(this.firestore,`${e}_cart`);return bu(o,{idField:"id"})}updateCartPriceQuantity(e,o,a,l){const c=Mr(this.firestore,`${e}_cart/${o}`);return c1(c,{quantity:a,totalPrice:l})}populateWithFirebaseTSFirestore(e){this.firestoreDB.create({path:["Cart",e.id],data:{id:e.id,placeholderImg:e.placeholderImg,title:e.title,variations:e.variations,oldPrice:e.oldPrice,discountedPrice:e.discountedPrice,quantity:e.quantity,totalPrice:e.totalPrice},onComplete:o=>{},onFail:o=>{alert(o.message)}})}deleteCartItem(e,o){const a=Mr(this.firestore,`${e}_cart/${o}`);return x0(a)}populateVoucher(e){const o=Mr(this.firestore,`voucher/${e.type}`);return wu(o,e)}getVouchers(){const e=Up(this.firestore,"voucher");return bu(e,{idField:"type"})}setSelectedVouchers(e){const o=Mr(this.firestore,`selectedVoucher/${e.id}`);return wu(o,e)}getSelectedVouchers(){const e=Up(this.firestore,"selectedVoucher");return bu(e,{idField:"id"})}getUserData(){const e=Up(this.firestore,"users");return bu(e,{idField:"id"})}updateName(e,o){const a=Mr(this.firestore,`users/${e}`);return c1(a,{displayName:o})}updateProfileImage(e,o){const a=Mr(this.firestore,`users/${o}`);return c1(a,{photoURL:e})}setUserDetails(e,o){const a=Mr(this.firestore,`userDetails/${e}`);return wu(a,o)}getUserDetails(e){const o=Up(this.firestore,"userDetails");return bu(o,{idField:"id"})}updateUserDetails(e,o){const a=Mr(this.firestore,`userDetails/${e}`);return c1(a,{address:o})}storeUserCard(e,o){console.log(o.id);const a=Mr(this.firestore,`${e}/${o.id}`);return wu(a,o)}getUserCard(e){const o=Up(this.firestore,`${e}`);return bu(o,{idField:"id"})}deleteCard(e,o){let a=parseInt(o);const l=Mr(this.firestore,`${e}/${a}`);return x0(l)}addAddress(e,o,a){const l=Mr(this.firestore,`${e}+_address/${o}`);return wu(l,a)}getUserAddress(e){const o=Up(this.firestore,`${e}+_address`);return bu(o,{idField:"id"})}updateAddress(e,o,a){const l=Mr(this.firestore,`${e}+_address/${o}`);return c1(l,{address:a})}deleteAddress(e,o){const a=Mr(this.firestore,`${e}+_address/${o}`);return x0(a)}setBalance(e,o){const a=Mr(this.firestore,`balance/${e}`);return wu(a,{balance:o})}getBalance(){const e=Up(this.firestore,"balance");return bu(e,{idField:"email"})}updateBalance(e,o){const a=Mr(this.firestore,`balance/${e}`);return c1(a,{balance:o})}setUserPaymentMethod(e,o){const a=Mr(this.firestore,`paymentMtd/${e}`);return wu(a,{paymentMtd:o})}setUserOrder(e,o,a){const l=Mr(this.firestore,`order_${e}/${a}`);return wu(l,o)}getUserOrder(e){const o=Up(this.firestore,`order_${e}`);return bu(o,{idField:"id"})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(_t))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var d1=q(4986),dr=q(8996),zy=q(3269);function fn(...i){const t=(0,zy.yG)(i);return(0,dr.D)(i,t)}var kx=q(8189);function h1(...i){return function Lq(){return(0,kx.J)(1)}()((0,dr.D)(i,(0,zy.yG)(i)))}var Go=q(4482);function zp(...i){const t=(0,zy.yG)(i);return(0,Go.e)((e,o)=>{(t?h1(i,e,t):h1(i,e)).subscribe(o)})}var Ar=q(5403);function SM(){return(0,Go.e)((i,t)=>{let e,o=!1;i.subscribe((0,Ar.x)(t,a=>{const l=e;e=a,o&&t.next([l,a]),o=!0}))})}function Vq(i,t,e,o,a){return(l,c)=>{let g=e,_=t,b=0;l.subscribe((0,Ar.x)(c,T=>{const D=b++;_=g?i(_,T,D):(g=!0,T),o&&c.next(_)},a&&(()=>{g&&c.next(_),c.complete()})))}}function D0(i,t){return(0,Go.e)(Vq(i,t,arguments.length>=2,!0))}var f1=q(4671);function I0(i,t=f1.y){return i=i??Bq,(0,Go.e)((e,o)=>{let a,l=!0;e.subscribe((0,Ar.x)(o,c=>{const g=t(c);(l||!i(a,g))&&(l=!1,a=g,o.next(c))}))})}function Bq(i,t){return i===t}function Zr(i,t){return(0,Go.e)((e,o)=>{let a=0;e.subscribe((0,Ar.x)(o,l=>i.call(t,l,a++)&&o.next(l)))})}var vs=q(2011),QR=(q(5881),q(3942));function XR(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Mt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return t}function MV(){if(typeof Uint8Array>"u")throw new Mt("unimplemented","Uint8Arrays are not available in this environment.")}function AV(){if(!function Vb(){return typeof atob<"u"}())throw new Mt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ox{constructor(t){this._delegate=t}static fromBase64String(t){return AV(),new Ox(bd.fromBase64String(t))}static fromUint8Array(t){return MV(),new Ox(bd.fromUint8Array(t))}toBase64(){return AV(),this._delegate.toBase64()}toUint8Array(){return MV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eP(i){return function jq(i,t){if("object"!=typeof i||null===i)return!1;const e=i;for(const o of t)if(o in e&&"function"==typeof e[o])return!0;return!1}(i,["next","error","complete"])}class zq{enableIndexedDbPersistence(t,e){return function Ol(i,t){vx(i=Ni(i,eo));const e=po(i),o=i._freezeSettings(),a=new ux;return KC(e,a,new _R(a,o.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function DR(i){vx(i=Ni(i,eo));const t=po(i),e=i._freezeSettings(),o=new ux;return KC(t,o,new yR(o,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function IR(i){if(i._initialized&&!i._terminated)throw new Mt(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new es;return i._queue.enqueueAndForgetEvenWhileRestricted((0,st.Z)(function*(){try{yield(e=(0,st.Z)(function*(o){if(!ya.V())return Promise.resolve();const a=o+"main";yield ya.delete(a)}),function(o){return e.apply(this,arguments)})(gC(i._databaseId,i._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class kV{constructor(t,e,o){this._delegate=e,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},t instanceof Zs||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&om("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,o={}){!function xR(i,t,e,o={}){var a;const l=(i=Ni(i,m0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&om("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),o.mockUserToken){let c,g;if("string"==typeof o.mockUserToken)c=o.mockUserToken,g=Qr.MOCK_USER;else{c=(0,W.Sg)(o.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const _=o.mockUserToken.sub||o.mockUserToken.user_id;if(!_)throw new Mt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qr(_)}i._authCredentials=new ST(new Zw(c,g))}}(this._delegate,t,e,o)}enableNetwork(){return function yx(i){return function uV(i){return i.asyncQueue.enqueue((0,st.Z)(function*(){const t=yield zI(i),e=yield bR(i);return t.setNetworkEnabled(!0),function(o){const a=tn(o);return a.lu.delete(0),e0(a)}(e)}))}(po(i=Ni(i,eo)))}(this._delegate)}disableNetwork(){return function XI(i){return function dV(i){return i.asyncQueue.enqueue((0,st.Z)(function*(){const t=yield zI(i),e=yield bR(i);return t.setNetworkEnabled(!1),(o=(0,st.Z)(function*(a){const l=tn(a);l.lu.add(0),yield xm(l),l._u.set("Offline")}),function(a){return o.apply(this,arguments)})(e);var o}))}(po(i=Ni(i,eo)))}(this._delegate)}enablePersistence(t){let e=!1,o=!1;return t&&(e=!!t.synchronizeTabs,o=!!t.experimentalForceOwningTab,TR("synchronizeTabs",e,"experimentalForceOwningTab",o)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function MR(i){return function(t){const e=new es;return t.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return function kI(i,t){return FC.apply(this,arguments)}(yield GC(t),e)})),e.promise}(po(i=Ni(i,eo)))}(this._delegate)}onSnapshotsInSync(t){return function $R(i,t){return function qC(i,t){const e=new f0(t);return i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return o=yield g0(i),a=e,tn(o).Tu.add(a),void a.next();var o,a})),()=>{e.Tc(),i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return o=yield g0(i),a=e,void tn(o).Tu.delete(a);var o,a}))}}(po(i=Ni(i,eo)),_x(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Mt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new p1(this,$I(this._delegate,t))}catch(e){throw Rl(e,"collection()","Firestore.collection()")}}doc(t){try{return new Cd(this,_0(this._delegate,t))}catch(e){throw Rl(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Pl(this,function gV(i,t){if(i=Ni(i,m0),$C("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Mt(ot.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $s(i,null,(e=t,new Gh(Si.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Rl(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function YR(i,t,e){i=Ni(i,eo);const o=Object.assign(Object.assign({},vV),e);return function(a){if(a.maxAttempts<1)throw new Mt(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function pV(i,t,e){const o=new es;return i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){const a=yield(l=i,p0(l).then(c=>c.datastore));var l;new HI(i.asyncQueue,a,e,t,o).run()})),o.promise}(po(i),a=>t(new WR(i,a)),o)}(this._delegate,e=>t(new OV(this,e)))}batch(){return po(this._delegate),new RV(new fM(this._delegate,t=>E0(this._delegate,t)))}loadBundle(t){return function kR(i,t){const e=po(i=Ni(i,eo)),o=new KI;return function qI(i,t,e,o){const a=function(l,c){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,b){if(_ instanceof Uint8Array)return VI(_,b);if(_ instanceof ArrayBuffer)return VI(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new BI(_,c);var _}(e,Oy(t));i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){!function cV(i,t,e){const o=tn(i);var a;(a=(0,st.Z)(function*(l,c,g){try{const _=yield c.getMetadata();if(yield function(O,F){const j=tn(O),X=ns(F.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",se=>j.Ds.getBundleMetadata(se,F.id)).then(se=>!!se&&se.createTime.compareTo(X)>=0)}(l.localStore,_))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);g._updateProgress(AC(_));const b=new xI(_,l.localStore,c.wt);let T=yield c.fc();for(;T;){const O=yield b.Nu(T);O&&g._updateProgress(O),T=yield c.fc()}const D=yield b.complete();return yield yd(l,D.Mu,void 0),yield function(O,F){const j=tn(O);return j.persistence.runTransaction("Save bundle","readwrite",X=>j.Ds.saveBundleMetadata(X,F))}(l.localStore,_),g._completeWith(D.progress),Promise.resolve(D.Ou)}catch(_){return om("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var O}),function(l,c,g){return a.apply(this,arguments)})(o,t,e).then(a=>{o.sharedClientState.notifyBundleLoaded(a)})}(yield GC(i),a,o)}))}(e,i._databaseId,t,o),o}(this._delegate,t)}namedQuery(t){return function eM(i,t){return function ZC(i,t){return i.asyncQueue.enqueue((0,st.Z)(function*(){return function(e,o){const a=tn(e);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ds.getNamedQuery(l,o))}(yield px(i),t)}))}(po(i=Ni(i,eo)),t).then(e=>e?new $s(i,null,e.query):null)}(this._delegate,t).then(e=>e?new Pl(this,e):null)}}class DM extends hM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ox(new bd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Cd.forKey(e,this.firestore,null)}}class OV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new DM(t)}get(t){const e=A0(t);return this._delegate.get(e).then(o=>new Rx(this._firestore,new Fp(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,e.converter)))}set(t,e,o){const a=A0(t);return o?(XR("Transaction.set",o),this._delegate.set(a,e,o)):this._delegate.set(a,e),this}update(t,e,o,...a){const l=A0(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,o,...a),this}delete(t){const e=A0(t);return this._delegate.delete(e),this}}class RV{constructor(t){this._delegate=t}set(t,e,o){const a=A0(t);return o?(XR("WriteBatch.set",o),this._delegate.set(a,e,o)):this._delegate.set(a,e),this}update(t,e,o,...a){const l=A0(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,o,...a),this}delete(t){const e=A0(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class M0{constructor(t,e,o){this._firestore=t,this._userDataWriter=e,this._delegate=o}fromFirestore(t,e){const o=new jy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Px(this._firestore,o),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const o=M0.INSTANCES;let a=o.get(t);a||(a=new WeakMap,o.set(t,a));let l=a.get(e);return l||(l=new M0(t,new DM(t),e),a.set(e,l)),l}}M0.INSTANCES=new WeakMap;class Cd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new DM(t)}static forPath(t,e,o){if(t.length%2!=0)throw new Mt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Cd(e,new ur(e._delegate,o,new sn(t)))}static forKey(t,e,o){return new Cd(e,new ur(e._delegate,o,t))}get id(){return this._delegate.id}get parent(){return new p1(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new p1(this.firestore,$I(this._delegate,t))}catch(e){throw Rl(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,W.m9)(t))instanceof ur&&WI(this._delegate,t)}set(t,e){e=XR("DocumentReference.set",e);try{return e?T0(this._delegate,t,e):T0(this._delegate,t)}catch(o){throw Rl(o,"setDoc()","DocumentReference.set()")}}update(t,e,...o){try{return 1===arguments.length?_M(this._delegate,t):_M(this._delegate,t,e,...o)}catch(a){throw Rl(a,"updateDoc()","DocumentReference.update()")}}delete(){return Ix(this._delegate)}onSnapshot(...t){const e=PV(t),o=NV(t,a=>new Rx(this.firestore,new Fp(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Mx(this._delegate,e,o)}get(t){let e;return e="cache"===t?.source?function pM(i){i=Ni(i,ur);const t=Ni(i.firestore,eo),e=po(t),o=new Hp(t);return function hV(i,t){const e=new es;return i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return(o=(0,st.Z)(function*(a,l,c){try{const g=yield function(_,b){const T=tn(_);return T.persistence.runTransaction("read document","readonly",D=>T.localDocuments.getDocument(D,b))}(a,l);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new Mt(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=Ny(g,`Failed to get document '${l} from cache`);c.reject(_)}}),function(a,l,c){return o.apply(this,arguments)})(yield px(i),t,e);var o})),e.promise}(e,i._key).then(a=>new Fp(t,o,i._key,a,new Uy(null!==a&&a.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===t?.source?function gM(i){i=Ni(i,ur);const t=Ni(i.firestore,eo);return wR(po(t),i._key,{source:"server"}).then(e=>yM(t,i,e))}(this._delegate):function GR(i){i=Ni(i,ur);const t=Ni(i.firestore,eo);return wR(po(t),i._key).then(e=>yM(t,i,e))}(this._delegate),e.then(o=>new Rx(this.firestore,new Fp(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(t){return new Cd(this.firestore,this._delegate.withConverter(t?M0.getInstance(this.firestore,t):null))}}function Rl(i,t,e){return i.message=i.message.replace(t,e),i}function PV(i){for(const t of i)if("object"==typeof t&&!eP(t))return t;return{}}function NV(i,t){var e,o;let a;return a=eP(i[0])?i[0]:eP(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:l=>{a.next&&a.next(t(l))},error:null===(e=a.error)||void 0===e?void 0:e.bind(a),complete:null===(o=a.complete)||void 0===o?void 0:o.bind(a)}}class Rx{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Cd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return lM(this._delegate,t._delegate)}}class Px extends Rx{data(t){const e=this._delegate.data(t);return function cd(i,t){i||Sn()}(void 0!==e),e}}class Pl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new DM(t)}where(t,e,o){try{return new Pl(this.firestore,Am(this._delegate,function yV(i,t,e){const o=t,a=t1("where",i);return new _V(a,o,e)}(t,e,o)))}catch(a){throw Rl(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Pl(this.firestore,Am(this._delegate,function r1(i,t="asc"){const e=t,o=t1("orderBy",i);return new VR(o,e)}(t,e)))}catch(o){throw Rl(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Pl(this.firestore,Am(this._delegate,function BR(i){return ER("limit",i),new cM("limit",i,"F")}(t)))}catch(e){throw Rl(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Pl(this.firestore,Am(this._delegate,function uM(i){return ER("limitToLast",i),new cM("limitToLast",i,"L")}(t)))}catch(e){throw Rl(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Pl(this.firestore,Am(this._delegate,function dM(...i){return new Vp("startAt",i,!0)}(...t)))}catch(e){throw Rl(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Pl(this.firestore,Am(this._delegate,function Sx(...i){return new Vp("startAfter",i,!1)}(...t)))}catch(e){throw Rl(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Pl(this.firestore,Am(this._delegate,function HR(...i){return new o1("endBefore",i,!1)}(...t)))}catch(e){throw Rl(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Pl(this.firestore,Am(this._delegate,function Dx(...i){return new o1("endAt",i,!0)}(...t)))}catch(e){throw Rl(e,"endAt()","Query.endAt()")}}isEqual(t){return YI(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function ZR(i){i=Ni(i,$s);const t=Ni(i.firestore,eo),e=po(t),o=new Hp(t);return function fV(i,t){const e=new es;return i.asyncQueue.enqueueAndForget((0,st.Z)(function*(){return(o=(0,st.Z)(function*(a,l,c){try{const g=yield yC(a,l,!0),_=new DI(l,g.ji),b=_.Ku(g.documents),T=_.applyChanges(b,!1);c.resolve(T.snapshot)}catch(g){const _=Ny(g,`Failed to execute query '${l} against cache`);c.reject(_)}}),function(a,l,c){return o.apply(this,arguments)})(yield px(i),t,e);var o})),e.promise}(e,i._query).then(a=>new Lp(t,o,i,a))}(this._delegate):"server"===t?.source?function mM(i){i=Ni(i,$s);const t=Ni(i.firestore,eo),e=po(t),o=new Hp(t);return CR(e,i._query,{source:"server"}).then(a=>new Lp(t,o,i,a))}(this._delegate):function qR(i){i=Ni(i,$s);const t=Ni(i.firestore,eo),e=po(t),o=new Hp(t);return LR(i._query),CR(e,i._query).then(a=>new Lp(t,o,i,a))}(this._delegate),e.then(o=>new tP(this.firestore,new Lp(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...t){const e=PV(t),o=NV(t,a=>new tP(this.firestore,new Lp(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Mx(this._delegate,e,o)}withConverter(t){return new Pl(this.firestore,this._delegate.withConverter(t?M0.getInstance(this.firestore,t):null))}}class qq{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Px(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Pl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Px(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new qq(this._firestore,e))}forEach(t,e){this._delegate.forEach(o=>{t.call(e,new Px(this._firestore,o))})}isEqual(t){return lM(this._delegate,t._delegate)}}class p1 extends Pl{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Cd(this.firestore,t):null}doc(t){try{return new Cd(this.firestore,void 0===t?_0(this._delegate):_0(this._delegate,t))}catch(e){throw Rl(e,"doc()","CollectionReference.doc()")}}add(t){return a1(this._delegate,t).then(e=>new Cd(this.firestore,e))}isEqual(t){return WI(this._delegate,t._delegate)}withConverter(t){return new p1(this.firestore,this._delegate.withConverter(t?M0.getInstance(this.firestore,t):null))}}function A0(i){return Ni(i,ur)}class nP{constructor(...t){this._delegate=new ef(...t)}static documentId(){return new nP(_r.keyField().canonicalString())}isEqual(t){return(t=(0,W.m9)(t))instanceof ef&&this._delegate._internalPath.isEqual(t._internalPath)}}class k0{constructor(t){this._delegate=t}static serverTimestamp(){const t=function bV(){return new iM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new k0(t)}static delete(){const t=function KR(){return new y0("deleteField")}();return t._methodName="FieldValue.delete",new k0(t)}static arrayUnion(...t){const e=function wV(...i){return new rM("arrayUnion",i)}(...t);return e._methodName="FieldValue.arrayUnion",new k0(e)}static arrayRemove(...t){const e=function CV(...i){return new PR("arrayRemove",i)}(...t);return e._methodName="FieldValue.arrayRemove",new k0(e)}static increment(t){const e=function TV(i){return new oM("increment",i)}(t);return e._methodName="FieldValue.increment",new k0(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Zq={Firestore:kV,GeoPoint:vu,Timestamp:ar,Blob:Ox,Transaction:OV,WriteBatch:RV,DocumentReference:Cd,DocumentSnapshot:Rx,Query:Pl,QueryDocumentSnapshot:Px,QuerySnapshot:tP,CollectionReference:p1,FieldPath:nP,FieldValue:k0,setLogLevel:function Gq(i){!function ET(i){ga.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Wq(i){(function $q(i,t){i.INTERNAL.registerComponent(new Zn.wA("firestore-compat",e=>{const o=e.getProvider("app-compat").getImmediate(),a=e.getProvider("firestore").getImmediate();return t(o,a)},"PUBLIC").setServiceProps(Object.assign({},Zq)))})(i,(t,e)=>new kV(t,e,new zq)),i.registerVersion("@firebase/firestore-compat","0.1.22")}(QR.Z);var ii=q(7579),Gy=q(6451),IM=q(5363),Td=q(8421);function kr(i,t){return(0,Go.e)((e,o)=>{let a=null,l=0,c=!1;const g=()=>c&&!a&&o.complete();e.subscribe((0,Ar.x)(o,_=>{a?.unsubscribe();let b=0;const T=l++;(0,Td.Xf)(i(_,T)).subscribe(a=(0,Ar.x)(o,D=>o.next(t?t(_,D,T,b++):D),()=>{a=null,g()}))},()=>{c=!0,g()}))})}var Yq=q(6063);class Kq extends ii.x{constructor(t=1/0,e=1/0,o=Yq.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:c}=this;e||(o.push(t),!a&&o.push(l.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:a}=this,l=a.slice();for(let c=0;c<l.length&&!t.closed;c+=o?1:2)t.next(l[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:a}=this,l=(a?1:2)*t;if(t<1/0&&l<o.length&&o.splice(0,o.length-l),!a){const c=e.now();let g=0;for(let _=1;_<o.length&&o[_]<=c;_+=2)g=_;g&&o.splice(0,g+1)}}}var iP=q(3099);function FV(i,t,e){let o,a=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=i):o=i??1/0,(0,iP.B)({connector:()=>new Kq(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}const g1=(0,q(3888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var Om=q(515);function go(i){return i<=0?()=>Om.E:(0,Go.e)((t,e)=>{let o=0;t.subscribe((0,Ar.x)(e,a=>{++o<=i&&(e.next(a),i<=o&&e.complete())}))})}function MM(i){return(0,Go.e)((t,e)=>{let o=!1;t.subscribe((0,Ar.x)(e,a=>{o=!0,e.next(a)},()=>{o||e.next(i),e.complete()}))})}function LV(i=Qq){return(0,Go.e)((t,e)=>{let o=!1;t.subscribe((0,Ar.x)(e,a=>{o=!0,e.next(a)},()=>o?e.complete():e.error(i())))})}function Qq(){return new g1}function Rm(i,t){const e=arguments.length>=2;return o=>o.pipe(i?Zr((a,l)=>i(a,l,o)):f1.y,go(1),e?MM(t):LV(()=>new g1))}var Ed=q(576);function VV(i,t){return(0,Ed.m)(t)?kr(()=>i,t):kr(()=>i)}var rP=q(9468),AM=q(127);const oP=new s.OlP("angularfire2.auth.use-emulator"),sP=new s.OlP("angularfire2.auth.settings"),aP=new s.OlP("angularfire2.auth.tenant-id"),lP=new s.OlP("angularfire2.auth.langugage-code"),cP=new s.OlP("angularfire2.auth.use-device-language"),uP=new s.OlP("angularfire.auth.persistence"),dP=(i,t,e,o,a,l,c,g)=>(0,vs.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const _=t.runOutsideAngular(()=>i.auth());if(e&&_.useEmulator(...e),o&&(_.tenantId=o),_.languageCode=a,l&&_.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))_.settings[b]=T;return g&&_.setPersistence(g),_},[e,o,a,l,c,g]);let Nx=(()=>{class i{constructor(e,o,a,l,c,g,_,b,T,D,O,F){const j=new ii.x,X=fn(void 0).pipe((0,IM.Q)(c.outsideAngular),kr(()=>l.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,5881)))),(0,dn.U)(()=>(0,vs.on)(e,l,o)),(0,dn.U)(se=>dP(se,l,g,b,T,D,_,O)),FV({bufferSize:1,refCount:!1}));if(Rc(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=fn(null);else{X.pipe(Rm()).subscribe();const ke=X.pipe(kr(ht=>ht.getRedirectResult().then(Ht=>Ht,()=>null)),wt.iC,FV({bufferSize:1,refCount:!1})),We=X.pipe(kr(ht=>new qi.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>ht.onAuthStateChanged(qt=>Ht.next(qt),qt=>Ht.error(qt),()=>Ht.complete()))})))),ft=X.pipe(kr(ht=>new qi.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>ht.onIdTokenChanged(qt=>Ht.next(qt),qt=>Ht.error(qt),()=>Ht.complete()))}))));this.authState=ke.pipe(VV(We),(0,rP.R)(c.outsideAngular),(0,IM.Q)(c.insideAngular)),this.user=ke.pipe(VV(ft),(0,rP.R)(c.outsideAngular),(0,IM.Q)(c.insideAngular)),this.idToken=this.user.pipe(kr(ht=>ht?(0,dr.D)(ht.getIdToken()):fn(null))),this.idTokenResult=this.user.pipe(kr(ht=>ht?(0,dr.D)(ht.getIdTokenResult()):fn(null))),this.credential=(0,Gy.T)(ke,j,this.authState.pipe(Zr(ht=>!ht))).pipe((0,dn.U)(ht=>ht?.user?ht:null),(0,rP.R)(c.outsideAngular),(0,IM.Q)(c.insideAngular))}return(0,vs.pX)(this,X,l,{spy:{apply:(se,ke,We)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&We.then(ft=>j.next(ft))}}})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(vs.Dh),s.LFG(vs.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wt.HU),s.LFG(oP,8),s.LFG(sP,8),s.LFG(aP,8),s.LFG(lP,8),s.LFG(cP,8),s.LFG(uP,8),s.LFG(ua,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),eZ=(()=>{class i{constructor(){AM.Z.registerVersion("angularfire",wt.q4.full,"auth-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Nx]}),i})();function BV(i,t){return function tZ(i,t=d1.z){return new qi.y(e=>{let o;return null!=t?t.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},e)}):o=i.onSnapshot({includeMetadataChanges:!0},e),()=>{o?.()}})}(i,t)}function hP(i,t){return BV(i,t).pipe((0,dn.U)(e=>({payload:e,type:"query"})))}function kM(i,t){return hP(i,t).pipe(zp(void 0),SM(),(0,dn.U)(([e,o])=>{const a=o.payload.docChanges(),l=a.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((c,g)=>{const _=a.find(T=>T.doc.ref.isEqual(c.ref)),b=e?.payload.docs.find(T=>T.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),l}))}function HV(i,t,e){return kM(i,e).pipe(D0((o,a)=>function iZ(i,t,e){return t.forEach(o=>{e.indexOf(o.type)>-1&&(i=function rZ(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return fP(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return fP(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return fP(i,t.oldIndex,1)}return i}(i,o))}),i}(o,a.map(l=>l.payload),t),[]),I0(),(0,dn.U)(o=>o.map(a=>({type:a.type,payload:a}))))}function fP(i,t,e,...o){const a=i.slice();return a.splice(t,e,...o),a}function UV(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class jV{constructor(t,e,o){this.ref=t,this.query=e,this.afs=o}stateChanges(t){let e=kM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,dn.U)(o=>o.filter(a=>t.indexOf(a.type)>-1)))),e.pipe(zp(void 0),SM(),Zr(([o,a])=>a.length>0||!o),(0,dn.U)(([o,a])=>a),wt.iC)}auditTrail(t){return this.stateChanges(t).pipe(D0((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=UV(t);return HV(this.query,e,this.afs.schedulers.outsideAngular).pipe(wt.iC)}valueChanges(t={}){return hP(this.query,this.afs.schedulers.outsideAngular).pipe((0,dn.U)(e=>e.payload.docs.map(o=>t.idField?Object.assign(Object.assign({},o.data()),{[t.idField]:o.id}):o.data())),wt.iC)}get(t){return(0,dr.D)(this.query.get(t)).pipe(wt.iC)}add(t){return this.ref.add(t)}doc(t){return new zV(this.ref.doc(t),this.afs)}}class zV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const o=this.ref.collection(t),{ref:a,query:l}=ZV(o,e);return new jV(a,l,this.afs)}snapshotChanges(){return function nZ(i,t){return BV(i,t).pipe(zp(void 0),SM(),(0,dn.U)(([e,o])=>o.exists?e?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wt.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,dn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dr.D)(this.ref.get(t)).pipe(wt.iC)}}class oZ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kM(this.query,this.afs.schedulers.outsideAngular).pipe((0,dn.U)(e=>e.filter(o=>t.indexOf(o.type)>-1)),Zr(e=>e.length>0),wt.iC):kM(this.query,this.afs.schedulers.outsideAngular).pipe(wt.iC)}auditTrail(t){return this.stateChanges(t).pipe(D0((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=UV(t);return HV(this.query,e,this.afs.schedulers.outsideAngular).pipe(wt.iC)}valueChanges(t={}){return hP(this.query,this.afs.schedulers.outsideAngular).pipe((0,dn.U)(o=>o.payload.docs.map(a=>t.idField?Object.assign({[t.idField]:a.id},a.data()):a.data())),wt.iC)}get(t){return(0,dr.D)(this.query.get(t)).pipe(wt.iC)}}const GV=new s.OlP("angularfire2.enableFirestorePersistence"),qV=new s.OlP("angularfire2.firestore.persistenceSettings"),sZ=new s.OlP("angularfire2.firestore.settings"),aZ=new s.OlP("angularfire2.firestore.use-emulator");function ZV(i,t=(e=>e)){return{query:t(i),ref:i}}let $V=(()=>{class i{constructor(e,o,a,l,c,g,_,b,T,D,O,F,j,X,se,ke,We){this.schedulers=_;const ft=(0,vs.on)(e,g,o),ht=T;D&&dP(ft,g,O,j,X,se,F,ke),[this.firestore,this.persistenceEnabled$]=(0,vs.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const Ht=g.runOutsideAngular(()=>ft.firestore());if(l&&Ht.settings(l),ht&&Ht.useEmulator(...ht),a&&!Rc(c)){const qt=()=>{try{return(0,dr.D)(Ht.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(wn){return typeof console<"u"&&console.warn(wn),fn(!1)}};return[Ht,g.runOutsideAngular(qt)]}return[Ht,fn(!1)]},[l,ht,a])}collection(e,o){let a;a="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:c}=ZV(a,o),g=this.schedulers.ngZone.run(()=>l);return new jV(g,c,this)}collectionGroup(e,o){const a=o||(c=>c),l=this.firestore.collectionGroup(e);return new oZ(a(l),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const a=this.schedulers.ngZone.run(()=>o);return new zV(a,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(vs.Dh),s.LFG(vs.xv,8),s.LFG(GV,8),s.LFG(sZ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wt.HU),s.LFG(qV,8),s.LFG(aZ,8),s.LFG(Nx,8),s.LFG(oP,8),s.LFG(sP,8),s.LFG(aP,8),s.LFG(lP,8),s.LFG(cP,8),s.LFG(uP,8),s.LFG(ua,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),lZ=(()=>{class i{constructor(){AM.Z.registerVersion("angularfire",wt.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:GV,useValue:!0},{provide:qV,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[$V]}),i})();class rs extends ii.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:o}=this;if(t)throw e;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}const{isArray:cZ}=Array,{getPrototypeOf:uZ,prototype:dZ,keys:hZ}=Object;function WV(i){if(1===i.length){const t=i[0];if(cZ(t))return{args:t,keys:null};if(function fZ(i){return i&&"object"==typeof i&&uZ(i)===dZ}(t)){const e=hZ(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:i,keys:null}}const{isArray:pZ}=Array;function pP(i){return(0,dn.U)(t=>function gZ(i,t){return pZ(t)?i(...t):i(t)}(i,t))}function YV(i,t){return i.reduce((e,o,a)=>(e[o]=t[a],e),{})}var mZ=q(9672);function Fx(...i){const t=(0,zy.yG)(i),e=(0,zy.jO)(i),{args:o,keys:a}=WV(i);if(0===o.length)return(0,dr.D)([],t);const l=new qi.y(function _Z(i,t,e=f1.y){return o=>{KV(t,()=>{const{length:a}=i,l=new Array(a);let c=a,g=a;for(let _=0;_<a;_++)KV(t,()=>{const b=(0,dr.D)(i[_],t);let T=!1;b.subscribe((0,Ar.x)(o,D=>{l[_]=D,T||(T=!0,g--),g||o.next(e(l.slice()))},()=>{--c||o.complete()}))},o)},o)}}(o,t,a?c=>YV(a,c):f1.y));return e?l.pipe(pP(e)):l}function KV(i,t,e){i?(0,mZ.f)(e,i,t):t()}function gP(i){return new qi.y(t=>{(0,Td.Xf)(i()).subscribe(t)})}var yZ=q(9635);function m1(i,t){const e=(0,Ed.m)(i)?i:()=>i,o=a=>a.error(e());return new qi.y(t?a=>t.schedule(o,0,a):o)}var _1=q(727);function mP(){return(0,Go.e)((i,t)=>{let e=null;i._refCount++;const o=(0,Ar.x)(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const a=i._connection,l=e;e=null,a&&(!l||a===l)&&a.unsubscribe(),t.unsubscribe()});i.subscribe(o),o.closed||(e=i.connect())})}class JV extends qi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Go.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _1.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ar.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_1.w0.EMPTY)}return t}refCount(){return mP()(this)}}var Ws=q(5577);function qy(i,t){return(0,Ed.m)(t)?(0,Ws.z)(i,t,1):(0,Ws.z)(i,1)}var qo=q(8505);function Pm(i){return(0,Go.e)((t,e)=>{let l,o=null,a=!1;o=t.subscribe((0,Ar.x)(e,void 0,void 0,c=>{l=(0,Td.Xf)(i(c,Pm(i)(t))),o?(o.unsubscribe(),o=null,l.subscribe(e)):a=!0})),a&&(o.unsubscribe(),o=null,l.subscribe(e))})}function _P(i){return i<=0?()=>Om.E:(0,Go.e)((t,e)=>{let o=[];t.subscribe((0,Ar.x)(e,a=>{o.push(a),i<o.length&&o.shift()},()=>{for(const a of o)e.next(a);e.complete()},void 0,()=>{o=null}))})}function QV(i,t){const e=arguments.length>=2;return o=>o.pipe(i?Zr((a,l)=>i(a,l,o)):f1.y,_P(1),e?MM(t):LV(()=>new g1))}function Lx(i){return(0,Go.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}const Ii="primary";class bZ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function y1(i){return new bZ(i)}function wZ(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const a={};for(let l=0;l<o.length;l++){const c=o[l],g=i[l];if(c.startsWith(":"))a[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:i.slice(0,o.length),posParams:a}}function Gp(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let a;for(let l=0;l<e.length;l++)if(a=e[l],!e3(i[a],t[a]))return!1;return!0}function e3(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((a,l)=>o[l]===a)}return i===t}function t3(i){return Array.prototype.concat.apply([],i)}function n3(i){return i.length>0?i[i.length-1]:null}function xa(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Nm(i){return(0,s.CqO)(i)?i:(0,s.QGY)(i)?(0,dr.D)(Promise.resolve(i)):fn(i)}const EZ={exact:function s3(i,t,e){if(!R0(i.segments,t.segments)||!OM(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!s3(i.children[o],t.children[o],e))return!1;return!0},subset:a3},r3={exact:function xZ(i,t){return Gp(i,t)},subset:function SZ(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>e3(i[e],t[e]))},ignored:()=>!0};function o3(i,t,e){return EZ[e.paths](i.root,t.root,e.matrixParams)&&r3[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function a3(i,t,e){return l3(i,t,t.segments,e)}function l3(i,t,e,o){if(i.segments.length>e.length){const a=i.segments.slice(0,e.length);return!(!R0(a,e)||t.hasChildren()||!OM(a,e,o))}if(i.segments.length===e.length){if(!R0(i.segments,e)||!OM(i.segments,e,o))return!1;for(const a in t.children)if(!i.children[a]||!a3(i.children[a],t.children[a],o))return!1;return!0}{const a=e.slice(0,i.segments.length),l=e.slice(i.segments.length);return!!(R0(i.segments,a)&&OM(i.segments,a,o)&&i.children[Ii])&&l3(i.children[Ii],t,l,o)}}function OM(i,t,e){return t.every((o,a)=>r3[e](i[a].parameters,o.parameters))}class O0{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=y1(this.queryParams)),this._queryParamMap}toString(){return MZ.serialize(this)}}class Li{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xa(e,(o,a)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return RM(this)}}class Vx{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=y1(this.parameters)),this._parameterMap}toString(){return f3(this)}}function R0(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class c3{}class u3{parse(t){const e=new VZ(t);return new O0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Bx(t.root,!0)}`,o=function OZ(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(a=>`${PM(e)}=${PM(a)}`).join("&"):`${PM(e)}=${PM(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),a="string"==typeof t.fragment?`#${function AZ(i){return encodeURI(i)}(t.fragment)}`:"";return`${e}${o}${a}`}}const MZ=new u3;function RM(i){return i.segments.map(t=>f3(t)).join("/")}function Bx(i,t){if(!i.hasChildren())return RM(i);if(t){const e=i.children[Ii]?Bx(i.children[Ii],!1):"",o=[];return xa(i.children,(a,l)=>{l!==Ii&&o.push(`${l}:${Bx(a,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function IZ(i,t){let e=[];return xa(i.children,(o,a)=>{a===Ii&&(e=e.concat(t(o,a)))}),xa(i.children,(o,a)=>{a!==Ii&&(e=e.concat(t(o,a)))}),e}(i,(o,a)=>a===Ii?[Bx(i.children[Ii],!1)]:[`${a}:${Bx(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Ii]?`${RM(i)}/${e[0]}`:`${RM(i)}/(${e.join("//")})`}}function d3(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function PM(i){return d3(i).replace(/%3B/gi,";")}function vP(i){return d3(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function NM(i){return decodeURIComponent(i)}function h3(i){return NM(i.replace(/\+/g,"%20"))}function f3(i){return`${vP(i.path)}${function kZ(i){return Object.keys(i).map(t=>`;${vP(t)}=${vP(i[t])}`).join("")}(i.parameters)}`}const RZ=/^[^\/()?;=#]+/;function FM(i){const t=i.match(RZ);return t?t[0]:""}const PZ=/^[^=?&#]+/,FZ=/^[^&#]+/;class VZ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Li([],{}):new Li([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Ii]=new Li(t,e)),o}parseSegment(){const t=FM(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new Vx(NM(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=FM(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const a=FM(this.remaining);a&&(o=a,this.capture(o))}t[NM(e)]=NM(o)}parseQueryParam(t){const e=function NZ(i){const t=i.match(PZ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const c=function LZ(i){const t=i.match(FZ);return t?t[0]:""}(this.remaining);c&&(o=c,this.capture(o))}const a=h3(e),l=h3(o);if(t.hasOwnProperty(a)){let c=t[a];Array.isArray(c)||(c=[c],t[a]=c),c.push(l)}else t[a]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=FM(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new s.vHH(4010,!1);let l;o.indexOf(":")>-1?(l=o.slice(0,o.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Ii);const c=this.parseChildren();e[l]=1===Object.keys(c).length?c[Ii]:new Li([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function bP(i){return i.segments.length>0?new Li([],{[Ii]:i}):i}function LM(i){const t={};for(const o of Object.keys(i.children)){const l=LM(i.children[o]);(l.segments.length>0||l.hasChildren())&&(t[o]=l)}return function BZ(i){if(1===i.numberOfChildren&&i.children[Ii]){const t=i.children[Ii];return new Li(i.segments.concat(t.segments),t.children)}return i}(new Li(i.segments,t))}function P0(i){return i instanceof O0}function jZ(i,t,e,o,a){if(0===e.length)return v1(t.root,t.root,t.root,o,a);const l=function m3(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new g3(!0,0,i);let t=0,e=!1;const o=i.reduce((a,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return xa(l.outlets,(_,b)=>{g[b]="string"==typeof _?_.split("/"):_}),[...a,{outlets:g}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===c?(l.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?e=!0:".."===g?t++:""!=g&&a.push(g))}),a):[...a,l]},[]);return new g3(e,t,o)}(e);return l.toRoot()?v1(t.root,t.root,new Li([],{}),o,a):function c(_){const b=function GZ(i,t,e,o){if(i.isAbsolute)return new b1(t.root,!0,0);if(-1===o)return new b1(e,e===t.root,0);return function _3(i,t,e){let o=i,a=t,l=e;for(;l>a;){if(l-=a,o=o.parent,!o)throw new s.vHH(4005,!1);a=o.segments.length}return new b1(o,!1,a-l)}(e,o+(Hx(i.commands[0])?0:1),i.numberOfDoubleDots)}(l,t,i.snapshot?._urlSegment,_),T=b.processChildren?jx(b.segmentGroup,b.index,l.commands):CP(b.segmentGroup,b.index,l.commands);return v1(t.root,b.segmentGroup,T,o,a)}(i.snapshot?._lastPathIndex)}function Hx(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Ux(i){return"object"==typeof i&&null!=i&&i.outlets}function v1(i,t,e,o,a){let c,l={};o&&xa(o,(_,b)=>{l[b]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=i===t?e:p3(i,t,e);const g=bP(LM(c));return new O0(g,l,a)}function p3(i,t,e){const o={};return xa(i.children,(a,l)=>{o[l]=a===t?e:p3(a,t,e)}),new Li(i.segments,o)}class g3{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Hx(o[0]))throw new s.vHH(4003,!1);const a=o.find(Ux);if(a&&a!==n3(o))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class b1{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function CP(i,t,e){if(i||(i=new Li([],{})),0===i.segments.length&&i.hasChildren())return jx(i,t,e);const o=function ZZ(i,t,e){let o=0,a=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<i.segments.length;){if(o>=e.length)return l;const c=i.segments[a],g=e[o];if(Ux(g))break;const _=`${g}`,b=o<e.length-1?e[o+1]:null;if(a>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!v3(_,b,c))return l;o+=2}else{if(!v3(_,{},c))return l;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(i,t,e),a=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const l=new Li(i.segments.slice(0,o.pathIndex),{});return l.children[Ii]=new Li(i.segments.slice(o.pathIndex),i.children),jx(l,0,a)}return o.match&&0===a.length?new Li(i.segments,{}):o.match&&!i.hasChildren()?TP(i,t,e):o.match?jx(i,0,a):TP(i,t,e)}function jx(i,t,e){if(0===e.length)return new Li(i.segments,{});{const o=function qZ(i){return Ux(i[0])?i[0].outlets:{[Ii]:i}}(e),a={};return xa(o,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[c]=CP(i.children[c],t,l))}),xa(i.children,(l,c)=>{void 0===o[c]&&(a[c]=l)}),new Li(i.segments,a)}}function TP(i,t,e){const o=i.segments.slice(0,t);let a=0;for(;a<e.length;){const l=e[a];if(Ux(l)){const _=$Z(l.outlets);return new Li(o,_)}if(0===a&&Hx(e[0])){o.push(new Vx(i.segments[t].path,y3(e[0]))),a++;continue}const c=Ux(l)?l.outlets[Ii]:`${l}`,g=a<e.length-1?e[a+1]:null;c&&g&&Hx(g)?(o.push(new Vx(c,y3(g))),a+=2):(o.push(new Vx(c,{})),a++)}return new Li(o,{})}function $Z(i){const t={};return xa(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=TP(new Li([],{}),0,e))}),t}function y3(i){const t={};return xa(i,(e,o)=>t[o]=`${e}`),t}function v3(i,t,e){return i==e.path&&Gp(t,e.parameters)}class Fm{constructor(t,e){this.id=t,this.url=e}}class VM extends Fm{constructor(t,e,o="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qp extends Fm{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class BM extends Fm{constructor(t,e,o,a){super(t,e),this.reason=o,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class b3 extends Fm{constructor(t,e,o,a){super(t,e),this.error=o,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WZ extends Fm{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YZ extends Fm{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KZ extends Fm{constructor(t,e,o,a,l){super(t,e),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JZ extends Fm{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QZ extends Fm{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XZ{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class e${constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class t${constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n${constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i${constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C3{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class T3{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=EP(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=EP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return xP(t,this._root).map(e=>e.value)}}function EP(i,t){if(i===t.value)return t;for(const e of t.children){const o=EP(i,e);if(o)return o}return null}function xP(i,t){if(i===t.value)return[t];for(const e of t.children){const o=xP(i,e);if(o.length)return o.unshift(t),o}return[]}class Lm{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function w1(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class E3 extends T3{constructor(t,e){super(t),this.snapshot=e,SP(this,t)}toString(){return this.snapshot.toString()}}function x3(i,t){const e=function o$(i,t){const c=new HM([],{},{},"",{},Ii,t,null,i.root,-1,{});return new D3("",new Lm(c,[]))}(i,t),o=new rs([new Vx("",{})]),a=new rs({}),l=new rs({}),c=new rs({}),g=new rs(""),_=new xd(o,a,c,g,l,Ii,t,e.root);return _.snapshot=e.root,new E3(new Lm(_,[]),e)}class xd{constructor(t,e,o,a,l,c,g,_){this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=l,this.outlet=c,this.component=g,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dn.U)(t=>y1(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dn.U)(t=>y1(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function S3(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const a=e[o],l=e[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(l.component)break;o--}}return function s$(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(o))}class HM{constructor(t,e,o,a,l,c,g,_,b,T,D,O){this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=l,this.outlet=c,this.component=g,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._correctedLastPathIndex=O??T,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=y1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=y1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class D3 extends T3{constructor(t,e){super(e),this.url=t,SP(this,e)}toString(){return I3(this._root)}}function SP(i,t){t.value._routerState=i,t.children.forEach(e=>SP(i,e))}function I3(i){const t=i.children.length>0?` { ${i.children.map(I3).join(", ")} } `:"";return`${i.value}${t}`}function DP(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Gp(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),Gp(t.params,e.params)||i.params.next(e.params),function CZ(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Gp(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),Gp(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function IP(i,t){const e=Gp(i.params,t.params)&&function DZ(i,t){return R0(i,t)&&i.every((e,o)=>Gp(e.parameters,t[o].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||IP(i.parent,t.parent))}function zx(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const a=function l$(i,t,e){return t.children.map(o=>{for(const a of e.children)if(i.shouldReuseRoute(o.value,a.value.snapshot))return zx(i,o,a);return zx(i,o)})}(i,t,e);return new Lm(o,a)}{if(i.shouldAttach(t.value)){const l=i.retrieve(t.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(g=>zx(i,g)),c}}const o=function c$(i){return new xd(new rs(i.url),new rs(i.params),new rs(i.queryParams),new rs(i.fragment),new rs(i.data),i.outlet,i.component,i)}(t.value),a=t.children.map(l=>zx(i,l));return new Lm(o,a)}}const MP="ngNavigationCancelingError";function M3(i,t){const{redirectTo:e,navigationBehaviorOptions:o}=P0(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=A3(!1,0,t);return a.url=e,a.navigationBehaviorOptions=o,a}function A3(i,t,e){const o=new Error("NavigationCancelingError: "+(i||""));return o[MP]=!0,o.cancellationCode=t,e&&(o.url=e),o}function k3(i){return O3(i)&&P0(i.url)}function O3(i){return i&&i[MP]}class u${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gx,this.attachRef=null}}class Gx{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new u$,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const UM=!1;let AP=(()=>{class i{constructor(e,o,a,l,c){this.parentContexts=e,this.location=o,this.changeDetector=l,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=a||Ii,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,UM);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,UM);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,UM);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new s.vHH(4013,UM);this._activatedRoute=e;const a=this.location,c=e._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new d$(e,g,a.injector);if(o&&function h$(i){return!!i.resolveComponentFactory}(o)){const b=o.resolveComponentFactory(c);this.activated=a.createComponent(b,a.length,_)}else this.activated=a.createComponent(c,{index:a.length,injector:_,environmentInjector:o??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Gx),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},i.\u0275dir=s.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class d${constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===xd?this.route:t===Gx?this.childContexts:this.parent.get(t,e)}}let kP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&s._UZ(0,"router-outlet")},dependencies:[AP],encapsulation:2}),i})();function R3(i,t){return i.providers&&!i._injector&&(i._injector=(0,s.MMx)(i.providers,t,`Route: ${i.path}`)),i._injector??t}function RP(i){const t=i.children&&i.children.map(RP),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ii&&(e.component=kP),e}function Sd(i){return i.outlet||Ii}function P3(i,t){const e=i.filter(o=>Sd(o)===t);return e.push(...i.filter(o=>Sd(o)!==t)),e}function N3(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class _${constructor(t,e,o,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=a}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),DP(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const a=w1(e);t.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,a[c],o),delete a[c]}),xa(a,(l,c)=>{this.deactivateRouteAndItsChildren(l,o)})}deactivateRoutes(t,e,o){const a=t.value,l=e?e.value:null;if(a===l)if(a.component){const c=o.getContext(a.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,o);else l&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),a=o&&t.value.component?o.children:e,l=w1(t);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],a);if(o&&o.outlet){const c=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:g})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),a=o&&t.value.component?o.children:e,l=w1(t);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],a);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const a=w1(e);t.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],o),this.forwardEvent(new w3(l.value.snapshot))}),t.children.length&&this.forwardEvent(new n$(t.value.snapshot))}activateRoutes(t,e,o){const a=t.value,l=e?e.value:null;if(DP(a),a===l)if(a.component){const c=o.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,o);else if(a.component){const c=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const g=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),DP(g.route.value),this.activateChildRoutes(t,null,c.children)}else{const g=N3(a.snapshot),_=g?.get(s._Vd)??null;c.attachRef=null,c.route=a,c.resolver=_,c.injector=g,c.outlet&&c.outlet.activateWith(a,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,o)}}class F3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jM{constructor(t,e){this.component=t,this.route=e}}function y$(i,t,e){const o=i._root;return qx(o,t?t._root:null,e,[o.value])}function zM(i,t,e){return(N3(t)??e).get(i)}function qx(i,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=w1(t);return i.children.forEach(c=>{(function b$(i,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=i.value,c=t?t.value:null,g=e?e.getContext(i.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const _=function w$(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!R0(i.url,t.url);case"pathParamsOrQueryParamsChange":return!R0(i.url,t.url)||!Gp(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IP(i,t)||!Gp(i.queryParams,t.queryParams);default:return!IP(i,t)}}(c,l,l.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new F3(o)):(l.data=c.data,l._resolvedData=c._resolvedData),qx(i,t,l.component?g?g.children:null:e,o,a),_&&g&&g.outlet&&g.outlet.isActivated&&a.canDeactivateChecks.push(new jM(g.outlet.component,c))}else c&&Zx(t,g,a),a.canActivateChecks.push(new F3(o)),qx(i,null,l.component?g?g.children:null:e,o,a)})(c,l[c.value.outlet],e,o.concat([c.value]),a),delete l[c.value.outlet]}),xa(l,(c,g)=>Zx(c,e.getContext(g),a)),a}function Zx(i,t,e){const o=w1(i),a=i.value;xa(o,(l,c)=>{Zx(l,a.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new jM(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function $x(i){return"function"==typeof i}const GM=Symbol("INITIAL_VALUE");function C1(){return kr(i=>Fx(i.map(t=>t.pipe(go(1),zp(GM)))).pipe((0,dn.U)(t=>{for(const e of t)if(!0!==e){if(e===GM)return GM;if(!1===e||e instanceof O0)return e}return!0}),Zr(t=>t!==GM),go(1)))}function L3(i){return(0,yZ.z)((0,qo.b)(t=>{if(P0(t))throw M3(0,t)}),(0,dn.U)(t=>!0===t))}const PP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function V3(i,t,e,o,a){const l=NP(i,t,e);return l.matched?function V$(i,t,e,o){const a=t.canMatch;return a&&0!==a.length?fn(a.map(c=>{const g=i.get(c),_=function D$(i){return i&&$x(i.canMatch)}(g)?g.canMatch(t,e):g(t,e);return Nm(_)})).pipe(C1(),L3()):fn(!0)}(o=R3(t,o),t,e).pipe((0,dn.U)(c=>!0===c?l:{...PP})):fn(l)}function NP(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...PP}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||wZ)(e,i,t);if(!a)return{...PP};const l={};xa(a.posParams,(g,_)=>{l[_]=g.path});const c=a.consumed.length>0?{...l,...a.consumed[a.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:c,positionalParamSegments:a.posParams??{}}}function qM(i,t,e,o,a="corrected"){if(e.length>0&&function U$(i,t,e){return e.some(o=>ZM(i,t,o)&&Sd(o)!==Ii)}(i,e,o)){const c=new Li(t,function H$(i,t,e,o){const a={};a[Ii]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Sd(l)!==Ii){const c=new Li([],{});c._sourceSegment=i,c._segmentIndexShift=t.length,a[Sd(l)]=c}return a}(i,t,o,new Li(e,i.children)));return c._sourceSegment=i,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function j$(i,t,e){return e.some(o=>ZM(i,t,o))}(i,e,o)){const c=new Li(i.segments,function B$(i,t,e,o,a,l){const c={};for(const g of o)if(ZM(i,e,g)&&!a[Sd(g)]){const _=new Li([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===l?i.segments.length:t.length,c[Sd(g)]=_}return{...a,...c}}(i,t,e,o,i.children,a));return c._sourceSegment=i,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const l=new Li(i.segments,i.children);return l._sourceSegment=i,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function ZM(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function B3(i,t,e,o){return!!(Sd(i)===o||o!==Ii&&ZM(t,e,i))&&("**"===i.path||NP(t,i,e).matched)}function H3(i,t,e){return 0===t.length&&!i.children[e]}const $M=!1;class WM{constructor(t){this.segmentGroup=t||null}}class U3{constructor(t){this.urlTree=t}}function Wx(i){return m1(new WM(i))}function j3(i){return m1(new U3(i))}class Z${constructor(t,e,o,a,l){this.injector=t,this.configLoader=e,this.urlSerializer=o,this.urlTree=a,this.config=l,this.allowRedirects=!0}apply(){const t=qM(this.urlTree.root,[],[],this.config).segmentGroup,e=new Li(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ii).pipe((0,dn.U)(l=>this.createUrlTree(LM(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pm(l=>{if(l instanceof U3)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof WM?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ii).pipe((0,dn.U)(a=>this.createUrlTree(LM(a),t.queryParams,t.fragment))).pipe(Pm(a=>{throw a instanceof WM?this.noMatchError(a):a}))}noMatchError(t){return new s.vHH(4002,$M)}createUrlTree(t,e,o){const a=bP(t);return new O0(a,e,o)}expandSegmentGroup(t,e,o,a){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,dn.U)(l=>new Li([],l))):this.expandSegment(t,o,e,o.segments,a,!0)}expandChildren(t,e,o){const a=[];for(const l of Object.keys(o.children))"primary"===l?a.unshift(l):a.push(l);return(0,dr.D)(a).pipe(qy(l=>{const c=o.children[l],g=P3(e,l);return this.expandSegmentGroup(t,g,c,l).pipe((0,dn.U)(_=>({segment:_,outlet:l})))}),D0((l,c)=>(l[c.outlet]=c.segment,l),{}),QV())}expandSegment(t,e,o,a,l,c){return(0,dr.D)(o).pipe(qy(g=>this.expandSegmentAgainstRoute(t,e,o,g,a,l,c).pipe(Pm(b=>{if(b instanceof WM)return fn(null);throw b}))),Rm(g=>!!g),Pm((g,_)=>{if(g instanceof g1||"EmptyError"===g.name)return H3(e,a,l)?fn(new Li([],{})):Wx(e);throw g}))}expandSegmentAgainstRoute(t,e,o,a,l,c,g){return B3(a,e,l,c)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,l,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,a,l,c):Wx(e):Wx(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,a,l,c){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,a,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,a){const l=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?j3(l):this.lineralizeSegments(o,l).pipe((0,Ws.z)(c=>{const g=new Li(c,{});return this.expandSegment(t,g,e,c,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,l,c){const{matched:g,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=NP(e,a,l);if(!g)return Wx(e);const D=this.applyRedirectCommands(_,a.redirectTo,T);return a.redirectTo.startsWith("/")?j3(D):this.lineralizeSegments(a,D).pipe((0,Ws.z)(O=>this.expandSegment(t,e,o,O.concat(b),c,!1)))}matchSegmentAgainstRoute(t,e,o,a,l){return"**"===o.path?(t=R3(o,t),o.loadChildren?(o._loadedRoutes?fn({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(t,o)).pipe((0,dn.U)(g=>(o._loadedRoutes=g.routes,o._loadedInjector=g.injector,new Li(a,{})))):fn(new Li(a,{}))):V3(e,o,a,t).pipe(kr(({matched:c,consumedSegments:g,remainingSegments:_})=>c?this.getChildConfig(t=o._injector??t,o,a).pipe((0,Ws.z)(T=>{const D=T.injector??t,O=T.routes,{segmentGroup:F,slicedSegments:j}=qM(e,g,_,O),X=new Li(F.segments,F.children);if(0===j.length&&X.hasChildren())return this.expandChildren(D,O,X).pipe((0,dn.U)(ft=>new Li(g,ft)));if(0===O.length&&0===j.length)return fn(new Li(g,{}));const se=Sd(o)===l;return this.expandSegment(D,X,O,j,se?Ii:l,!0).pipe((0,dn.U)(We=>new Li(g.concat(We.segments),We.children)))})):Wx(e)))}getChildConfig(t,e,o){return e.children?fn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?fn({routes:e._loadedRoutes,injector:e._loadedInjector}):function L$(i,t,e,o){const a=t.canLoad;return void 0===a||0===a.length?fn(!0):fn(a.map(c=>{const g=i.get(c),_=function T$(i){return i&&$x(i.canLoad)}(g)?g.canLoad(t,e):g(t,e);return Nm(_)})).pipe(C1(),L3())}(t,e,o).pipe((0,Ws.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,qo.b)(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function G$(i){return m1(A3($M,3))}())):fn({routes:[],injector:t})}lineralizeSegments(t,e){let o=[],a=e.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return fn(o);if(a.numberOfChildren>1||!a.children[Ii])return m1(new s.vHH(4e3,$M));a=a.children[Ii]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreateUrlTree(t,e,o,a){const l=this.createSegmentGroup(t,e.root,o,a);return new O0(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return xa(t,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const g=a.substring(1);o[l]=e[g]}else o[l]=a}),o}createSegmentGroup(t,e,o,a){const l=this.createSegments(t,e.segments,o,a);let c={};return xa(e.children,(g,_)=>{c[_]=this.createSegmentGroup(t,g,o,a)}),new Li(l,c)}createSegments(t,e,o,a){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,a):this.findOrReturn(l,o))}findPosParam(t,e,o){const a=o[e.path.substring(1)];if(!a)throw new s.vHH(4001,$M);return a}findOrReturn(t,e){let o=0;for(const a of e){if(a.path===t.path)return e.splice(o),a;o++}return t}}class W${}class J${constructor(t,e,o,a,l,c,g,_){this.injector=t,this.rootComponentType=e,this.config=o,this.urlTree=a,this.url=l,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=g,this.urlSerializer=_}recognize(){const t=qM(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ii).pipe((0,dn.U)(e=>{if(null===e)return null;const o=new HM([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ii,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Lm(o,e),l=new D3(this.url,a);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(t){const e=t.value,o=S3(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,o,a){return 0===o.segments.length&&o.hasChildren()?this.processChildren(t,e,o):this.processSegment(t,e,o,o.segments,a)}processChildren(t,e,o){return(0,dr.D)(Object.keys(o.children)).pipe(qy(a=>{const l=o.children[a],c=P3(e,a);return this.processSegmentGroup(t,c,l,a)}),D0((a,l)=>a&&l?(a.push(...l),a):null),function vZ(i,t=!1){return(0,Go.e)((e,o)=>{let a=0;e.subscribe((0,Ar.x)(o,l=>{const c=i(l,a++);(c||t)&&o.next(l),!c&&o.complete()}))})}(a=>null!==a),MM(null),QV(),(0,dn.U)(a=>{if(null===a)return null;const l=z3(a);return function Q$(i){i.sort((t,e)=>t.value.outlet===Ii?-1:e.value.outlet===Ii?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}))}processSegment(t,e,o,a,l){return(0,dr.D)(e).pipe(qy(c=>this.processSegmentAgainstRoute(c._injector??t,c,o,a,l)),Rm(c=>!!c),Pm(c=>{if(c instanceof g1)return H3(o,a,l)?fn([]):fn(null);throw c}))}processSegmentAgainstRoute(t,e,o,a,l){if(e.redirectTo||!B3(e,o,a,l))return fn(null);let c;if("**"===e.path){const g=a.length>0?n3(a).parameters:{},_=q3(o)+a.length;c=fn({snapshot:new HM(a,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$3(e),Sd(e),e.component??e._loadedComponent??null,e,G3(o),_,W3(e),_),consumedSegments:[],remainingSegments:[]})}else c=V3(o,e,a,t).pipe((0,dn.U)(({matched:g,consumedSegments:_,remainingSegments:b,parameters:T})=>{if(!g)return null;const D=q3(o)+_.length;return{snapshot:new HM(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$3(e),Sd(e),e.component??e._loadedComponent??null,e,G3(o),D,W3(e),D),consumedSegments:_,remainingSegments:b}}));return c.pipe(kr(g=>{if(null===g)return fn(null);const{snapshot:_,consumedSegments:b,remainingSegments:T}=g;t=e._injector??t;const D=e._loadedInjector??t,O=function X$(i){return i.children?i.children:i.loadChildren?i._loadedRoutes:[]}(e),{segmentGroup:F,slicedSegments:j}=qM(o,b,T,O.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);if(0===j.length&&F.hasChildren())return this.processChildren(D,O,F).pipe((0,dn.U)(se=>null===se?null:[new Lm(_,se)]));if(0===O.length&&0===j.length)return fn([new Lm(_,[])]);const X=Sd(e)===l;return this.processSegment(D,O,F,j,X?Ii:l).pipe((0,dn.U)(se=>null===se?null:[new Lm(_,se)]))}))}}function e8(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function z3(i){const t=[],e=new Set;for(const o of i){if(!e8(o)){t.push(o);continue}const a=t.find(l=>o.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...o.children),e.add(a)):t.push(o)}for(const o of e){const a=z3(o.children);t.push(new Lm(o.value,a))}return t.filter(o=>!e.has(o))}function G3(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function q3(i){let t=i,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function $3(i){return i.data||{}}function W3(i){return i.resolve||{}}const FP=Symbol("RouteTitle");function r8(i,t){return(0,Ws.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=e;if(!a.length)return fn(e);let l=0;return(0,dr.D)(a).pipe(qy(c=>function o8(i,t,e,o){const a=i.routeConfig,l=i._resolve;return void 0!==a?.title&&!Y3(a)&&(l[FP]=a.title),function s8(i,t,e,o){const a=function a8(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===a.length)return fn({});const l={};return(0,dr.D)(a).pipe((0,Ws.z)(c=>function l8(i,t,e,o){const a=zM(i,t,o);return Nm(a.resolve?a.resolve(t,e):a(t,e))}(i[c],t,e,o).pipe(Rm(),(0,qo.b)(g=>{l[c]=g}))),_P(1),function XV(i){return(0,dn.U)(()=>i)}(l),Pm(c=>c instanceof g1?Om.E:m1(c)))}(l,i,t,o).pipe((0,dn.U)(c=>(i._resolvedData=c,i.data=S3(i,e).resolve,a&&Y3(a)&&(i.data[FP]=a.title),null)))}(c.route,o,i,t)),(0,qo.b)(()=>l++),_P(1),(0,Ws.z)(c=>l===a.length?fn(e):Om.E))})}function Y3(i){return"string"==typeof i.title||null===i.title}function LP(i){return kr(t=>{const e=i(t);return e?(0,dr.D)(e).pipe((0,dn.U)(()=>t)):fn(t)})}let K3=(()=>{class i{buildTitle(e){let o,a=e.root;for(;void 0!==a;)o=this.getResolvedTitleForRoute(a)??o,a=a.children.find(l=>l.outlet===Ii);return o}getResolvedTitleForRoute(e){return e.data[FP]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(J3)},providedIn:"root"}),i})(),J3=(()=>{class i extends K3{constructor(e){super(),this.title=e}updateTitle(e){const o=this.buildTitle(e);void 0!==o&&this.title.setTitle(o)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(cl))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class c8{}class d8 extends class u8{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const VP=new s.OlP("",{providedIn:"root",factory:()=>({})}),BP=new s.OlP("ROUTES");let HP=(()=>{class i{constructor(e,o){this.injector=e,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return fn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const o=Nm(e.loadComponent()).pipe((0,qo.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),Lx(()=>{this.componentLoaders.delete(e)})),a=new JV(o,()=>new ii.x).pipe(mP());return this.componentLoaders.set(e,a),a}loadChildren(e,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return fn({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const l=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,dn.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(o);let _,b,T=!1;Array.isArray(g)?b=g:(_=g.create(e).injector,b=t3(_.get(BP,[],s.XFs.Self|s.XFs.Optional)));return{routes:b.map(RP),injector:_}}),Lx(()=>{this.childrenLoaders.delete(o)})),c=new JV(l,()=>new ii.x).pipe(mP());return this.childrenLoaders.set(o,c),c}loadModuleFactoryOrRoutes(e){return Nm(e()).pipe((0,Ws.z)(o=>o instanceof s.YKP||Array.isArray(o)?fn(o):(0,dr.D)(this.compiler.compileModuleAsync(o))))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.zs3),s.LFG(s.Sil))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class f8{}class p8{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function g8(i){throw i}function m8(i,t,e){return t.parse("/")}const _8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function X3(){const i=(0,s.f3M)(c3),t=(0,s.f3M)(Gx),e=(0,s.f3M)(Ke),o=(0,s.f3M)(s.zs3),a=(0,s.f3M)(s.Sil),l=(0,s.f3M)(BP,{optional:!0})??[],c=(0,s.f3M)(VP,{optional:!0})??{},g=(0,s.f3M)(J3),_=(0,s.f3M)(K3,{optional:!0}),b=(0,s.f3M)(f8,{optional:!0}),T=(0,s.f3M)(c8,{optional:!0}),D=new tr(null,i,t,e,o,a,t3(l));return b&&(D.urlHandlingStrategy=b),T&&(D.routeReuseStrategy=T),D.titleStrategy=_??g,function v8(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(c,D),D}let tr=(()=>{class i{constructor(e,o,a,l,c,g,_){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=a,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ii.x,this.errorHandler=g8,this.malformedUriErrorHandler=m8,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>fn(void 0),this.urlHandlingStrategy=new p8,this.routeReuseStrategy=new d8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(HP),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new e$(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new XZ(O)),this.ngModule=c.get(s.h0i),this.console=c.get(s.c2e);const D=c.get(s.R0b);this.isNgZoneEnabled=D instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function TZ(){return new O0(new Li([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=x3(this.currentUrlTree,this.rootComponentType),this.transitions=new rs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Zr(a=>0!==a.id),(0,dn.U)(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),kr(a=>{let l=!1,c=!1;return fn(a).pipe((0,qo.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kr(g=>{const _=this.browserUrlTree.toString(),b=!this.navigated||g.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return eB(g.source)&&(this.browserUrlTree=g.extractedUrl),fn(g).pipe(kr(D=>{const O=this.transitions.getValue();return o.next(new VM(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),O!==this.transitions.getValue()?Om.E:Promise.resolve(D)}),function $$(i,t,e,o){return kr(a=>function q$(i,t,e,o,a){return new Z$(i,t,e,o,a).apply()}(i,t,e,a.extractedUrl,o).pipe((0,dn.U)(l=>({...a,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qo.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},a.urlAfterRedirects=D.urlAfterRedirects}),function n8(i,t,e,o,a,l){return(0,Ws.z)(c=>function K$(i,t,e,o,a,l,c="emptyOnly",g="legacy"){return new J$(i,t,e,o,a,c,g,l).recognize().pipe(kr(_=>null===_?function Y$(i){return new qi.y(t=>t.error(i))}(new W$):fn(_)))}(i,t,e,c.urlAfterRedirects,o.serialize(c.urlAfterRedirects),o,a,l).pipe((0,dn.U)(g=>({...c,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qo.b)(D=>{if(a.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(F,D)}this.browserUrlTree=D.urlAfterRedirects}const O=new WZ(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);o.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:F,source:j,restoredState:X,extras:se}=g,ke=new VM(O,this.serializeUrl(F),j,X);o.next(ke);const We=x3(F,this.rootComponentType).snapshot;return fn(a={...g,targetSnapshot:We,urlAfterRedirects:F,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Om.E}),(0,qo.b)(g=>{const _=new YZ(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,dn.U)(g=>a={...g,guards:y$(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function M$(i,t){return(0,Ws.z)(e=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:c}}=e;return 0===c.length&&0===l.length?fn({...e,guardsResult:!0}):function A$(i,t,e,o){return(0,dr.D)(i).pipe((0,Ws.z)(a=>function F$(i,t,e,o,a){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?fn(l.map(g=>{const _=zM(g,t,a);return Nm(function S$(i){return i&&$x(i.canDeactivate)}(_)?_.canDeactivate(i,t,e,o):_(i,t,e,o)).pipe(Rm())})).pipe(C1()):fn(!0)}(a.component,a.route,e,t,o)),Rm(a=>!0!==a,!0))}(c,o,a,i).pipe((0,Ws.z)(g=>g&&function C$(i){return"boolean"==typeof i}(g)?function k$(i,t,e,o){return(0,dr.D)(t).pipe(qy(a=>h1(function R$(i,t){return null!==i&&t&&t(new t$(i)),fn(!0)}(a.route.parent,o),function O$(i,t){return null!==i&&t&&t(new i$(i)),fn(!0)}(a.route,o),function N$(i,t,e){const o=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(c=>function v$(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(c)).filter(c=>null!==c).map(c=>gP(()=>fn(c.guards.map(_=>{const b=zM(_,c.node,e);return Nm(function x$(i){return i&&$x(i.canActivateChild)}(b)?b.canActivateChild(o,i):b(o,i)).pipe(Rm())})).pipe(C1())));return fn(l).pipe(C1())}(i,a.path,e),function P$(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return fn(!0);const a=o.map(l=>gP(()=>{const c=zM(l,t,e);return Nm(function E$(i){return i&&$x(i.canActivate)}(c)?c.canActivate(t,i):c(t,i)).pipe(Rm())}));return fn(a).pipe(C1())}(i,a.route,e))),Rm(a=>!0!==a,!0))}(o,l,i,t):fn(g)),(0,dn.U)(g=>({...e,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,qo.b)(g=>{if(a.guardsResult=g.guardsResult,P0(g.guardsResult))throw M3(0,g.guardsResult);const _=new KZ(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(_)}),Zr(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),LP(g=>{if(g.guards.canActivateChecks.length)return fn(g).pipe((0,qo.b)(_=>{const b=new JZ(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),kr(_=>{let b=!1;return fn(_).pipe(r8(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qo.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,qo.b)(_=>{const b=new QZ(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),LP(g=>{const _=b=>{const T=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,qo.b)(D=>{b.component=D}),(0,dn.U)(()=>{})));for(const D of b.children)T.push(..._(D));return T};return Fx(_(g.targetSnapshot.root)).pipe(MM(),go(1))}),LP(()=>this.afterPreactivation()),(0,dn.U)(g=>{const _=function a$(i,t,e){const o=zx(i,t._root,e?e._root:void 0);return new E3(o,t)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return a={...g,targetRouterState:_}}),(0,qo.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((i,t,e)=>(0,dn.U)(o=>(new _$(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,qo.b)({next(){l=!0},complete(){l=!0}}),Lx(()=>{l||c||this.cancelNavigationTransition(a,"",1),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Pm(g=>{if(c=!0,O3(g)){k3(g)||(this.navigated=!0,this.restoreHistory(a,!0));const _=new BM(a.id,this.serializeUrl(a.extractedUrl),g.message,g.cancellationCode);if(o.next(_),k3(g)){const b=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),T={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eB(a.source)};this.scheduleNavigation(b,"imperative",null,T,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const _=new b3(a.id,this.serializeUrl(a.extractedUrl),g,a.targetSnapshot??void 0);o.next(_);try{a.resolve(this.errorHandler(g))}catch(b){a.reject(b)}}return Om.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{const a={replaceUrl:!0},l=e.state?.navigationId?e.state:null;if(l){const g={...l};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,o,l,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(RP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:a,queryParams:l,fragment:c,queryParamsHandling:g,preserveFragment:_}=o,b=a||this.routerState.root,T=_?this.currentUrlTree.fragment:c;let D=null;switch(g){case"merge":D={...this.currentUrlTree.queryParams,...l};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=l||null}return null!==D&&(D=this.removeEmptyProps(D)),jZ(b,this.currentUrlTree,e,D,T??null)}navigateByUrl(e,o={skipLocationChange:!1}){const a=P0(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function b8(i){for(let t=0;t<i.length;t++){if(null==i[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return o}isActive(e,o){let a;if(a=!0===o?{..._8}:!1===o?{...y8}:o,P0(e))return o3(this.currentUrlTree,e,a);const l=this.parseUrl(e);return o3(this.currentUrlTree,l,a)}removeEmptyProps(e){return Object.keys(e).reduce((o,a)=>{const l=e[a];return null!=l&&(o[a]=l),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,a,l,c){if(this.disposed)return Promise.resolve(!1);let g,_,b;c?(g=c.resolve,_=c.reject,b=c.promise):b=new Promise((O,F)=>{g=O,_=F});const T=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),D=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:T,targetPageId:D,source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:g,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(O=>Promise.reject(O))}setBrowserUrl(e,o){const a=this.urlSerializer.serialize(e),l={...o.extras.state,...this.generateNgRouterState(o.id,o.targetPageId)};this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(e,o=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o,a){const l=new BM(e.id,this.serializeUrl(e.extractedUrl),o,a);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){s.$Z()},i.\u0275prov=s.Yz7({token:i,factory:function(){return X3()},providedIn:"root"}),i})();function eB(i){return"imperative"!==i}let JM=(()=>{class i{constructor(e,o,a,l,c){this.router=e,this.route=o,this.tabIndexAttribute=a,this.renderer=l,this.el=c,this.commands=null,this.onChanges=new ii.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,a=this.el.nativeElement;null!==e?o.setAttribute(a,"tabindex",e):o.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tr),s.Y36(xd),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&s.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),i})(),Yx=(()=>{class i{constructor(e,o,a){this.router=e,this.route=o,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new ii.x,this.subscription=e.events.subscribe(l=>{l instanceof qp&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,a,l,c){if(0!==e||o||a||l||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tr),s.Y36(xd),s.Y36(Be))},i.\u0275dir=s.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&s.NdJ("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&s.uIk("target",o.target)("href",o.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),i})(),tB=(()=>{class i{constructor(e,o,a,l,c,g){this.router=e,this.element=o,this.renderer=a,this.cdr=l,this.link=c,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof qp&&this.update()})}ngAfterContentInit(){fn(this.links.changes,this.linksWithHrefs.changes,fn(null)).pipe((0,kx.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,dr.D)(e).pipe((0,kx.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const o=function w8(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>!!a.urlTree&&e.isActive(a.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(JM,8),s.Y36(Yx,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,a){if(1&e&&(s.Suo(a,JM,5),s.Suo(a,Yx,5)),2&e){let l;s.iGM(l=s.CRH())&&(o.links=l),s.iGM(l=s.CRH())&&(o.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),i})();class nB{}let iB=(()=>{class i{constructor(e,o,a,l,c){this.router=e,this.injector=a,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(e=>e instanceof qp),qy(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const a=[];for(const l of o){l.providers&&!l._injector&&(l._injector=(0,s.MMx)(l.providers,e,`Route: ${l.path}`));const c=l._injector??e,g=l._loadedInjector??c;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?a.push(this.preloadConfig(c,l)):(l.children||l._loadedRoutes)&&a.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,dr.D)(a).pipe((0,kx.J)())}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>{let a;a=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(e,o):fn(null);const l=a.pipe((0,Ws.z)(c=>null===c?fn(void 0):(o._loadedRoutes=c.routes,o._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(o.loadComponent&&!o._loadedComponent){const c=this.loader.loadComponent(o);return(0,dr.D)([l,c]).pipe((0,kx.J)())}return l})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(tr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(nB),s.LFG(HP))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const rB=new s.OlP("");let C8=(()=>{class i{constructor(e,o,a={}){this.router=e,this.viewportScroller=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof VM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof C3&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new C3(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){s.$Z()},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const oB=new s.OlP("ROUTER_FORROOT_GUARD"),sB=new s.OlP(""),T8=[Ke,{provide:c3,useClass:u3},{provide:tr,useFactory:X3},Gx,{provide:xd,useFactory:function E8(i){return i.routerState.root},deps:[tr]},HP];function x8(){return new s.PXZ("Router",tr)}let aB=(()=>{class i{constructor(e){}static forRoot(e,o){return{ngModule:i,providers:[T8,[],lB(e),{provide:oB,useFactory:M8,deps:[[tr,new s.FiY,new s.tp0]]},{provide:VP,useValue:o||{}},o?.useHash?{provide:Be,useClass:pt}:{provide:Be,useClass:St},{provide:rB,useFactory:()=>{const i=(0,s.f3M)(tr),t=(0,s.f3M)(xv),e=(0,s.f3M)(VP);return e.scrollOffset&&t.setOffset(e.scrollOffset),new C8(i,t,e)}},o?.preloadingStrategy?F8(o.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:x8},o?.initialNavigation?k8(o):[],[{provide:cB,useFactory:A8},{provide:s.tb,multi:!0,useExisting:cB}]]}}static forChild(e){return{ngModule:i,providers:[lB(e)]}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(oB,8))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();function M8(i){return"guarded"}function lB(i){return[{provide:BP,multi:!0,useValue:i}]}function A8(){const i=(0,s.f3M)(s.zs3);return t=>{const e=i.get(s.z2F);if(t!==e.components[0])return;const o=i.get(tr),a=i.get(uB);1===i.get(UP)&&o.initialNavigation(),i.get(sB,null,s.XFs.Optional)?.setUpPreloading(),i.get(rB,null,s.XFs.Optional)?.init(),o.resetRootComponentType(e.componentTypes[0]),a.next(),a.complete()}}const cB=new s.OlP("");function k8(i){return["disabled"===i.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const i=(0,s.f3M)(tr);return()=>{i.setUpLocationChangeListener()}}},{provide:UP,useValue:2}]:[],"enabledBlocking"===i.initialNavigation?[{provide:UP,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:i=>{const t=i.get(re,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(a=>{const l=i.get(tr),c=i.get(uB);(function o(a){i.get(tr).events.pipe(Zr(c=>c instanceof qp||c instanceof BM||c instanceof b3),(0,dn.U)(c=>c instanceof qp||c instanceof BM&&(0===c.code||1===c.code)&&null),Zr(c=>null!==c),go(1)).subscribe(()=>{a()})})(()=>{a(!0),e=!0}),l.afterPreactivation=()=>(a(!0),e||c.closed?fn(void 0):c),l.initialNavigation()}))}}]:[]]}const uB=new s.OlP("",{factory:()=>new ii.x}),UP=new s.OlP("",{providedIn:"root",factory:()=>1});function F8(i){return[iB,{provide:sB,useExisting:iB},{provide:nB,useExisting:i}]}let Cu=(()=>{class i{constructor(e,o,a,l,c){this.firebaseService=e,this.afs=o,this.afAuth=a,this.router=l,this.ngZone=c,this.userDetails=[{email:"",address:""}],this.address=[{address:""}],this.userEmail="",this.userPassword="",this.userCred={userEmail:"",userPassword:""},this.afAuth.authState.subscribe(g=>{if(g){console.log("saving user data in local storage when logged in"+g.email),this.userData=g,localStorage.setItem("user",JSON.stringify(this.userData)),localStorage.setItem("userCredentials",JSON.stringify(this.userCred)),console.log(JSON.parse(localStorage.getItem("userCredentials")));let _=JSON.parse(localStorage.getItem("user"));console.log(_)}else localStorage.setItem("user","null"),localStorage.setItem("userCredentials","null"),JSON.parse(localStorage.getItem("user"))})}login(e,o){return this.userCred.userEmail=e,this.userCred.userPassword=o,this.afAuth.signInWithEmailAndPassword(e,o).then(a=>{this.ngZone.run(()=>{localStorage.setItem("userCredentials",JSON.stringify(this.userCred)),console.log(JSON.parse(localStorage.getItem("userCredentials"))),this.userCred.userEmail=e,this.userCred.userPassword=o,this.router.navigate(["./home/"+a.user?.uid])}),this.SetUserData(a.user,o),this.setUserDetails(this.userCred)}).catch(a=>{window.alert(a.message)})}register(e,o){return this.afAuth.createUserWithEmailAndPassword(e,o).then(a=>{console.log(this.isLoggedIn),this.firebaseService.storeUserCard(e,{id:0,cardNum:"",expMonth:"",expYear:"",CVV:""}),this.firebaseService.setUserDetails(e,this.userDetails[0]),this.firebaseService.setBalance(e,0),this.userCred.userEmail=e,this.userCred.userPassword=o,console.log(a.user),this.sendEmailForVerification(),this.SetUserData(a.user),this.setUserDetails(this.userCred)}).catch(a=>{console.log("error leh"),window.alert(a.message)})}forgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, please check your inbox."),this.logout()}).catch(o=>{window.alert(o)})}sendEmailForVerification(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["/verify-email"])})}get isLoggedIn(){let e=JSON.parse(localStorage.getItem("user"));console.log(e);let o=JSON.parse(localStorage.getItem("userCredentials"));console.log(o);const a=JSON.parse(localStorage.getItem("user"));return null!==a&&1==a.emailVerified?(console.log("return true"),!0):(console.log("return false"),!1)}getCurrentUserData(){if(this.isLoggedIn)return JSON.parse(localStorage.getItem("user"))}getCurrentUserCredentials(){if(this.isLoggedIn){const e=JSON.parse(localStorage.getItem("userCredentials"));return console.log(e),e}}googleSignIn(){return this.AuthLogin(new Fn.Q).then(e=>{e&&(alert("Welcome back"+lo.name),setTimeout(()=>{this.router.navigate(["./user-profile"])},2e3))})}AuthLogin(e){return localStorage.setItem("userCredentials",JSON.stringify(this.userCred)),console.log(JSON.parse(localStorage.getItem("userCredentials"))),this.afAuth.signInWithPopup(e).then(o=>{this.ngZone.run(()=>{this.router.navigate(["/home/"+o.user?.uid])}),this.SetUserData(o.user)}).catch(o=>{window.alert(o)})}SetUserData(e,o){return this.afs.doc(`users/${e.email}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})}setUserDetails(e){return this.afs.doc(`userData/${e.userEmail}`).set({email:e.userEmail,password:e.userPassword},{merge:!0})}logout(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(jp),s.LFG($V),s.LFG(Nx),s.LFG(tr),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Pn{static equals(t,e,o){return o?this.resolveFieldData(t,o)===this.resolveFieldData(e,o):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var l,c,g,o=Array.isArray(t),a=Array.isArray(e);if(o&&a){if((c=t.length)!=e.length)return!1;for(l=c;0!=l--;)if(!this.equalsByValue(t[l],e[l]))return!1;return!0}if(o!=a)return!1;var _=t instanceof Date,b=e instanceof Date;if(_!=b)return!1;if(_&&b)return t.getTime()==e.getTime();var T=t instanceof RegExp,D=e instanceof RegExp;if(T!=D)return!1;if(T&&D)return t.toString()==e.toString();var O=Object.keys(t);if((c=O.length)!==Object.keys(e).length)return!1;for(l=c;0!=l--;)if(!Object.prototype.hasOwnProperty.call(e,O[l]))return!1;for(l=c;0!=l--;)if(!this.equalsByValue(t[g=O[l]],e[g]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let o=e.split("."),a=t;for(let l=0,c=o.length;l<c;++l){if(null==a)return null;a=a[o[l]]}return a}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,o){t&&e!==o&&(o>=t.length&&(o%=t.length,e%=t.length),t.splice(o,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,o,a){if(o.length>0){let l=!1;for(let c=0;c<o.length;c++)if(this.findIndexInList(o[c],a)>e){o.splice(c,0,t),l=!0;break}l||o.push(t)}else o.push(t)}static findIndexInList(t,e){let o=-1;if(e)for(let a=0;a<e.length;a++)if(e[a]==t){o=a;break}return o}static contains(t,e){if(null!=t&&e&&e.length)for(let o of e)if(this.equals(t,o))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var dB=0;function T1(){return"pr_id_"+ ++dB}var Ys=function L8(){let i=[];const a=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:a,set:(l,c,g)=>{c&&(c.style.zIndex=String(((l,c)=>{let g=i.length>0?i[i.length-1]:{key:l,value:c},_=g.value+(g.key===l?0:c)+1;return i.push({key:l,value:_}),_})(l,g)))},clear:l=>{l&&((l=>{i=i.filter(c=>c.value!==l)})(a(l)),l.style.zIndex="")},getCurrent:()=>i.length>0?i[i.length-1].value:0}}();const hB=["*"];let Sa=(()=>{class i{}return i.STARTS_WITH="startsWith",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.ENDS_WITH="endsWith",i.EQUALS="equals",i.NOT_EQUALS="notEquals",i.IN="in",i.LESS_THAN="lt",i.LESS_THAN_OR_EQUAL_TO="lte",i.GREATER_THAN="gt",i.GREATER_THAN_OR_EQUAL_TO="gte",i.BETWEEN="between",i.IS="is",i.IS_NOT="isNot",i.BEFORE="before",i.AFTER="after",i.DATE_IS="dateIs",i.DATE_IS_NOT="dateIsNot",i.DATE_BEFORE="dateBefore",i.DATE_AFTER="dateAfter",i})(),nf=(()=>{class i{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Sa.STARTS_WITH,Sa.CONTAINS,Sa.NOT_CONTAINS,Sa.ENDS_WITH,Sa.EQUALS,Sa.NOT_EQUALS],numeric:[Sa.EQUALS,Sa.NOT_EQUALS,Sa.LESS_THAN,Sa.LESS_THAN_OR_EQUAL_TO,Sa.GREATER_THAN,Sa.GREATER_THAN_OR_EQUAL_TO],date:[Sa.DATE_IS,Sa.DATE_IS_NOT,Sa.DATE_BEFORE,Sa.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new ii.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Dd=(()=>{class i{}return i.STARTS_WITH="startsWith",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.ENDS_WITH="endsWith",i.EQUALS="equals",i.NOT_EQUALS="notEquals",i.NO_FILTER="noFilter",i.LT="lt",i.LTE="lte",i.GT="gt",i.GTE="gte",i.IS="is",i.IS_NOT="isNot",i.BEFORE="before",i.AFTER="after",i.CLEAR="clear",i.APPLY="apply",i.MATCH_ALL="matchAll",i.MATCH_ANY="matchAny",i.ADD_RULE="addRule",i.REMOVE_RULE="removeRule",i.ACCEPT="accept",i.REJECT="reject",i.CHOOSE="choose",i.UPLOAD="upload",i.CANCEL="cancel",i.DAY_NAMES="dayNames",i.DAY_NAMES_SHORT="dayNamesShort",i.DAY_NAMES_MIN="dayNamesMin",i.MONTH_NAMES="monthNames",i.MONTH_NAMES_SHORT="monthNamesShort",i.FIRST_DAY_OF_WEEK="firstDayOfWeek",i.TODAY="today",i.WEEK_HEADER="weekHeader",i.WEAK="weak",i.MEDIUM="medium",i.STRONG="strong",i.PASSWORD_PROMPT="passwordPrompt",i.EMPTY_MESSAGE="emptyMessage",i.EMPTY_FILTER_MESSAGE="emptyFilterMessage",i})(),fB=(()=>{class i{constructor(){this.filters={startsWith:(e,o,a)=>{if(null==o||""===o.trim())return!0;if(null==e)return!1;let l=Pn.removeAccents(o.toString()).toLocaleLowerCase(a);return Pn.removeAccents(e.toString()).toLocaleLowerCase(a).slice(0,l.length)===l},contains:(e,o,a)=>{if(null==o||"string"==typeof o&&""===o.trim())return!0;if(null==e)return!1;let l=Pn.removeAccents(o.toString()).toLocaleLowerCase(a);return-1!==Pn.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},notContains:(e,o,a)=>{if(null==o||"string"==typeof o&&""===o.trim())return!0;if(null==e)return!1;let l=Pn.removeAccents(o.toString()).toLocaleLowerCase(a);return-1===Pn.removeAccents(e.toString()).toLocaleLowerCase(a).indexOf(l)},endsWith:(e,o,a)=>{if(null==o||""===o.trim())return!0;if(null==e)return!1;let l=Pn.removeAccents(o.toString()).toLocaleLowerCase(a),c=Pn.removeAccents(e.toString()).toLocaleLowerCase(a);return-1!==c.indexOf(l,c.length-l.length)},equals:(e,o,a)=>null==o||"string"==typeof o&&""===o.trim()||null!=e&&(e.getTime&&o.getTime?e.getTime()===o.getTime():Pn.removeAccents(e.toString()).toLocaleLowerCase(a)==Pn.removeAccents(o.toString()).toLocaleLowerCase(a)),notEquals:(e,o,a)=>!(null==o||"string"==typeof o&&""===o.trim()||null!=e&&(e.getTime&&o.getTime?e.getTime()===o.getTime():Pn.removeAccents(e.toString()).toLocaleLowerCase(a)==Pn.removeAccents(o.toString()).toLocaleLowerCase(a))),in:(e,o)=>{if(null==o||0===o.length)return!0;for(let a=0;a<o.length;a++)if(Pn.equals(e,o[a]))return!0;return!1},between:(e,o)=>null==o||null==o[0]||null==o[1]||null!=e&&(e.getTime?o[0].getTime()<=e.getTime()&&e.getTime()<=o[1].getTime():o[0]<=e&&e<=o[1]),lt:(e,o,a)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()<o.getTime():e<o),lte:(e,o,a)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()<=o.getTime():e<=o),gt:(e,o,a)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()>o.getTime():e>o),gte:(e,o,a)=>null==o||null!=e&&(e.getTime&&o.getTime?e.getTime()>=o.getTime():e>=o),is:(e,o,a)=>this.filters.equals(e,o,a),isNot:(e,o,a)=>this.filters.notEquals(e,o,a),before:(e,o,a)=>this.filters.lt(e,o,a),after:(e,o,a)=>this.filters.gt(e,o,a),dateIs:(e,o)=>null==o||null!=e&&e.toDateString()===o.toDateString(),dateIsNot:(e,o)=>null==o||null!=e&&e.toDateString()!==o.toDateString(),dateBefore:(e,o)=>null==o||null!=e&&e.getTime()<o.getTime(),dateAfter:(e,o)=>null==o||null!=e&&e.getTime()>o.getTime()}}filter(e,o,a,l,c){let g=[];if(e)for(let _ of e)for(let b of o){let T=Pn.resolveFieldData(_,b);if(this.filters[l](T,a,c)){g.push(_);break}}return g}register(e,o){this.filters[e]=o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Vm=(()=>{class i{constructor(){this.messageSource=new ii.x,this.clearSource=new ii.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),QM=(()=>{class i{constructor(){this.clickSource=new ii.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pB=(()=>{class i{}return i.AND="and",i.OR="or",i})(),gB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-header"]],ngContentSelectors:hB,decls:1,vars:0,template:function(e,o){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),i})(),mB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-footer"]],ngContentSelectors:hB,decls:1,vars:0,template:function(e,o){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),i})(),Da=(()=>{class i{constructor(e){this.template=e}getType(){return this.name}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),i})(),Tu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})();class _B{}class yB{}class Ao{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const a=e.slice(0,o),l=a.toLowerCase(),c=e.slice(o+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const a=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(a,o),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ao?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ao;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ao?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...o),this.headers.set(e,a);break;case"d":const l=t.value;if(l){let c=this.headers.get(e);if(!c)return;c=c.filter(g=>-1===l.indexOf(g)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class V8{encodeKey(t){return vB(t)}encodeValue(t){return vB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const H8=/%(\d[a-f0-9])/gi,U8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vB(i){return encodeURIComponent(i).replace(H8,(t,e)=>U8[e]??t)}function XM(i){return`${i}`}class fi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new V8,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function B8(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[c,g]=-1==l?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,l)),t.decodeValue(a.slice(l+1))],_=e.get(c)||[];_.push(g),e.set(c,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e],a=Array.isArray(o)?o.map(XM):[XM(o)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const a=t[o];Array.isArray(a)?a.forEach(l=>{e.push({param:o,value:l,op:"a"})}):e.push({param:o,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(XM(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const a=o.indexOf(XM(t.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Bt{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function bB(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function wB(i){return typeof Blob<"u"&&i instanceof Blob}function CB(i){return typeof FormData<"u"&&i instanceof FormData}class Kx{constructor(t,e,o,a){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function j8(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,l=a):l=o,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ao),this.context||(this.context=new Bt),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const g=e.indexOf("?");this.urlWithParams=e+(-1===g?"?":g<e.length-1?"&":"")+c}}else this.params=new fi,this.urlWithParams=e}serializeBody(){return null===this.body?null:bB(this.body)||wB(this.body)||CB(this.body)||function z8(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CB(this.body)?null:wB(this.body)?this.body.type||null:bB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,o=t.url||this.url,a=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const T=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((D,O)=>D.set(O,t.setHeaders[O]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((D,O)=>D.set(O,t.setParams[O]),b)),new Kx(e,o,l,{params:b,headers:_,context:T,reportProgress:g,responseType:a,withCredentials:c})}}var bs=(()=>((bs=bs||{})[bs.Sent=0]="Sent",bs[bs.UploadProgress=1]="UploadProgress",bs[bs.ResponseHeader=2]="ResponseHeader",bs[bs.DownloadProgress=3]="DownloadProgress",bs[bs.Response=4]="Response",bs[bs.User=5]="User",bs))();class jP{constructor(t,e=200,o="OK"){this.headers=t.headers||new Ao,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class zP extends jP{constructor(t={}){super(t),this.type=bs.ResponseHeader}clone(t={}){return new zP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class eA extends jP{constructor(t={}){super(t),this.type=bs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new eA({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class TB extends jP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function GP(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let ko=(()=>{class i{constructor(e){this.handler=e}request(e,o,a={}){let l;if(e instanceof Kx)l=e;else{let _,b;_=a.headers instanceof Ao?a.headers:new Ao(a.headers),a.params&&(b=a.params instanceof fi?a.params:new fi({fromObject:a.params})),l=new Kx(e,o,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:b,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const c=fn(l).pipe(qy(_=>this.handler.handle(_)));if(e instanceof Kx||"events"===a.observe)return c;const g=c.pipe(Zr(_=>_ instanceof eA));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return g.pipe((0,dn.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,dn.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,dn.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,dn.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new fi).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,a={}){return this.request("PATCH",e,GP(a,o))}post(e,o,a={}){return this.request("POST",e,GP(a,o))}put(e,o,a={}){return this.request("PUT",e,GP(a,o))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(_B))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class EB{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const xB=new s.OlP("HTTP_INTERCEPTORS");let G8=(()=>{class i{intercept(e,o){return o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const q8=/^\)\]\}',?\n/;let SB=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qi.y(o=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((F,j)=>a.setRequestHeader(F,j.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const F=e.detectContentTypeHeader();null!==F&&a.setRequestHeader("Content-Type",F)}if(e.responseType){const F=e.responseType.toLowerCase();a.responseType="json"!==F?F:"text"}const l=e.serializeBody();let c=null;const g=()=>{if(null!==c)return c;const F=a.statusText||"OK",j=new Ao(a.getAllResponseHeaders()),X=function Z8(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(a)||e.url;return c=new zP({headers:j,status:a.status,statusText:F,url:X}),c},_=()=>{let{headers:F,status:j,statusText:X,url:se}=g(),ke=null;204!==j&&(ke=typeof a.response>"u"?a.responseText:a.response),0===j&&(j=ke?200:0);let We=j>=200&&j<300;if("json"===e.responseType&&"string"==typeof ke){const ft=ke;ke=ke.replace(q8,"");try{ke=""!==ke?JSON.parse(ke):null}catch(ht){ke=ft,We&&(We=!1,ke={error:ht,text:ke})}}We?(o.next(new eA({body:ke,headers:F,status:j,statusText:X,url:se||void 0})),o.complete()):o.error(new TB({error:ke,headers:F,status:j,statusText:X,url:se||void 0}))},b=F=>{const{url:j}=g(),X=new TB({error:F,status:a.status||0,statusText:a.statusText||"Unknown Error",url:j||void 0});o.error(X)};let T=!1;const D=F=>{T||(o.next(g()),T=!0);let j={type:bs.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(j.total=F.total),"text"===e.responseType&&!!a.responseText&&(j.partialText=a.responseText),o.next(j)},O=F=>{let j={type:bs.UploadProgress,loaded:F.loaded};F.lengthComputable&&(j.total=F.total),o.next(j)};return a.addEventListener("load",_),a.addEventListener("error",b),a.addEventListener("timeout",b),a.addEventListener("abort",b),e.reportProgress&&(a.addEventListener("progress",D),null!==l&&a.upload&&a.upload.addEventListener("progress",O)),a.send(l),o.next({type:bs.Sent}),()=>{a.removeEventListener("error",b),a.removeEventListener("abort",b),a.removeEventListener("load",_),a.removeEventListener("timeout",b),e.reportProgress&&(a.removeEventListener("progress",D),null!==l&&a.upload&&a.upload.removeEventListener("progress",O)),a.readyState!==a.DONE&&a.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(No))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const qP=new s.OlP("XSRF_COOKIE_NAME"),ZP=new s.OlP("XSRF_HEADER_NAME");class DB{}let $8=(()=>{class i{constructor(e,o,a){this.doc=e,this.platform=o,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ui(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve),s.LFG(s.Lbi),s.LFG(qP))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),$P=(()=>{class i{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return o.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(DB),s.LFG(ZP))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),W8=(()=>{class i{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(xB,[]);this.chain=o.reduceRight((a,l)=>new EB(a,l),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(yB),s.LFG(s.zs3))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),Y8=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:$P,useClass:G8}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:qP,useValue:e.cookieName}:[],e.headerName?{provide:ZP,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[$P,{provide:xB,useExisting:$P,multi:!0},{provide:DB,useClass:$8},{provide:qP,useValue:"XSRF-TOKEN"},{provide:ZP,useValue:"X-XSRF-TOKEN"}]}),i})(),K8=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[ko,{provide:_B,useClass:W8},SB,{provide:yB,useExisting:SB}],imports:[Y8.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),i})(),N0=(()=>{class i{constructor(e){this.http=e,this.status=["OUTOFSTOCK","INSTOCK","LOWSTOCK"],this.productNames=["Bamboo Watch","Black Watch","Blue Band","Blue T-Shirt","Bracelet","Brown Purse","Chakra Bracelet","Galaxy Earrings","Game Controller","Gaming Set","Gold Phone Case","Green Earbuds","Green T-Shirt","Grey T-Shirt","Headphones","Light Green T-Shirt","Lime Band","Mini Speakers","Painted Phone Case","Pink Band","Pink Purse","Purple Band","Purple Gemstone Necklace","Purple T-Shirt","Shoes","Sneakers","Teal T-Shirt","Yellow Earbuds","Yoga Mat","Yoga Set"]}getDiscountedProducts(){return this.http.get("/assets/data/discountedProducts.json").toPromise().then(e=>e.data).then(e=>e)}getAllProducts(){return this.http.get("/assets/data/products.json").toPromise().then(e=>e.data).then(e=>e)}getAllProductsDetails(){return this.http.get("/assets/data/productDetails.json").toPromise().then(e=>e.data).then(e=>e)}getCartItems(){return this.http.get("/assets/data/cart.json").toPromise().then(e=>e.data).then(e=>e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ko))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),J8=(()=>{class i{constructor(e,o,a,l){this.authService=e,this.primengConfig=o,this.firebasecrudservice=a,this.productService=l,this.title="MERCv3",this.voucher=[{title:"RM 50 off",min:500,cashback:0,freeShipping:!1,discount:50,type:"discount"},{title:"Free shipping",min:500,cashback:0,freeShipping:!0,discount:0,type:"free shipping"},{title:"Cashback 15%",min:100,cashback:15,freeShipping:!1,discount:0,type:"cash back"}],this.selectedVoucher=[{id:"v001",voucher1:"",voucher2:"",voucher3:""},{id:"v002",voucher1:"",voucher2:"",voucher3:""},{id:"v003",voucher1:"",voucher2:"",voucher3:""}]}ngOnInit(){this.primengConfig.ripple=!0,this.currentUser=this.authService.getCurrentUserData(),this.productService.getCartItems().then(e=>{this.items=e,this.count=e.length;for(let o=0;o<this.count;o++);})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu),s.Y36(nf),s.Y36(jp),s.Y36(N0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){1&e&&s._UZ(0,"router-outlet")},dependencies:[AP]}),i})();let MB=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Qsj),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i}),i})(),F0=(()=>{class i extends MB{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=s.n5z(i)))(o||i)}}(),i.\u0275dir=s.lG2({type:i,features:[s.qOj]}),i})();const ws=new s.OlP("NgValueAccessor"),X8={provide:ws,useExisting:(0,s.Gpc)(()=>L0),multi:!0},tW=new s.OlP("CompositionEventMode");let L0=(()=>{class i extends MB{constructor(e,o,a){super(e,o),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function eW(){const i=Y()?Y().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(tW,8))},i.\u0275dir=s.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&s.NdJ("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[s._Bn([X8]),s.qOj]}),i})();function $y(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}const Ia=new s.OlP("NgValidators"),Wy=new s.OlP("NgAsyncValidators");function PB(i){return $y(i.value)?{required:!0}:null}function tA(i){return null}function HB(i){return null!=i}function UB(i){return(0,s.QGY)(i)?(0,dr.D)(i):i}function jB(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function zB(i,t){return t.map(e=>e(i))}function GB(i){return i.map(t=>function rW(i){return!i.validate}(t)?t:e=>t.validate(e))}function WP(i){return null!=i?function qB(i){if(!i)return null;const t=i.filter(HB);return 0==t.length?null:function(e){return jB(zB(e,t))}}(GB(i)):null}function ZB(i){if(!i)return null;const t=i.filter(HB);return 0==t.length?null:function(e){return function IB(...i){const t=(0,zy.jO)(i),{args:e,keys:o}=WV(i),a=new qi.y(l=>{const{length:c}=e;if(!c)return void l.complete();const g=new Array(c);let _=c,b=c;for(let T=0;T<c;T++){let D=!1;(0,Td.Xf)(e[T]).subscribe((0,Ar.x)(l,O=>{D||(D=!0,b--),g[T]=O},()=>_--,void 0,()=>{(!_||!D)&&(b||l.next(o?YV(o,g):g),l.complete())}))}});return t?a.pipe(pP(t)):a}(zB(e,t).map(UB)).pipe((0,dn.U)(jB))}}function YP(i){return null!=i?ZB(GB(i)):null}function $B(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function KP(i){return i?Array.isArray(i)?i:[i]:[]}function nA(i,t){return Array.isArray(i)?i.includes(t):i===t}function KB(i,t){const e=KP(t);return KP(i).forEach(a=>{nA(e,a)||e.push(a)}),e}function JB(i,t){return KP(t).filter(e=>!nA(i,e))}class QB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=WP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Nl extends QB{get formDirective(){return null}get path(){return null}}class Yy extends QB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XB{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let E1=(()=>{class i extends XB{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Yy,2))},i.\u0275dir=s.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&s.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[s.qOj]}),i})(),x1=(()=>{class i extends XB{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Nl,10))},i.\u0275dir=s.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&s.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[s.qOj]}),i})();const Jx="VALID",rA="INVALID",S1="PENDING",Qx="DISABLED";function eN(i){return(oA(i)?i.validators:i)||null}function tH(i){return Array.isArray(i)?WP(i):i||null}function tN(i,t){return(oA(t)?t.asyncValidators:i)||null}function nH(i){return Array.isArray(i)?YP(i):i||null}function oA(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function iH(i,t,e){const o=i.controls;if(!(t?Object.keys(o):o).length)throw new s.vHH(1e3,"");if(!o[e])throw new s.vHH(1001,"")}function rH(i,t,e){i._forEachChild((o,a)=>{if(void 0===e[a])throw new s.vHH(1002,"")})}class sA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tH(this._rawValidators),this._composedAsyncValidatorFn=nH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Jx}get invalid(){return this.status===rA}get pending(){return this.status==S1}get disabled(){return this.status===Qx}get enabled(){return this.status!==Qx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tH(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=nH(t)}addValidators(t){this.setValidators(KB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(KB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(JB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(JB(t,this._rawAsyncValidators))}hasValidator(t){return nA(this._rawValidators,t)}hasAsyncValidator(t){return nA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=S1,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qx,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jx,this._forEachChild(o=>{o.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jx||this.status===S1)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qx:Jx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=S1,this._hasOwnPendingAsyncValidator=!0;const e=UB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,a)=>o&&o._find(a),this)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Qx:this.errors?rA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(S1)?S1:this._anyControlsHaveStatus(rA)?rA:Jx}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){oA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class aA extends sA{constructor(t,e,o){super(eN(e),tN(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rH(this,0,t),Object.keys(t).forEach(o=>{iH(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{const a=this.controls[o];a&&a.patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,a)=>{o.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&t(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,a)=>((o.enabled||this.disabled)&&(e[a]=o.value),e))}_reduceChildren(t,e){let o=t;return this._forEachChild((a,l)=>{o=e(o,a,l)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Xx(i,t){nN(i,t),t.valueAccessor.writeValue(i.value),i.disabled&&t.valueAccessor.setDisabledState?.(!0),function fW(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&oH(i,t)})}(i,t),function gW(i,t){const e=(o,a)=>{t.valueAccessor.writeValue(o),a&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function pW(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&oH(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function hW(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function uA(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nN(i,t){const e=function WB(i){return i._rawValidators}(i);null!==t.validator?i.setValidators($B(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=function YB(i){return i._rawAsyncValidators}(i);null!==t.asyncValidator?i.setAsyncValidators($B(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const a=()=>i.updateValueAndValidity();uA(t._rawValidators,a),uA(t._rawAsyncValidators,a)}function oH(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}const bW={provide:Nl,useExisting:(0,s.Gpc)(()=>Ky)},eS=(()=>Promise.resolve(null))();let Ky=(()=>{class i extends Nl{constructor(e,o){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new aA({},WP(e),YP(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){eS.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Xx(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){eS.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){eS.then(()=>{const o=this._findContainer(e.path),a=new aA({});(function sH(i,t){nN(i,t)})(a,e),o.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){eS.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){eS.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function lH(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Ia,10),s.Y36(Wy,10))},i.\u0275dir=s.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&s.NdJ("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([bW]),s.qOj]}),i})();function cH(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function uH(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const tS=class extends sA{constructor(t=null,e,o){super(eN(e),tN(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=uH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){cH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){cH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){uH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},TW={provide:Yy,useExisting:(0,s.Gpc)(()=>Jy)},fH=(()=>Promise.resolve(null))();let Jy=(()=>{class i extends Yy{constructor(e,o,a,l,c){super(),this._changeDetectorRef=c,this.control=new tS,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=function rN(i,t){if(!t)return null;let e,o,a;return Array.isArray(t),t.forEach(l=>{l.constructor===L0?e=l:function yW(i){return Object.getPrototypeOf(i.constructor)===F0}(l)?o=l:a=l}),a||o||e||null}(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function iN(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xx(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,a=0!==o&&(0,s.D6c)(o);fH.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function lA(i,t){return[...t.path,i]}(e,this._parent):[e]}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Nl,9),s.Y36(Ia,10),s.Y36(Wy,10),s.Y36(ws,10),s.Y36(s.sBO,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([TW]),s.qOj,s.TTD]}),i})(),D1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),gH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const oN=new s.OlP("NgModelWithFormControlWarning"),RW={provide:ws,useExisting:(0,s.Gpc)(()=>cN),multi:!0};function wH(i,t){return null==i?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let cN=(()=>{class i extends F0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const a=wH(this._getOptionId(e),e);this.setProperty("value",a)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function PW(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=s.n5z(i)))(o||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&s.NdJ("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([RW]),s.qOj]}),i})(),CH=(()=>{class i{constructor(e,o,a){this._element=e,this._renderer=o,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(wH(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(cN,9))},i.\u0275dir=s.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const NW={provide:ws,useExisting:(0,s.Gpc)(()=>uN),multi:!0};function TH(i,t){return null==i?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let uN=(()=>{class i extends F0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const a=e.map(l=>this._getOptionId(l));o=(l,c)=>{l._setSelected(a.indexOf(c.toString())>-1)}}else o=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const a=[],l=o.selectedOptions;if(void 0!==l){const c=l;for(let g=0;g<c.length;g++){const b=this._getOptionValue(c[g].value);a.push(b)}}else{const c=o.options;for(let g=0;g<c.length;g++){const _=c[g];if(_.selected){const b=this._getOptionValue(_.value);a.push(b)}}}this.value=a,e(a)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function FW(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=s.n5z(i)))(o||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&s.NdJ("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([NW]),s.qOj]}),i})(),EH=(()=>{class i{constructor(e,o,a){this._element=e,this._renderer=o,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(TH(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(TH(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(uN,9))},i.\u0275dir=s.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();let V0=(()=>{class i{constructor(){this._validator=tA}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):tA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,features:[s.TTD]}),i})();const BW={provide:Ia,useExisting:(0,s.Gpc)(()=>I1),multi:!0};let I1=(()=>{class i extends V0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>PB}enabled(e){return e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=s.n5z(i)))(o||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&s.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([BW]),s.qOj]}),i})();const zW={provide:Ia,useExisting:(0,s.Gpc)(()=>hN),multi:!0};let hN=(()=>{class i extends V0{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function xH(i){return"number"==typeof i?i:parseInt(i,10)}(e),this.createValidator=e=>function VB(i){return t=>function kB(i){return null!=i&&"number"==typeof i.length}(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(e)}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=s.n5z(i)))(o||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&s.uIk("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([zW]),s.qOj]}),i})();const GW={provide:Ia,useExisting:(0,s.Gpc)(()=>fN),multi:!0};let fN=(()=>{class i extends V0{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>function BB(i){if(!i)return tA;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),o=>{if($y(o.value))return null;const a=o.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(e)}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=s.n5z(i)))(o||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&s.uIk("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},features:[s._Bn([GW]),s.qOj]}),i})(),kH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[gH]}),i})(),M1=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[kH]}),i})(),pN=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:oN,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[kH]}),i})();class OH extends sA{constructor(t,e,o){super(eN(e),tN(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rH(this,0,t),t.forEach((o,a)=>{iH(this,!1,a),this.at(a).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,a)=>{this.at(a)&&this.at(a).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,a)=>{o.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function RH(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let PH=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new i;return e.useNonNullable=!0,e}group(e,o=null){const a=this._reduceControls(e);let l={};return RH(o)?l=o:null!==o&&(l.validators=o.validator,l.asyncValidators=o.asyncValidator),new aA(a,l)}control(e,o,a){let l={};return this.useNonNullable?(RH(o)?l=o:(l.validators=o,l.asyncValidators=a),new tS(e,{...l,nonNullable:!0})):new tS(e,o,a)}array(e,o,a){const l=e.map(c=>this._createControl(c));return new OH(l,o,a)}_reduceControls(e){const o={};return Object.keys(e).forEach(a=>{o[a]=this._createControl(e[a])}),o}_createControl(e){return e instanceof tS||e instanceof sA?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:pN}),i})();class NH{}const Bm="*";function Ks(i,t){return{type:7,name:i,definitions:t,options:{}}}function yr(i,t=null){return{type:4,styles:t,timings:i}}function FH(i,t=null){return{type:2,steps:i,options:t}}function Kn(i){return{type:6,styles:i,offset:null}}function to(i,t,e){return{type:0,name:i,styles:t,options:e}}function nr(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function LH(i,t=null){return{type:8,animation:i,options:t}}function gN(i=null){return{type:9,options:i}}function VH(i,t=null){return{type:10,animation:i,options:t}}function mN(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}function BH(i){Promise.resolve(null).then(i)}class iS{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class HH{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,o=0,a=0;const l=this.players.length;0==l?BH(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==l&&this._onFinish()}),c.onDestroy(()=>{++o==l&&this._onDestroy()}),c.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,g)=>Math.max(c,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(o=>{const a=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(a)})}getPosition(){const t=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}function UH(i){return new s.vHH(3e3,!1)}function SY(){return typeof window<"u"&&typeof window.document<"u"}function yN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Qy(i){switch(i.length){case 0:return new iS;case 1:return i[0];default:return new HH(i)}}function jH(i,t,e,o,a=new Map,l=new Map){const c=[],g=[];let _=-1,b=null;if(o.forEach(T=>{const D=T.get("offset"),O=D==_,F=O&&b||new Map;T.forEach((j,X)=>{let se=X,ke=j;if("offset"!==X)switch(se=t.normalizePropertyName(se,c),ke){case"!":ke=a.get(X);break;case Bm:ke=l.get(X);break;default:ke=t.normalizeStyleValue(X,se,ke,c)}F.set(se,ke)}),O||g.push(F),b=F,_=D}),c.length)throw function pY(i){return new s.vHH(3502,!1)}();return g}function vN(i,t,e,o){switch(t){case"start":i.onStart(()=>o(e&&bN(e,"start",i)));break;case"done":i.onDone(()=>o(e&&bN(e,"done",i)));break;case"destroy":i.onDestroy(()=>o(e&&bN(e,"destroy",i)))}}function bN(i,t,e){const l=wN(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),c=i._data;return null!=c&&(l._data=c),l}function wN(i,t,e,o,a="",l=0,c){return{element:i,triggerName:t,fromState:e,toState:o,phaseName:a,totalTime:l,disabled:!!c}}function Eu(i,t,e){let o=i.get(t);return o||i.set(t,o=e),o}function zH(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}let CN=(i,t)=>!1,GH=(i,t,e)=>[],qH=null;function TN(i){const t=i.parentNode||i.host;return t===qH?null:t}(yN()||typeof Element<"u")&&(SY()?(qH=(()=>document.documentElement)(),CN=(i,t)=>{for(;t;){if(t===i)return!0;t=TN(t)}return!1}):CN=(i,t)=>i.contains(t),GH=(i,t,e)=>{if(e)return Array.from(i.querySelectorAll(t));const o=i.querySelector(t);return o?[o]:[]});let B0=null,ZH=!1;const $H=CN,WH=GH;let YH=(()=>{class i{validateStyleProperty(e){return function IY(i){B0||(B0=function MY(){return typeof document<"u"?document.body:null}()||{},ZH=!!B0.style&&"WebkitAppearance"in B0.style);let t=!0;return B0.style&&!function DY(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in B0.style,!t&&ZH&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in B0.style)),t}(e)}matchesElement(e,o){return!1}containsElement(e,o){return $H(e,o)}getParentElement(e){return TN(e)}query(e,o,a){return WH(e,o,a)}computeStyle(e,o,a){return a||""}animate(e,o,a,l,c,g=[],_){return new iS(a,l)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),EN=(()=>{class i{}return i.NOOP=new YH,i})();const xN="ng-enter",hA="ng-leave",fA="ng-trigger",pA=".ng-trigger",JH="ng-animating",SN=".ng-animating";function Xy(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:DN(parseFloat(t[1]),t[2])}function DN(i,t){return"s"===t?1e3*i:i}function gA(i,t,e){return i.hasOwnProperty("duration")?i:function OY(i,t,e){let a,l=0,c="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(UH()),{duration:0,delay:0,easing:""};a=DN(parseFloat(g[1]),g[2]);const _=g[3];null!=_&&(l=DN(parseFloat(_),g[4]));const b=g[5];b&&(c=b)}else a=i;if(!e){let g=!1,_=t.length;a<0&&(t.push(function ZW(){return new s.vHH(3100,!1)}()),g=!0),l<0&&(t.push(function $W(){return new s.vHH(3101,!1)}()),g=!0),g&&t.splice(_,0,UH())}return{duration:a,delay:l,easing:c}}(i,t,e)}function rS(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function QH(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function ev(i,t=new Map,e){if(e)for(let[o,a]of e)t.set(o,a);for(let[o,a]of i)t.set(o,a);return t}function eU(i,t,e){return e?t+":"+e+";":""}function tU(i){let t="";for(let e=0;e<i.style.length;e++){const o=i.style.item(e);t+=eU(0,o,i.style.getPropertyValue(o))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=eU(0,FY(e),i.style[e]));i.setAttribute("style",t)}function Zp(i,t,e){i.style&&(t.forEach((o,a)=>{const l=MN(a);e&&!e.has(a)&&e.set(a,i.style[l]),i.style[l]=o}),yN()&&tU(i))}function H0(i,t){i.style&&(t.forEach((e,o)=>{const a=MN(o);i.style[a]=""}),yN()&&tU(i))}function oS(i){return Array.isArray(i)?1==i.length?i[0]:FH(i):i}const IN=new RegExp("{{\\s*(.+?)\\s*}}","g");function nU(i){let t=[];if("string"==typeof i){let e;for(;e=IN.exec(i);)t.push(e[1]);IN.lastIndex=0}return t}function mA(i,t,e){const o=i.toString(),a=o.replace(IN,(l,c)=>{let g=t[c];return null==g&&(e.push(function YW(i){return new s.vHH(3003,!1)}()),g=""),g.toString()});return a==o?i:a}function _A(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const NY=/-+([a-z0-9])/g;function MN(i){return i.replace(NY,(...t)=>t[1].toUpperCase())}function FY(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xu(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function KW(i){return new s.vHH(3004,!1)}()}}function iU(i,t){return window.getComputedStyle(i)[t]}function jY(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function zY(i,t,e){if(":"==i[0]){const _=function GY(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return t.push(function uY(i){return new s.vHH(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof _)return void t.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(function cY(i){return new s.vHH(3015,!1)}()),t;const a=o[1],l=o[2],c=o[3];t.push(rU(a,c));"<"==l[0]&&!("*"==a&&"*"==c)&&t.push(rU(c,a))}(o,e,t)):e.push(i),e}const wA=new Set(["true","1"]),CA=new Set(["false","0"]);function rU(i,t){const e=wA.has(i)||CA.has(i),o=wA.has(t)||CA.has(t);return(a,l)=>{let c="*"==i||i==a,g="*"==t||t==l;return!c&&e&&"boolean"==typeof a&&(c=a?wA.has(i):CA.has(i)),!g&&o&&"boolean"==typeof l&&(g=l?wA.has(t):CA.has(t)),c&&g}}const qY=new RegExp("s*:selfs*,?","g");function AN(i,t,e,o){return new ZY(i).build(t,e,o)}class ZY{constructor(t){this._driver=t}build(t,e,o){const a=new YY(e);return this._resetContextStyleTimingState(a),xu(this,oS(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let o=e.queryCount=0,a=e.depCount=0;const l=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function QW(){return new s.vHH(3006,!1)}()),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const _=g,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,l.push(this.visitState(_,e))}),_.name=b}else if(1==g.type){const _=this.visitTransition(g,e);o+=_.queryCount,a+=_.depCount,c.push(_)}else e.errors.push(function XW(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:l,transitions:c,queryCount:o,depCount:a,options:null}}visitState(t,e){const o=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(o.containsDynamicStyles){const l=new Set,c=a||{};o.styles.forEach(g=>{g instanceof Map&&g.forEach(_=>{nU(_).forEach(b=>{c.hasOwnProperty(b)||l.add(b)})})}),l.size&&(_A(l.values()),e.errors.push(function eY(i,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:o,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const o=xu(this,oS(t.animation),e);return{type:1,matchers:jY(t.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:U0(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(o=>xu(this,o,e)),options:U0(t.options)}}visitGroup(t,e){const o=e.currentTime;let a=0;const l=t.steps.map(c=>{e.currentTime=o;const g=xu(this,c,e);return a=Math.max(a,e.currentTime),g});return e.currentTime=a,{type:3,steps:l,options:U0(t.options)}}visitAnimate(t,e){const o=function JY(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return kN(gA(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=kN(0,0,"");return l.dynamic=!0,l.strValue=e,l}const a=gA(e,t);return kN(a.duration,a.delay,a.easing)}(t.timings,e.errors);e.currentAnimateTimings=o;let a,l=t.styles?t.styles:Kn({});if(5==l.type)a=this.visitKeyframes(l,e);else{let c=t.styles,g=!1;if(!c){g=!0;const b={};o.easing&&(b.easing=o.easing),c=Kn(b)}e.currentTime+=o.duration+o.delay;const _=this.visitStyle(c,e);_.isEmptyStep=g,a=_}return e.currentAnimateTimings=null,{type:4,timings:o,style:a,options:null}}visitStyle(t,e){const o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o}_makeStyleAst(t,e){const o=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let g of a)"string"==typeof g?g===Bm?o.push(g):e.errors.push(new s.vHH(3002,!1)):o.push(QH(g));let l=!1,c=null;return o.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(c=g.get("easing"),g.delete("easing")),!l))for(let _ of g.values())if(_.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:o,easing:c,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const o=e.currentAnimateTimings;let a=e.currentTime,l=e.currentTime;o&&l>0&&(l-=o.duration+o.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((g,_)=>{const b=e.collectedStyles.get(e.currentQuerySelector),T=b.get(_);let D=!0;T&&(l!=a&&l>=T.startTime&&a<=T.endTime&&(e.errors.push(function nY(i,t,e,o,a){return new s.vHH(3010,!1)}()),D=!1),l=T.startTime),D&&b.set(_,{startTime:l,endTime:a}),e.options&&function PY(i,t,e){const o=t.params||{},a=nU(i);a.length&&a.forEach(l=>{o.hasOwnProperty(l)||e.push(function WW(i){return new s.vHH(3001,!1)}())})}(g,e.options,e.errors)})})}visitKeyframes(t,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function iY(){return new s.vHH(3011,!1)}()),o;let l=0;const c=[];let g=!1,_=!1,b=0;const T=t.steps.map(ke=>{const We=this._makeStyleAst(ke,e);let ft=null!=We.offset?We.offset:function KY(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const o=e;t=parseFloat(o.get("offset")),o.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(We.styles),ht=0;return null!=ft&&(l++,ht=We.offset=ft),_=_||ht<0||ht>1,g=g||ht<b,b=ht,c.push(ht),We});_&&e.errors.push(function rY(){return new s.vHH(3012,!1)}()),g&&e.errors.push(function oY(){return new s.vHH(3200,!1)}());const D=t.steps.length;let O=0;l>0&&l<D?e.errors.push(function sY(){return new s.vHH(3202,!1)}()):0==l&&(O=1/(D-1));const F=D-1,j=e.currentTime,X=e.currentAnimateTimings,se=X.duration;return T.forEach((ke,We)=>{const ft=O>0?We==F?1:O*We:c[We],ht=ft*se;e.currentTime=j+X.delay+ht,X.duration=ht,this._validateStyleAst(ke,e),ke.offset=ft,o.styles.push(ke)}),o}visitReference(t,e){return{type:8,animation:xu(this,oS(t.animation),e),options:U0(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:U0(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:U0(t.options)}}visitQuery(t,e){const o=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[l,c]=function $Y(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(qY,"")),i=i.replace(/@\*/g,pA).replace(/@\w+/g,e=>pA+"-"+e.slice(1)).replace(/:animating/g,SN),[i,t]}(t.selector);e.currentQuerySelector=o.length?o+" "+l:l,Eu(e.collectedStyles,e.currentQuerySelector,new Map);const g=xu(this,oS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:c,animation:g,originalSelector:t.selector,options:U0(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function aY(){return new s.vHH(3013,!1)}());const o="full"===t.timings?{duration:0,delay:0,easing:"full"}:gA(t.timings,e.errors,!0);return{type:12,animation:xu(this,oS(t.animation),e),timings:o,options:null}}}class YY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function U0(i){return i?(i=rS(i)).params&&(i.params=function WY(i){return i?rS(i):null}(i.params)):i={},i}function kN(i,t,e){return{duration:i,delay:t,easing:e}}function ON(i,t,e,o,a,l,c=null,g=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:o,duration:a,delay:l,totalTime:a+l,easing:c,subTimeline:g}}class TA{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const eK=new RegExp(":enter","g"),nK=new RegExp(":leave","g");function RN(i,t,e,o,a,l=new Map,c=new Map,g,_,b=[]){return(new iK).buildKeyframes(i,t,e,o,a,l,c,g,_,b)}class iK{buildKeyframes(t,e,o,a,l,c,g,_,b,T=[]){b=b||new TA;const D=new PN(t,e,b,a,l,T,[]);D.options=_;const O=_.delay?Xy(_.delay):0;D.currentTimeline.delayNextStep(O),D.currentTimeline.setStyles([c],null,D.errors,_),xu(this,o,D);const F=D.timelines.filter(j=>j.containsAnimation());if(F.length&&g.size){let j;for(let X=F.length-1;X>=0;X--){const se=F[X];if(se.element===e){j=se;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([g],null,D.errors,_)}return F.length?F.map(j=>j.buildKeyframes()):[ON(e,[],[],[],0,O,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const o=e.subInstructions.get(e.element);if(o){const a=e.createSubContext(t.options),l=e.currentTimeline.currentTime,c=this._visitSubInstructions(o,a,a.options);l!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,o){let l=e.currentTimeline.currentTime;const c=null!=o.duration?Xy(o.duration):null,g=null!=o.delay?Xy(o.delay):null;return 0!==c&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,c,g);l=Math.max(l,b.duration+b.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),xu(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const o=e.subContextCount;let a=e;const l=t.options;if(l&&(l.params||l.delay)&&(a=e.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=EA);const c=Xy(l.delay);a.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>xu(this,c,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const o=[];let a=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Xy(t.options.delay):0;t.steps.forEach(c=>{const g=e.createSubContext(t.options);l&&g.delayNextStep(l),xu(this,c,g),a=Math.max(a,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const o=t.strValue;return gA(e.params?mA(o,e.params,e.errors):o,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const o=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),a.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(o.duration),this.visitStyle(l,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const o=e.currentTimeline,a=e.currentAnimateTimings;!a&&o.hasCurrentStyleProperties()&&o.forwardFrame();const l=a&&a.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(l):o.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const o=e.currentAnimateTimings,a=e.currentTimeline.duration,l=o.duration,g=e.createSubContext().currentTimeline;g.easing=o.easing,t.styles.forEach(_=>{g.forwardTime((_.offset||0)*l),g.setStyles(_.styles,_.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(a+l),e.previousNode=t}visitQuery(t,e){const o=e.currentTimeline.currentTime,a=t.options||{},l=a.delay?Xy(a.delay):0;l&&(6===e.previousNode.type||0==o&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=EA);let c=o;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=g.length;let _=null;g.forEach((b,T)=>{e.currentQueryIndex=T;const D=e.createSubContext(t.options,b);l&&D.delayNextStep(l),b===e.element&&(_=D.currentTimeline),xu(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const o=e.parentContext,a=e.currentTimeline,l=t.timings,c=Math.abs(l.duration),g=c*(e.currentQueryTotal-1);let _=c*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=g-_;break;case"full":_=o.currentStaggerTime}const T=e.currentTimeline;_&&T.delayNextStep(_);const D=T.currentTime;xu(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=a.currentTime-D+(a.startTime-o.currentTimeline.startTime)}}const EA={};class PN{constructor(t,e,o,a,l,c,g,_){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=l,this.errors=c,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new xA(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const o=t;let a=this.options;null!=o.duration&&(a.duration=Xy(o.duration)),null!=o.delay&&(a.delay=Xy(o.delay));const l=o.params;if(l){let c=a.params;c||(c=this.options.params={}),Object.keys(l).forEach(g=>{(!e||!c.hasOwnProperty(g))&&(c[g]=mA(l[g],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const o=t.params={};Object.keys(e).forEach(a=>{o[a]=e[a]})}}return t}createSubContext(t=null,e,o){const a=e||this.element,l=new PN(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=EA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,o){const a={duration:e??t.duration,delay:this.currentTimeline.currentTime+(o??0)+t.delay,easing:""},l=new rK(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,o,a,l,c){let g=[];if(a&&g.push(this.element),t.length>0){t=(t=t.replace(eK,"."+this._enterClassName)).replace(nK,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=o);0!==o&&(b=o<0?b.slice(b.length+o,b.length):b.slice(0,o)),g.push(...b)}return!l&&0==g.length&&c.push(function lY(i){return new s.vHH(3014,!1)}()),g}}class xA{constructor(t,e,o,a){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new xA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,o]of this._globalTimelineStyles)this._backFill.set(e,o||Bm),this._currentKeyframe.set(e,Bm);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,o,a){e&&this._previousKeyframe.set("easing",e);const l=a&&a.params||{},c=function oK(i,t){const e=new Map;let o;return i.forEach(a=>{if("*"===a){o=o||t.keys();for(let l of o)e.set(l,Bm)}else ev(a,e)}),e}(t,this._globalTimelineStyles);for(let[g,_]of c){const b=mA(_,l,o);this._pendingStyles.set(g,b),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Bm),this._updateStyle(g,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,o)=>{const a=this._styleSummary.get(o);(!a||e.time>a.time)&&this._updateStyle(o,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((g,_)=>{const b=ev(g,new Map,this._backFill);b.forEach((T,D)=>{"!"===T?t.add(D):T===Bm&&e.add(D)}),o||b.set("offset",_/this.duration),a.push(b)});const l=t.size?_A(t.values()):[],c=e.size?_A(e.values()):[];if(o){const g=a[0],_=new Map(g);g.set("offset",0),_.set("offset",1),a=[g,_]}return ON(this.element,a,l,c,this.duration,this.startTime,this.easing,!1)}}class rK extends xA{constructor(t,e,o,a,l,c,g=!1){super(t,e,c.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],c=o+e,g=e/c,_=ev(t[0]);_.set("offset",0),l.push(_);const b=ev(t[0]);b.set("offset",aU(g)),l.push(b);const T=t.length-1;for(let D=1;D<=T;D++){let O=ev(t[D]);const F=O.get("offset");O.set("offset",aU((e+F*o)/c)),l.push(O)}o=c,e=0,a="",t=l}return ON(this.element,t,this.preStyleProps,this.postStyleProps,o,e,a,!0)}}function aU(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class NN{}const sK=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aK extends NN{normalizePropertyName(t,e){return MN(t)}normalizeStyleValue(t,e,o,a){let l="";const c=o.toString().trim();if(sK.has(e)&&0!==o&&"0"!==o)if("number"==typeof o)l="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&a.push(function JW(i,t){return new s.vHH(3005,!1)}())}return c+l}}function lU(i,t,e,o,a,l,c,g,_,b,T,D,O){return{type:0,element:i,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:l,toState:o,toStyles:c,timelines:g,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:D,errors:O}}const FN={};class cU{constructor(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}match(t,e,o,a){return function lK(i,t,e,o,a){return i.some(l=>l(t,e,o,a))}(this.ast.matchers,t,e,o,a)}buildStyles(t,e,o){let a=this._stateStyles.get("*");return void 0!==t&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(e,o):new Map}build(t,e,o,a,l,c,g,_,b,T){const D=[],O=this.ast.options&&this.ast.options.params||FN,j=this.buildStyles(o,g&&g.params||FN,D),X=_&&_.params||FN,se=this.buildStyles(a,X,D),ke=new Set,We=new Map,ft=new Map,ht="void"===a,Ht={params:cK(X,O),delay:this.ast.options?.delay},qt=T?[]:RN(t,e,this.ast.animation,l,c,j,se,Ht,b,D);let wn=0;if(qt.forEach(_i=>{wn=Math.max(_i.duration+_i.delay,wn)}),D.length)return lU(e,this._triggerName,o,a,ht,j,se,[],[],We,ft,wn,D);qt.forEach(_i=>{const Ji=_i.element,io=Eu(We,Ji,new Set);_i.preStyleProps.forEach(os=>io.add(os));const ka=Eu(ft,Ji,new Set);_i.postStyleProps.forEach(os=>ka.add(os)),Ji!==e&&ke.add(Ji)});const Vn=_A(ke.values());return lU(e,this._triggerName,o,a,ht,j,se,qt,Vn,We,ft,wn)}}function cK(i,t){const e=rS(t);for(const o in i)i.hasOwnProperty(o)&&null!=i[o]&&(e[o]=i[o]);return e}class uK{constructor(t,e,o){this.styles=t,this.defaultParams=e,this.normalizer=o}buildStyles(t,e){const o=new Map,a=rS(this.defaultParams);return Object.keys(t).forEach(l=>{const c=t[l];null!==c&&(a[l]=c)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,g)=>{c&&(c=mA(c,a,e));const _=this.normalizer.normalizePropertyName(g,e);c=this.normalizer.normalizeStyleValue(g,_,c,e),o.set(_,c)})}),o}}class hK{constructor(t,e,o){this.name=t,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states=new Map,e.states.forEach(a=>{this.states.set(a.name,new uK(a.style,a.options&&a.options.params||{},o))}),uU(this.states,"true","1"),uU(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new cU(t,a,this.states))}),this.fallbackTransition=function fK(i,t,e){return new cU(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,o,a){return this.transitionFactories.find(c=>c.match(t,e,o,a))||null}matchStyles(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)}}function uU(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const pK=new TA;class gK{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const o=[],l=AN(this._driver,e,o,[]);if(o.length)throw function gY(i){return new s.vHH(3503,!1)}();this._animations.set(t,l)}_buildPlayer(t,e,o){const a=t.element,l=jH(0,this._normalizer,0,t.keyframes,e,o);return this._driver.animate(a,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,o={}){const a=[],l=this._animations.get(t);let c;const g=new Map;if(l?(c=RN(this._driver,e,l,xN,hA,new Map,new Map,o,pK,a),c.forEach(T=>{const D=Eu(g,T.element,new Map);T.postStyleProps.forEach(O=>D.set(O,null))})):(a.push(function mY(){return new s.vHH(3300,!1)}()),c=[]),a.length)throw function _Y(i){return new s.vHH(3504,!1)}();g.forEach((T,D)=>{T.forEach((O,F)=>{T.set(F,this._driver.computeStyle(D,F,Bm))})});const b=Qy(c.map(T=>{const D=g.get(T.element);return this._buildPlayer(T,new Map,D)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function yY(i){return new s.vHH(3301,!1)}();return e}listen(t,e,o,a){const l=wN(e,"","","");return vN(this._getPlayer(t),o,l,a),()=>{}}command(t,e,o,a){if("register"==o)return void this.register(t,a[0]);if("create"==o)return void this.create(t,e,a[0]||{});const l=this._getPlayer(t);switch(o){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const dU="ng-animate-queued",LN="ng-animate-disabled",bK=[],hU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Id="__ng_removed";class VN{constructor(t,e=""){this.namespaceId=e;const o=t&&t.hasOwnProperty("value");if(this.value=function xK(i){return i??null}(o?t.value:t),o){const l=rS(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const o=this.options.params;Object.keys(e).forEach(a=>{null==o[a]&&(o[a]=e[a])})}}}const sS="void",BN=new VN(sS);class CK{constructor(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Md(e,this._hostClassName)}listen(t,e,o,a){if(!this._triggers.has(e))throw function vY(i,t){return new s.vHH(3302,!1)}();if(null==o||0==o.length)throw function bY(i){return new s.vHH(3303,!1)}();if(!function SK(i){return"start"==i||"done"==i}(o))throw function wY(i,t){return new s.vHH(3400,!1)}();const l=Eu(this._elementListeners,t,[]),c={name:e,phase:o,callback:a};l.push(c);const g=Eu(this._engine.statesByElement,t,new Map);return g.has(e)||(Md(t,fA),Md(t,fA+"-"+e),g.set(e,BN)),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(c);_>=0&&l.splice(_,1),this._triggers.has(e)||g.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function CY(i){return new s.vHH(3401,!1)}();return e}trigger(t,e,o,a=!0){const l=this._getTrigger(e),c=new HN(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(Md(t,fA),Md(t,fA+"-"+e),this._engine.statesByElement.set(t,g=new Map));let _=g.get(e);const b=new VN(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),g.set(e,b),_||(_=BN),b.value!==sS&&_.value===b.value){if(!function MK(i,t){const e=Object.keys(i),o=Object.keys(t);if(e.length!=o.length)return!1;for(let a=0;a<e.length;a++){const l=e[a];if(!t.hasOwnProperty(l)||i[l]!==t[l])return!1}return!0}(_.params,b.params)){const X=[],se=l.matchStyles(_.value,_.params,X),ke=l.matchStyles(b.value,b.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{H0(t,se),Zp(t,ke)})}return}const O=Eu(this._engine.playersByElement,t,[]);O.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let F=l.matchTransition(_.value,b.value,t,b.params),j=!1;if(!F){if(!a)return;F=l.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:_,toState:b,player:c,isFallbackTransition:j}),j||(Md(t,dU),c.onStart(()=>{A1(t,dU)})),c.onDone(()=>{let X=this.players.indexOf(c);X>=0&&this.players.splice(X,1);const se=this._engine.playersByElement.get(t);if(se){let ke=se.indexOf(c);ke>=0&&se.splice(ke,1)}}),this.players.push(c),O.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const o=this._engine.driver.query(t,pA,!0);o.forEach(a=>{if(a[Id])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(c=>c.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,o,a){const l=this._engine.statesByElement.get(t),c=new Map;if(l){const g=[];if(l.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const T=this.trigger(t,b,sS,a);T&&g.push(T)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),o&&Qy(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(e&&o){const a=new Set;e.forEach(l=>{const c=l.name;if(a.has(c))return;a.add(c);const _=this._triggers.get(c).fallbackTransition,b=o.get(c)||BN,T=new VN(sS),D=new HN(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:_,fromState:b,toState:T,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(o.totalAnimations){const l=o.players.length?o.playersByQueriedElement.get(t):[];if(l&&l.length)a=!0;else{let c=t;for(;c=c.parentNode;)if(o.statesByElement.get(c)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)o.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Id];(!l||l===hU)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,e))}}insertNode(t,e){Md(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(o=>{const a=o.player;if(a.destroyed)return;const l=o.element,c=this._elementListeners.get(l);c&&c.forEach(g=>{if(g.name==o.triggerName){const _=wN(l,o.triggerName,o.fromState.value,o.toState.value);_._data=t,vN(o.player,g.phase,_,g.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(o)}),this._queue=[],e.sort((o,a)=>{const l=o.transition.ast.depCount,c=a.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(o=>o.element===t)||e,e}}class TK{constructor(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,e){const o=new CK(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,e){const o=this._namespaceList,a=this.namespacesByHostElement;if(o.length-1>=0){let c=!1,g=this.driver.getParentElement(e);for(;g;){const _=a.get(g);if(_){const b=o.indexOf(_);o.splice(b+1,0,t),c=!0;break}g=this.driver.getParentElement(g)}c||o.unshift(t)}else o.push(t);return a.set(e,t),t}register(t,e){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o}registerTrigger(t,e,o){let a=this._namespaceLookup[t];a&&a.register(e,o)&&this.totalAnimations++}destroy(t,e){if(!t)return;const o=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[t];const a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,o=this.statesByElement.get(t);if(o)for(let a of o.values())if(a.namespaceId){const l=this._fetchNamespace(a.namespaceId);l&&e.add(l)}return e}trigger(t,e,o,a){if(SA(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,o,a),!0}return!1}insertNode(t,e,o,a){if(!SA(e))return;const l=e[Id];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,o)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Md(t,LN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),A1(t,LN))}removeNode(t,e,o,a){if(SA(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a),o){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,o,a,l){this.collectedLeaveElements.push(e),e[Id]={namespaceId:t,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,o,a,l){return SA(e)?this._fetchNamespace(t).listen(e,o,a,l):()=>{}}_buildInstruction(t,e,o,a,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,a,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,pA,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,SN,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qy(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Id];if(e&&e.setForRemoval){if(t[Id]=hU,e.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(e.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(LN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Md(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,t)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?Qy(e).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(t){throw function TY(i){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const o=new TA,a=[],l=new Map,c=[],g=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(gn=>{T.add(gn);const On=this.driver.query(gn,".ng-animate-queued",!0);for(let Qn=0;Qn<On.length;Qn++)T.add(On[Qn])});const D=this.bodyNode,O=Array.from(this.statesByElement.keys()),F=gU(O,this.collectedEnterElements),j=new Map;let X=0;F.forEach((gn,On)=>{const Qn=xN+X++;j.set(On,Qn),gn.forEach(Ei=>Md(Ei,Qn))});const se=[],ke=new Set,We=new Set;for(let gn=0;gn<this.collectedLeaveElements.length;gn++){const On=this.collectedLeaveElements[gn],Qn=On[Id];Qn&&Qn.setForRemoval&&(se.push(On),ke.add(On),Qn.hasAnimation?this.driver.query(On,".ng-star-inserted",!0).forEach(Ei=>ke.add(Ei)):We.add(On))}const ft=new Map,ht=gU(O,Array.from(ke));ht.forEach((gn,On)=>{const Qn=hA+X++;ft.set(On,Qn),gn.forEach(Ei=>Md(Ei,Qn))}),t.push(()=>{F.forEach((gn,On)=>{const Qn=j.get(On);gn.forEach(Ei=>A1(Ei,Qn))}),ht.forEach((gn,On)=>{const Qn=ft.get(On);gn.forEach(Ei=>A1(Ei,Qn))}),se.forEach(gn=>{this.processLeaveNode(gn)})});const Ht=[],qt=[];for(let gn=this._namespaceList.length-1;gn>=0;gn--)this._namespaceList[gn].drainQueuedTransitions(e).forEach(Qn=>{const Ei=Qn.player,Ro=Qn.element;if(Ht.push(Ei),this.collectedEnterElements.length){const ss=Ro[Id];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(Qn.triggerName)){const Hl=ss.previousTriggersValues.get(Qn.triggerName),nl=this.statesByElement.get(Qn.element);if(nl&&nl.has(Qn.triggerName)){const lT=nl.get(Qn.triggerName);lT.value=Hl,nl.set(Qn.triggerName,lT)}}return void Ei.destroy()}}const Ic=!D||!this.driver.containsElement(D,Ro),Ps=ft.get(Ro),ku=j.get(Ro),fr=this._buildInstruction(Qn,o,ku,Ps,Ic);if(fr.errors&&fr.errors.length)return void qt.push(fr);if(Ic)return Ei.onStart(()=>H0(Ro,fr.fromStyles)),Ei.onDestroy(()=>Zp(Ro,fr.toStyles)),void a.push(Ei);if(Qn.isFallbackTransition)return Ei.onStart(()=>H0(Ro,fr.fromStyles)),Ei.onDestroy(()=>Zp(Ro,fr.toStyles)),void a.push(Ei);const mf=[];fr.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||mf.push(ss)}),fr.timelines=mf,o.append(Ro,fr.timelines),c.push({instruction:fr,player:Ei,element:Ro}),fr.queriedElements.forEach(ss=>Eu(g,ss,[]).push(Ei)),fr.preStyleProps.forEach((ss,Hl)=>{if(ss.size){let nl=_.get(Hl);nl||_.set(Hl,nl=new Set),ss.forEach((lT,pw)=>nl.add(pw))}}),fr.postStyleProps.forEach((ss,Hl)=>{let nl=b.get(Hl);nl||b.set(Hl,nl=new Set),ss.forEach((lT,pw)=>nl.add(pw))})});if(qt.length){const gn=[];qt.forEach(On=>{gn.push(function EY(i,t){return new s.vHH(3505,!1)}())}),Ht.forEach(On=>On.destroy()),this.reportError(gn)}const wn=new Map,Vn=new Map;c.forEach(gn=>{const On=gn.element;o.has(On)&&(Vn.set(On,On),this._beforeAnimationBuild(gn.player.namespaceId,gn.instruction,wn))}),a.forEach(gn=>{const On=gn.element;this._getPreviousPlayers(On,!1,gn.namespaceId,gn.triggerName,null).forEach(Ei=>{Eu(wn,On,[]).push(Ei),Ei.destroy()})});const _i=se.filter(gn=>_U(gn,_,b)),Ji=new Map;pU(Ji,this.driver,We,b,Bm).forEach(gn=>{_U(gn,_,b)&&_i.push(gn)});const ka=new Map;F.forEach((gn,On)=>{pU(ka,this.driver,new Set(gn),_,"!")}),_i.forEach(gn=>{const On=Ji.get(gn),Qn=ka.get(gn);Ji.set(gn,new Map([...Array.from(On?.entries()??[]),...Array.from(Qn?.entries()??[])]))});const os=[],yv=[],vv={};c.forEach(gn=>{const{element:On,player:Qn,instruction:Ei}=gn;if(o.has(On)){if(T.has(On))return Qn.onDestroy(()=>Zp(On,Ei.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(Ei.totalTime),void a.push(Qn);let Ro=vv;if(Vn.size>1){let Ps=On;const ku=[];for(;Ps=Ps.parentNode;){const fr=Vn.get(Ps);if(fr){Ro=fr;break}ku.push(Ps)}ku.forEach(fr=>Vn.set(fr,Ro))}const Ic=this._buildAnimation(Qn.namespaceId,Ei,wn,l,ka,Ji);if(Qn.setRealPlayer(Ic),Ro===vv)os.push(Qn);else{const Ps=this.playersByElement.get(Ro);Ps&&Ps.length&&(Qn.parentPlayer=Qy(Ps)),a.push(Qn)}}else H0(On,Ei.fromStyles),Qn.onDestroy(()=>Zp(On,Ei.toStyles)),yv.push(Qn),T.has(On)&&a.push(Qn)}),yv.forEach(gn=>{const On=l.get(gn.element);if(On&&On.length){const Qn=Qy(On);gn.setRealPlayer(Qn)}}),a.forEach(gn=>{gn.parentPlayer?gn.syncPlayerEvents(gn.parentPlayer):gn.destroy()});for(let gn=0;gn<se.length;gn++){const On=se[gn],Qn=On[Id];if(A1(On,hA),Qn&&Qn.hasAnimation)continue;let Ei=[];if(g.size){let Ic=g.get(On);Ic&&Ic.length&&Ei.push(...Ic);let Ps=this.driver.query(On,SN,!0);for(let ku=0;ku<Ps.length;ku++){let fr=g.get(Ps[ku]);fr&&fr.length&&Ei.push(...fr)}}const Ro=Ei.filter(Ic=>!Ic.destroyed);Ro.length?DK(this,On,Ro):this.processLeaveNode(On)}return se.length=0,os.forEach(gn=>{this.players.push(gn),gn.onDone(()=>{gn.destroy();const On=this.players.indexOf(gn);this.players.splice(On,1)}),gn.play()}),os}elementContainsData(t,e){let o=!1;const a=e[Id];return a&&a.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(t).elementContainsData(e)||o}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,o,a,l){let c=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(c=g)}else{const g=this.playersByElement.get(t);if(g){const _=!l||l==sS;g.forEach(b=>{b.queued||!_&&b.triggerName!=a||c.push(b)})}}return(o||a)&&(c=c.filter(g=>!(o&&o!=g.namespaceId||a&&a!=g.triggerName))),c}_beforeAnimationBuild(t,e,o){const l=e.element,c=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,T=b!==l,D=Eu(o,b,[]);this._getPreviousPlayers(b,T,c,g,e.toState).forEach(F=>{const j=F.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),F.destroy(),D.push(F)})}H0(l,e.fromStyles)}_buildAnimation(t,e,o,a,l,c){const g=e.triggerName,_=e.element,b=[],T=new Set,D=new Set,O=e.timelines.map(j=>{const X=j.element;T.add(X);const se=X[Id];if(se&&se.removedBeforeQueried)return new iS(j.duration,j.delay);const ke=X!==_,We=function IK(i){const t=[];return mU(i,t),t}((o.get(X)||bK).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===X),ft=l.get(X),ht=c.get(X),Ht=jH(0,this._normalizer,0,j.keyframes,ft,ht),qt=this._buildPlayer(j,Ht,We);if(j.subTimeline&&a&&D.add(X),ke){const wn=new HN(t,g,X);wn.setRealPlayer(qt),b.push(wn)}return qt});b.forEach(j=>{Eu(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function EK(i,t,e){let o=i.get(t);if(o){if(o.length){const a=o.indexOf(e);o.splice(a,1)}0==o.length&&i.delete(t)}return o}(this.playersByQueriedElement,j.element,j))}),T.forEach(j=>Md(j,JH));const F=Qy(O);return F.onDestroy(()=>{T.forEach(j=>A1(j,JH)),Zp(_,e.toStyles)}),D.forEach(j=>{Eu(a,j,[]).push(F)}),F}_buildPlayer(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new iS(t.duration,t.delay)}}class HN{constructor(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o,this._player=new iS,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,o)=>{e.forEach(a=>vN(t,o,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Eu(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function SA(i){return i&&1===i.nodeType}function fU(i,t){const e=i.style.display;return i.style.display=t??"none",e}function pU(i,t,e,o,a){const l=[];e.forEach(_=>l.push(fU(_)));const c=[];o.forEach((_,b)=>{const T=new Map;_.forEach(D=>{const O=t.computeStyle(b,D,a);T.set(D,O),(!O||0==O.length)&&(b[Id]=wK,c.push(b))}),i.set(b,T)});let g=0;return e.forEach(_=>fU(_,l[g++])),c}function gU(i,t){const e=new Map;if(i.forEach(g=>e.set(g,[])),0==t.length)return e;const a=new Set(t),l=new Map;function c(g){if(!g)return 1;let _=l.get(g);if(_)return _;const b=g.parentNode;return _=e.has(b)?b:a.has(b)?1:c(b),l.set(g,_),_}return t.forEach(g=>{const _=c(g);1!==_&&e.get(_).push(g)}),e}function Md(i,t){i.classList?.add(t)}function A1(i,t){i.classList?.remove(t)}function DK(i,t,e){Qy(e).onDone(()=>i.processLeaveNode(t))}function mU(i,t){for(let e=0;e<i.length;e++){const o=i[e];o instanceof HH?mU(o.players,t):t.push(o)}}function _U(i,t,e){const o=e.get(i);if(!o)return!1;let a=t.get(i);return a?o.forEach(l=>a.add(l)):t.set(i,o),e.delete(i),!0}class DA{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new TK(t,e,o),this._timelineEngine=new gK(t,e,o),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(t,e,o,a,l){const c=t+"-"+a;let g=this._triggerCache[c];if(!g){const _=[],T=AN(this._driver,l,_,[]);if(_.length)throw function fY(i,t){return new s.vHH(3404,!1)}();g=function dK(i,t,e){return new hK(i,t,e)}(a,T,this._normalizer),this._triggerCache[c]=g}this._transitionEngine.registerTrigger(e,a,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,o,a){this._transitionEngine.insertNode(t,e,o,a)}onRemove(t,e,o,a){this._transitionEngine.removeNode(t,e,a||!1,o)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,o,a){if("@"==o.charAt(0)){const[l,c]=zH(o);this._timelineEngine.command(l,e,c,a)}else this._transitionEngine.trigger(t,e,o,a)}listen(t,e,o,a,l){if("@"==o.charAt(0)){const[c,g]=zH(o);return this._timelineEngine.listen(c,e,g,l)}return this._transitionEngine.listen(t,e,o,a,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kK=(()=>{class i{constructor(e,o,a){this._element=e,this._startStyles=o,this._endStyles=a,this._state=0;let l=i.initialStylesByElement.get(e);l||i.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Zp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zp(this._element,this._initialStyles),this._endStyles&&(Zp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(H0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(H0(this._element,this._endStyles),this._endStyles=null),Zp(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function UN(i){let t=null;return i.forEach((e,o)=>{(function OK(i){return"display"===i||"position"===i})(o)&&(t=t||new Map,t.set(o,e))}),t}class yU{constructor(t,e,o,a){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(o=>{e.push(Object.fromEntries(o))}),e}_triggerWebAnimation(t,e,o){return t.animate(this._convertKeyframesToObject(e),o)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,a)=>{"offset"!==a&&t.set(a,this._finished?o:iU(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class RK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return $H(t,e)}getParentElement(t){return TN(t)}query(t,e,o){return WH(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}animate(t,e,o,a,l,c=[]){const _={duration:o,delay:a,fill:0==a?"both":"forwards"};l&&(_.easing=l);const b=new Map,T=c.filter(F=>F instanceof yU);(function LY(i,t){return 0===i||0===t})(o,a)&&T.forEach(F=>{F.currentSnapshot.forEach((j,X)=>b.set(X,j))});let D=function RY(i){return i.length?i[0]instanceof Map?i:i.map(t=>QH(t)):[]}(e).map(F=>ev(F));D=function VY(i,t,e){if(e.size&&t.length){let o=t[0],a=[];if(e.forEach((l,c)=>{o.has(c)||a.push(c),o.set(c,l)}),a.length)for(let l=1;l<t.length;l++){let c=t[l];a.forEach(g=>c.set(g,iU(i,g)))}}return t}(t,D,b);const O=function AK(i,t){let e=null,o=null;return Array.isArray(t)&&t.length?(e=UN(t[0]),t.length>1&&(o=UN(t[t.length-1]))):t instanceof Map&&(e=UN(t)),e||o?new kK(i,e,o):null}(t,D);return new yU(t,D,_,O)}}let PK=(()=>{class i extends NH{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?FH(e):e;return vU(this._renderer,null,o,"register",[a]),new NK(o,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.FYo),s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class NK extends class qW{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new FK(this._id,t,e||{},this._renderer)}}class FK{constructor(t,e,o,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vU(i,t,e,o,a){return i.setProperty(t,`@@${e}:${o}`,a)}const bU="@.disabled";let LK=(()=>{class i{constructor(e,o,a){this.delegate=e,this.engine=o,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(l,c)=>{const g=c?.parentNode(l);g&&c.removeChild(g,l)}}createRenderer(e,o){const l=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let T=this._rendererCache.get(l);return T||(T=new wU("",l,this.engine),this._rendererCache.set(l,T)),T}const c=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(c,g,e,T.name,T)};return o.data.animation.forEach(_),new VK(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,a){e>=0&&e<this._microtaskId?this._zone.run(()=>o(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,g]=l;c(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.FYo),s.LFG(DA),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class wU{constructor(t,e,o){this.namespaceId=t,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,o,a=!0){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,a){this.delegate.setAttribute(t,e,o,a)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,a){this.delegate.setStyle(t,e,o,a)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){"@"==e.charAt(0)&&e==bU?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o){return this.delegate.listen(t,e,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class VK extends wU{constructor(t,e,o,a){super(e,o,a),this.factory=t,this.namespaceId=e}setProperty(t,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==bU?this.disableAnimations(t,o=void 0===o||!!o):this.engine.process(this.namespaceId,t,e.slice(1),o):this.delegate.setProperty(t,e,o)}listen(t,e,o){if("@"==e.charAt(0)){const a=function BK(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let l=e.slice(1),c="";return"@"!=l.charAt(0)&&([l,c]=function HK(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(l)),this.engine.listen(this.namespaceId,a,l,c,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(t,e,o)}}let UK=(()=>{class i extends DA{constructor(e,o,a,l){super(e.body,o,a)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve),s.LFG(EN),s.LFG(NN),s.LFG(s.z2F))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const CU=[{provide:NH,useClass:PK},{provide:NN,useFactory:function jK(){return new aK}},{provide:DA,useClass:UK},{provide:s.FYo,useFactory:function zK(i,t,e){return new LK(i,t,e)},deps:[jd,DA,s.R0b]}],jN=[{provide:EN,useFactory:()=>new RK},{provide:s.QbO,useValue:"BrowserAnimations"},...CU],zN=[{provide:EN,useClass:YH},{provide:s.QbO,useValue:"NoopAnimations"},...CU];let GK=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?zN:jN}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:jN,imports:[To]}),i})(),qK=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:zN,imports:[To]}),i})();function GN(i,t=d1.z){return(0,Go.e)((e,o)=>{let a=null,l=null,c=null;const g=()=>{if(a){a.unsubscribe(),a=null;const b=l;l=null,o.next(b)}};function _(){const b=c+i,T=t.now();if(T<b)return a=this.schedule(void 0,b-T),void o.add(a);g()}e.subscribe((0,Ar.x)(o,b=>{l=b,c=t.now(),a||(a=t.schedule(_,i),o.add(a))},()=>{g(),o.complete()},void 0,()=>{l=a=null}))})}const TU="firebasestorage.googleapis.com",EU="storageBucket";class Zo extends W.ZR{constructor(t,e){super(qN(t),`Firebase Storage: ${e} (${qN(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zo.prototype)}_codeEquals(t){return qN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function qN(i){return"storage/"+i}function ZN(){return new Zo("unknown","An unknown error occurred, please check the error payload for server response.")}function xU(){return new Zo("canceled","User canceled the upload/download.")}function SU(){return new Zo("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function k1(i){return new Zo("invalid-argument",i)}function DU(){return new Zo("app-deleted","The Firebase app was deleted.")}function IU(i){return new Zo("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function aS(i,t){return new Zo("invalid-format","String does not match format '"+i+"': "+t)}function lS(i){throw new Zo("internal-error","Internal error: "+i)}class el{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let o;try{o=el.makeFromUrl(t,e)}catch{return new el(t,"")}if(""===o.path)return o;throw function t7(i){return new Zo("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(t)}static makeFromUrl(t,e){let o=null;const a="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+a+"(/(.*))?$","i");function b(ht){ht.path_=decodeURIComponent(ht.path)}const D=e.replace(/[.]/g,"\\."),ft=[{regex:g,indices:{bucket:1,path:3},postModify:function l(ht){"/"===ht.path.charAt(ht.path.length-1)&&(ht.path_=ht.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${e===TU?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let ht=0;ht<ft.length;ht++){const Ht=ft[ht],qt=Ht.regex.exec(t);if(qt){let Vn=qt[Ht.indices.path];Vn||(Vn=""),o=new el(qt[Ht.indices.bucket],Vn),Ht.postModify(o);break}}if(null==o)throw function e7(i){return new Zo("invalid-url","Invalid URL '"+i+"'.")}(t);return o}}class s7{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function MA(i){return"string"==typeof i||i instanceof String}function MU(i){return $N()&&i instanceof Blob}function $N(){return typeof Blob<"u"}function WN(i,t,e,o){if(o<t)throw k1(`Invalid value for '${i}'. Expected ${t} or greater.`);if(o>e)throw k1(`Invalid value for '${i}'. Expected ${e} or less.`)}function Hm(i,t,e){let o=t;return null==e&&(o=`https://${t}`),`${e}://${o}/v0${i}`}function AU(i){const t=encodeURIComponent;let e="?";for(const o in i)i.hasOwnProperty(o)&&(e=e+(t(o)+"=")+t(i[o])+"&");return e=e.slice(0,-1),e}var tv=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(tv||(tv={})),tv))();class h7{constructor(t,e,o,a,l,c,g,_,b,T,D){this.url_=t,this.method_=e,this.headers_=o,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=g,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=T,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(o,a)=>{const l=this.resolve_,c=this.reject_,g=a.connection;if(a.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());!function c7(i){return void 0!==i}(_)?l():l(_)}catch(_){c(_)}else if(null!==g){const _=ZN();_.serverResponse=g.getErrorText(),c(this.errorCallback_?this.errorCallback_(g,_):_)}else c(a.canceled?this.appDelete_?DU():xU():function XK(){return new Zo("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new AA(!1,null,!0)):this.backoffId_=function a7(i,t,e){let o=1,a=null,l=null,c=!1,g=0;function _(){return 2===g}let b=!1;function T(...se){b||(b=!0,t.apply(null,se))}function D(se){a=setTimeout(()=>{a=null,i(F,_())},se)}function O(){l&&clearTimeout(l)}function F(se,...ke){if(b)return void O();if(se)return O(),void T.call(null,se,...ke);if(_()||c)return O(),void T.call(null,se,...ke);let ft;o<64&&(o*=2),1===g?(g=2,ft=0):ft=1e3*(o+Math.random()),D(ft)}let j=!1;function X(se){j||(j=!0,O(),!b&&(null!==a?(se||(g=2),clearTimeout(a),D(0)):se||(g=1)))}return D(0),l=setTimeout(()=>{c=!0,X(!0)},e),X}((o,a)=>{if(a)return void o(!1,new AA(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const c=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const g=l.getErrorCode()===tv.NO_ERROR,_=l.getStatus();if(!g||this.isRetryStatusCode_(_)){const T=l.getErrorCode()===tv.ABORT;return void o(!1,new AA(!1,null,T))}const b=-1!==this.successCodes_.indexOf(_);o(!0,new AA(b,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function l7(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||l}}class AA{constructor(t,e,o){this.wasSuccessCode=t,this.connection=e,this.canceled=!!o}}function v7(...i){const t=function y7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let o=0;o<i.length;o++)e.append(i[o]);return e.getBlob()}if($N())return new Blob(i);throw new Zo("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Su={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class YN{constructor(t,e){this.data=t,this.contentType=e||null}}function KN(i,t){switch(i){case Su.RAW:return new YN(kU(t));case Su.BASE64:case Su.BASE64URL:return new YN(OU(i,t));case Su.DATA_URL:return new YN(function T7(i){const t=new RU(i);return t.base64?OU(Su.BASE64,t.rest):function C7(i){let t;try{t=decodeURIComponent(i)}catch{throw aS(Su.DATA_URL,"Malformed data URL.")}return kU(t)}(t.rest)}(t),function E7(i){return new RU(i).contentType}(t))}throw ZN()}function kU(i){const t=[];for(let e=0;e<i.length;e++){let o=i.charCodeAt(e);o<=127?t.push(o):o<=2047?t.push(192|o>>6,128|63&o):55296==(64512&o)?e<i.length-1&&56320==(64512&i.charCodeAt(e+1))?(o=65536|(1023&o)<<10|1023&i.charCodeAt(++e),t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o)):t.push(239,191,189):56320==(64512&o)?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(t)}function OU(i,t){switch(i){case Su.BASE64:{const a=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(a||l)throw aS(i,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Su.BASE64URL:{const a=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(a||l)throw aS(i,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function w7(i){return atob(i)}(t)}catch{throw aS(i,"Invalid character found")}const o=new Uint8Array(e.length);for(let a=0;a<e.length;a++)o[a]=e.charCodeAt(a);return o}class RU{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw aS(Su.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=e[1]||null;null!=o&&(this.base64=function x7(i,t){return i.length>=t.length&&i.substring(i.length-t.length)===t}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}class $p{constructor(t,e){let o=0,a="";MU(t)?(this.data_=t,o=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(MU(this.data_)){const a=function b7(i,t,e){return i.webkitSlice?i.webkitSlice(t,e):i.mozSlice?i.mozSlice(t,e):i.slice?i.slice(t,e):null}(this.data_,t,e);return null===a?null:new $p(a)}{const o=new Uint8Array(this.data_.buffer,t,e-t);return new $p(o,!0)}}static getBlob(...t){if($N()){const e=t.map(o=>o instanceof $p?o.data_:o);return new $p(v7.apply(null,e))}{const e=t.map(c=>MA(c)?KN(Su.RAW,c).data:c.data_);let o=0;e.forEach(c=>{o+=c.byteLength});const a=new Uint8Array(o);let l=0;return e.forEach(c=>{for(let g=0;g<c.length;g++)a[l++]=c[g]}),new $p(a,!0)}}uploadData(){return this.data_}}function JN(i){let t;try{t=JSON.parse(i)}catch{return null}return function d7(i){return"object"==typeof i&&!Array.isArray(i)}(t)?t:null}function PU(i){const t=i.lastIndexOf("/",i.length-2);return-1===t?i:i.slice(t+1)}function I7(i,t){return t}class Fl{constructor(t,e,o,a){this.server=t,this.local=e||t,this.writable=!!o,this.xform=a||I7}}let kA=null;function cS(){if(kA)return kA;const i=[];i.push(new Fl("bucket")),i.push(new Fl("generation")),i.push(new Fl("metageneration")),i.push(new Fl("name","fullPath",!0));const e=new Fl("name");e.xform=function t(l,c){return function M7(i){return!MA(i)||i.length<2?i:PU(i)}(c)},i.push(e);const a=new Fl("size");return a.xform=function o(l,c){return void 0!==c?Number(c):c},i.push(a),i.push(new Fl("timeCreated")),i.push(new Fl("updated")),i.push(new Fl("md5Hash",null,!0)),i.push(new Fl("cacheControl",null,!0)),i.push(new Fl("contentDisposition",null,!0)),i.push(new Fl("contentEncoding",null,!0)),i.push(new Fl("contentLanguage",null,!0)),i.push(new Fl("contentType",null,!0)),i.push(new Fl("metadata","customMetadata",!0)),kA=i,kA}function NU(i,t,e){const o=JN(t);return null===o?null:function k7(i,t,e){const o={type:"file"},a=e.length;for(let l=0;l<a;l++){const c=e[l];o[c.local]=c.xform(o,t[c.server])}return function A7(i,t){Object.defineProperty(i,"ref",{get:function e(){const l=new el(i.bucket,i.fullPath);return t._makeStorageReference(l)}})}(o,i),o}(i,o,e)}function QN(i,t){const e={},o=t.length;for(let a=0;a<o;a++){const l=t[a];l.writable&&(e[l.server]=i[l.local])}return JSON.stringify(e)}const FU="prefixes";class Wp{constructor(t,e,o,a){this.url=t,this.method=e,this.handler=o,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yp(i){if(!i)throw ZN()}function OA(i,t){return function e(o,a){const l=NU(i,a,t);return Yp(null!==l),l}}function O1(i){return function t(e,o){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function JK(){return new Zo("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function KK(){return new Zo("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function YK(i){return new Zo("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===e.getStatus()?function QK(i){return new Zo("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):o,a.serverResponse=o.serverResponse,a}}function uS(i){const t=O1(i);return function e(o,a){let l=t(o,a);return 404===o.getStatus()&&(l=function WK(i){return new Zo("object-not-found","Object '"+i+"' does not exist.")}(i.path)),l.serverResponse=a.serverResponse,l}}function VU(i,t,e){const a=Hm(t.fullServerUrl(),i.host,i._protocol),c=i.maxOperationRetryTime,g=new Wp(a,"GET",OA(i,e),c);return g.errorHandler=uS(t),g}function L7(i,t,e,o,a){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),o&&(l.pageToken=o),a&&(l.maxResults=a);const g=Hm(t.bucketOnlyServerUrl(),i.host,i._protocol),b=i.maxOperationRetryTime,T=new Wp(g,"GET",function N7(i,t){return function e(o,a){const l=function P7(i,t,e){const o=JN(e);return null===o?null:function R7(i,t,e){const o={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[FU])for(const a of e[FU]){const l=a.replace(/\/$/,""),c=i._makeStorageReference(new el(t,l));o.prefixes.push(c)}if(e.items)for(const a of e.items){const l=i._makeStorageReference(new el(t,a.name));o.items.push(l)}return o}(i,t,o)}(i,t,a);return Yp(null!==l),l}}(i,t.bucket),b);return T.urlParams=l,T.errorHandler=O1(t),T}function HU(i,t,e){const o=Object.assign({},e);return o.fullPath=i.path,o.size=t.size(),o.contentType||(o.contentType=function U7(i,t){return i&&i.contentType||t&&t.type()||"application/octet-stream"}(null,t)),o}class RA{constructor(t,e,o,a){this.current=t,this.total=e,this.finalized=!!o,this.metadata=a||null}}function XN(i,t){let e=null;try{e=i.getResponseHeader("X-Goog-Upload-Status")}catch{Yp(!1)}return Yp(!!e&&-1!==(t||["active"]).indexOf(e)),e}const q7={STATE_CHANGED:"state_changed"},Ll={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eF(i){switch(i){case"running":case"pausing":case"canceling":return Ll.RUNNING;case"paused":return Ll.PAUSED;case"success":return Ll.SUCCESS;case"canceled":return Ll.CANCELED;default:return Ll.ERROR}}class Z7{constructor(t,e,o){if(function u7(i){return"function"==typeof i}(t)||null!=e||null!=o)this.next=t,this.error=e??void 0,this.complete=o??void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function R1(i){return(...t)=>{Promise.resolve().then(()=>i(...t))}}class W7 extends class $7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tv.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tv.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tv.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,o,a){if(this.sent_)throw lS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lS("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lS("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lS("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lS("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function rf(){return new W7}class GU{constructor(t,e,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=o,this._mappings=cS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,o])=>{switch(this._state){case"running":t(e,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const o=function j7(i,t,e,o,a){const l=t.bucketOnlyServerUrl(),c=HU(t,o,a),g={name:c.fullPath},_=Hm(l,i.host,i._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=QN(c,e),j=new Wp(_,"POST",function F(X){let se;XN(X);try{se=X.getResponseHeader("X-Goog-Upload-URL")}catch{Yp(!1)}return Yp(MA(se)),se},i.maxUploadRetryTime);return j.urlParams=g,j.headers=T,j.body=D,j.errorHandler=O1(t),j}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(o,rf,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,o)=>{const a=function z7(i,t,e,o){const _=new Wp(e,"POST",function l(b){const T=XN(b,["active","final"]);let D=null;try{D=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yp(!1)}D||Yp(!1);const O=Number(D);return Yp(!isNaN(O)),new RA(O,o.size(),"final"===T)},i.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=O1(t),_}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(a,rf,e,o);this._request=l,l.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new RA(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=function G7(i,t,e,o,a,l,c,g){const _=new RA(0,0);if(c?(_.current=c.current,_.total=c.total):(_.current=0,_.total=o.size()),o.size()!==_.total)throw function r7(){return new Zo("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let T=b;a>0&&(T=Math.min(T,a));const D=_.current,j={"X-Goog-Upload-Command":T===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},X=o.slice(D,D+T);if(null===X)throw SU();const ft=new Wp(e,"POST",function se(ht,Ht){const qt=XN(ht,["active","final"]),wn=_.current+T,Vn=o.size();let _i;return _i="final"===qt?OA(t,l)(ht,Ht):null,new RA(wn,Vn,"final"===qt,_i)},t.maxUploadRetryTime);return ft.headers=j,ft.body=X.uploadData(),ft.progressCallback=g||null,ft.errorHandler=O1(i),ft}(this._ref._location,this._ref.storage,o,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const g=this._ref.storage._makeRequest(c,rf,a,l);this._request=g,g.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const o=VU(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(o,rf,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const o=function UU(i,t,e,o,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function g(){let ft="";for(let ht=0;ht<2;ht++)ft+=Math.random().toString().slice(2);return ft}();c["Content-Type"]="multipart/related; boundary="+_;const b=HU(t,o,a),T=QN(b,e),F=$p.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",o,"\r\n--"+_+"--");if(null===F)throw SU();const j={name:b.fullPath},X=Hm(l,i.host,i._protocol),ke=i.maxUploadRetryTime,We=new Wp(X,"POST",OA(i,e),ke);return We.urlParams=j,We.headers=c,We.body=F.uploadData(),We.errorHandler=O1(t),We}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(o,rf,t,e);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=xU(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=eF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,o,a){const l=new Z7(e||void 0,o||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(eF(this._state)){case Ll.SUCCESS:R1(this._resolve.bind(null,this.snapshot))();break;case Ll.CANCELED:case Ll.ERROR:R1(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(eF(this._state)){case Ll.RUNNING:case Ll.PAUSED:t.next&&R1(t.next.bind(t,this.snapshot))();break;case Ll.SUCCESS:t.complete&&R1(t.complete.bind(t))();break;default:t.error&&R1(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class j0{constructor(t,e){this._service=t,this._location=e instanceof el?e:el.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new j0(t,e)}get root(){const t=new el(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PU(this._location.path)}get storage(){return this._service}get parent(){const t=function S7(i){if(0===i.length)return null;const t=i.lastIndexOf("/");return-1===t?"":i.slice(0,t)}(this._location.path);if(null===t)return null;const e=new el(this._location.bucket,t);return new j0(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw IU(t)}}function ZU(i,t,e){return tF.apply(this,arguments)}function tF(){return tF=(0,st.Z)(function*(i,t,e){const a=yield $U(i,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield ZU(i,t,a.nextPageToken))}),tF.apply(this,arguments)}function $U(i,t){null!=t&&"number"==typeof t.maxResults&&WN("options.maxResults",1,1e3,t.maxResults);const e=t||{},o=L7(i.storage,i._location,"/",e.pageToken,e.maxResults);return i.storage.makeRequestWithTokens(o,rf)}function a9(i){i._throwIfRoot("getDownloadURL");const t=function V7(i,t,e){const a=Hm(t.fullServerUrl(),i.host,i._protocol),c=i.maxOperationRetryTime,g=new Wp(a,"GET",function F7(i,t){return function e(o,a){const l=NU(i,a,t);return Yp(null!==l),function O7(i,t,e,o){const a=JN(t);if(null===a||!MA(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const c=encodeURIComponent;return l.split(",").map(b=>{const D=i.fullPath;return Hm("/b/"+c(i.bucket)+"/o/"+c(D),e,o)+AU({alt:"media",token:b})})[0]}(l,a,i.host,i._protocol)}}(i,e),c);return g.errorHandler=uS(t),g}(i.storage,i._location,cS());return i.storage.makeRequestWithTokens(t,rf).then(e=>{if(null===e)throw function o7(){return new Zo("no-download-url","The given file does not have any download URLs.")}();return e})}function WU(i,t){const e=function D7(i,t){const e=t.split("/").filter(o=>o.length>0).join("/");return 0===i.length?e:i+"/"+e}(i._location.path,t),o=new el(i._location.bucket,e);return new j0(i.storage,o)}function YU(i,t){if(i instanceof nF){const e=i;if(null==e._bucket)throw function n7(){return new Zo("no-default-bucket","No default bucket found. Did you set the '"+EU+"' property when initializing the app?")}();const o=new j0(e,e._bucket);return null!=t?YU(o,t):o}return void 0!==t?WU(i,t):i}function d9(i,t){if(t&&function c9(i){return/^[A-Za-z]+:\/\//.test(i)}(t)){if(i instanceof nF)return function u9(i,t){return new j0(i,t)}(i,t);throw k1("To use ref(service, url), the first argument must be a Storage instance.")}return YU(i,t)}function KU(i,t){const e=t?.[EU];return null==e?null:el.makeFromBucketSpec(e,i)}class nF{constructor(t,e,o,a,l){this.app=t,this._authProvider=e,this._appCheckProvider=o,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=TU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?el.makeFromBucketSpec(a,this._host):KU(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?el.makeFromBucketSpec(this._url,t):KU(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){WN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){WN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,st.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const o=yield e.getToken();if(null!==o)return o.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,st.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new j0(this,t)}_makeRequest(t,e,o,a){if(this._deleted)return new s7(DU());{const l=function _7(i,t,e,o,a,l){const c=AU(i.urlParams),g=i.url+c,_=Object.assign({},i.headers);return function g7(i,t){t&&(i["X-Firebase-GMPID"]=t)}(_,t),function f7(i,t){null!==t&&t.length>0&&(i.Authorization="Firebase "+t)}(_,e),function p7(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(_,l),function m7(i,t){null!==t&&(i["X-Firebase-AppCheck"]=t)}(_,o),new h7(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,a)}(t,this._appId,o,a,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var o=this;return(0,st.Z)(function*(){const[a,l]=yield Promise.all([o._getAuthToken(),o._getAppCheckToken()]);return o._makeRequest(t,e,a,l).getPromise()})()}}const JU="@firebase/storage",XU="storage";function e6(i,t){return d9(i=(0,W.m9)(i),t)}function w9(i=(0,Wn.getApp)(),t){return i=(0,W.m9)(i),(0,Wn._getProvider)(i,XU).getImmediate({identifier:t})}function T9(i,{instanceIdentifier:t}){const e=i.getProvider("app").getImmediate(),o=i.getProvider("auth-internal"),a=i.getProvider("app-check-internal");return new nF(e,o,a,t,Wn.SDK_VERSION)}!function E9(){(0,Wn._registerComponent)(new Zn.wA(XU,T9,"PUBLIC").setMultipleInstances(!0)),(0,Wn.registerVersion)(JU,"0.9.9",""),(0,Wn.registerVersion)(JU,"0.9.9","esm2017")}();class PA{constructor(t,e,o){this._delegate=t,this.task=e,this.ref=o}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class t6{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new PA(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(o=>{if(t)return t(new PA(o,this,this._ref))},e)}on(t,e,o,a){let l;return e&&(l="function"==typeof e?c=>e(new PA(c,this,this._ref)):{next:e.next?c=>e.next(new PA(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,o||void 0,a||void 0)}}class n6{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Um(t,this._service))}get items(){return this._delegate.items.map(t=>new Um(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Um{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function b9(i,t){return WU(i,t)}(this._delegate,t);return new Um(e,this.storage)}get root(){return new Um(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Um(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new t6(function f9(i,t,e){return function t9(i,t,e){return i._throwIfRoot("uploadBytesResumable"),new GU(i,new $p(t),e)}(i=(0,W.m9)(i),t,e)}(this._delegate,t,e),this)}putString(t,e=Su.RAW,o){this._throwIfRoot("putString");const a=KN(e,t),l=Object.assign({},o);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new t6(new GU(this._delegate,new $p(a.data,!0),l),this)}listAll(){return function _9(i){return function r9(i){const t={prefixes:[],items:[]};return ZU(i,t).then(()=>t)}(i=(0,W.m9)(i))}(this._delegate).then(t=>new n6(t,this.storage))}list(t){return function m9(i,t){return $U(i=(0,W.m9)(i),t)}(this._delegate,t||void 0).then(e=>new n6(e,this.storage))}getMetadata(){return function p9(i){return function o9(i){i._throwIfRoot("getMetadata");const t=VU(i.storage,i._location,cS());return i.storage.makeRequestWithTokens(t,rf)}(i=(0,W.m9)(i))}(this._delegate)}updateMetadata(t){return function g9(i,t){return function s9(i,t){i._throwIfRoot("updateMetadata");const e=function B7(i,t,e,o){const l=Hm(t.fullServerUrl(),i.host,i._protocol),g=QN(e,o),b=i.maxOperationRetryTime,T=new Wp(l,"PATCH",OA(i,o),b);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=g,T.errorHandler=uS(t),T}(i.storage,i._location,t,cS());return i.storage.makeRequestWithTokens(e,rf)}(i=(0,W.m9)(i),t)}(this._delegate,t)}getDownloadURL(){return function y9(i){return a9(i=(0,W.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function v9(i){return function l9(i){i._throwIfRoot("deleteObject");const t=function H7(i,t){const o=Hm(t.fullServerUrl(),i.host,i._protocol),g=new Wp(o,"DELETE",function c(_,b){},i.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=uS(t),g}(i.storage,i._location);return i.storage.makeRequestWithTokens(t,rf)}(i=(0,W.m9)(i))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw IU(t)}}class r6{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(o6(t))throw k1("ref() expected a child path but got a URL, use refFromURL instead.");return new Um(e6(this._delegate,t),this)}refFromURL(t){if(!o6(t))throw k1("refFromURL() expected a full URL but got a child path, use ref() instead.");try{el.makeFromUrl(t,this._delegate.host)}catch{throw k1("refFromUrl() expected a valid full URL but got an invalid one.")}return new Um(e6(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,o={}){!function C9(i,t,e,o={}){!function h9(i,t,e,o={}){i.host=`${t}:${e}`,i._protocol="http";const{mockUserToken:a}=o;a&&(i._overrideAuthToken="string"==typeof a?a:(0,W.Sg)(a,i.app.options.projectId))}(i,t,e,o)}(this._delegate,t,e,o)}}function o6(i){return/^[A-Za-z]+:\/\//.test(i)}function I9(i,{instanceIdentifier:t}){const e=i.getProvider("app-compat").getImmediate(),o=i.getProvider("storage").getImmediate({identifier:t});return new r6(e,o)}function s6(i){const t=function A9(i){return new qi.y(t=>{const e=c=>t.next(c);e(i.snapshot);const l=i.on("state_changed",e);return i.then(c=>{e(c),t.complete()},c=>{e(i.snapshot),(c=>{t.error(c)})(c)}),function(){l()}}).pipe(GN(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,dn.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function NA(i){return{getDownloadURL:()=>fn(void 0).pipe(wt.fc,kr(()=>i.getDownloadURL()),wt.iC),getMetadata:()=>fn(void 0).pipe(wt.fc,kr(()=>i.getMetadata()),wt.iC),delete:()=>(0,dr.D)(i.delete()),child:t=>NA(i.child(t)),updateMetadata:t=>(0,dr.D)(i.updateMetadata(t)),put:(t,e)=>s6(i.put(t,e)),putString:(t,e,o)=>s6(i.putString(t,e,o)),list:t=>(0,dr.D)(i.list(t)),listAll:()=>(0,dr.D)(i.listAll())}}!function M9(i){const t={TaskState:Ll,TaskEvent:q7,StringFormat:Su,Storage:r6,Reference:Um};i.INTERNAL.registerComponent(new Zn.wA("storage-compat",I9,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.17")}(QR.Z);const k9=new s.OlP("angularfire2.storageBucket"),O9=new s.OlP("angularfire2.storage.maxUploadRetryTime"),R9=new s.OlP("angularfire2.storage.maxOperationRetryTime"),P9=new s.OlP("angularfire2.storage.use-emulator");let a6=(()=>{class i{constructor(e,o,a,l,c,g,_,b,T,D){const O=(0,vs.on)(e,c,o);this.storage=(0,vs.cc)(`${O.name}.storage.${a}`,"AngularFireStorage",O.name,()=>{const F=c.runOutsideAngular(()=>O.storage(a||void 0)),j=T;return j&&F.useEmulator(...j),_&&F.setMaxUploadRetryTime(_),b&&F.setMaxOperationRetryTime(b),F},[_,b])}ref(e){return NA(this.storage.ref(e))}refFromURL(e){return NA(this.storage.refFromURL(e))}upload(e,o,a){return NA(this.storage.ref(e)).put(o,a)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(vs.Dh),s.LFG(vs.xv,8),s.LFG(k9,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wt.HU),s.LFG(O9,8),s.LFG(R9,8),s.LFG(P9,8),s.LFG(ua,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),N9=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),F9=(()=>{class i{constructor(){AM.Z.registerVersion("angularfire",wt.q4.full,"gcs-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[a6],imports:[N9]}),i})();var FA=q(5032);function LA(...i){const t=(0,zy.jO)(i);return(0,Go.e)((e,o)=>{const a=i.length,l=new Array(a);let c=i.map(()=>!1),g=!1;for(let _=0;_<a;_++)(0,Td.Xf)(i[_]).subscribe((0,Ar.x)(o,b=>{l[_]=b,!g&&!c[_]&&(c[_]=!0,(g=c.every(f1.y))&&(c=null))},FA.Z));e.subscribe((0,Ar.x)(o,_=>{if(g){const b=[_,...l];o.next(t?t(...b):b)}}))})}const l6="@firebase/database";let iF="";function u6(i){iF=i}class V9{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,W.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,W.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class B9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,W.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const d6=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new V9(t)}}catch{}return new B9},z0=d6("localStorage"),rF=d6("sessionStorage"),P1=new gr.Yd("@firebase/database"),h6=function(){let i=1;return function(){return i++}}(),f6=function(i){const t=(0,W.dS)(i),e=new W.gQ;e.update(t);const o=e.digest();return W.US.encodeByteArray(o)},dS=function(...i){let t="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=dS.apply(null,o):t+="object"==typeof o?(0,W.Pz)(o):o,t+=" "}return t};let G0=null,p6=!0;const g6=function(i,t){(0,W.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(P1.logLevel=gr.in.VERBOSE,G0=P1.log.bind(P1),t&&rF.set("logging_enabled",!0)):"function"==typeof i?G0=i:(G0=null,rF.remove("logging_enabled"))},Js=function(...i){if(!0===p6&&(p6=!1,null===G0&&!0===rF.get("logging_enabled")&&g6(!0)),G0){const t=dS.apply(null,i);G0(t)}},hS=function(i){return function(...t){Js(i,...t)}},oF=function(...i){const t="FIREBASE INTERNAL ERROR: "+dS(...i);P1.error(t)},Kp=function(...i){const t=`FIREBASE FATAL ERROR: ${dS(...i)}`;throw P1.error(t),new Error(t)},tl=function(...i){const t="FIREBASE WARNING: "+dS(...i);P1.warn(t)},VA=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},jm="[MIN_NAME]",Jp="[MAX_NAME]",q0=function(i,t){if(i===t)return 0;if(i===jm||t===Jp)return-1;if(t===jm||i===Jp)return 1;{const e=BA(i),o=BA(t);return null!==e?null!==o?e-o==0?i.length-t.length:e-o:-1:null!==o?1:i<t?-1:1}},j9=function(i,t){return i===t?0:i<t?-1:1},fS=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,W.Pz)(t))},sF=function(i){if("object"!=typeof i||null===i)return(0,W.Pz)(i);const t=[];for(const o in i)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,W.Pz)(t[o]),e+=":",e+=sF(i[t[o]]);return e+="}",e},m6=function(i,t){const e=i.length;if(e<=t)return[i];const o=[];for(let a=0;a<e;a+=t)o.push(i.substring(a,a+t>e?e:a+t));return o};function Qs(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const _6=function(i){(0,W.hu)(!VA(i),"Invalid JSON number");const o=1023;let a,l,c,g,_;0===i?(l=0,c=0,a=1/i==-1/0?1:0):(a=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(g=Math.min(Math.floor(Math.log(i)/Math.LN2),o),l=g+o,c=Math.round(i*Math.pow(2,52-g)-Math.pow(2,52))):(l=0,c=Math.round(i/Math.pow(2,-1074))));const b=[];for(_=52;_;_-=1)b.push(c%2?1:0),c=Math.floor(c/2);for(_=11;_;_-=1)b.push(l%2?1:0),l=Math.floor(l/2);b.push(a?1:0),b.reverse();const T=b.join("");let D="";for(_=0;_<64;_+=8){let O=parseInt(T.substr(_,8),2).toString(16);1===O.length&&(O="0"+O),D+=O}return D.toLowerCase()},Z9=new RegExp("^-?(0*)\\d{1,10}$"),y6=-2147483648,aF=2147483647,BA=function(i){if(Z9.test(i)){const t=Number(i);if(t>=y6&&t<=aF)return t}return null},N1=function(i){try{i()}catch(t){setTimeout(()=>{throw tl("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},pS=function(i,t){const e=setTimeout(i,t);return"object"==typeof e&&e.unref&&e.unref(),e};class W9{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){tl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Y9{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Js("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tl(t)}}let gS=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const T6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,S6="websocket",D6="long_polling";class cF{constructor(t,e,o,a,l=!1,c="",g=!1){this.secure=e,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=z0.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&z0.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function I6(i,t,e){let o;if((0,W.hu)("string"==typeof t,"typeof type must == string"),(0,W.hu)("object"==typeof e,"typeof params must == object"),t===S6)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==D6)throw new Error("Unknown connection type: "+t);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function K9(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const a=[];return Qs(e,(l,c)=>{a.push(l+"="+c)}),o+a.join("&")}class J9{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,W.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,W.p$)(this.counters_)}}const uF={},dF={};function hF(i){const t=i.toString();return uF[t]||(uF[t]=new J9),uF[t]}class X9{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&N1(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class nv{constructor(t,e,o,a,l,c,g){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=a,this.authToken=l,this.transportSessionId=c,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hS(t),this.stats_=hF(e),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),I6(e,D6,_))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new X9(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,W.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fF((...l)=>{const[c,g,_,b,T]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=g,this.password=_;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[c,g]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,g)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&T6.test(location.hostname)&&(o.r="f");const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nv.forceAllow_=!0}static forceDisallow(){nv.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!nv.forceAllow_&&(nv.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,W.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,W.h$)(e),a=m6(o,1840);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,W.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class fF{constructor(t,e,o,a){if(this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=h6(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=fF.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(g){Js("frame writing exception"),g.stack&&Js(g.stack),Js(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Js("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const c=this.pendingSegs.shift();o=o+"&seg"+a+"="+c.seg+"&ts"+a+"="+c.ts+"&d"+a+"="+c.d,a++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),o()})}addTag(t,e){(0,W.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||"loaded"===a||"complete"===a)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Js("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let UA=null;typeof MozWebSocket<"u"?UA=MozWebSocket:typeof WebSocket<"u"&&(UA=WebSocket);let F1=(()=>{class i{constructor(e,o,a,l,c,g,_){this.connId=e,this.applicationId=a,this.appCheckToken=l,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hS(this.connId),this.stats_=hF(o),this.connURL=i.connectionURL_(o,g,_,l,a),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,a,l,c){const g={v:"5"};return!(0,W.Yr)()&&typeof location<"u"&&location.hostname&&T6.test(location.hostname)&&(g.r="f"),o&&(g.s=o),a&&(g.ls=a),l&&(g.ac=l),c&&(g.p=c),I6(e,S6,g)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,z0.set("previous_websocket_failure",!0);try{let a;if((0,W.Yr)()){a={headers:{"User-Agent":`Firebase/5/${iF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,g=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;g&&(a.proxy={origin:g})}this.mySock=new UA(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const l=a.message||a.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const l=a.message||a.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==UA&&!i.forceDisallow_}static previouslyFailed(){return z0.isInMemoryStorage||!0===z0.get("previous_websocket_failure")}markConnectionHealthy(){z0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const a=(0,W.cI)(o);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const a=this.extractFrameCount_(o);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const o=(0,W.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const a=m6(o,16384);a.length>1&&this.sendString_(String(a.length));for(let l=0;l<a.length;l++)this.sendString_(a[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),N6=(()=>{class i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[nv,F1]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=F1&&F1.isAvailable();let a=o&&!F1.previouslyFailed();if(e.webSocketOnly&&(o||tl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[F1];else{const l=this.transports_=[];for(const c of i.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class j6{constructor(t,e,o,a,l,c,g,_,b,T){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=c,this.onReady_=g,this.onDisconnect_=_,this.onKill_=b,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hS("c:"+this.id+":"),this.transportManager_=new N6(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=pS(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=fS("t",t),o=fS("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=fS("t",t),o=fS("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=fS("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?oF("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oF("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&tl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),pS(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pS(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(z0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class z6{put(t,e,o,a){}merge(t,e,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class G6{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,W.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const a=this.getInitialEvent(t);a&&e.apply(o,a)}off(t,e,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let l=0;l<a.length;l++)if(a[l].callback===e&&(!o||o===a[l].context))return void a.splice(l,1)}validateEventType_(t){(0,W.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class jA extends G6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jA}getInitialEvent(t){return(0,W.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class hr{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ir(){return new hr("")}function Mi(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function iv(i){return i.pieces_.length-i.pieceNum_}function Vr(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new hr(i.pieces_,t)}function gF(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function mS(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function $6(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new hr(t,0)}function mo(i,t){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(t instanceof hr)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&e.push(o[a])}return new hr(e,0)}function Ai(i){return i.pieceNum_>=i.pieces_.length}function Vl(i,t){const e=Mi(i),o=Mi(t);if(null===e)return t;if(e===o)return Vl(Vr(i),Vr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function wJ(i,t){const e=mS(i,0),o=mS(t,0);for(let a=0;a<e.length&&a<o.length;a++){const l=q0(e[a],o[a]);if(0!==l)return l}return e.length===o.length?0:e.length<o.length?-1:1}function mF(i,t){if(iv(i)!==iv(t))return!1;for(let e=i.pieceNum_,o=t.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==t.pieces_[o])return!1;return!0}function Ad(i,t){let e=i.pieceNum_,o=t.pieceNum_;if(iv(i)>iv(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class CJ{constructor(t,e){this.errorPrefix_=e,this.parts_=mS(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,W.ug)(this.parts_[o]);W6(this)}}function W6(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Z0(i))}function Z0(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class _F extends G6{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new _F}getInitialEvent(t){return(0,W.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const _S=1e3;let GA,$0=(()=>{class i extends z6{constructor(e,o,a,l,c,g,_,b){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=a,this.onConnectStatus_=l,this.onServerInfoUpdate_=c,this.authTokenProvider_=g,this.appCheckTokenProvider_=_,this.authOverride_=b,this.id=i.nextPersistentConnectionId_++,this.log_=hS("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_S,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_F.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jA.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,a){const l=++this.requestNumber_,c={r:l,a:e,b:o};this.log_((0,W.Pz)(c)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[l]=a)}get(e){this.initConnection_();const o=new W.BH,a={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:a,onComplete:g=>{const _=g.d;"ok"===g.s?o.resolve(_):o.reject(_)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,a,l){this.initConnection_();const c=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+c),this.listens.has(g)||this.listens.set(g,new Map),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get(g).has(c),"listen() called twice for same path/queryId.");const _={onComplete:l,hashFn:o,query:e,tag:a};this.listens.get(g).set(c,_),this.connected_&&this.sendListen_(_)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(a)})}sendListen_(e){const o=e.query,a=o._path.toString(),l=o._queryIdentifier;this.log_("Listen on "+a+" for "+l);const c={p:a};e.tag&&(c.q=o._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,_=>{const b=_.d,T=_.s;i.warnOnListenWarnings_(b,o),(this.listens.get(a)&&this.listens.get(a).get(l))===e&&(this.log_("listen response",_),"ok"!==T&&this.removeListen_(a,l),e.onComplete&&e.onComplete(T,b))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,W.r3)(e,"w")){const a=(0,W.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const l='".indexOn": "'+o._queryParams.getIndex().toString()+'"',c=o._path.toString();tl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,W.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,W.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(o,a,l=>{const c=l.s,g=l.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,a=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,a)})}unlisten(e,o){const a=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+l),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,l)&&this.connected_&&this.sendUnlisten_(a,l,e._queryObject,o)}sendUnlisten_(e,o,a,l){this.log_("Unlisten on "+e+" for "+o);const c={p:e};l&&(c.q=a,c.t=l),this.sendRequest("n",c)}onDisconnectPut(e,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:a})}onDisconnectMerge(e,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:a})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,a,l){const c={p:o,d:a};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,g=>{l&&setTimeout(()=>{l(g.s,g.d)},Math.floor(0))})}put(e,o,a,l){this.putInternal("p",e,o,a,l)}merge(e,o,a,l){this.putInternal("m",e,o,a,l)}putInternal(e,o,a,l,c){this.initConnection_();const g={p:o,d:a};void 0!==c&&(g.h=c),this.outstandingPuts_.push({action:e,request:g,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,a,c=>{this.log_(o+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(c.s,c.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,W.Pz)(e));const o=e.r,a=this.requestCBHash_[o];a&&(delete this.requestCBHash_[o],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):oF("Unrecognized action received from server: "+(0,W.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_S,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_S,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_S),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,st.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+i.nextConnectionId_++,g=e.lastSessionId;let _=!1,b=null;const T=function(){b?b.close():(_=!0,l())};e.realtime_={close:T,sendRequest:function(F){(0,W.hu)(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(F)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[F,j]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);_?Js("getToken() completed but was canceled"):(Js("getToken() completed. Creating connection."),e.authToken_=F&&F.accessToken,e.appCheckToken_=j&&j.token,b=new j6(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,a,l,X=>{tl(X+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(F){e.log_("Failed to get token: "+F),_||(e.repoInfo_.nodeAdmin&&tl(F),T())}}})()}interrupt(e){Js("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Js("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_S,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let a;a=o?o.map(c=>sF(c)).join("$"):"default";const l=this.removeListen_(e,a);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,o){const a=new hr(e).toString();let l;if(this.listens.has(a)){const c=this.listens.get(a);l=c.get(o),c.delete(o),0===c.size&&this.listens.delete(a)}else l=void 0;return l}onAuthRevoked_(e,o){Js("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Js("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,W.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+iF.replace(/\./g,"-")]=1,(0,W.uI)()?e["framework.cordova"]=1:(0,W.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jA.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class Vi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Vi(t,e)}}class zA{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new Vi(jm,t),a=new Vi(jm,e);return 0!==this.compare(o,a)}minPost(){return Vi.MIN}}class J6 extends zA{static get __EMPTY_NODE(){return GA}static set __EMPTY_NODE(t){GA=t}compare(t,e){return q0(t.name,e.name)}isDefinedOn(t){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Vi.MIN}maxPost(){return new Vi(Jp,GA)}makePost(t,e){return(0,W.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Vi(t,GA)}toString(){return".key"}}const Qp=new J6;class qA{constructor(t,e,o,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?o(t.key,e):1,a&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let vF,sf=(()=>{class i{constructor(e,o,a,l,c){this.key=e,this.value=o,this.color=a??i.RED,this.left=l??Ec.EMPTY_NODE,this.right=c??Ec.EMPTY_NODE}copy(e,o,a,l,c){return new i(e??this.key,o??this.value,a??this.color,l??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,o,a),null):0===c?l.copy(null,o,null,null,null):l.copy(null,null,null,null,l.right.insert(e,o,a)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ec.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let a,l;if(a=this,o(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,o),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===o(e,a.key)){if(a.right.isEmpty())return Ec.EMPTY_NODE;l=a.right.min_(),a=a.copy(l.key,l.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,o))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class Ec{constructor(t,e=Ec.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ec(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,sf.BLACK,null,null))}remove(t){return new Ec(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,sf.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,a=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(a=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new qA(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new qA(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new qA(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new qA(this.root_,null,this.comparator_,!0,t)}}function AJ(i,t){return q0(i.name,t.name)}function yF(i,t){return q0(i,t)}Ec.EMPTY_NODE=new class MJ{copy(t,e,o,a,l){return this}insert(t,e,o){return new sf(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Q6=function(i){return"number"==typeof i?"number:"+_6(i):"string:"+i},X6=function(i){if(i.isLeafNode()){const t=i.val();(0,W.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,W.r3)(t,".sv"),"Priority must be a string or number.")}else(0,W.hu)(i===vF||i.isEmpty(),"priority of unexpected type.");(0,W.hu)(i===vF||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ej,tj,nj,L1=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),X6(this.priorityNode_)}static set __childrenNodeConstructor(e){ej=e}static get __childrenNodeConstructor(){return ej}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ai(e)?this:".priority"===Mi(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const a=Mi(e);return null===a?o:o.isEmpty()&&".priority"!==a?this:((0,W.hu)(".priority"!==a||1===iv(e),".priority must be the last token in a path"),this.updateImmediateChild(a,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vr(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Q6(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?_6(this.value_):this.value_,this.lazyHash_=f6(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,W.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,a=typeof this.value_,l=i.VALUE_TYPE_ORDER.indexOf(o),c=i.VALUE_TYPE_ORDER.indexOf(a);return(0,W.hu)(l>=0,"Unknown leaf type: "+o),(0,W.hu)(c>=0,"Unknown leaf type: "+a),l===c?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const $r=new class PJ extends zA{compare(t,e){const o=t.node.getPriority(),a=e.node.getPriority(),l=o.compareTo(a);return 0===l?q0(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Vi.MIN}maxPost(){return new Vi(Jp,new L1("[PRIORITY-POST]",nj))}makePost(t,e){const o=tj(t);return new Vi(e,new L1("[PRIORITY-POST]",o))}toString(){return".priority"}},NJ=Math.log(2);class FJ{constructor(t){this.count=parseInt(Math.log(t+1)/NJ,10),this.current_=this.count-1;const a=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ZA=function(i,t,e,o){i.sort(t);const a=function(_,b){const T=b-_;let D,O;if(0===T)return null;if(1===T)return D=i[_],O=e?e(D):D,new sf(O,D.node,sf.BLACK,null,null);{const F=parseInt(T/2,10)+_,j=a(_,F),X=a(F+1,b);return D=i[F],O=e?e(D):D,new sf(O,D.node,sf.BLACK,j,X)}},g=function(_){let b=null,T=null,D=i.length;const O=function(j,X){const se=D-j,ke=D;D-=j;const We=a(se+1,ke),ft=i[se],ht=e?e(ft):ft;F(new sf(ht,ft.node,X,null,We))},F=function(j){b?(b.left=j,b=j):(T=j,b=j)};for(let j=0;j<_.count;++j){const X=_.nextBitIsOne(),se=Math.pow(2,_.count-(j+1));X?O(se,sf.BLACK):(O(se,sf.BLACK),O(se,sf.RED))}return T}(new FJ(i.length));return new Ec(o||t,g)};let bF;const V1={};class zm{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,W.hu)(V1&&$r,"ChildrenNode.ts has not been loaded"),bF=bF||new zm({".priority":V1},{".priority":$r}),bF}get(t){const e=(0,W.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ec?e:null}hasIndex(t){return(0,W.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,W.hu)(t!==Qp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const l=e.getIterator(Vi.Wrap);let g,c=l.getNext();for(;c;)a=a||t.isDefinedOn(c.node),o.push(c),c=l.getNext();g=a?ZA(o,t.getCompare()):V1;const _=t.toString(),b=Object.assign({},this.indexSet_);b[_]=t;const T=Object.assign({},this.indexes_);return T[_]=g,new zm(T,b)}addToIndexes(t,e){const o=(0,W.UI)(this.indexes_,(a,l)=>{const c=(0,W.DV)(this.indexSet_,l);if((0,W.hu)(c,"Missing index implementation for "+l),a===V1){if(c.isDefinedOn(t.node)){const g=[],_=e.getIterator(Vi.Wrap);let b=_.getNext();for(;b;)b.name!==t.name&&g.push(b),b=_.getNext();return g.push(t),ZA(g,c.getCompare())}return V1}{const g=e.get(t.name);let _=a;return g&&(_=_.remove(new Vi(t.name,g))),_.insert(t,t.node)}});return new zm(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,W.UI)(this.indexes_,a=>{if(a===V1)return a;{const l=e.get(t.name);return l?a.remove(new Vi(t.name,l)):a}});return new zm(o,this.indexSet_)}}let yS,mi=(()=>{class i{constructor(e,o,a){this.children_=e,this.priorityNode_=o,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&X6(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yS||(yS=new i(new Ec(yF),null,zm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yS}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?yS:o}}getChild(e){const o=Mi(e);return null===o?this:this.getImmediateChild(o).getChild(Vr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,W.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const a=new Vi(e,o);let l,c;o.isEmpty()?(l=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(a,this.children_)):(l=this.children_.insert(e,o),c=this.indexMap_.addToIndexes(a,this.children_));const g=l.isEmpty()?yS:this.priorityNode_;return new i(l,g,c)}}updateChild(e,o){const a=Mi(e);if(null===a)return o;{(0,W.hu)(".priority"!==Mi(e)||1===iv(e),".priority must be the last token in a path");const l=this.getImmediateChild(a).updateChild(Vr(e),o);return this.updateImmediateChild(a,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let a=0,l=0,c=!0;if(this.forEachChild($r,(g,_)=>{o[g]=_.val(e),a++,c&&i.INTEGER_REGEXP_.test(g)?l=Math.max(l,Number(g)):c=!1}),!e&&c&&l<2*a){const g=[];for(const _ in o)g[_]=o[_];return g}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Q6(this.getPriority().val())+":"),this.forEachChild($r,(o,a)=>{const l=a.hash();""!==l&&(e+=":"+o+":"+l)}),this.lazyHash_=""===e?"":f6(e)}return this.lazyHash_}getPredecessorChildName(e,o,a){const l=this.resolveIndex_(a);if(l){const c=l.getPredecessorKey(new Vi(e,o));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const a=o.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new Vi(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const a=o.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new Vi(o,this.children_.get(o)):null}forEachChild(e,o){const a=this.resolveIndex_(e);return a?a.inorderTraversal(l=>o(l.name,l.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const a=this.resolveIndex_(o);if(a)return a.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Vi.Wrap);let c=l.peek();for(;null!=c&&o.compare(c,e)<0;)l.getNext(),c=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const a=this.resolveIndex_(o);if(a)return a.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Vi.Wrap);let c=l.peek();for(;null!=c&&o.compare(c,e)>0;)l.getNext(),c=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vS?-1:0}withIndex(e){if(e===Qp||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Qp||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const a=this.getIterator($r),l=o.getIterator($r);let c=a.getNext(),g=l.getNext();for(;c&&g;){if(c.name!==g.name||!c.node.equals(g.node))return!1;c=a.getNext(),g=l.getNext()}return null===c&&null===g}return!1}return!1}}resolveIndex_(e){return e===Qp?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const vS=new class LJ extends mi{constructor(){super(new Ec(yF),mi.EMPTY_NODE,zm.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return mi.EMPTY_NODE}isEmpty(){return!1}};function Oo(i,t=null){if(null===i)return mi.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,W.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new L1(i,Oo(t));if(i instanceof Array){let e=mi.EMPTY_NODE;return Qs(i,(o,a)=>{if((0,W.r3)(i,o)&&"."!==o.substring(0,1)){const l=Oo(a);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(o,l))}}),e.updatePriority(Oo(t))}{const e=[];let o=!1;if(Qs(i,(c,g)=>{if("."!==c.substring(0,1)){const _=Oo(g);_.isEmpty()||(o=o||!_.getPriority().isEmpty(),e.push(new Vi(c,_)))}}),0===e.length)return mi.EMPTY_NODE;const l=ZA(e,AJ,c=>c.name,yF);if(o){const c=ZA(e,$r.getCompare());return new mi(l,Oo(t),new zm({".priority":c},{".priority":$r}))}return new mi(l,Oo(t),zm.Default)}}Object.defineProperties(Vi,{MIN:{value:new Vi(jm,mi.EMPTY_NODE)},MAX:{value:new Vi(Jp,vS)}}),J6.__EMPTY_NODE=mi.EMPTY_NODE,L1.__childrenNodeConstructor=mi,function kJ(i){vF=i}(vS),function RJ(i){nj=i}(vS),function OJ(i){tj=i}(Oo);class wF extends zA{constructor(t){super(),this.indexPath_=t,(0,W.hu)(!Ai(t)&&".priority"!==Mi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),a=this.extractChild(e.node),l=o.compareTo(a);return 0===l?q0(t.name,e.name):l}makePost(t,e){const o=Oo(t),a=mi.EMPTY_NODE.updateChild(this.indexPath_,o);return new Vi(e,a)}maxPost(){const t=mi.EMPTY_NODE.updateChild(this.indexPath_,vS);return new Vi(Jp,t)}toString(){return mS(this.indexPath_,0).join("/")}}const CF=new class BJ extends zA{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?q0(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Vi.MIN}maxPost(){return Vi.MAX}makePost(t,e){const o=Oo(t);return new Vi(e,o)}toString(){return".value"}},B1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",HJ=function(){let i=0;const t=[];return function(e){const o=e===i;let a;i=e;const l=new Array(8);for(a=7;a>=0;a--)l[a]=B1.charAt(e%64),e=Math.floor(e/64);(0,W.hu)(0===e,"Cannot push at time == 0");let c=l.join("");if(o){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)c+=B1.charAt(t[a]);return(0,W.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),oj=function(i){if(i===""+aF)return"-";const t=BA(i);if(null!=t)return""+(t+1);const e=new Array(i.length);for(let c=0;c<e.length;c++)e[c]=i.charAt(c);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return Jp;const l=B1.charAt(B1.indexOf(e[o])+1);return e[o]=l,e.slice(0,o+1).join("")},sj=function(i){if(i===""+y6)return jm;const t=BA(i);if(null!=t)return""+(t-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+aF:(delete e[e.length-1],e.join("")):(e[e.length-1]=B1.charAt(B1.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function aj(i){return{type:"value",snapshotNode:i}}function H1(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function bS(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function wS(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class EF{constructor(t){this.index_=t}updateChild(t,e,o,a,l,c){(0,W.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(a).equals(o.getChild(a))&&g.isEmpty()===o.isEmpty()||(null!=c&&(o.isEmpty()?t.hasChild(e)?c.trackChildChange(bS(e,g)):(0,W.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?c.trackChildChange(H1(e,o)):c.trackChildChange(wS(e,o,g))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild($r,(a,l)=>{e.hasChild(a)||o.trackChildChange(bS(a,l))}),e.isLeafNode()||e.forEachChild($r,(a,l)=>{if(t.hasChild(a)){const c=t.getImmediateChild(a);c.equals(l)||o.trackChildChange(wS(a,l,c))}else o.trackChildChange(H1(a,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?mi.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class CS{constructor(t){this.indexedFilter_=new EF(t.getIndex()),this.index_=t.getIndex(),this.startPost_=CS.getStartPost_(t),this.endPost_=CS.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,a,l,c){return this.matches(new Vi(e,o))||(o=mi.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,a,l,c)}updateFullNode(t,e,o){e.isLeafNode()&&(e=mi.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(mi.EMPTY_NODE);const l=this;return e.forEachChild($r,(c,g)=>{l.matches(new Vi(c,g))||(a=a.updateImmediateChild(c,mi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class jJ{constructor(t){this.rangedFilter_=new CS(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,a,l,c){return this.rangedFilter_.matches(new Vi(e,o))||(o=mi.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,a,l,c):this.fullLimitUpdateChild_(t,e,o,l,c)}updateFullNode(t,e,o){let a;if(e.isLeafNode()||e.isEmpty())a=mi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;a=mi.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const g=l.getNext();let _;if(_=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!_)break;a=a.updateImmediateChild(g.name,g.node),c++}}else{let l,c,g,_;if(a=e.withIndex(this.index_),a=a.updatePriority(mi.EMPTY_NODE),this.reverse_){_=a.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();g=(O,F)=>D(F,O)}else _=a.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let b=0,T=!1;for(;_.hasNext();){const D=_.getNext();!T&&g(l,D)<=0&&(T=!0),T&&b<this.limit_&&g(D,c)<=0?b++:a=a.updateImmediateChild(D.name,mi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,a,l){let c;if(this.reverse_){const D=this.index_.getCompare();c=(O,F)=>D(F,O)}else c=this.index_.getCompare();const g=t;(0,W.hu)(g.numChildren()===this.limit_,"");const _=new Vi(e,o),b=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),T=this.rangedFilter_.matches(_);if(g.hasChild(e)){const D=g.getImmediateChild(e);let O=a.getChildAfterChild(this.index_,b,this.reverse_);for(;null!=O&&(O.name===e||g.hasChild(O.name));)O=a.getChildAfterChild(this.index_,O,this.reverse_);const F=null==O?1:c(O,_);if(T&&!o.isEmpty()&&F>=0)return l?.trackChildChange(wS(e,o,D)),g.updateImmediateChild(e,o);{l?.trackChildChange(bS(e,D));const X=g.updateImmediateChild(e,mi.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(l?.trackChildChange(H1(O.name,O.node)),X.updateImmediateChild(O.name,O.node)):X}}return o.isEmpty()?t:T&&c(b,_)>=0?(null!=l&&(l.trackChildChange(bS(b.name,b.node)),l.trackChildChange(H1(e,o))),g.updateImmediateChild(e,o).updateImmediateChild(b.name,mi.EMPTY_NODE)):t}}class $A{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$r}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jp}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$r}copy(){const t=new $A;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function xF(i,t,e){const o=i.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function SF(i,t,e){const o=i.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function WA(i,t){const e=i.copy();return e.index_=t,e}function lj(i){const t={};if(i.isDefault())return t;let e;return i.index_===$r?e="$priority":i.index_===CF?e="$value":i.index_===Qp?e="$key":((0,W.hu)(i.index_ instanceof wF,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,W.Pz)(e),i.startSet_&&(t.startAt=(0,W.Pz)(i.indexStartValue_),i.startNameSet_&&(t.startAt+=","+(0,W.Pz)(i.indexStartName_))),i.endSet_&&(t.endAt=(0,W.Pz)(i.indexEndValue_),i.endNameSet_&&(t.endAt+=","+(0,W.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function cj(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_)),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_)),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==$r&&(t.i=i.index_.toString()),t}class YA extends z6{constructor(t,e,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=hS("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,W.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,a){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const c=YA.getListenId_(t,o),g={};this.listens_[c]=g;const _=lj(t._queryParams);this.restRequest_(l+".json",_,(b,T)=>{let D=T;if(404===b&&(D=null,b=null),null===b&&this.onDataUpdate_(l,D,!1,o),(0,W.DV)(this.listens_,c)===g){let O;O=b?401===b?"permission_denied":"rest_error:"+b:"ok",a(O,null)}})}unlisten(t,e){const o=YA.getListenId_(t,e);delete this.listens_[o]}get(t){const e=lj(t._queryParams),o=t._path.toString(),a=new W.BH;return this.restRequest_(o+".json",e,(l,c)=>{let g=c;404===l&&(g=null,l=null),null===l?(this.onDataUpdate_(o,g,!1,null),a.resolve(g)):a.reject(new Error(g))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(e.auth=a.accessToken),l&&l.token&&(e.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,W.xO)(e);this.log_("Sending REST request for "+c);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(o&&4===g.readyState){this.log_("REST Response for "+c+" received. status:",g.status,"response:",g.responseText);let _=null;if(g.status>=200&&g.status<300){try{_=(0,W.cI)(g.responseText)}catch{tl("Failed to parse JSON response for "+c+": "+g.responseText)}o(null,_)}else 401!==g.status&&404!==g.status&&tl("Got unsuccessful REST response for "+c+" Status: "+g.status),o(g.status);o=null}},g.open("GET",c,!0),g.send()})}}class WJ{constructor(){this.rootNode_=mi.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function KA(){return{value:null,children:new Map}}function U1(i,t,e){if(Ai(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const o=Mi(t);i.children.has(o)||i.children.set(o,KA()),U1(i.children.get(o),t=Vr(t),e)}}function DF(i,t){if(Ai(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild($r,(o,a)=>{U1(i,new hr(o),a)}),DF(i,t)}}if(i.children.size>0){const e=Mi(t);return t=Vr(t),i.children.has(e)&&DF(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function IF(i,t,e){null!==i.value?e(t,i.value):function YJ(i,t){i.children.forEach((e,o)=>{t(o,e)})}(i,(o,a)=>{IF(a,new hr(t.toString()+"/"+o),e)})}class KJ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Qs(this.last_,(o,a)=>{e[o]=e[o]-a}),this.last_=t,e}}class XJ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new KJ(t);const o=1e4+2e4*Math.random();pS(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;Qs(t,(a,l)=>{l>0&&(0,W.r3)(this.statsToReport_,a)&&(e[a]=l,o=!0)}),o&&this.server_.reportStats(e),pS(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var kd=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(kd||(kd={})),kd))();function kF(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class JA{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=kd.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ai(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new hr(t));return new JA(ir(),e,this.revert)}}return(0,W.hu)(Mi(this.path)===t,"operationForChild called for unrelated child."),new JA(Vr(this.path),this.affectedTree,this.revert)}}class TS{constructor(t,e){this.source=t,this.path=e,this.type=kd.LISTEN_COMPLETE}operationForChild(t){return Ai(this.path)?new TS(this.source,ir()):new TS(this.source,Vr(this.path))}}class W0{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=kd.OVERWRITE}operationForChild(t){return Ai(this.path)?new W0(this.source,ir(),this.snap.getImmediateChild(t)):new W0(this.source,Vr(this.path),this.snap)}}class j1{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=kd.MERGE}operationForChild(t){if(Ai(this.path)){const e=this.children.subtree(new hr(t));return e.isEmpty()?null:e.value?new W0(this.source,ir(),e.value):new j1(this.source,ir(),e)}return(0,W.hu)(Mi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new j1(this.source,Vr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rv{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ai(t))return this.isFullyInitialized()&&!this.filtered_;const e=Mi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class eQ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ES(i,t,e,o,a,l){const c=o.filter(g=>g.type===e);c.sort((g,_)=>function iQ(i,t,e){if(null==t.childName||null==e.childName)throw(0,W.g5)("Should only compare child_ events.");const o=new Vi(t.childName,t.snapshotNode),a=new Vi(e.childName,e.snapshotNode);return i.index_.compare(o,a)}(i,g,_)),c.forEach(g=>{const _=function nQ(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,g,l);a.forEach(b=>{b.respondsTo(g.type)&&t.push(b.createEvent(_,i.query_))})})}function QA(i,t){return{eventCache:i,serverCache:t}}function xS(i,t,e,o){return QA(new rv(t,e,o),i.serverCache)}function dj(i,t,e,o){return QA(i.eventCache,new rv(t,e,o))}function XA(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Y0(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let OF;class Wr{constructor(t,e=(()=>(OF||(OF=new Ec(j9)),OF))()){this.value=t,this.children=e}static fromObject(t){let e=new Wr(null);return Qs(t,(o,a)=>{e=e.set(new hr(o),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ir(),value:this.value};if(Ai(t))return null;{const o=Mi(t),a=this.children.get(o);if(null!==a){const l=a.findRootMostMatchingPathAndValue(Vr(t),e);return null!=l?{path:mo(new hr(o),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ai(t))return this;{const e=Mi(t),o=this.children.get(e);return null!==o?o.subtree(Vr(t)):new Wr(null)}}set(t,e){if(Ai(t))return new Wr(e,this.children);{const o=Mi(t),l=(this.children.get(o)||new Wr(null)).set(Vr(t),e),c=this.children.insert(o,l);return new Wr(this.value,c)}}remove(t){if(Ai(t))return this.children.isEmpty()?new Wr(null):new Wr(null,this.children);{const e=Mi(t),o=this.children.get(e);if(o){const a=o.remove(Vr(t));let l;return l=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&l.isEmpty()?new Wr(null):new Wr(this.value,l)}return this}}get(t){if(Ai(t))return this.value;{const e=Mi(t),o=this.children.get(e);return o?o.get(Vr(t)):null}}setTree(t,e){if(Ai(t))return e;{const o=Mi(t),l=(this.children.get(o)||new Wr(null)).setTree(Vr(t),e);let c;return c=l.isEmpty()?this.children.remove(o):this.children.insert(o,l),new Wr(this.value,c)}}fold(t){return this.fold_(ir(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((a,l)=>{o[a]=l.fold_(mo(t,a),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,ir(),e)}findOnPath_(t,e,o){const a=!!this.value&&o(e,this.value);if(a)return a;if(Ai(t))return null;{const l=Mi(t),c=this.children.get(l);return c?c.findOnPath_(Vr(t),mo(e,l),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ir(),e)}foreachOnPath_(t,e,o){if(Ai(t))return this;{this.value&&o(e,this.value);const a=Mi(t),l=this.children.get(a);return l?l.foreachOnPath_(Vr(t),mo(e,a),o):new Wr(null)}}foreach(t){this.foreach_(ir(),t)}foreach_(t,e){this.children.inorderTraversal((o,a)=>{a.foreach_(mo(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class af{constructor(t){this.writeTree_=t}static empty(){return new af(new Wr(null))}}function SS(i,t,e){if(Ai(t))return new af(new Wr(e));{const o=i.writeTree_.findRootMostValueAndPath(t);if(null!=o){const a=o.path;let l=o.value;const c=Vl(a,t);return l=l.updateChild(c,e),new af(i.writeTree_.set(a,l))}{const a=new Wr(e),l=i.writeTree_.setTree(t,a);return new af(l)}}}function RF(i,t,e){let o=i;return Qs(e,(a,l)=>{o=SS(o,mo(t,a),l)}),o}function hj(i,t){if(Ai(t))return af.empty();{const e=i.writeTree_.setTree(t,new Wr(null));return new af(e)}}function PF(i,t){return null!=K0(i,t)}function K0(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(Vl(e.path,t)):null}function fj(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild($r,(o,a)=>{t.push(new Vi(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{null!=a.value&&t.push(new Vi(o,a.value))}),t}function ov(i,t){if(Ai(t))return i;{const e=K0(i,t);return new af(null!=e?new Wr(e):i.writeTree_.subtree(t))}}function NF(i){return i.writeTree_.isEmpty()}function z1(i,t){return pj(ir(),i.writeTree_,t)}function pj(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,l)=>{".priority"===a?((0,W.hu)(null!==l.value,"Priority writes must always be leaf nodes"),o=l.value):e=pj(mo(i,a),l,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(mo(i,".priority"),o)),e}}function ek(i,t){return vj(t,i)}function cQ(i,t){if(i.snap)return Ad(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&Ad(mo(i.path,e),t))return!0;return!1}function dQ(i){return i.visible}function gj(i,t,e){let o=af.empty();for(let a=0;a<i.length;++a){const l=i[a];if(t(l)){const c=l.path;let g;if(l.snap)Ad(e,c)?(g=Vl(e,c),o=SS(o,g,l.snap)):Ad(c,e)&&(g=Vl(c,e),o=SS(o,ir(),l.snap.getChild(g)));else{if(!l.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(Ad(e,c))g=Vl(e,c),o=RF(o,g,l.children);else if(Ad(c,e))if(g=Vl(c,e),Ai(g))o=RF(o,ir(),l.children);else{const _=(0,W.DV)(l.children,Mi(g));if(_){const b=_.getChild(Vr(g));o=SS(o,ir(),b)}}}}}return o}function mj(i,t,e,o,a){if(o||a){const l=ov(i.visibleWrites,t);return!a&&NF(l)?e:a||null!=e||PF(l,ir())?z1(gj(i.allWrites,function(b){return(b.visible||a)&&(!o||!~o.indexOf(b.writeId))&&(Ad(b.path,t)||Ad(t,b.path))},t),e||mi.EMPTY_NODE):null}{const l=K0(i.visibleWrites,t);if(null!=l)return l;{const c=ov(i.visibleWrites,t);return NF(c)?e:null!=e||PF(c,ir())?z1(c,e||mi.EMPTY_NODE):null}}}function tk(i,t,e,o){return mj(i.writeTree,i.treePath,t,e,o)}function FF(i,t){return function hQ(i,t,e){let o=mi.EMPTY_NODE;const a=K0(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild($r,(l,c)=>{o=o.updateImmediateChild(l,c)}),o;if(e){const l=ov(i.visibleWrites,t);return e.forEachChild($r,(c,g)=>{const _=z1(ov(l,new hr(c)),g);o=o.updateImmediateChild(c,_)}),fj(l).forEach(c=>{o=o.updateImmediateChild(c.name,c.node)}),o}return fj(ov(i.visibleWrites,t)).forEach(c=>{o=o.updateImmediateChild(c.name,c.node)}),o}(i.writeTree,i.treePath,t)}function _j(i,t,e,o){return function fQ(i,t,e,o,a){(0,W.hu)(o||a,"Either existingEventSnap or existingServerSnap must exist");const l=mo(t,e);if(PF(i.visibleWrites,l))return null;{const c=ov(i.visibleWrites,l);return NF(c)?a.getChild(e):z1(c,a.getChild(e))}}(i.writeTree,i.treePath,t,e,o)}function nk(i,t){return function gQ(i,t){return K0(i.visibleWrites,t)}(i.writeTree,mo(i.treePath,t))}function LF(i,t,e){return function pQ(i,t,e,o){const a=mo(t,e),l=K0(i.visibleWrites,a);return null!=l?l:o.isCompleteForChild(e)?z1(ov(i.visibleWrites,a),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function yj(i,t){return vj(mo(i.treePath,t),i.writeTree)}function vj(i,t){return{treePath:i,writeTree:t}}class vQ{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,W.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const l=a.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(o,wS(o,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(o,bS(o,a.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(o,H1(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,W.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(o,wS(o,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const bj=new class bQ{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class VF{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new rv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return LF(this.writes_,t,o)}}getChildAfterChild(t,e,o){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Y0(this.viewCache_),l=function yQ(i,t,e,o,a,l){return function mQ(i,t,e,o,a,l,c){let g;const _=ov(i.visibleWrites,t),b=K0(_,ir());if(null!=b)g=b;else{if(null==e)return[];g=z1(_,e)}if(g=g.withIndex(c),g.isEmpty()||g.isLeafNode())return[];{const T=[],D=c.getCompare(),O=l?g.getReverseIteratorFrom(o,c):g.getIteratorFrom(o,c);let F=O.getNext();for(;F&&T.length<a;)0!==D(F,o)&&T.push(F),F=O.getNext();return T}}(i.writeTree,i.treePath,t,e,o,a,l)}(this.writes_,a,e,1,o,t);return 0===l.length?null:l[0]}}function wj(i,t,e,o,a,l){const c=t.eventCache;if(null!=nk(o,e))return t;{let g,_;if(Ai(e))if((0,W.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const b=Y0(t),D=FF(o,b instanceof mi?b:mi.EMPTY_NODE);g=i.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const b=tk(o,Y0(t));g=i.filter.updateFullNode(t.eventCache.getNode(),b,l)}else{const b=Mi(e);if(".priority"===b){(0,W.hu)(1===iv(e),"Can't have a priority with additional path components");const T=c.getNode();_=t.serverCache.getNode();const D=_j(o,e,T,_);g=null!=D?i.filter.updatePriority(T,D):c.getNode()}else{const T=Vr(e);let D;if(c.isCompleteForChild(b)){_=t.serverCache.getNode();const O=_j(o,e,c.getNode(),_);D=null!=O?c.getNode().getImmediateChild(b).updateChild(T,O):c.getNode().getImmediateChild(b)}else D=LF(o,b,t.serverCache);g=null!=D?i.filter.updateChild(c.getNode(),b,D,T,a,l):c.getNode()}}return xS(t,g,c.isFullyInitialized()||Ai(e),i.filter.filtersNodes())}}function ik(i,t,e,o,a,l,c,g){const _=t.serverCache;let b;const T=c?i.filter:i.filter.getIndexedFilter();if(Ai(e))b=T.updateFullNode(_.getNode(),o,null);else if(T.filtersNodes()&&!_.isFiltered()){const F=_.getNode().updateChild(e,o);b=T.updateFullNode(_.getNode(),F,null)}else{const F=Mi(e);if(!_.isCompleteForPath(e)&&iv(e)>1)return t;const j=Vr(e),se=_.getNode().getImmediateChild(F).updateChild(j,o);b=".priority"===F?T.updatePriority(_.getNode(),se):T.updateChild(_.getNode(),F,se,j,bj,null)}const D=dj(t,b,_.isFullyInitialized()||Ai(e),T.filtersNodes());return wj(i,D,e,a,new VF(a,D,l),g)}function BF(i,t,e,o,a,l,c){const g=t.eventCache;let _,b;const T=new VF(a,t,l);if(Ai(e))b=i.filter.updateFullNode(t.eventCache.getNode(),o,c),_=xS(t,b,!0,i.filter.filtersNodes());else{const D=Mi(e);if(".priority"===D)b=i.filter.updatePriority(t.eventCache.getNode(),o),_=xS(t,b,g.isFullyInitialized(),g.isFiltered());else{const O=Vr(e),F=g.getNode().getImmediateChild(D);let j;if(Ai(O))j=o;else{const X=T.getCompleteChild(D);j=null!=X?".priority"===gF(O)&&X.getChild($6(O)).isEmpty()?X:X.updateChild(O,o):mi.EMPTY_NODE}_=F.equals(j)?t:xS(t,i.filter.updateChild(g.getNode(),D,j,O,T,c),g.isFullyInitialized(),i.filter.filtersNodes())}}return _}function Cj(i,t){return i.eventCache.isCompleteForChild(t)}function Tj(i,t,e){return e.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function HF(i,t,e,o,a,l,c,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let b,_=t;b=Ai(e)?o:new Wr(null).setTree(e,o);const T=t.serverCache.getNode();return b.children.inorderTraversal((D,O)=>{if(T.hasChild(D)){const j=Tj(0,t.serverCache.getNode().getImmediateChild(D),O);_=ik(i,_,new hr(D),j,a,l,c,g)}}),b.children.inorderTraversal((D,O)=>{const F=!t.serverCache.isCompleteForChild(D)&&void 0===O.value;if(!T.hasChild(D)&&!F){const X=Tj(0,t.serverCache.getNode().getImmediateChild(D),O);_=ik(i,_,new hr(D),X,a,l,c,g)}}),_}class MQ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new EF(o.getIndex()),l=function zJ(i){return i.loadsAllData()?new EF(i.getIndex()):i.hasLimit()?new jJ(i):new CS(i)}(o);this.processor_=function wQ(i){return{filter:i}}(l);const c=e.serverCache,g=e.eventCache,_=a.updateFullNode(mi.EMPTY_NODE,c.getNode(),null),b=l.updateFullNode(mi.EMPTY_NODE,g.getNode(),null),T=new rv(_,c.isFullyInitialized(),a.filtersNodes()),D=new rv(b,g.isFullyInitialized(),l.filtersNodes());this.viewCache_=QA(D,T),this.eventGenerator_=new eQ(this.query_)}get query(){return this.query_}}function OQ(i,t){const e=Y0(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Ai(t)&&!e.getImmediateChild(Mi(t)).isEmpty())?e.getChild(t):null}function Ej(i){return 0===i.eventRegistrations_.length}function xj(i,t,e){const o=[];if(e){(0,W.hu)(null==t,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(e,a);c&&o.push(c)})}if(t){let a=[];for(let l=0;l<i.eventRegistrations_.length;++l){const c=i.eventRegistrations_[l];if(c.matches(t)){if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(l+1));break}}else a.push(c)}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function Sj(i,t,e,o){t.type===kd.MERGE&&null!==t.source.queryId&&((0,W.hu)(Y0(i.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(XA(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,l=function TQ(i,t,e,o,a){const l=new vQ;let c,g;if(e.type===kd.OVERWRITE){const b=e;b.source.fromUser?c=BF(i,t,b.path,b.snap,o,a,l):((0,W.hu)(b.source.fromServer,"Unknown source."),g=b.source.tagged||t.serverCache.isFiltered()&&!Ai(b.path),c=ik(i,t,b.path,b.snap,o,a,g,l))}else if(e.type===kd.MERGE){const b=e;b.source.fromUser?c=function xQ(i,t,e,o,a,l,c){let g=t;return o.foreach((_,b)=>{const T=mo(e,_);Cj(t,Mi(T))&&(g=BF(i,g,T,b,a,l,c))}),o.foreach((_,b)=>{const T=mo(e,_);Cj(t,Mi(T))||(g=BF(i,g,T,b,a,l,c))}),g}(i,t,b.path,b.children,o,a,l):((0,W.hu)(b.source.fromServer,"Unknown source."),g=b.source.tagged||t.serverCache.isFiltered(),c=HF(i,t,b.path,b.children,o,a,g,l))}else if(e.type===kd.ACK_USER_WRITE){const b=e;c=b.revert?function IQ(i,t,e,o,a,l){let c;if(null!=nk(o,e))return t;{const g=new VF(o,t,a),_=t.eventCache.getNode();let b;if(Ai(e)||".priority"===Mi(e)){let T;if(t.serverCache.isFullyInitialized())T=tk(o,Y0(t));else{const D=t.serverCache.getNode();(0,W.hu)(D instanceof mi,"serverChildren would be complete if leaf node"),T=FF(o,D)}b=i.filter.updateFullNode(_,T,l)}else{const T=Mi(e);let D=LF(o,T,t.serverCache);null==D&&t.serverCache.isCompleteForChild(T)&&(D=_.getImmediateChild(T)),b=null!=D?i.filter.updateChild(_,T,D,Vr(e),g,l):t.eventCache.getNode().hasChild(T)?i.filter.updateChild(_,T,mi.EMPTY_NODE,Vr(e),g,l):_,b.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=tk(o,Y0(t)),c.isLeafNode()&&(b=i.filter.updateFullNode(b,c,l)))}return c=t.serverCache.isFullyInitialized()||null!=nk(o,ir()),xS(t,b,c,i.filter.filtersNodes())}}(i,t,b.path,o,a,l):function SQ(i,t,e,o,a,l,c){if(null!=nk(a,e))return t;const g=t.serverCache.isFiltered(),_=t.serverCache;if(null!=o.value){if(Ai(e)&&_.isFullyInitialized()||_.isCompleteForPath(e))return ik(i,t,e,_.getNode().getChild(e),a,l,g,c);if(Ai(e)){let b=new Wr(null);return _.getNode().forEachChild(Qp,(T,D)=>{b=b.set(new hr(T),D)}),HF(i,t,e,b,a,l,g,c)}return t}{let b=new Wr(null);return o.foreach((T,D)=>{const O=mo(e,T);_.isCompleteForPath(O)&&(b=b.set(T,_.getNode().getChild(O)))}),HF(i,t,e,b,a,l,g,c)}}(i,t,b.path,b.affectedTree,o,a,l)}else{if(e.type!==kd.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+e.type);c=function DQ(i,t,e,o,a){const l=t.serverCache;return wj(i,dj(t,l.getNode(),l.isFullyInitialized()||Ai(e),l.isFiltered()),e,o,bj,a)}(i,t,e.path,o,l)}const _=l.getChanges();return function EQ(i,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),l=XA(i);(e.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(l)||!o.getNode().getPriority().equals(l.getPriority()))&&e.push(aj(XA(t)))}}(t,c,_),{viewCache:c,changes:_}}(i.processor_,a,t,e,o);return function CQ(i,t){(0,W.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,l.viewCache),(0,W.hu)(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=l.viewCache,Dj(i,l.changes,l.viewCache.eventCache.getNode(),null)}function Dj(i,t,e,o){return function tQ(i,t,e,o){const a=[],l=[];return t.forEach(c=>{"child_changed"===c.type&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(function UJ(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(c.childName,c.snapshotNode))}),ES(i,a,"child_removed",t,o,e),ES(i,a,"child_added",t,o,e),ES(i,a,"child_moved",l,o,e),ES(i,a,"child_changed",t,o,e),ES(i,a,"value",t,o,e),a}(i.eventGenerator_,t,e,o?[o]:i.eventRegistrations_)}let rk,sk;class Ij{constructor(){this.views=new Map}}function UF(i,t,e,o){const a=t.source.queryId;if(null!==a){const l=i.views.get(a);return(0,W.hu)(null!=l,"SyncTree gave us an op for an invalid query."),Sj(l,t,e,o)}{let l=[];for(const c of i.views.values())l=l.concat(Sj(c,t,e,o));return l}}function jF(i,t,e,o,a){const c=i.views.get(t._queryIdentifier);if(!c){let g=tk(e,a?o:null),_=!1;g?_=!0:o instanceof mi?(g=FF(e,o),_=!1):(g=mi.EMPTY_NODE,_=!1);const b=QA(new rv(g,_,!1),new rv(o,a,!1));return new MQ(t,b)}return c}function Mj(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function sv(i,t){let e=null;for(const o of i.views.values())e=e||OQ(o,t);return e}function Aj(i,t){return t._queryParams.loadsAllData()?ok(i):i.views.get(t._queryIdentifier)}function kj(i,t){return null!=Aj(i,t)}function av(i){return null!=ok(i)}function ok(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let jQ=1;class Oj{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Wr(null),this.pendingWriteTree_=function _Q(){return{visibleWrites:af.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zF(i,t,e,o,a){return function oQ(i,t,e,o,a){(0,W.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),i.allWrites.push({path:t,snap:e,writeId:o,visible:a}),a&&(i.visibleWrites=SS(i.visibleWrites,t,e)),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o,a),a?G1(i,new W0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function lv(i,t,e=!1){const o=function aQ(i,t){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===t)return o}return null}(i.pendingWriteTree_,t);if(function lQ(i,t){const e=i.allWrites.findIndex(g=>g.writeId===t);(0,W.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let a=o.visible,l=!1,c=i.allWrites.length-1;for(;a&&c>=0;){const g=i.allWrites[c];g.visible&&(c>=e&&cQ(g,o.path)?a=!1:Ad(o.path,g.path)&&(l=!0)),c--}return!!a&&(l?(function uQ(i){i.visibleWrites=gj(i.allWrites,dQ,ir()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=hj(i.visibleWrites,o.path):Qs(o.children,_=>{i.visibleWrites=hj(i.visibleWrites,mo(o.path,_))}),!0))}(i.pendingWriteTree_,t)){let l=new Wr(null);return null!=o.snap?l=l.set(ir(),!0):Qs(o.children,c=>{l=l.set(new hr(c),!0)}),G1(i,new JA(o.path,l,e))}return[]}function DS(i,t,e){return G1(i,new W0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ak(i,t,e,o){const a=t._path,l=i.syncPointTree_.get(a);let c=[];if(l&&("default"===t._queryIdentifier||kj(l,t))){const g=function BQ(i,t,e,o){const a=t._queryIdentifier,l=[];let c=[];const g=av(i);if("default"===a)for(const[_,b]of i.views.entries())c=c.concat(xj(b,e,o)),Ej(b)&&(i.views.delete(_),b.query._queryParams.loadsAllData()||l.push(b.query));else{const _=i.views.get(a);_&&(c=c.concat(xj(_,e,o)),Ej(_)&&(i.views.delete(a),_.query._queryParams.loadsAllData()||l.push(_.query)))}return g&&!av(i)&&l.push(new(function FQ(){return(0,W.hu)(rk,"Reference.ts has not been loaded"),rk}())(t._repo,t._path)),{removed:l,events:c}}(l,t,e,o);(function LQ(i){return 0===i.views.size})(l)&&(i.syncPointTree_=i.syncPointTree_.remove(a));const _=g.removed;c=g.events;const b=-1!==_.findIndex(D=>D._queryParams.loadsAllData()),T=i.syncPointTree_.findOnPath(a,(D,O)=>av(O));if(b&&!T){const D=i.syncPointTree_.subtree(a);if(!D.isEmpty()){const O=function KQ(i){return i.fold((t,e,o)=>{if(e&&av(e))return[ok(e)];{let a=[];return e&&(a=Mj(e)),Qs(o,(l,c)=>{a=a.concat(c)}),a}})}(D);for(let F=0;F<O.length;++F){const j=O[F],X=j.query,se=Vj(i,j);i.listenProvider_.startListening(MS(X),IS(i,X),se.hashFn,se.onComplete)}}}!T&&_.length>0&&!o&&(b?i.listenProvider_.stopListening(MS(t),null):_.forEach(D=>{const O=i.queryToTagMap.get(ck(D));i.listenProvider_.stopListening(MS(D),O)})),function JQ(i,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const a=ck(o),l=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(l)}}}(i,_)}return c}function Rj(i,t,e,o){const a=GF(i,o);if(null!=a){const l=qF(a),c=l.path,g=l.queryId,_=Vl(c,t);return ZF(i,c,new W0(kF(g),_,e))}return[]}function Pj(i,t){const e=i._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(e,(b,T)=>{const D=Vl(b,e);o=o||sv(T,D),a=a||av(T)});let c,l=t.syncPointTree_.get(e);l?(a=a||av(l),o=o||sv(l,ir())):(l=new Ij,t.syncPointTree_=t.syncPointTree_.set(e,l)),null!=o?c=!0:(c=!1,o=mi.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((T,D)=>{const O=sv(D,ir());O&&(o=o.updateImmediateChild(T,O))}));const g=kj(l,i);if(!g&&!i._queryParams.loadsAllData()){const b=ck(i);(0,W.hu)(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const T=function QQ(){return jQ++}();t.queryToTagMap.set(b,T),t.tagToQueryMap.set(T,b)}return{syncPoint:l,writesCache:ek(t.pendingWriteTree_,e),serverCache:o,serverCacheComplete:c,foundAncestorDefaultView:a,viewAlreadyExists:g}}function Nj(i,t,e){const{syncPoint:o,serverCache:a,writesCache:l,serverCacheComplete:c,viewAlreadyExists:g,foundAncestorDefaultView:_}=Pj(t,i);let b=function VQ(i,t,e,o,a,l){const c=jF(i,t,o,a,l);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,c),function RQ(i,t){i.eventRegistrations_.push(t)}(c,e),function PQ(i,t){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild($r,(l,c)=>{o.push(H1(l,c))}),e.isFullyInitialized()&&o.push(aj(e.getNode())),Dj(i,o,e.getNode(),t)}(c,e)}(o,t,e,l,a,c);if(!g&&!_){const T=Aj(o,t);b=b.concat(function XQ(i,t,e){const o=t._path,a=IS(i,t),l=Vj(i,e),c=i.listenProvider_.startListening(MS(t),a,l.hashFn,l.onComplete),g=i.syncPointTree_.subtree(o);if(a)(0,W.hu)(!av(g.value),"If we're adding a query, it shouldn't be shadowed");else{const _=g.fold((b,T,D)=>{if(!Ai(b)&&T&&av(T))return[ok(T).query];{let O=[];return T&&(O=O.concat(Mj(T).map(F=>F.query))),Qs(D,(F,j)=>{O=O.concat(j)}),O}});for(let b=0;b<_.length;++b){const T=_[b];i.listenProvider_.stopListening(MS(T),IS(i,T))}}return c}(i,t,T))}return b}function lk(i,t,e){const a=i.pendingWriteTree_,l=i.syncPointTree_.findOnPath(t,(c,g)=>{const b=sv(g,Vl(c,t));if(b)return b});return mj(a,t,l,e,!0)}function G1(i,t){return Fj(t,i.syncPointTree_,null,ek(i.pendingWriteTree_,ir()))}function Fj(i,t,e,o){if(Ai(i.path))return Lj(i,t,e,o);{const a=t.get(ir());null==e&&null!=a&&(e=sv(a,ir()));let l=[];const c=Mi(i.path),g=i.operationForChild(c),_=t.children.get(c);if(_&&g){const b=e?e.getImmediateChild(c):null,T=yj(o,c);l=l.concat(Fj(g,_,b,T))}return a&&(l=l.concat(UF(a,i,o,e))),l}}function Lj(i,t,e,o){const a=t.get(ir());null==e&&null!=a&&(e=sv(a,ir()));let l=[];return t.children.inorderTraversal((c,g)=>{const _=e?e.getImmediateChild(c):null,b=yj(o,c),T=i.operationForChild(c);T&&(l=l.concat(Lj(T,g,_,b)))}),a&&(l=l.concat(UF(a,i,o,e))),l}function Vj(i,t){const e=t.query,o=IS(i,e);return{hashFn:()=>(function AQ(i){return i.viewCache_.serverCache.getNode()}(t)||mi.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return o?function ZQ(i,t,e){const o=GF(i,e);if(o){const a=qF(o),l=a.path,c=a.queryId,g=Vl(l,t);return ZF(i,l,new TS(kF(c),g))}return[]}(i,e._path,o):function qQ(i,t){return G1(i,new TS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const l=function q9(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(a,e);return ak(i,e,null,l)}}}}function IS(i,t){const e=ck(t);return i.queryToTagMap.get(e)}function ck(i){return i._path.toString()+"$"+i._queryIdentifier}function GF(i,t){return i.tagToQueryMap.get(t)}function qF(i){const t=i.indexOf("$");return(0,W.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new hr(i.substr(0,t))}}function ZF(i,t,e){const o=i.syncPointTree_.get(t);return(0,W.hu)(o,"Missing sync point for query tag that we're tracking"),UF(o,e,ek(i.pendingWriteTree_,t),null)}function MS(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function UQ(){return(0,W.hu)(sk,"Reference.ts has not been loaded"),sk}())(i._repo,i._path):i}class $F{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new $F(e)}node(){return this.node_}}class WF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=mo(this.path_,t);return new WF(this.syncTree_,e)}node(){return lk(this.syncTree_,this.path_)}}const Bj=function(i,t,e){return i&&"object"==typeof i?((0,W.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?tX(i[".sv"],t,e):"object"==typeof i[".sv"]?nX(i[".sv"],t):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},tX=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,W.hu)(!1,"Unexpected server value: "+i)},nX=function(i,t,e){i.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,W.hu)(!1,"Unexpected increment value: "+o);const a=t.node();if((0,W.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const c=a.getValue();return"number"!=typeof c?o:c+o},Hj=function(i,t,e,o){return KF(t,new WF(e,i),o)},YF=function(i,t,e){return KF(i,new $F(t),e)};function KF(i,t,e){const o=i.getPriority().val(),a=Bj(o,t.getImmediateChild(".priority"),e);let l;if(i.isLeafNode()){const c=i,g=Bj(c.getValue(),t,e);return g!==c.getValue()||a!==c.getPriority().val()?new L1(g,Oo(a)):i}{const c=i;return l=c,a!==c.getPriority().val()&&(l=l.updatePriority(new L1(a))),c.forEachChild($r,(g,_)=>{const b=KF(_,t.getImmediateChild(g),e);b!==_&&(l=l.updateImmediateChild(g,b))}),l}}class JF{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function uk(i,t){let e=t instanceof hr?t:new hr(t),o=i,a=Mi(e);for(;null!==a;){const l=(0,W.DV)(o.node.children,a)||{children:{},childCount:0};o=new JF(a,o,l),e=Vr(e),a=Mi(e)}return o}function J0(i){return i.node.value}function QF(i,t){i.node.value=t,XF(i)}function Uj(i){return i.node.childCount>0}function dk(i,t){Qs(i.node.children,(e,o)=>{t(new JF(e,i,o))})}function jj(i,t,e,o){e&&!o&&t(i),dk(i,a=>{jj(a,t,!0,o)}),e&&o&&t(i)}function AS(i){return new hr(null===i.parent?i.name:AS(i.parent)+"/"+i.name)}function XF(i){null!==i.parent&&function oX(i,t,e){const o=function iX(i){return void 0===J0(i)&&!Uj(i)}(e),a=(0,W.r3)(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,XF(i)):!o&&!a&&(i.node.children[t]=e.node,i.node.childCount++,XF(i))}(i.parent,i.name,i)}const sX=/[\[\].#$\/\u0000-\u001F\u007F]/,aX=/[\[\].#$\u0000-\u001F\u007F]/,e2=10485760,hk=function(i){return"string"==typeof i&&0!==i.length&&!sX.test(i)},zj=function(i){return"string"==typeof i&&0!==i.length&&!aX.test(i)},kS=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!VA(i)||i&&"object"==typeof i&&(0,W.r3)(i,".sv")},Xp=function(i,t,e,o){o&&void 0===t||OS((0,W.gK)(i,"value"),t,e)},OS=function(i,t,e){const o=e instanceof hr?new CJ(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Z0(o));if("function"==typeof t)throw new Error(i+"contains a function "+Z0(o)+" with contents = "+t.toString());if(VA(t))throw new Error(i+"contains "+t.toString()+" "+Z0(o));if("string"==typeof t&&t.length>e2/3&&(0,W.ug)(t)>e2)throw new Error(i+"contains a string greater than "+e2+" utf8 bytes "+Z0(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,l=!1;if(Qs(t,(c,g)=>{if(".value"===c)a=!0;else if(".priority"!==c&&".sv"!==c&&(l=!0,!hk(c)))throw new Error(i+" contains an invalid key ("+c+") "+Z0(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function TJ(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,W.ug)(t),W6(i)})(o,c),OS(i,g,o),function EJ(i){const t=i.parts_.pop();i.byteLength_-=(0,W.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),a&&l)throw new Error(i+' contains ".value" child '+Z0(o)+" in addition to actual children.")}},Gj=function(i,t,e,o){if(o&&void 0===t)return;const a=(0,W.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const l=[];Qs(t,(c,g)=>{const _=new hr(c);if(OS(a,g,mo(e,_)),".priority"===gF(_)&&!kS(g))throw new Error(a+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(_)}),function(i,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const l=mS(o);for(let c=0;c<l.length;c++)if((".priority"!==l[c]||c!==l.length-1)&&!hk(l[c]))throw new Error(i+"contains an invalid key ("+l[c]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(wJ);let a=null;for(e=0;e<t.length;e++){if(o=t[e],null!==a&&Ad(a,o))throw new Error(i+"contains a path "+a.toString()+" that is ancestor of another path "+o.toString());a=o}}(a,l)},t2=function(i,t,e){if(!e||void 0!==t){if(VA(t))throw new Error((0,W.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kS(t))throw new Error((0,W.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},RS=function(i,t,e,o){if(!(o&&void 0===e||hk(e)))throw new Error((0,W.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},PS=function(i,t,e,o){if(!(o&&void 0===e||zj(e)))throw new Error((0,W.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Od=function(i,t){if(".info"===Mi(t))throw new Error(i+" failed = Can't modify data under /.info/")},qj=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!hk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),zj(i)}(e))throw new Error((0,W.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fk(i,t){let e=null;for(let o=0;o<t.length;o++){const a=t[o],l=a.getPath();null!==e&&!mF(l,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(a)}e&&i.eventLists_.push(e)}function Zj(i,t,e){fk(i,e),$j(i,o=>mF(o,t))}function Rd(i,t,e){fk(i,e),$j(i,o=>Ad(o,t)||Ad(t,o))}function $j(i,t){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];a&&(t(a.path)?(hX(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function hX(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const o=e.getEventRunner();G0&&Js("event: "+e.toString()),N1(o)}}}const Wj="repo_interrupt";class pX{constructor(t,e,o,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=KA(),this.transactionQueueTree_=new JF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yj(i){const e=i.infoData_.getNode(new hr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function NS(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:Yj(i)})}function Kj(i,t,e,o,a){i.dataUpdateCount++;const l=new hr(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let c=[];if(a)if(o){const _=(0,W.UI)(e,b=>Oo(b));c=function WQ(i,t,e,o){const a=GF(i,o);if(a){const l=qF(a),c=l.path,g=l.queryId,_=Vl(c,t),b=Wr.fromObject(e);return ZF(i,c,new j1(kF(g),_,b))}return[]}(i.serverSyncTree_,l,_,a)}else{const _=Oo(e);c=Rj(i.serverSyncTree_,l,_,a)}else if(o){const _=(0,W.UI)(e,b=>Oo(b));c=function GQ(i,t,e){const o=Wr.fromObject(e);return G1(i,new j1({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(i.serverSyncTree_,l,_)}else{const _=Oo(e);c=DS(i.serverSyncTree_,l,_)}let g=l;c.length>0&&(g=q1(i,l)),Rd(i.eventQueue_,g,c)}function Jj(i,t){n2(i,"connected",t),!1===t&&function vX(i){Q0(i,"onDisconnectEvents");const t=NS(i),e=KA();IF(i.onDisconnect_,ir(),(a,l)=>{const c=Hj(a,l,i.serverSyncTree_,t);U1(e,a,c)});let o=[];IF(e,ir(),(a,l)=>{o=o.concat(DS(i.serverSyncTree_,a,l));const c=a2(i,a);q1(i,c)}),i.onDisconnect_=KA(),Rd(i.eventQueue_,ir(),o)}(i)}function n2(i,t,e){const o=new hr("/.info/"+t),a=Oo(e);i.infoData_.updateSnapshot(o,a);const l=DS(i.infoSyncTree_,o,a);Rd(i.eventQueue_,o,l)}function pk(i){return i.nextWriteId_++}function _X(i,t){const e=function YQ(i,t){const e=t._path;let o=null;i.syncPointTree_.foreachOnPath(e,(b,T)=>{const D=Vl(b,e);o=o||sv(T,D)});let a=i.syncPointTree_.get(e);a?o=o||sv(a,ir()):(a=new Ij,i.syncPointTree_=i.syncPointTree_.set(e,a));const l=null!=o,c=l?new rv(o,!0,!1):null;return function kQ(i){return XA(i.viewCache_)}(jF(a,t,ek(i.pendingWriteTree_,t._path),l?c.getNode():mi.EMPTY_NODE,l))}(i.serverSyncTree_,t);return null!=e?Promise.resolve(e):i.server_.get(t).then(o=>{const a=Oo(o).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())DS(i.serverSyncTree_,t._path,a);else{const c=function $Q(i,t){const{syncPoint:e,serverCache:o,writesCache:a,serverCacheComplete:l}=Pj(t,i),c=jF(e,t,a,o,l);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),t._queryParams.loadsAllData()?null:IS(i,t)}(i.serverSyncTree_,t);Rj(i.serverSyncTree_,t._path,a,c)}return ak(i.serverSyncTree_,t,null).length>0&&Q0(i,"unexpected cancel events in repoGetValue"),a},o=>(Q0(i,"get for query "+(0,W.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}function r2(i,t,e,o,a){Q0(i,"set",{path:t.toString(),value:e,priority:o});const l=NS(i),c=Oo(e,o),g=lk(i.serverSyncTree_,t),_=YF(c,g,l),b=pk(i),T=zF(i.serverSyncTree_,t,_,b,!0);fk(i.eventQueue_,T),i.server_.put(t.toString(),c.val(!0),(O,F)=>{const j="ok"===O;j||tl("set at "+t+" failed: "+O);const X=lv(i.serverSyncTree_,b,!j);Rd(i.eventQueue_,t,X),cv(0,a,O,F)});const D=a2(i,t);q1(i,D),Rd(i.eventQueue_,D,[])}function bX(i,t,e){i.server_.onDisconnectCancel(t.toString(),(o,a)=>{"ok"===o&&DF(i.onDisconnect_,t),cv(0,e,o,a)})}function Qj(i,t,e,o){const a=Oo(e);i.server_.onDisconnectPut(t.toString(),a.val(!0),(l,c)=>{"ok"===l&&U1(i.onDisconnect_,t,a),cv(0,o,l,c)})}function o2(i,t,e){let o;o=".info"===Mi(t._path)?ak(i.infoSyncTree_,t,e):ak(i.serverSyncTree_,t,e),Zj(i.eventQueue_,t._path,o)}function Xj(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Wj)}function Q0(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),Js(e,...t)}function cv(i,t,e,o){t&&N1(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let l=a;o&&(l+=": "+o);const c=new Error(l);c.code=a,t(c)}})}function s2(i,t,e){return lk(i.serverSyncTree_,t,e)||mi.EMPTY_NODE}function gk(i,t=i.transactionQueueTree_){if(t||mk(i,t),J0(t)){const e=t4(i,t);(0,W.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function SX(i,t,e){const o=e.map(b=>b.currentWriteId),a=s2(i,t,o);let l=a;const c=a.hash();for(let b=0;b<e.length;b++){const T=e[b];(0,W.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const D=Vl(t,T.path);l=l.updateChild(D,T.currentOutputSnapshotRaw)}const g=l.val(!0),_=t;i.server_.put(_.toString(),g,b=>{Q0(i,"transaction put response",{path:_.toString(),status:b});let T=[];if("ok"===b){const D=[];for(let O=0;O<e.length;O++)e[O].status=2,T=T.concat(lv(i.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&D.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();mk(i,uk(i.transactionQueueTree_,t)),gk(i,i.transactionQueueTree_),Rd(i.eventQueue_,t,T);for(let O=0;O<D.length;O++)N1(D[O])}else{if("datastale"===b)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{tl("transaction at "+_.toString()+" failed: "+b);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=b}q1(i,t)}},c)}(i,AS(t),e)}else Uj(t)&&dk(t,e=>{gk(i,e)})}function q1(i,t){const e=e4(i,t),o=AS(e);return function DX(i,t,e){if(0===t.length)return;const o=[];let a=[];const c=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const _=t[g],b=Vl(e,_.path);let D,T=!1;if((0,W.hu)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)T=!0,D=_.abortReason,a=a.concat(lv(i.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=25)T=!0,D="maxretry",a=a.concat(lv(i.serverSyncTree_,_.currentWriteId,!0));else{const O=s2(i,_.path,c);_.currentInputSnapshot=O;const F=t[g].update(O.val());if(void 0!==F){OS("transaction failed: Data returned ",F,_.path);let j=Oo(F);"object"==typeof F&&null!=F&&(0,W.r3)(F,".priority")||(j=j.updatePriority(O.getPriority()));const se=_.currentWriteId,ke=NS(i),We=YF(j,O,ke);_.currentOutputSnapshotRaw=j,_.currentOutputSnapshotResolved=We,_.currentWriteId=pk(i),c.splice(c.indexOf(se),1),a=a.concat(zF(i.serverSyncTree_,_.path,We,_.currentWriteId,_.applyLocally)),a=a.concat(lv(i.serverSyncTree_,se,!0))}else T=!0,D="nodata",a=a.concat(lv(i.serverSyncTree_,_.currentWriteId,!0))}Rd(i.eventQueue_,e,a),a=[],T&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&o.push("nodata"===D?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(D),!1,null)))}mk(i,i.transactionQueueTree_);for(let g=0;g<o.length;g++)N1(o[g]);gk(i,i.transactionQueueTree_)}(i,t4(i,e),o),o}function e4(i,t){let e,o=i.transactionQueueTree_;for(e=Mi(t);null!==e&&void 0===J0(o);)o=uk(o,e),e=Mi(t=Vr(t));return o}function t4(i,t){const e=[];return n4(i,t,e),e.sort((o,a)=>o.order-a.order),e}function n4(i,t,e){const o=J0(t);if(o)for(let a=0;a<o.length;a++)e.push(o[a]);dk(t,a=>{n4(i,a,e)})}function mk(i,t){const e=J0(t);if(e){let o=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[o]=e[a],o++);e.length=o,QF(t,e.length>0?e:void 0)}dk(t,o=>{mk(i,o)})}function a2(i,t){const e=AS(e4(i,t)),o=uk(i.transactionQueueTree_,t);return function rX(i,t,e){let o=e?i:i.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,a=>{l2(i,a)}),l2(i,o),jj(o,a=>{l2(i,a)}),e}function l2(i,t){const e=J0(t);if(e){const o=[];let a=[],l=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,W.hu)(l===c-1,"All SENT items should be at beginning of queue."),l=c,e[c].status=3,e[c].abortReason="set"):((0,W.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),a=a.concat(lv(i.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&o.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===l?QF(t,void 0):e.length=l+1,Rd(i.eventQueue_,AS(t),a);for(let c=0;c<o.length;c++)N1(o[c])}}const c2=function(i,t){const e=AX(i),o=e.namespace;return"firebase.com"===e.domain&&Kp(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&Kp("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new cF(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new hr(e.pathString)}},AX=function(i){let t="",e="",o="",a="",l="",c=!0,g="https",_=443;if("string"==typeof i){let b=i.indexOf("//");b>=0&&(g=i.substring(0,b-1),i=i.substring(b+2));let T=i.indexOf("/");-1===T&&(T=i.length);let D=i.indexOf("?");-1===D&&(D=i.length),t=i.substring(0,Math.min(T,D)),T<D&&(a=function IX(i){let t="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let a=e[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(i.substring(T,D)));const O=function MX(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):tl(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,D)));b=t.indexOf(":"),b>=0?(c="https"===g||"wss"===g,_=parseInt(t.substring(b+1),10)):b=t.length;const F=t.slice(0,b);if("localhost"===F.toLowerCase())e="localhost";else if(F.split(".").length<=2)e=F;else{const j=t.indexOf(".");o=t.substring(0,j).toLowerCase(),e=t.substring(j+1),l=o}"ns"in O&&(l=O.ns)}return{host:t,port:_,domain:e,subdomain:o,secure:c,scheme:g,pathString:a,namespace:l}};class r4{constructor(t,e,o,a){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Pz)(this.snapshot.exportVal())}}class o4{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class s4{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class a4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new W.BH;return bX(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Od("OnDisconnect.remove",this._path);const t=new W.BH;return Qj(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Od("OnDisconnect.set",this._path),Xp("OnDisconnect.set",t,this._path,!1);const e=new W.BH;return Qj(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Od("OnDisconnect.setWithPriority",this._path),Xp("OnDisconnect.setWithPriority",t,this._path,!1),t2("OnDisconnect.setWithPriority",e,!1);const o=new W.BH;return function wX(i,t,e,o,a){const l=Oo(e,o);i.server_.onDisconnectPut(t.toString(),l.val(!0),(c,g)=>{"ok"===c&&U1(i.onDisconnect_,t,l),cv(0,a,c,g)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){Od("OnDisconnect.update",this._path),Gj("OnDisconnect.update",t,this._path,!1);const e=new W.BH;return function CX(i,t,e,o){if((0,W.xb)(e))return Js("onDisconnect().update() called with empty data.  Don't do anything."),void cv(0,o,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(a,l)=>{"ok"===a&&Qs(e,(c,g)=>{const _=Oo(g);U1(i.onDisconnect_,mo(t,c),_)}),cv(0,o,a,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class xc{constructor(t,e,o,a){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=a}get key(){return Ai(this._path)?null:gF(this._path)}get ref(){return new Pd(this._repo,this._path)}get _queryIdentifier(){const t=cj(this._queryParams),e=sF(t);return"{}"===e?"default":e}get _queryObject(){return cj(this._queryParams)}isEqual(t){if(!((t=(0,W.m9)(t))instanceof xc))return!1;const e=this._repo===t._repo,o=mF(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function bJ(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function _k(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function uv(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Qp){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==jm)throw new Error(o);if("string"!=typeof t)throw new Error(a)}if(i.hasEnd()){if(i.getIndexEndName()!==Jp)throw new Error(o);if("string"!=typeof e)throw new Error(a)}}else if(i.getIndex()===$r){if(null!=t&&!kS(t)||null!=e&&!kS(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,W.hu)(i.getIndex()instanceof wF||i.getIndex()===CF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yk(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Pd extends xc{constructor(t,e){super(t,e,new $A,!1)}get parent(){const t=$6(this._path);return null===t?null:new Pd(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class X0{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new hr(t),o=ew(this.ref,t);return new X0(this._node.getChild(e),o,$r)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,a)=>t(new X0(a,ew(this.ref,o),$r)))}hasChild(t){const e=new hr(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function l4(i,t){return(i=(0,W.m9)(i))._checkNotDeleted("ref"),void 0!==t?ew(i._root,t):i._root}function c4(i,t){(i=(0,W.m9)(i))._checkNotDeleted("refFromURL");const e=c2(t,i._repo.repoInfo_.nodeAdmin);qj("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&Kp("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),l4(i,e.path.toString())}function ew(i,t){return null===Mi((i=(0,W.m9)(i))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PS("child","path",e,!1)):PS("child","path",t,!1),new Pd(i._repo,mo(i._path,t));var e}function u2(i,t){i=(0,W.m9)(i),Od("set",i._path),Xp("set",t,i._path,!1);const e=new W.BH;return r2(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function NX(i,t){Gj("update",t,i._path,!1);const e=new W.BH;return function yX(i,t,e,o){Q0(i,"update",{path:t.toString(),value:e});let a=!0;const l=NS(i),c={};if(Qs(e,(g,_)=>{a=!1,c[g]=Hj(mo(t,g),Oo(_),i.serverSyncTree_,l)}),a)Js("update() called with empty data.  Don't do anything."),cv(0,o,"ok",void 0);else{const g=pk(i),_=function zQ(i,t,e,o){!function sQ(i,t,e,o){(0,W.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:o,visible:!0}),i.visibleWrites=RF(i.visibleWrites,t,e),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o);const a=Wr.fromObject(e);return G1(i,new j1({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(i.serverSyncTree_,t,c,g);fk(i.eventQueue_,_),i.server_.merge(t.toString(),e,(b,T)=>{const D="ok"===b;D||tl("update at "+t+" failed: "+b);const O=lv(i.serverSyncTree_,g,!D),F=O.length>0?q1(i,t):t;Rd(i.eventQueue_,F,O),cv(0,o,b,T)}),Qs(e,b=>{const T=a2(i,mo(t,b));q1(i,T)}),Rd(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}class vk{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new r4("value",this,new X0(t.snapshotNode,new Pd(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new o4(this,t,e):null}matches(t){return t instanceof vk&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new o4(this,t,e):null}createEvent(t,e){(0,W.hu)(null!=t.childName,"Child events should have a childName.");const o=ew(new Pd(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new r4(t.type,this,new X0(t.snapshotNode,o,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof bk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function FS(i,t,e,o,a){let l;if("object"==typeof o&&(l=void 0,a=o),"function"==typeof o&&(l=o),a&&a.onlyOnce){const _=e,b=(T,D)=>{o2(i._repo,i,g),_(T,D)};b.userCallback=e.userCallback,b.context=e.context,e=b}const c=new s4(e,l||void 0),g="value"===t?new vk(c):new bk(t,c);return function TX(i,t,e){let o;o=".info"===Mi(t._path)?Nj(i.infoSyncTree_,t,e):Nj(i.serverSyncTree_,t,e),Zj(i.eventQueue_,t._path,o)}(i._repo,i,g),()=>o2(i._repo,i,g)}function d2(i,t,e,o){return FS(i,"value",t,e,o)}function u4(i,t,e,o){return FS(i,"child_added",t,e,o)}function d4(i,t,e,o){return FS(i,"child_changed",t,e,o)}function h4(i,t,e,o){return FS(i,"child_moved",t,e,o)}function f4(i,t,e,o){return FS(i,"child_removed",t,e,o)}function p4(i,t,e){let o=null;const a=e?new s4(e):null;"value"===t?o=new vk(a):t&&(o=new bk(t,a)),o2(i._repo,i,o)}class lf{}class g4 extends lf{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xp("endAt",this._value,t._path,!0);const e=SF(t._queryParams,this._value,this._key);if(yk(e),uv(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xc(t._repo,t._path,e,t._orderByCalled)}}class VX extends lf{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xp("endBefore",this._value,t._path,!1);const e=function $J(i,t,e){let o,a;return i.index_===Qp?("string"==typeof t&&(t=sj(t)),a=SF(i,t,e)):(o=null==e?jm:sj(e),a=SF(i,t,o)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(yk(e),uv(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xc(t._repo,t._path,e,t._orderByCalled)}}class m4 extends lf{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xp("startAt",this._value,t._path,!0);const e=xF(t._queryParams,this._value,this._key);if(yk(e),uv(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xc(t._repo,t._path,e,t._orderByCalled)}}class UX extends lf{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Xp("startAfter",this._value,t._path,!1);const e=function ZJ(i,t,e){let o;if(i.index_===Qp)"string"==typeof t&&(t=oj(t)),o=xF(i,t,e);else{let a;a=null==e?Jp:oj(e),o=xF(i,t,a)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(yk(e),uv(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xc(t._repo,t._path,e,t._orderByCalled)}}class zX extends lf{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xc(t._repo,t._path,function GJ(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class qX extends lf{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xc(t._repo,t._path,function qJ(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class $X extends lf{constructor(t){super(),this._path=t}_apply(t){_k(t,"orderByChild");const e=new hr(this._path);if(Ai(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new wF(e),a=WA(t._queryParams,o);return uv(a),new xc(t._repo,t._path,a,!0)}}class YX extends lf{_apply(t){_k(t,"orderByKey");const e=WA(t._queryParams,Qp);return uv(e),new xc(t._repo,t._path,e,!0)}}class JX extends lf{_apply(t){_k(t,"orderByPriority");const e=WA(t._queryParams,$r);return uv(e),new xc(t._repo,t._path,e,!0)}}class XX extends lf{_apply(t){_k(t,"orderByValue");const e=WA(t._queryParams,CF);return uv(e),new xc(t._repo,t._path,e,!0)}}class tee extends lf{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Xp("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new g4(this._value,this._key)._apply(new m4(this._value,this._key)._apply(t))}}function cf(i,...t){let e=(0,W.m9)(i);for(const o of t)e=o._apply(e);return e}(function NQ(i){(0,W.hu)(!rk,"__referenceConstructor has already been defined"),rk=i})(Pd),function HQ(i){(0,W.hu)(!sk,"__referenceConstructor has already been defined"),sk=i}(Pd);const h2={};function y4(i,t,e,o,a){let l=o||i.options.databaseURL;void 0===l&&(i.options.projectId||Kp("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Js("Using default host for project ",i.options.projectId),l=`${i.options.projectId}-default-rtdb.firebaseio.com`);let _,b,c=c2(l,a),g=c.repoInfo;typeof process<"u"&&process.env&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(_=!0,l=`http://${b}?ns=${g.namespace}`,c=c2(l,a),g=c.repoInfo):_=!c.repoInfo.secure;const T=a&&_?new gS(gS.OWNER):new Y9(i.name,i.options,t);qj("Invalid Firebase Database URL",c),Ai(c.path)||Kp("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function see(i,t,e,o){let a=h2[t.name];a||(a={},h2[t.name]=a);let l=a[i.toURLString()];return l&&Kp("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new pX(i,false,e,o),a[i.toURLString()]=l,l}(g,i,T,new W9(i.name,e));return new lee(D,i)}class lee{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function gX(i,t,e){if(i.stats_=hF(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new YA(i.repoInfo_,(o,a,l,c)=>{Kj(i,o,a,l,c)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Jj(i,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new $0(i.repoInfo_,t,(o,a,l,c)=>{Kj(i,o,a,l,c)},o=>{Jj(i,o)},o=>{!function mX(i,t){Qs(t,(e,o)=>{n2(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function Q9(i,t){const e=i.toString();return dF[e]||(dF[e]=t()),dF[e]}(i.repoInfo_,()=>new XJ(i.stats_,i.server_)),i.infoData_=new WJ,i.infoSyncTree_=new Oj({startListening:(o,a,l,c)=>{let g=[];const _=i.infoData_.getNode(o._path);return _.isEmpty()||(g=DS(i.infoSyncTree_,o._path,_),setTimeout(()=>{c("ok")},0)),g},stopListening:()=>{}}),n2(i,"connected",!1),i.serverSyncTree_=new Oj({startListening:(o,a,l,c)=>(i.server_.listen(o,l,a,(g,_)=>{const b=c(g,_);Rd(i.eventQueue_,o._path,b)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pd(this._repo,ir())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oee(i,t){const e=h2[t];(!e||e[i.key]!==i)&&Kp(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Xj(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Kp("Cannot call "+t+" on a deleted database.")}}function v4(){N6.IS_TRANSPORT_INITIALIZED&&tl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cee(){v4(),nv.forceDisallow()}function uee(){v4(),F1.forceDisallow(),nv.forceAllow()}function dee(i=(0,Wn.getApp)(),t){return(0,Wn._getProvider)(i,"database").getImmediate({identifier:t})}function gee(i,t){g6(i,t)}const _ee={".sv":"timestamp"};class bee{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$0.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},$0.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function mee(i){u6(Wn.SDK_VERSION),(0,Wn._registerComponent)(new Zn.wA("database",(t,{instanceIdentifier:e})=>y4(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Wn.registerVersion)(l6,"0.13.3",i),(0,Wn.registerVersion)(l6,"0.13.3","esm2017")}();const Eee=new gr.Yd("@firebase/database-compat"),b4=function(i){Eee.warn("FIREBASE WARNING: "+i)};class Dee{constructor(t){this._delegate=t}cancel(t){(0,W.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,W.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,W.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,W.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,W.Dv)("OnDisconnect.set",1,2,arguments.length),(0,W.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),a=>e(a)),o}setWithPriority(t,e,o){(0,W.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,W.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const a=this._delegate.setWithPriority(t,e);return o&&a.then(()=>o(null),l=>o(l)),a}update(t,e){if((0,W.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let l=0;l<t.length;++l)a[""+l]=t[l];t=a,b4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,W.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),a=>e(a)),o}}class Iee{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,W.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class dv{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,W.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,W.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,W.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,W.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,W.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),PS("DataSnapshot.child","path",t,!1),new dv(this._database,this._delegate.child(t))}hasChild(t){return(0,W.Dv)("DataSnapshot.hasChild",1,1,arguments.length),PS("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,W.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,W.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,W.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new dv(this._database,e)))}hasChildren(){return(0,W.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,W.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,W.Dv)("DataSnapshot.ref",0,0,arguments.length),new Du(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ma{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,a){var l;(0,W.Dv)("Query.on",2,4,arguments.length),(0,W.Wj)("Query.on","callback",e,!1);const c=Ma.getCancelAndContextArgs_("Query.on",o,a),g=(b,T)=>{e.call(c.context,new dv(this.database,b),T)};g.userCallback=e,g.context=c.context;const _=null===(l=c.cancel)||void 0===l?void 0:l.bind(c.context);switch(t){case"value":return d2(this._delegate,g,_),e;case"child_added":return u4(this._delegate,g,_),e;case"child_removed":return f4(this._delegate,g,_),e;case"child_changed":return d4(this._delegate,g,_),e;case"child_moved":return h4(this._delegate,g,_),e;default:throw new Error((0,W.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,W.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,W.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,W.Wj)("Query.off","callback",e,!0),(0,W.lb)("Query.off","context",o,!0),e){const a=()=>{};a.userCallback=e,a.context=o,p4(this._delegate,t,a)}else p4(this._delegate,t)}get(){return function FX(i){return _X((i=(0,W.m9)(i))._repo,i).then(t=>new X0(t,new Pd(i._repo,i._path),i._queryParams.getIndex()))}(this._delegate).then(t=>new dv(this.database,t))}once(t,e,o,a){(0,W.Dv)("Query.once",1,4,arguments.length),(0,W.Wj)("Query.once","callback",e,!0);const l=Ma.getCancelAndContextArgs_("Query.once",o,a),c=new W.BH,g=(b,T)=>{const D=new dv(this.database,b);e&&e.call(l.context,D,T),c.resolve(D)};g.userCallback=e,g.context=l.context;const _=b=>{l.cancel&&l.cancel.call(l.context,b),c.reject(b)};switch(t){case"value":d2(this._delegate,g,_,{onlyOnce:!0});break;case"child_added":u4(this._delegate,g,_,{onlyOnce:!0});break;case"child_removed":f4(this._delegate,g,_,{onlyOnce:!0});break;case"child_changed":d4(this._delegate,g,_,{onlyOnce:!0});break;case"child_moved":h4(this._delegate,g,_,{onlyOnce:!0});break;default:throw new Error((0,W.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,W.Dv)("Query.limitToFirst",1,1,arguments.length),new Ma(this.database,cf(this._delegate,function GX(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zX(i)}(t)))}limitToLast(t){return(0,W.Dv)("Query.limitToLast",1,1,arguments.length),new Ma(this.database,cf(this._delegate,function ZX(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new qX(i)}(t)))}orderByChild(t){return(0,W.Dv)("Query.orderByChild",1,1,arguments.length),new Ma(this.database,cf(this._delegate,function WX(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return PS("orderByChild","path",i,!1),new $X(i)}(t)))}orderByKey(){return(0,W.Dv)("Query.orderByKey",0,0,arguments.length),new Ma(this.database,cf(this._delegate,function KX(){return new YX}()))}orderByPriority(){return(0,W.Dv)("Query.orderByPriority",0,0,arguments.length),new Ma(this.database,cf(this._delegate,function QX(){return new JX}()))}orderByValue(){return(0,W.Dv)("Query.orderByValue",0,0,arguments.length),new Ma(this.database,cf(this._delegate,function eee(){return new XX}()))}startAt(t=null,e){return(0,W.Dv)("Query.startAt",0,2,arguments.length),new Ma(this.database,cf(this._delegate,function HX(i=null,t){return RS("startAt","key",t,!0),new m4(i,t)}(t,e)))}startAfter(t=null,e){return(0,W.Dv)("Query.startAfter",0,2,arguments.length),new Ma(this.database,cf(this._delegate,function jX(i,t){return RS("startAfter","key",t,!0),new UX(i,t)}(t,e)))}endAt(t=null,e){return(0,W.Dv)("Query.endAt",0,2,arguments.length),new Ma(this.database,cf(this._delegate,function LX(i,t){return RS("endAt","key",t,!0),new g4(i,t)}(t,e)))}endBefore(t=null,e){return(0,W.Dv)("Query.endBefore",0,2,arguments.length),new Ma(this.database,cf(this._delegate,function BX(i,t){return RS("endBefore","key",t,!0),new VX(i,t)}(t,e)))}equalTo(t,e){return(0,W.Dv)("Query.equalTo",1,2,arguments.length),new Ma(this.database,cf(this._delegate,function nee(i,t){return RS("equalTo","key",t,!0),new tee(i,t)}(t,e)))}toString(){return(0,W.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,W.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,W.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ma))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const a={cancel:void 0,context:void 0};if(e&&o)a.cancel=e,(0,W.Wj)(t,"cancel",a.cancel,!0),a.context=o,(0,W.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,W.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Du(this.database,new Pd(this._delegate._repo,this._delegate._path))}}class Du extends Ma{constructor(t,e){super(t,new xc(e._repo,e._path,new $A,!1)),this.database=t,this._delegate=e}getKey(){return(0,W.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,W.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Du(this.database,ew(this._delegate,t))}getParent(){(0,W.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Du(this.database,t):null}getRoot(){return(0,W.Dv)("Reference.root",0,0,arguments.length),new Du(this.database,this._delegate.root)}set(t,e){(0,W.Dv)("Reference.set",1,2,arguments.length),(0,W.Wj)("Reference.set","onComplete",e,!0);const o=u2(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}update(t,e){if((0,W.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let l=0;l<t.length;++l)a[""+l]=t[l];t=a,b4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Od("Reference.update",this._delegate._path),(0,W.Wj)("Reference.update","onComplete",e,!0);const o=NX(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}setWithPriority(t,e,o){(0,W.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,W.Wj)("Reference.setWithPriority","onComplete",o,!0);const a=function PX(i,t,e){if(Od("setWithPriority",i._path),Xp("setWithPriority",t,i._path,!1),t2("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new W.BH;return r2(i._repo,i._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&a.then(()=>o(null),l=>o(l)),a}remove(t){(0,W.Dv)("Reference.remove",0,1,arguments.length),(0,W.Wj)("Reference.remove","onComplete",t,!0);const e=function OX(i){return Od("remove",i._path),u2(i,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,W.Dv)("Reference.transaction",1,3,arguments.length),(0,W.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,W.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,W.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const a=function wee(i,t,e){var o;if(i=(0,W.m9)(i),Od("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const a=null===(o=e?.applyLocally)||void 0===o||o,l=new W.BH,g=d2(i,()=>{});return function xX(i,t,e,o,a,l){Q0(i,"transaction on "+t);const c={path:t,update:e,onComplete:o,status:null,order:h6(),applyLocally:l,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=s2(i,t,void 0);c.currentInputSnapshot=g;const _=c.update(g.val());if(void 0===_)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{OS("transaction failed: Data returned ",_,c.path),c.status=0;const b=uk(i.transactionQueueTree_,t),T=J0(b)||[];let D;T.push(c),QF(b,T),"object"==typeof _&&null!==_&&(0,W.r3)(_,".priority")?(D=(0,W.DV)(_,".priority"),(0,W.hu)(kS(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(lk(i.serverSyncTree_,t)||mi.EMPTY_NODE).getPriority().val();const O=NS(i),F=Oo(_,D),j=YF(F,g,O);c.currentOutputSnapshotRaw=F,c.currentOutputSnapshotResolved=j,c.currentWriteId=pk(i);const X=zF(i.serverSyncTree_,t,j,c.currentWriteId,c.applyLocally);Rd(i.eventQueue_,t,X),gk(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(_,b,T)=>{let D=null;_?l.reject(_):(D=new X0(T,new Pd(i._repo,i._path),$r),l.resolve(new bee(b,D)))},g,a),l.promise}(this._delegate,t,{applyLocally:o}).then(l=>new Iee(l.committed,new dv(this.database,l.snapshot)));return e&&a.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),a}setPriority(t,e){(0,W.Dv)("Reference.setPriority",1,2,arguments.length),(0,W.Wj)("Reference.setPriority","onComplete",e,!0);const o=function RX(i,t){i=(0,W.m9)(i),Od("setPriority",i._path),t2("setPriority",t,!1);const e=new W.BH;return r2(i._repo,mo(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}push(t,e){(0,W.Dv)("Reference.push",0,2,arguments.length),(0,W.Wj)("Reference.push","onComplete",e,!0);const o=function kX(i,t){i=(0,W.m9)(i),Od("push",i._path),Xp("push",t,i._path,!0);const e=Yj(i._repo),o=HJ(e),a=ew(i,o),l=ew(i,o);let c;return c=null!=t?u2(l,t).then(()=>l):Promise.resolve(l),a.then=c.then.bind(c),a.catch=c.then.bind(c,void 0),a}(this._delegate,t),a=o.then(c=>new Du(this.database,c));e&&a.then(()=>e(null),c=>e(c));const l=new Du(this.database,o);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l}onDisconnect(){return Od("Reference.onDisconnect",this._delegate._path),new Dee(new a4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class LS{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:cee,forceLongPolling:uee}}useEmulator(t,e,o={}){!function hee(i,t,e,o={}){(i=(0,W.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Kp("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let l;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&Kp('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new gS(gS.OWNER);else if(o.mockUserToken){const c="string"==typeof o.mockUserToken?o.mockUserToken:(0,W.Sg)(o.mockUserToken,i.app.options.projectId);l=new gS(c)}!function ree(i,t,e,o){i.repoInfo_=new cF(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(a,t,e,l)}(this._delegate,t,e,o)}ref(t){if((0,W.Dv)("database.ref",0,1,arguments.length),t instanceof Du){const e=c4(this._delegate,t.toString());return new Du(this,e)}{const e=l4(this._delegate,t);return new Du(this,e)}}refFromURL(t){(0,W.Dv)("database.refFromURL",1,1,arguments.length);const o=c4(this._delegate,t);return new Du(this,o)}goOffline(){return(0,W.Dv)("database.goOffline",0,0,arguments.length),function fee(i){(i=(0,W.m9)(i))._checkNotDeleted("goOffline"),Xj(i._repo)}(this._delegate)}goOnline(){return(0,W.Dv)("database.goOnline",0,0,arguments.length),function pee(i){(i=(0,W.m9)(i))._checkNotDeleted("goOnline"),function EX(i){i.persistentConnection_&&i.persistentConnection_.resume(Wj)}(i._repo)}(this._delegate)}}LS.ServerValue={TIMESTAMP:function yee(){return _ee}(),increment:i=>function vee(i){return{".sv":{increment:i}}}(i)};var Aee=Object.freeze({__proto__:null,initStandalone:function Mee({app:i,url:t,version:e,customAuthImpl:o,namespace:a,nodeAdmin:l=!1}){u6(e);const c=new Zn.zt("auth-internal",new Zn.H0("database-standalone"));return c.setComponent(new Zn.wA("auth-internal",()=>o,"PRIVATE")),{instance:new LS(y4(i,c,void 0,t,l),i),namespace:a}}});const kee=LS.ServerValue;function w4(i){return null==i}function C4(i){return"function"==typeof i.set}function T4(i,t){return C4(t)?t:i.ref(t)}function E4(i,t){if(function Ree(i){return"string"==typeof i}(i))return t.stringCase();if(C4(i))return t.firebaseCase();if(function Pee(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function VS(i,t,e="on",o=d1.z){return new qi.y(a=>{let l=null;return l=i[e](t,(c,g)=>{o.schedule(()=>{a.next({snapshot:c,prevKey:g})}),"once"===e&&o.schedule(()=>a.complete())},c=>{o.schedule(()=>a.error(c))}),"on"===e?{unsubscribe(){null!=l&&i.off(t,l)}}:{unsubscribe(){}}}).pipe((0,dn.U)(a=>{const{snapshot:l,prevKey:c}=a;let g=null;return l.exists()&&(g=l.key),{type:t,payload:l,prevKey:c,key:g}}),(0,iP.B)())}function x4(i,t){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===t)return o;return-1}function Lee(i,t){const{payload:e,prevKey:o,key:a}=t,l=x4(i,a),c=function Fee(i,t){if(w4(t))return 0;{const e=x4(i,t);return-1===e?i.length:e+1}}(i,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(_=>{const b={payload:_,type:"value",prevKey:g,key:_.key};return g=_.key,i=[...i,b],!1})}return i;case"child_added":if(l>-1){const g=i[l-1];(g&&g.key||null)!==o&&(i=i.filter(_=>_.payload.key!==e.key)).splice(c,0,t)}else{if(null==o)return[t,...i];(i=i.slice()).splice(c,0,t)}return i;case"child_removed":return i.filter(g=>g.payload.key!==e.key);case"child_changed":return i.map(g=>g.payload.key===a?t:g);case"child_moved":if(l>-1){const g=i.splice(l,1)[0];return(i=i.slice()).splice(c,0,g),i}return i;default:return i}}function S4(i){return(w4(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function D4(i,t,e){return function Nee(i,t,e){return VS(i,"value","once",e).pipe(kr(o=>{const a=[fn(o)];return t.forEach(l=>a.push(VS(i,l,"on",e))),(0,Gy.T)(...a).pipe(D0(Lee,[]))}),I0())}(i,t=S4(t),e)}function I4(i,t,e){const o=(t=S4(t)).map(a=>VS(i,a,"on",e));return(0,Gy.T)(...o)}function M4(i,t){return function(o,a){return E4(o,{stringCase:()=>i.child(o)[t](a),firebaseCase:()=>o[t](a),snapshotCase:()=>o.ref[t](a)})}}function Uee(i){return function(e){return e?E4(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function A4(i,t){return function(){return VS(i,"value","on",t)}}!function Oee(i){i.INTERNAL.registerComponent(new Zn.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new LS(a,o)},"PUBLIC").setServiceProps({Reference:Du,Query:Ma,Database:LS,DataSnapshot:dv,enableLogging:gee,INTERNAL:Aee,ServerValue:kee}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.2.3")}(QR.Z);const Gee=new s.OlP("angularfire2.realtimeDatabaseURL"),qee=new s.OlP("angularfire2.database.use-emulator");let k4=(()=>{class i{constructor(e,o,a,l,c,g,_,b,T,D,O,F,j,X,se){this.schedulers=g;const ke=_,We=(0,vs.on)(e,c,o);b&&dP(We,c,T,O,F,j,D,X),this.database=(0,vs.cc)(`${We.name}.database.${a}`,"AngularFireDatabase",We.name,()=>{const ft=c.runOutsideAngular(()=>We.database(a||void 0));return ke&&ft.useEmulator(...ke),ft},[ke])}list(e,o){const a=this.schedulers.ngZone.runOutsideAngular(()=>T4(this.database,e));let l=a;return o&&(l=o(a)),function jee(i,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:M4(o,"update"),set:M4(o,"set"),push:a=>o.push(a),remove:Uee(o),snapshotChanges:a=>D4(i,a,e).pipe(wt.iC),stateChanges:a=>I4(i,a,e).pipe(wt.iC),auditTrail:a=>function Vee(i,t,e){return function Hee(i,t,e){return function Bee(i,t){return VS(i,"value","on",t).pipe((0,dn.U)(e=>{let o;return e.payload.forEach(a=>(o=a.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(LA(t),(0,dn.U)(([a,l])=>{const c=a.lastKeyToLoad,g=l.map(_=>_.key);return{actions:l,lastKeyToLoad:c,loadedKeys:g}}),function L9(i){return(0,Go.e)((t,e)=>{let o=!1,a=0;t.subscribe((0,Ar.x)(e,l=>(o||(o=!i(l,a++)))&&e.next(l)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,dn.U)(a=>a.actions))}(i,I4(i,t).pipe(D0((a,l)=>[...a,l],[])),e)}(i,a,e).pipe(wt.iC),valueChanges:(a,l)=>D4(i,a,e).pipe((0,dn.U)(g=>g.map(_=>l&&l.idField?Object.assign(Object.assign({},_.payload.val()),{[l.idField]:_.key}):_.payload.val())),wt.iC)}}(l,this)}object(e){return function zee(i,t){return{query:i,snapshotChanges:()=>A4(i,t.schedulers.outsideAngular)().pipe(wt.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>A4(i,t.schedulers.outsideAngular)().pipe(wt.iC,(0,dn.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>T4(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(vs.Dh),s.LFG(vs.xv,8),s.LFG(Gee,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wt.HU),s.LFG(qee,8),s.LFG(Nx,8),s.LFG(oP,8),s.LFG(sP,8),s.LFG(aP,8),s.LFG(lP,8),s.LFG(cP,8),s.LFG(uP,8),s.LFG(ua,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Zee=(()=>{class i{constructor(){AM.Z.registerVersion("angularfire",wt.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[k4]}),i})();const wk={firebase:{projectId:"fyp-my108-351404",appId:"1:978276168904:web:648966568a920626a3e1fd",databaseURL:"https://fyp-my108-351404-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"fyp-my108-351404.appspot.com",locationId:"asia-east2",apiKey:"AIzaSyA0QL42AMqAczuQPxLzLY5yyZ40hfxBiT0",authDomain:"fyp-my108-351404.firebaseapp.com",messagingSenderId:"978276168904",measurementId:"G-YLXFJ43G7Q"},production:!0};class f2{constructor(t){return t}}const O4="database",p2=new s.OlP("angularfire2.database-instances");function Yee(i){return(t,e)=>{const o=t.runOutsideAngular(()=>i(e));return new f2(o)}}const Kee={provide:class $ee{constructor(){return(0,wt.vb)(O4)}},deps:[[new s.FiY,p2]]},Jee={provide:f2,useFactory:function Wee(i,t){const e=(0,wt.JM)(O4,i,t);return e&&new f2(e)},deps:[[new s.FiY,p2],$i]};let Qee=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"rtdb")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Jee,Kee]}),i})();function Xee(i,...t){return{ngModule:Qee,providers:[{provide:p2,useFactory:Yee(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,[new s.FiY,Ku],[new s.FiY,ua],...t]}]}}const ete=(0,wt.u3)(dee,!0);let R4=(()=>{class i{constructor(e){this.router=e}ngOnInit(){}goToFAQ(){this.router.navigate(["/login"])}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tr))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-header-empty"]],decls:4,vars:0,consts:[["src","https://cdn.lordicon.com/njjuilvq.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer",3,"click"]],template:function(e,o){1&e&&(s.TgZ(0,"nav")(1,"h2"),s._uU(2,"MERC"),s.qZA(),s.TgZ(3,"lord-icon",0),s.NdJ("click",function(){return o.goToFAQ()}),s.qZA()())},styles:['nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem 2rem;background:#005DE8}nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f5f5f5}.nav-items[_ngcontent-%COMP%]{list-style-type:none}.middle-nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 auto;float:center}.middle-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 10px 0}.middle-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{overflow-y:hidden;color:#fff;font-size:30px;margin:5px 10px 0;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}@media only screen and (max-width: 600px){nav[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;padding-top:.5rem}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 0}}']}),i})();function tte(i,t){1&i&&(s.TgZ(0,"span",20),s._uU(1,"* Email is required!"),s.qZA(),s._UZ(2,"br"))}function nte(i,t){1&i&&s.YNc(0,tte,3,0,"ng-template")}function ite(i,t){if(1&i&&(s.TgZ(0,"span",21),s._uU(1,"* Invalid email address!"),s.qZA()),2&i){const e=s.oxw();s.Q6J("hidden",e.invalid)}}function rte(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",22),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.showHidePassword())}),s._UZ(1,"i",23),s.qZA()}}function ote(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",22),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.showHidePassword())}),s._UZ(1,"i",24),s.qZA()}}let ste=(()=>{class i{constructor(e,o){this.auth=e,this.router=o,this.email="",this.password="",this.requiredErr=!1,this.invalid=!0,this.showPassword=!1,this.showing=!1}ngOnInit(){}showHidePassword(){this.showPassword=!this.showPassword,this.showing=!this.showing}login(){if(""==this.email&&""==this.password&&""==this.email)return alert("Please enter email"),void(this.requiredErr=!0);this.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)||(this.requiredErr=!1,this.invalid=!1),""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter password")}navigateToForgotPasswordPage(){this.router.navigate(["/forgot-password"])}signInWithGoogle(){this.auth.googleSignIn()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu),s.Y36(tr))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-login"]],decls:37,vars:7,consts:[[1,"login-view"],[1,"left-panel"],["src","../../../assets/login-shopping.jpg","alt","login-shopping"],[1,"right-panel"],[1,"container"],[1,"head-form"],["href","/register"],[1,"hr-style"],[1,"field-set"],[1,"input-item"],[1,"fa","fa-user-circle","fa-xl"],["id","txt-input","name","email","type","text","placeholder","Email Address","required","",1,"form-input",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["invalidErr",""],[1,"fa","fa-key","fa-xl"],["type","password","placeholder","Password","id","pwd","name","password","required","",1,"form-input",3,"type","ngModel","ngModelChange"],[3,"click",4,"ngIf","ngIfElse"],["hidden",""],[1,"log-in",3,"click"],["href","/forgot-password",1,"forgot-pw"],[1,"err-msg"],[1,"err-msg",3,"hidden"],[3,"click"],["aria-hidden","true","type","button","id","eye",1,"fa","fa-eye","pw-eye"],["aria-hidden","true","type","button","id","eye",1,"fa-solid","fa-eye-slash","pw-eye"]],template:function(e,o){if(1&e&&(s._UZ(0,"app-header-empty"),s.TgZ(1,"div",0)(2,"div",1)(3,"h2"),s._uU(4,"Welcome back to MERC!"),s.qZA(),s._UZ(5,"img",2),s.qZA(),s.TgZ(6,"div",3)(7,"form")(8,"div",4)(9,"header",5)(10,"h2"),s._uU(11,"Log In"),s.qZA(),s.TgZ(12,"p"),s._uU(13,"New to MERC? "),s.TgZ(14,"a",6),s._uU(15,"Sign Up"),s.qZA()()(),s._UZ(16,"hr",7)(17,"br"),s.TgZ(18,"div",8)(19,"span",9),s._UZ(20,"i",10),s.qZA(),s.TgZ(21,"input",11),s.NdJ("ngModelChange",function(l){return o.email=l}),s.qZA(),s.YNc(22,nte,1,0,null,12),s.YNc(23,ite,2,1,"ng-template",null,13,s.W1O),s._UZ(25,"br"),s.TgZ(26,"span",9),s._UZ(27,"i",14),s.qZA(),s.TgZ(28,"input",15),s.NdJ("ngModelChange",function(l){return o.password=l}),s.qZA(),s.YNc(29,rte,2,0,"span",16),s.YNc(30,ote,2,0,"ng-template",null,17,s.W1O),s._UZ(32,"br"),s.TgZ(33,"button",18),s.NdJ("click",function(){return o.login()}),s._uU(34," Log In "),s.qZA()(),s.TgZ(35,"a",19),s._uU(36,"Forgot Password ?"),s.qZA()()()()()),2&e){const a=s.MAs(24),l=s.MAs(31);s.xp6(21),s.Q6J("ngModel",o.email),s.xp6(1),s.Q6J("ngIf",o.requiredErr)("ngIfElse",a),s.xp6(6),s.Q6J("type",o.showPassword?"text":"password")("ngModel",o.password),s.xp6(1),s.Q6J("ngIf",o.showing)("ngIfElse",l)}},dependencies:[zi,D1,L0,E1,x1,I1,Jy,Ky,R4],styles:['.login-view[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px}@media (max-width: 800px){.login-view[_ngcontent-%COMP%]{flex-direction:column}}.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:50px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:550px;height:450px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}}.right-panel[_ngcontent-%COMP%]{padding-right:5rem;margin-left:80px}@media (max-width: 800px){.right-panel[_ngcontent-%COMP%]{padding:0;margin-top:15px}}form[_ngcontent-%COMP%]{width:400px;min-height:300px;border-radius:10px;border:10px solid;border-image-slice:1;border-width:5px;border-image-source:linear-gradient(to left,#005DE8,#09c6f9);margin:2% auto;box-shadow:0 9px 50px #95b2ea80;padding:2%;overflow-y:hidden;overflow-x:hidden}.container[_ngcontent-%COMP%]{margin:10px}.head-form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:10px}.head-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#939393;font-size:smaller}.head-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}.hr-style[_ngcontent-%COMP%]{margin-top:15px;background-image:linear-gradient(315deg,#045de9 0%,#09c6f9 74%);border:0;height:1.5px}.fa-user-circle[_ngcontent-%COMP%]{font-size:50px}.form-input[_ngcontent-%COMP%]{margin:15px 10px;padding:10px;width:80%;box-sizing:border-box;border:1.5px solid #ccc;border-radius:3px;outline:none}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active{border-color:transparent;border:2.5px solid #045de9;animation:slideup .5s ease-in 1}@keyframes slideup{0%{opacity:0}to{opacity:.8}}.log-in[_ngcontent-%COMP%]{cursor:pointer;border:0;border-radius:4px;font-weight:600;margin-left:20%;margin-top:20px;margin-bottom:20px;width:200px;padding:10px 0;box-shadow:0 0 20px #5a79dc4d;transition:.4s;color:#fff;background-color:#005de8}.log-in[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #5a79dc99}.field-set[_ngcontent-%COMP%]{margin:10px 0}.other-methods[_ngcontent-%COMP%]{max-width:90%;margin-left:10px;text-align:center}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]{font-size:20px;position:relative;border:0;height:1.5em;background:transparent;color:#000;opacity:1}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:before{content:"";background:linear-gradient(315deg,#045de9 0%,#09c6f9 74%);position:absolute;left:0;top:50%;width:100%;height:1.5px}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:after{content:attr(data-content);position:relative;display:inline-block;color:#000;padding:0 .5em;line-height:1.5em;background-color:#fff;font-size:smaller}.card[_ngcontent-%COMP%]{border:1px solid #696969;border-radius:50px;margin-top:10px}.card-body[_ngcontent-%COMP%]{padding:10px;cursor:pointer;display:flex;justify-content:center;align-items:center}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 3px}.other-sign-in-methods[_ngcontent-%COMP%]{max-width:250px;margin:0 auto}.err-msg[_ngcontent-%COMP%]{color:red;font-size:small;margin-left:40px}.forgot-pw[_ngcontent-%COMP%]{float:right;margin-top:50px;font-size:smaller}']}),i})();function ate(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.showHidePassword())}),s._UZ(1,"i",20),s.qZA()}}function lte(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.showHidePassword())}),s._UZ(1,"i",21),s.qZA()}}let cte=(()=>{class i{constructor(e){this.auth=e,this.email="",this.password="",this.showPassword=!1,this.showing=!1}ngOnInit(){}showHidePassword(){this.showPassword=!this.showPassword,this.showing=!this.showing}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}onStrengthChange(e){console.log(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-register"]],decls:34,vars:5,consts:[[1,"login-view"],[1,"left-panel"],["src","../../../assets/login-shopping.jpg","alt","login-shopping"],[1,"right-panel"],[1,"container"],[1,"head-form"],["href","/login",2,"float","right"],[1,"hr-style"],[1,"field-set"],[1,"input-item"],[1,"fa","fa-user-circle","fa-xl"],["id","txt-input","name","email","type","text","placeholder","Email Address","required","",1,"form-input",3,"ngModel","ngModelChange"],["emailInput",""],[1,"fa","fa-key","fa-xl"],["placeholder","Password","id","pwd","name","password","required","",1,"form-input",3,"type","ngModel","ngModelChange"],["passwordInput",""],[3,"click",4,"ngIf","ngIfElse"],["hidden",""],[1,"log-in",3,"click"],[3,"click"],["aria-hidden","true","type","button","id","eye",1,"fa","fa-eye","pw-eye"],["aria-hidden","true","type","button","id","eye",1,"fa-solid","fa-eye-slash","pw-eye"]],template:function(e,o){if(1&e&&(s._UZ(0,"app-header-empty"),s.TgZ(1,"div",0)(2,"div",1)(3,"h2"),s._uU(4,"Welcome to MERC!"),s.qZA(),s._UZ(5,"img",2),s.qZA(),s.TgZ(6,"div",3)(7,"form")(8,"div",4)(9,"header",5)(10,"h2"),s._uU(11,"Sign Up"),s.qZA(),s.TgZ(12,"p"),s._uU(13,"Have an account?\xa0 "),s.TgZ(14,"a",6),s._uU(15,"Sign In"),s.qZA()()(),s._UZ(16,"hr",7)(17,"br"),s.TgZ(18,"div",8)(19,"span",9),s._UZ(20,"i",10),s.qZA(),s.TgZ(21,"input",11,12),s.NdJ("ngModelChange",function(l){return o.email=l}),s.qZA(),s._UZ(23,"br"),s.TgZ(24,"span",9),s._UZ(25,"i",13),s.qZA(),s.TgZ(26,"input",14,15),s.NdJ("ngModelChange",function(l){return o.password=l}),s.qZA(),s.YNc(28,ate,2,0,"span",16),s.YNc(29,lte,2,0,"ng-template",null,17,s.W1O),s._UZ(31,"br"),s.qZA(),s.TgZ(32,"button",18),s.NdJ("click",function(){return o.register()}),s._uU(33," Register "),s.qZA()()()()()),2&e){const a=s.MAs(30);s.xp6(21),s.Q6J("ngModel",o.email),s.xp6(5),s.Q6J("type",o.showPassword?"text":"password")("ngModel",o.password),s.xp6(2),s.Q6J("ngIf",o.showing)("ngIfElse",a)}},dependencies:[zi,D1,L0,E1,x1,I1,Jy,Ky,R4],styles:['.login-view[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:50px}@media (max-width: 800px){.login-view[_ngcontent-%COMP%]{flex-direction:column}}.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:50px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:550px;height:450px}@media (max-width: 800px){.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}}.right-panel[_ngcontent-%COMP%]{padding-right:5rem;margin-left:80px}@media (max-width: 800px){.right-panel[_ngcontent-%COMP%]{padding:0;margin-top:15px}}form[_ngcontent-%COMP%]{width:400px;min-height:300px;height:550px;border-radius:10px;border:10px solid;border-image-slice:1;border-width:5px;border-image-source:linear-gradient(to left,#005DE8,#09c6f9);margin:2% auto;box-shadow:0 9px 50px #95b2ea80;padding:2%;overflow-y:hidden;overflow-x:hidden}.container[_ngcontent-%COMP%]{margin:10px}.head-form[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:10px}.head-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#939393;font-size:smaller}.head-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}.hr-style[_ngcontent-%COMP%]{margin-top:15px;background-image:linear-gradient(315deg,#045de9 0%,#09c6f9 74%);border:0;height:1.5px}.fa-user-circle[_ngcontent-%COMP%]{font-size:50px}.form-input[_ngcontent-%COMP%]{margin:15px 10px;padding:10px;width:80%;box-sizing:border-box;border:1.5px solid #ccc;border-radius:3px;outline:none}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active{border-color:transparent;border:2.5px solid #045de9;animation:slideup .5s ease-in 1}@keyframes slideup{0%{opacity:0}to{opacity:.8}}.log-in[_ngcontent-%COMP%]{cursor:pointer;border:0;border-radius:4px;font-weight:600;margin-left:20%;margin-top:20px;margin-bottom:20px;width:200px;padding:10px 0;box-shadow:0 0 20px #5a79dc4d;transition:.4s;color:#fff;background-color:#005de8}.log-in[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #5a79dc99}.field-set[_ngcontent-%COMP%]{margin:10px 0}.other-methods[_ngcontent-%COMP%]{max-width:90%;margin-left:10px;text-align:center}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]{font-size:20px;position:relative;border:0;height:1.5em}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:before{content:"";background:linear-gradient(to right,transparent,#045de9,transparent);position:absolute;left:0;top:50%;width:100%;height:1px}.other-methods[_ngcontent-%COMP%]   .other-methods-text[_ngcontent-%COMP%]:after{content:attr(data-content);position:relative;display:inline-block;color:#000;padding:0 .5em;line-height:1.5em;background-color:#fff;font-size:smaller}.card[_ngcontent-%COMP%]{border:1px solid #696969;border-radius:50px;margin-top:10px}.card-body[_ngcontent-%COMP%]{padding:10px;cursor:pointer;display:flex}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px 0 0 5px}.other-sign-in-methods[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}.err-msg[_ngcontent-%COMP%]{color:red;font-size:small;margin-left:40px}.forgot-pw[_ngcontent-%COMP%]{float:right;margin-top:50px;font-size:smaller}']}),i})();class P4{constructor(t){this.file=t}}let Ck=(()=>{class i{constructor(e,o,a){this.db=e,this.storage=o,this.firebase=a,this.basePath="/uploads"}pushFileToStorage(e,o){const a=`${this.basePath}/${e.file.name}`,l=this.storage.ref(a),c=this.storage.upload(a,e.file);return c.snapshotChanges().pipe(Lx(()=>{l.getDownloadURL().subscribe(g=>{e.url=g,e.name=e.file.name,this.saveProfileImageURLToUser(e.url,o),this.saveFileData(e)})})).subscribe(),c.percentageChanges()}saveProfileImageURLToUser(e,o){this.firebase.updateProfileImage(e,o)}saveFileData(e){this.db.list(this.basePath).push(e)}getFiles(e){return this.db.list(this.basePath,o=>o.limitToLast(e))}deleteFile(e){this.deleteFileDatabase(e.key).then(()=>{this.deleteFileStorage(e.name)}).catch(o=>console.log(o))}deleteFileDatabase(e){return this.db.list(this.basePath).remove(e)}deleteFileStorage(e){this.storage.ref(this.basePath).child(e).delete()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(k4),s.LFG(a6),s.LFG(jp))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ute=q(1144);const dte=["addListener","removeListener"],hte=["addEventListener","removeEventListener"],fte=["on","off"];function Rs(i,t,e,o){if((0,Ed.m)(e)&&(o=e,e=void 0),o)return Rs(i,t,e).pipe(pP(o));const[a,l]=function mte(i){return(0,Ed.m)(i.addEventListener)&&(0,Ed.m)(i.removeEventListener)}(i)?hte.map(c=>g=>i[c](t,g,e)):function pte(i){return(0,Ed.m)(i.addListener)&&(0,Ed.m)(i.removeListener)}(i)?dte.map(N4(i,t)):function gte(i){return(0,Ed.m)(i.on)&&(0,Ed.m)(i.off)}(i)?fte.map(N4(i,t)):[];if(!a&&(0,ute.z)(i))return(0,Ws.z)(c=>Rs(c,t,e))((0,Td.Xf)(i));if(!a)throw new TypeError("Invalid event target");return new qi.y(c=>{const g=(..._)=>c.next(1<_.length?_:_[0]);return a(g),()=>l(g)})}function N4(i,t){return e=>o=>i[e](t,o)}var _te=q(3532);function Tk(i=0,t,e=d1.P){let o=-1;return null!=t&&((0,_te.K)(t)?e=t:o=t),new qi.y(a=>{let l=function yte(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;l<0&&(l=0);let c=0;return e.schedule(function(){a.closed||(a.next(c++),0<=o?this.schedule(void 0,o):a.complete())},l)})}const{isArray:vte}=Array;function F4(i){return 1===i.length&&vte(i[0])?i[0]:i}const V4=new qi.y(FA.Z);function Ek(...i){const t=(0,zy.jO)(i),e=F4(i);return e.length?new qi.y(o=>{let a=e.map(()=>[]),l=e.map(()=>!1);o.add(()=>{a=l=null});for(let c=0;!o.closed&&c<e.length;c++)(0,Td.Xf)(e[c]).subscribe((0,Ar.x)(o,g=>{if(a[c].push(g),a.every(_=>_.length)){const _=a.map(b=>b.shift());o.next(t?t(..._):_),a.some((b,T)=>!b.length&&l[T])&&o.complete()}},()=>{l[c]=!0,!a[c].length&&o.complete()}));return()=>{a=l=null}}):Om.E}function Br(i){return(0,Go.e)((t,e)=>{(0,Td.Xf)(i).subscribe((0,Ar.x)(e,()=>e.complete(),FA.Z)),!e.closed&&t.subscribe(e)})}function Sne(i,t){}function Dne(i,t){if(1&i&&(s.TgZ(0,"button",3),s._uU(1),s.YNc(2,Sne,0,0,"ng-template",4),s.qZA()),2&i){const e=t.$implicit;s.Q6J("ngbPanelToggle",e),s.xp6(1),s.hij(" ",e.title,""),s.xp6(1),s.Q6J("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function Ine(i,t){}function Mne(i,t){}function Ane(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",8),s.NdJ("ngbRef",function(a){s.CHM(e);const l=s.oxw().$implicit;return s.KtG(l.panelDiv=a)}),s.TgZ(1,"div",9),s.YNc(2,Mne,0,0,"ng-template",4),s.qZA()()}if(2&i){const e=s.oxw().$implicit;s.s9C("id",e.id),s.uIk("aria-labelledby",e.id+"-header"),s.xp6(2),s.Q6J("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}Math,Math,Math;const kne=function(i,t){return{$implicit:i,opened:t}};function One(i,t){if(1&i&&(s.TgZ(0,"div")(1,"div",5),s.YNc(2,Ine,0,0,"ng-template",6),s.qZA(),s.YNc(3,Ane,3,3,"div",7),s.qZA()),2&i){const e=t.$implicit,o=s.oxw(),a=s.MAs(1);s.Tol("accordion-item "+(e.cardClass||"")),s.xp6(1),s.Tol("accordion-header "+(e.type?"bg-"+e.type:o.type?"bg-"+o.type:"")),s.MGl("id","",e.id,"-header"),s.xp6(1),s.Q6J("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||a)("ngTemplateOutletContext",s.WLB(8,kne,e,e.isOpen)),s.xp6(1),s.Q6J("ngIf",!o.destroyOnHide||e.isOpen||e.transitionRunning)}}const Rne=["*"];function Pne(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){const l=s.CHM(e).$implicit,c=s.oxw();return c.focus(),s.KtG(c.select(l.id,c.NgbSlideEventSource.INDICATOR))}),s.qZA()}if(2&i){const e=t.$implicit,o=s.oxw();s.ekj("active",e.id===o.activeId),s.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===o.activeId)}}function Nne(i,t){}function Fne(i,t){if(1&i&&(s.TgZ(0,"div",7)(1,"span",8),s.SDv(2,9),s.qZA(),s.YNc(3,Nne,0,0,"ng-template",10),s.qZA()),2&i){const e=t.$implicit,o=t.index,a=t.count;s.Q6J("id","slide-"+e.id),s.xp6(2),s.pQV(o+1)(a),s.QtT(2),s.xp6(1),s.Q6J("ngTemplateOutlet",e.tplRef)}}function Lne(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.arrowLeft())}),s._UZ(1,"span",12),s.TgZ(2,"span",8),s.SDv(3,13),s.qZA()()}}function Vne(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.arrowRight())}),s._UZ(1,"span",15),s.TgZ(2,"span",8),s.SDv(3,16),s.qZA()()}}const Jne=["dialog"];function kie(i,t){1&i&&s._uU(0),2&i&&s.Oqu(100===t.fill?"\u2605":"\u2606")}function Oie(i,t){}function Rie(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",2),s._uU(1),s.qZA(),s.TgZ(2,"span",3),s.NdJ("mouseenter",function(){const l=s.CHM(e).index,c=s.oxw();return s.KtG(c.enter(l+1))})("click",function(){const l=s.CHM(e).index,c=s.oxw();return s.KtG(c.handleClick(l+1))}),s.YNc(3,Oie,0,0,"ng-template",4),s.qZA()}if(2&i){const e=t.index,o=s.oxw(),a=s.MAs(1);s.xp6(1),s.hij("(",e<o.nextRate?"*":" ",")"),s.xp6(1),s.Udp("cursor",o.isInteractive()?"pointer":"default"),s.xp6(1),s.Q6J("ngTemplateOutlet",o.starTemplate||o.starTemplateFromContent||a)("ngTemplateOutletContext",o.contexts[e])}}function S2(i,t,e=0){return Math.max(Math.min(i,t),e)}function D2(i){return"string"==typeof i}function nw(i){return null!=i}function J1(i){return(i||document.body).getBoundingClientRect()}const r5={animation:!0,transitionTimerDelayMs:5},Zie=()=>{},{transitionTimerDelayMs:$ie}=r5,qS=new Map,Bl=(i,t,e,o)=>{let a=o.context||{};const l=qS.get(t);if(l)switch(o.runningTransition){case"continue":return Om.E;case"stop":i.run(()=>l.transition$.complete()),a=Object.assign(l.context,a),qS.delete(t)}const c=e(t,o.animation,a)||Zie;if(!o.animation||"none"===window.getComputedStyle(t).transitionProperty)return i.run(()=>c()),fn(void 0).pipe(function Gie(i){return t=>new qi.y(e=>t.subscribe({next:c=>i.run(()=>e.next(c)),error:c=>i.run(()=>e.error(c)),complete:()=>i.run(()=>e.complete())}))}(i));const g=new ii.x,_=new ii.x,b=g.pipe(function wte(...i){return t=>h1(t,fn(...i))}(!0));qS.set(t,{transition$:g,complete:()=>{_.next(),_.complete()},context:a});const T=function qie(i){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(i);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return i.runOutsideAngular(()=>{const D=Rs(t,"transitionend").pipe(Br(b),Zr(({target:F})=>F===t));(function L4(...i){return 1===(i=F4(i)).length?(0,Td.Xf)(i[0]):new qi.y(function bte(i){return t=>{let e=[];for(let o=0;e&&!t.closed&&o<i.length;o++)e.push((0,Td.Xf)(i[o]).subscribe((0,Ar.x)(t,a=>{if(e){for(let l=0;l<e.length;l++)l!==o&&e[l].unsubscribe();e=null}t.next(a)})))}}(i))})(Tk(T+$ie).pipe(Br(b)),D,_).pipe(Br(b)).subscribe(()=>{qS.delete(t),i.run(()=>{c(),g.next(),g.complete()})})}),g.asObservable()},o5=(i,t,e)=>{let{direction:o,maxHeight:a}=e;const{classList:l}=i;function c(){l.add("collapse"),"show"===o?l.add("show"):l.remove("show")}if(t)return a||(a=function Yie(i){if(typeof navigator>"u")return"0px";const{classList:t}=i,e=t.contains("show");e||t.add("show"),i.style.height="";const o=i.getBoundingClientRect().height+"px";return e||t.remove("show"),o}(i),e.maxHeight=a,i.style.height="show"!==o?a:"0px",l.remove("collapse"),l.remove("collapsing"),l.remove("show"),J1(i),l.add("collapsing")),i.style.height="show"===o?a:"0px",()=>{c(),l.remove("collapsing"),i.style.height=""};c()};let Ak=(()=>{class i{constructor(){this.animation=r5.animation}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Kie=(()=>{class i{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Ak))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Jie=0,M2=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["ng-template","ngbPanelHeader",""]]}),i})(),A2=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["ng-template","ngbPanelTitle",""]]}),i})(),k2=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["ng-template","ngbPanelContent",""]]}),i})(),kk=(()=>{class i{constructor(){this.disabled=!1,this.id="ngb-panel-"+Jie++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new s.vpe,this.hidden=new s.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["ngb-panel"]],contentQueries:function(e,o,a){if(1&e&&(s.Suo(a,A2,4),s.Suo(a,M2,4),s.Suo(a,k2,4)),2&e){let l;s.iGM(l=s.CRH())&&(o.titleTpls=l),s.iGM(l=s.CRH())&&(o.headerTpls=l),s.iGM(l=s.CRH())&&(o.contentTpls=l)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),i})(),Qie=(()=>{class i{constructor(e){this._El=e,this.ngbRef=new s.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),i})(),O2=(()=>{class i{constructor(e,o,a){this._ngZone=o,this._changeDetector=a,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new s.vpe,this.shown=new s.vpe,this.hidden=new s.vpe,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const o=this._findPanelById(e);o&&this._changeOpenState(o,!o.isOpen)}ngAfterContentChecked(){D2(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(go(1)).subscribe(()=>{this.panels.forEach(e=>{const o=e.panelDiv;o?e.initClassDone||(e.initClassDone=!0,Bl(this._ngZone,o,o5,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide"}})):e.initClassDone=!1})})}_changeOpenState(e,o){if(null!=e&&!e.disabled&&e.isOpen!==o){let a=!1;this.panelChange.emit({panelId:e.id,nextState:o,preventDefault:()=>{a=!0}}),a||(e.isOpen=o,e.transitionRunning=!0,o&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,o=!0){this.panels.forEach(a=>{a.id!==e&&a.isOpen&&(a.isOpen=!1,a.transitionRunning=o)})}_findPanelById(e){return this.panels.find(o=>o.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(o=>{o.transitionRunning&&Bl(this._ngZone,o.panelDiv,o5,{animation:e,runningTransition:"stop",context:{direction:o.isOpen?"show":"hide"}}).subscribe(()=>{o.transitionRunning=!1;const{id:l}=o;o.isOpen?(o.shown.emit(),this.shown.emit(l)):(o.hidden.emit(),this.hidden.emit(l))})})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Kie),s.Y36(s.R0b),s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["ngb-accordion"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,kk,4),2&e){let l;s.iGM(l=s.CRH())&&(o.panels=l)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,o){2&e&&s.uIk("aria-multiselectable",!o.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,o){1&e&&(s.YNc(0,Dne,3,3,"ng-template",0,1,s.W1O),s.YNc(2,One,4,11,"ng-template",2)),2&e&&(s.xp6(2),s.Q6J("ngForOf",o.panels))},dependencies:function(){return[M2,s5,lr,Ui,zi,Qie]},encapsulation:2}),i})(),s5=(()=>{class i{constructor(e,o){this.accordion=e,this.panel=o}set ngbPanelToggle(e){e&&(this.panel=e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(O2),s.Y36(kk,9))},i.\u0275dir=s.lG2({type:i,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,o){1&e&&s.NdJ("click",function(){return o.accordion.toggle(o.panel.id)}),2&e&&(s.Ikx("disabled",o.panel.disabled),s.uIk("aria-expanded",o.panel.isOpen)("aria-controls",o.panel.id),s.ekj("collapsed",!o.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),i})(),a5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),l5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),u5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();var fv=(()=>(function(i){i.START="start",i.END="end"}(fv||(fv={})),fv))();const d5=({classList:i})=>i.contains("carousel-item-start")||i.contains("carousel-item-end"),ZS=i=>{i.remove("carousel-item-start"),i.remove("carousel-item-end")},Ok=i=>{ZS(i),i.remove("carousel-item-prev"),i.remove("carousel-item-next")},tre=(i,t,{direction:e})=>{const{classList:o}=i;return t?(d5(i)?ZS(o):(o.add("carousel-item-"+(e===fv.START?"next":"prev")),J1(i),o.add("carousel-item-"+e)),()=>{Ok(o),o.add("active")}):(ZS(o),Ok(o),void o.add("active"))},nre=(i,t,{direction:e})=>{const{classList:o}=i;return t?(d5(i)?ZS(o):o.add("carousel-item-"+e),()=>{Ok(o),o.remove("active")}):(ZS(o),Ok(o),void o.remove("active"))};let ire=(()=>{class i{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Ak))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rre=0,P2=(()=>{class i{constructor(e){this.tplRef=e,this.id="ngb-slide-"+rre++,this.slid=new s.vpe}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),i})(),h5=(()=>{class i{constructor(e,o,a,l,c){this._platformId=o,this._ngZone=a,this._cd=l,this._container=c,this.NgbSlideEventSource=ng,this._destroy$=new ii.x,this._interval$=new rs(0),this._mouseHover$=new rs(!1),this._focused$=new rs(!1),this._pauseOnHover$=new rs(!1),this._pauseOnFocus$=new rs(!1),this._pause$=new rs(!1),this._wrap$=new rs(!1),this.slide=new s.vpe,this.slid=new s.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(ng.ARROW_LEFT)}arrowRight(){this.focus(),this.next(ng.ARROW_RIGHT)}ngAfterContentInit(){bo(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=Fx([this.slide.pipe((0,dn.U)(o=>o.current),zp(this.activeId)),this._wrap$,this.slides.changes.pipe(zp(null))]).pipe((0,dn.U)(([o,a])=>{const l=this.slides.toArray(),c=this._getSlideIdxById(o);return a?l.length>1:c<l.length-1}),I0());Fx([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,dn.U)(([o,a,l,c,g,_,b])=>o||a&&l||c&&g||!b?0:_),I0(),kr(o=>o>0?Tk(o,o):V4),Br(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(ng.TIMER)))}),this.slides.changes.pipe(Br(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(e=>(i=>{qS.get(i)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(go(1)).subscribe(()=>{for(const{id:e}of this.slides){const o=this._getSlideElement(e);e===this.activeId?o.classList.add("active"):o.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,o){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),o)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),fv.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),fv.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,o,a){const l=this._transitionIds;if(l&&(l[0]!==e||l[1]!==this.activeId))return;let c=this._getSlideById(e);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:c.id,direction:o,paused:this._pause$.value,source:a});const g={animation:this.animation,runningTransition:"stop",context:{direction:o}},_=[],b=this._getSlideById(this.activeId);if(b){const F=Bl(this._ngZone,this._getSlideElement(b.id),nre,g);F.subscribe(()=>{b.slid.emit({isShown:!1,direction:o,source:a})}),_.push(F)}const T=this.activeId;this.activeId=c.id;const D=this._getSlideById(this.activeId),O=Bl(this._ngZone,this._getSlideElement(c.id),tre,g);O.subscribe(()=>{D?.slid.emit({isShown:!0,direction:o,source:a})}),_.push(O),Ek(..._).pipe(go(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:T,current:c.id,direction:o,paused:this._pause$.value,source:a})})}this._cd.markForCheck()}_getSlideEventDirection(e,o){return this._getSlideIdxById(e)>this._getSlideIdxById(o)?fv.END:fv.START}_getSlideById(e){return this.slides.find(o=>o.id===e)||null}_getSlideIdxById(e){const o=this._getSlideById(e);return null!=o?this.slides.toArray().indexOf(o):-1}_getNextSlide(e){const o=this.slides.toArray(),a=this._getSlideIdxById(e);return a===o.length-1?this.wrap?o[0].id:o[o.length-1].id:o[a+1].id}_getPrevSlide(e){const o=this.slides.toArray(),a=this._getSlideIdxById(e);return 0===a?this.wrap?o[o.length-1].id:o[0].id:o[a-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(ire),s.Y36(s.Lbi),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.SBq))},i.\u0275cmp=s.Xpm({type:i,selectors:[["ngb-carousel"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,P2,4),2&e){let l;s.iGM(l=s.CRH())&&(o.slides=l)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,o){1&e&&s.NdJ("keydown.arrowLeft",function(){return o.keyboard&&o.arrowLeft()})("keydown.arrowRight",function(){return o.keyboard&&o.arrowRight()})("mouseenter",function(){return o.mouseHover=!0})("mouseleave",function(){return o.mouseHover=!1})("focusin",function(){return o.focused=!0})("focusout",function(){return o.focused=!1}),2&e&&(s.uIk("aria-activedescendant","slide-"+o.activeId),s.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let t,e,o;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,o=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],t,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],o]},template:function(e,o){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Pne,1,5,"button",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,Fne,4,4,"div",3),s.qZA(),s.YNc(4,Lne,4,0,"button",4),s.YNc(5,Vne,4,0,"button",5)),2&e&&(s.ekj("visually-hidden",!o.showNavigationIndicators),s.xp6(1),s.Q6J("ngForOf",o.slides),s.xp6(2),s.Q6J("ngForOf",o.slides),s.xp6(1),s.Q6J("ngIf",o.showNavigationArrows),s.xp6(1),s.Q6J("ngIf",o.showNavigationArrows))},dependencies:[Ui,lr,zi],encapsulation:2,changeDetection:0}),i})();var ng=(()=>(function(i){i.TIMER="timer",i.ARROW_LEFT="arrowLeft",i.ARROW_RIGHT="arrowRight",i.INDICATOR="indicator"}(ng||(ng={})),ng))();let f5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),p5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();var no=(()=>(function(i){i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown"}(no||(no={})),no))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const m5=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function _5(i){const t=Array.from(i.querySelectorAll(m5)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let x5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn,M1]]}),i})(),M5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();class ow{constructor(t,e,o){this.nodes=t,this.viewRef=e,this.componentRef=o}}let Bre=(()=>{class i{constructor(e,o){this._el=e,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe(go(1)).subscribe(()=>{Bl(this._zone,this._el.nativeElement,(e,o)=>{o&&J1(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Bl(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,o){2&e&&(s.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),s.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),i})();class A5{close(t){}dismiss(t){}}class Hre{constructor(t,e,o,a){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=o,this._beforeDismiss=a,this._closed=new ii.x,this._dismissed=new ii.x,this._hidden=new ii.x,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,c)=>{this._resolve=l,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Br(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Br(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function n5(i){return i&&i.then}(e)?!1!==e&&this._dismiss(t):e.then(o=>{!1!==o&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():fn(void 0);t.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ek(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var YS=(()=>(function(i){i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC"}(YS||(YS={})),YS))();let Ure=(()=>{class i{constructor(e,o,a){this._document=e,this._elRef=o,this._zone=a,this._closed$=new ii.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new ii.x,this.hidden=new ii.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":D2(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(go(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,o={animation:this.animation,runningTransition:"stop"},c=Ek(Bl(this._zone,e,()=>e.classList.remove("show"),o),Bl(this._zone,this._dialogEl.nativeElement,()=>{},o));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const e={animation:this.animation,runningTransition:"continue"};Ek(Bl(this._zone,this._elRef.nativeElement,(l,c)=>{c&&J1(l),l.classList.add("show")},e),Bl(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Rs(e,"keydown").pipe(Br(this._closed$),Zr(a=>a.which===no.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(YS.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;Rs(this._dialogEl.nativeElement,"mousedown").pipe(Br(this._closed$),(0,qo.b)(()=>o=!1),kr(()=>Rs(e,"mouseup").pipe(Br(this._closed$),go(1))),Zr(({target:a})=>e===a)).subscribe(()=>{o=!0}),Rs(e,"click").pipe(Br(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(YS.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const o=e.querySelector("[ngbAutofocus]"),a=_5(e)[0];(o||a||e).focus()}}_restoreFocus(){const e=this._document.body,o=this._elWithFocus;let a;a=o&&o.focus&&e.contains(o)?o:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Bl(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(ve),s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(e,o){if(1&e&&s.Gf(Jne,7),2&e){let a;s.iGM(a=s.CRH())&&(o._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,o){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),s.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),s.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Rne,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,o){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),i})(),jre=(()=>{class i{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,a=o.style,{overflow:l,paddingRight:c}=a;if(e>0){const g=parseFloat(window.getComputedStyle(o).paddingRight);a.paddingRight=`${g+e}px`}return a.overflow="hidden",()=>{e>0&&(a.paddingRight=c),a.overflow=l}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),zre=(()=>{class i{constructor(e,o,a,l,c,g){this._applicationRef=e,this._injector=o,this._document=a,this._scrollBar=l,this._rendererFactory=c,this._ngZone=g,this._activeWindowCmptHasChanged=new ii.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((i,t,e,o=!1)=>{this._ngZone.runOutsideAngular(()=>{const a=Rs(t,"focusin").pipe(Br(e),(0,dn.U)(l=>l.target));Rs(t,"keydown").pipe(Br(e),Zr(l=>l.which===no.Tab),LA(a)).subscribe(([l,c])=>{const[g,_]=_5(t);(c===g||c===t)&&l.shiftKey&&(_.focus(),l.preventDefault()),c===_&&!l.shiftKey&&(g.focus(),l.preventDefault())}),o&&Rs(t,"click").pipe(Br(e),LA(a),(0,dn.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,o,a,l){const c=l.container instanceof HTMLElement?l.container:nw(l.container)?this._document.querySelector(l.container):this._document.body,g=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _=new A5,b=this._getContentRef(e,l.injector||o,a,_,l);let T=!1!==l.backdrop?this._attachBackdrop(e,c):void 0,D=this._attachWindowComponent(e,c,b),O=new Hre(D,b,T,l.beforeDismiss);return this._registerModalRef(O),this._registerWindowCmpt(D),O.hidden.pipe(go(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(g.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=F=>{O.close(F)},_.dismiss=F=>{O.dismiss(F)},this._applyWindowOptions(D.instance,l),1===this._modalRefs.length&&g.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,l),T.changeDetectorRef.detectChanges()),D.changeDetectorRef.detectChanges(),O}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(o=>o.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,o){let l=e.resolveComponentFactory(Bre).create(this._injector);return this._applicationRef.attachView(l.hostView),o.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,o,a){let c=e.resolveComponentFactory(Ure).create(this._injector,a.nodes);return this._applicationRef.attachView(c.hostView),o.appendChild(c.location.nativeElement),c}_applyWindowOptions(e,o){this._windowAttributes.forEach(a=>{nw(o[a])&&(e[a]=o[a])})}_applyBackdropOptions(e,o){this._backdropAttributes.forEach(a=>{nw(o[a])&&(e[a]=o[a])})}_getContentRef(e,o,a,l,c){return a?a instanceof s.Rgc?this._createFromTemplateRef(a,l):D2(a)?this._createFromString(a):this._createFromComponent(e,o,a,l,c):new ow([])}_createFromTemplateRef(e,o){const l=e.createEmbeddedView({$implicit:o,close(c){o.close(c)},dismiss(c){o.dismiss(c)}});return this._applicationRef.attachView(l),new ow([l.rootNodes],l)}_createFromString(e){const o=this._document.createTextNode(`${e}`);return new ow([[o]])}_createFromComponent(e,o,a,l,c){const g=e.resolveComponentFactory(a),_=s.zs3.create({providers:[{provide:A5,useValue:l}],parent:o}),b=g.create(_),T=b.location.nativeElement;return c.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new ow([[T]],b.hostView,b)}_setAriaHidden(e){const o=e.parentElement;o&&e!==this._document.body&&(Array.from(o.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,o)=>{e?o.setAttribute("aria-hidden",e):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const o=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(o,o)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const o=this._windowCmpts.indexOf(e);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(ve),s.LFG(jre),s.LFG(s.FYo),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Gre=(()=>{class i{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Ak))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Bk=(()=>{class i{constructor(e,o,a,l){this._moduleCFR=e,this._injector=o,this._modalStack=a,this._config=l}open(e,o={}){const a={...this._config,animation:this._config.animation,...o};return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s._Vd),s.LFG(s.zs3),s.LFG(zre),s.LFG(Gre))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),k5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Bk]}),i})(),N5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),z5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),q5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),Z5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),toe=(()=>{class i{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),noe=(()=>{class i{constructor(e,o){this._changeDetectorRef=o,this.contexts=[],this.disabled=!1,this.hover=new s.vpe,this.leave=new s.vpe,this.rateChange=new s.vpe(!0),this.onChange=a=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case no.ArrowDown:case no.ArrowLeft:this.update(this.rate-1);break;case no.ArrowUp:case no.ArrowRight:this.update(this.rate+1);break;case no.Home:this.update(0);break;case no.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate),e.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,o=!0){const a=S2(e,this.max,0);this.isInteractive()&&this.rate!==a&&(this.rate=a,this.rateChange.emit(this.rate)),o&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((o,a)=>o.fill=Math.round(100*S2(e-a,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(e,o)=>({fill:0,index:o}))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(toe),s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["ngb-rating"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,s.Rgc,5),2&e){let l;s.iGM(l=s.CRH())&&(o.starTemplateFromContent=l.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,o){1&e&&s.NdJ("blur",function(){return o.handleBlur()})("keydown",function(l){return o.handleKeyDown(l)})("mouseleave",function(){return o.reset()}),2&e&&(s.Ikx("tabindex",o.disabled?-1:0),s.uIk("aria-valuemax",o.max)("aria-valuenow",o.nextRate)("aria-valuetext",o.ariaValueText())("aria-disabled",!!o.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[s._Bn([{provide:ws,useExisting:(0,s.Gpc)(()=>i),multi:!0}]),s.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(s.YNc(0,kie,1,1,"ng-template",null,0,s.W1O),s.YNc(2,Rie,4,5,"ng-template",1)),2&e&&(s.xp6(2),s.Q6J("ngForOf",o.contexts))},dependencies:[Ui,lr],encapsulation:2,changeDetection:0}),i})(),$5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),W5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),Y5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),K5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();new s.OlP("live announcer delay",{providedIn:"root",factory:function ooe(){return 100}});let J5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),Q5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const soe=[a5,l5,u5,f5,p5,x5,M5,k5,N5,Q5,z5,q5,Z5,$5,W5,Y5,K5,J5];let aoe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[soe,a5,l5,u5,f5,p5,x5,M5,k5,N5,Q5,z5,q5,Z5,$5,W5,Y5,K5,J5]}),i})(),Le=(()=>{class i{static addClass(e,o){e.classList?e.classList.add(o):e.className+=" "+o}static addMultipleClasses(e,o){if(e.classList){let a=o.trim().split(" ");for(let l=0;l<a.length;l++)e.classList.add(a[l])}else{let a=o.split(" ");for(let l=0;l<a.length;l++)e.className+=" "+a[l]}}static removeClass(e,o){e.classList?e.classList.remove(o):e.className=e.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,o){return e.classList?e.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(o){return o!==e})}static find(e,o){return Array.from(e.querySelectorAll(o))}static findSingle(e,o){return e?e.querySelector(o):null}static index(e){let o=e.parentNode.childNodes,a=0;for(var l=0;l<o.length;l++){if(o[l]==e)return a;1==o[l].nodeType&&a++}return-1}static indexWithinGroup(e,o){let a=e.parentNode?e.parentNode.childNodes:[],l=0;for(var c=0;c<a.length;c++){if(a[c]==e)return l;a[c].attributes&&a[c].attributes[o]&&1==a[c].nodeType&&l++}return-1}static relativePosition(e,o){let a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const l=o.offsetHeight,c=o.getBoundingClientRect(),g=this.getViewport();let _,b;c.top+l+a.height>g.height?(_=-1*a.height,e.style.transformOrigin="bottom",c.top+_<0&&(_=-1*c.top)):(_=l,e.style.transformOrigin="top"),b=a.width>g.width?-1*c.left:c.left+a.width>g.width?-1*(c.left+a.width-g.width):0,e.style.top=_+"px",e.style.left=b+"px"}static absolutePosition(e,o){let F,j,a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),l=a.height,c=a.width,g=o.offsetHeight,_=o.offsetWidth,b=o.getBoundingClientRect(),T=this.getWindowScrollTop(),D=this.getWindowScrollLeft(),O=this.getViewport();b.top+g+l>O.height?(F=b.top+T-l,e.style.transformOrigin="bottom",F<0&&(F=T)):(F=g+b.top+T,e.style.transformOrigin="top"),j=b.left+c>O.width?Math.max(0,b.left+D+_-c):b.left+D,e.style.top=F+"px",e.style.left=j+"px"}static getParents(e,o=[]){return null===e.parentNode?o:this.getParents(e.parentNode,o.concat([e.parentNode]))}static getScrollableParents(e){let o=[];if(e){let a=this.getParents(e);const l=/(auto|scroll)/,c=g=>{let _=window.getComputedStyle(g,null);return l.test(_.getPropertyValue("overflow"))||l.test(_.getPropertyValue("overflowX"))||l.test(_.getPropertyValue("overflowY"))};for(let g of a){let _=1===g.nodeType&&g.dataset.scrollselectors;if(_){let b=_.split(",");for(let T of b){let D=this.findSingle(g,T);D&&c(D)&&o.push(D)}}9!==g.nodeType&&c(g)&&o.push(g)}}return o}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let o=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",o}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let o=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",o}static getHiddenElementDimensions(e){let o={};return e.style.visibility="hidden",e.style.display="block",o.width=e.offsetWidth,o.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",o}static scrollInView(e,o){let a=getComputedStyle(e).getPropertyValue("borderTopWidth"),l=a?parseFloat(a):0,c=getComputedStyle(e).getPropertyValue("paddingTop"),g=c?parseFloat(c):0,_=e.getBoundingClientRect(),T=o.getBoundingClientRect().top+document.body.scrollTop-(_.top+document.body.scrollTop)-l-g,D=e.scrollTop,O=e.clientHeight,F=this.getOuterHeight(o);T<0?e.scrollTop=D+T:T+F>O&&(e.scrollTop=D+T-O+F)}static fadeIn(e,o){e.style.opacity=0;let a=+new Date,l=0,c=function(){l=+e.style.opacity.replace(",",".")+((new Date).getTime()-a)/o,e.style.opacity=l,a=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(e,o){var a=1,g=50/o;let _=setInterval(()=>{(a-=g)<=0&&(a=0,clearInterval(_)),e.style.opacity=a},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,o){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(e,o)}static getOuterWidth(e,o){let a=e.offsetWidth;if(o){let l=getComputedStyle(e);a+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return a}static getHorizontalPadding(e){let o=getComputedStyle(e);return parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)}static getHorizontalMargin(e){let o=getComputedStyle(e);return parseFloat(o.marginLeft)+parseFloat(o.marginRight)}static innerWidth(e){let o=e.offsetWidth,a=getComputedStyle(e);return o+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),o}static width(e){let o=e.offsetWidth,a=getComputedStyle(e);return o-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),o}static getInnerHeight(e){let o=e.offsetHeight,a=getComputedStyle(e);return o+=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),o}static getOuterHeight(e,o){let a=e.offsetHeight;if(o){let l=getComputedStyle(e);a+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return a}static getHeight(e){let o=e.offsetHeight,a=getComputedStyle(e);return o-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),o}static getWidth(e){let o=e.offsetWidth,a=getComputedStyle(e);return o-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),o}static getViewport(){let e=window,o=document,a=o.documentElement,l=o.getElementsByTagName("body")[0];return{width:e.innerWidth||a.clientWidth||l.clientWidth,height:e.innerHeight||a.clientHeight||l.clientHeight}}static getOffset(e){var o=e.getBoundingClientRect();return{top:o.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:o.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,o){let a=e.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(o,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,o){if(this.isElement(o))o.appendChild(e);else{if(!o.el||!o.el.nativeElement)throw"Cannot append "+o+" to "+e;o.el.nativeElement.appendChild(e)}}static removeChild(e,o){if(this.isElement(o))o.removeChild(e);else{if(!o.el||!o.el.nativeElement)throw"Cannot remove "+e+" from "+o;o.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let o=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let o=document.createElement("div");o.className="p-scrollbar-measure",document.body.appendChild(o);let a=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),this.calculatedScrollbarWidth=a,a}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let o=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=o,o}static invokeElementMethod(e,o,a){e[o].apply(e,a)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),o=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:o[1]||"",version:o[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let o=i.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),a=[];for(let l of o)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&a.push(l);return a}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return i.zindex=1e3,i.calculatedScrollbarWidth=null,i.calculatedScrollbarHeight=null,i})();class Hk{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Le.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Zm=(()=>{class i{constructor(e,o,a){this.el=e,this.zone=o,this.config=a}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let o=this.getInk();if(!o||"none"===getComputedStyle(o,null).display)return;if(Le.removeClass(o,"p-ink-active"),!Le.getHeight(o)&&!Le.getWidth(o)){let g=Math.max(Le.getOuterWidth(this.el.nativeElement),Le.getOuterHeight(this.el.nativeElement));o.style.height=g+"px",o.style.width=g+"px"}let a=Le.getOffset(this.el.nativeElement),l=e.pageX-a.left+document.body.scrollTop-Le.getWidth(o)/2,c=e.pageY-a.top+document.body.scrollLeft-Le.getHeight(o)/2;o.style.top=c+"px",o.style.left=l+"px",Le.addClass(o,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&Le.removeClass(e,"p-ink-active")}onAnimationEnd(e){Le.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),Le.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(nf,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),i})(),rg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})(),Uk=(()=>{class i{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Le.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let o=this.label?"p-button-icon-"+this.iconPos:null;o&&Le.addClass(e,o);let a=this.getIconClass();a&&Le.addMultipleClasses(e,a);let l=Le.findSingle(this.el.nativeElement,".p-button-label");l?this.el.nativeElement.insertBefore(e,l):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=Le.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=Le.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(Le.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),i})(),KS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,rg]}),i})();const X5=["container"],coe=function(i,t,e,o){return{"pi-info-circle":i,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":o}};function uoe(i,t){if(1&i&&(s.ynx(0),s._UZ(1,"span",6),s.TgZ(2,"div",7)(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA()(),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),s.Q6J("ngClass",s.l5B(5,coe,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),s.xp6(3),s.Oqu(e.message.summary),s.xp6(2),s.Oqu(e.message.detail)}}function doe(i,t){1&i&&s.GkF(0)}function hoe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onCloseIconClick(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onCloseIconClick(a))}),s._UZ(1,"span",11),s.qZA()}}const foe=function(i){return[i,"p-toast-message"]},poe=function(i,t,e,o){return{showTransformParams:i,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:o}},goe=function(i){return{value:"visible",params:i}},moe=function(i){return{$implicit:i}};function _oe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onMessageClose(a))})("@toastAnimation.start",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onAnimationStart(a))})("@toastAnimation.done",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onAnimationEnd(a))}),s.qZA()}if(2&i){const e=t.$implicit,o=t.index,a=s.oxw();s.Q6J("message",e)("index",o)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}let yoe=(()=>{class i{constructor(e){this.zone=e,this.onClose=new s.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-toastItem"]],viewQuery:function(e,o){if(1&e&&s.Gf(X5,5),2&e){let a;s.iGM(a=s.CRH())&&(o.containerViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,uoe,7,10,"ng-container",3),s.YNc(4,doe,1,0,"ng-container",4),s.YNc(5,hoe,2,0,"button",5),s.qZA()()),2&e&&(s.Tol(o.message.styleClass),s.Q6J("ngClass",s.VKq(10,foe,"p-toast-message-"+o.message.severity))("@messageState",s.VKq(17,goe,s.l5B(12,poe,o.showTransformOptions,o.hideTransformOptions,o.showTransitionOptions,o.hideTransitionOptions))),s.uIk("id",o.message.id),s.xp6(2),s.Q6J("ngClass",o.message.contentStyleClass),s.xp6(1),s.Q6J("ngIf",!o.template),s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.VKq(19,moe,o.message)),s.xp6(1),s.Q6J("ngIf",!1!==o.message.closable))},dependencies:[wr,zi,lr,Zm],encapsulation:2,data:{animation:[Ks("messageState",[to("visible",Kn({transform:"translateY(0)",opacity:1})),nr("void => *",[Kn({transform:"{{showTransformParams}}",opacity:0}),yr("{{showTransitionParams}}")]),nr("* => void",[yr("{{hideTransitionParams}}",Kn({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),i})(),JS=(()=>{class i{constructor(e,o,a){this.messageService=e,this.cd=o,this.config=a,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.vpe,this.id=T1()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const o=e.filter(a=>this.canAdd(a));this.add(o)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let o=this.key===e.key;return o&&this.preventOpenDuplicates&&(o=!this.containsMessage(this.messages,e)),o&&this.preventDuplicates&&(o=!this.containsMessage(this.messagesArchieve,e)),o}containsMessage(e,o){return!!e&&null!=e.find(a=>a.summary===o.summary&&a.detail==o.detail&&a.severity===o.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&Ys.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&Pn.isEmpty(this.messages)&&Ys.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let o in this.breakpoints){let a="";for(let l in this.breakpoints[o])a+=l+":"+this.breakpoints[o][l]+" !important;";e+=`\n                    @media screen and (max-width: ${o}) {\n                        .p-toast[${this.id}] {\n                           ${a}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Ys.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Vm),s.Y36(s.sBO),s.Y36(nf))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-toast"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,Da,4),2&e){let l;s.iGM(l=s.CRH())&&(o.templates=l)}},viewQuery:function(e,o){if(1&e&&s.Gf(X5,5),2&e){let a;s.iGM(a=s.CRH())&&(o.containerViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,_oe,1,8,"p-toastItem",2),s.qZA()),2&e&&(s.Tol(o.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+o.position)("ngStyle",o.style),s.xp6(2),s.Q6J("ngForOf",o.messages))},dependencies:[wr,Ui,Rr,yoe],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Ks("toastAnimation",[nr(":enter, :leave",[mN("@*",gN())])])]},changeDetection:0}),i})(),voe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,rg,Tu]}),i})();function boe(i,t){if(1&i&&(s.TgZ(0,"div",20)(1,"div"),s._UZ(2,"img",21),s.qZA(),s.TgZ(3,"div",22),s._uU(4),s.qZA(),s.TgZ(5,"div"),s._uU(6),s.qZA(),s.TgZ(7,"div"),s._uU(8),s.qZA()()),2&i){const e=t.$implicit;s.xp6(2),s.s9C("src",e.placeholderImg,s.LSH),s.xp6(2),s.Oqu(e.title),s.xp6(2),s.Oqu(e.quantity),s.xp6(2),s.Oqu(e.totalPrice)}}function woe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",13)(1,"h4",14),s._uU(2,"Cart"),s.qZA(),s.TgZ(3,"button",15),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.KtG(l.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",16),s.YNc(5,boe,9,4,"div",17),s.qZA(),s.TgZ(6,"div",18)(7,"a",19),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.KtG(l.close("Close click"))}),s._uU(8,"View My Shopping Cart"),s.qZA()()}if(2&i){const e=s.oxw();s.xp6(5),s.Q6J("ngForOf",e.items)}}let sw=(()=>{class i{constructor(e,o,a,l,c,g,_){this.auth=e,this.http=o,this.router=a,this.productService=l,this.messageService=c,this.modalService=g,this.firebaseService=_,this.userID="",this.checkLoggedIn=!1,this.displayedColumns=["position","name","weight","symbol"],this.dataSource=this.items,this.styling={width:"470px",top:"10px !important"},this.currentUser=this.auth.getCurrentUserData(),this.checkLoggedIn=!!this.auth.isLoggedIn}ngOnInit(){let e=JSON.parse(window.localStorage.getItem("user"));this.userID=e.uid,console.log(e.uid),this.firebaseService.getCart(this.currentUser.email).subscribe(o=>{this.items=o})}goToFAQ(){this.router.navigate(["/register"])}goToHome(){this.router.navigate(["/home/"+this.userID])}onRowSelect(e){this.messageService.add({severity:"info",summary:"Product Selected",detail:e.data.name})}openModal(e){this.modalService.open(e,{backdropClass:"light-blue-backdrop"})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu),s.Y36(ko),s.Y36(tr),s.Y36(N0),s.Y36(Vm),s.Y36(Bk),s.Y36(jp))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-header-normal"]],decls:26,vars:0,consts:[[3,"click"],["target",""],[1,"nav-items",2,"display","flex"],[1,"middle-nav"],[2,"margin-top","5px"],["routerLink","/contact","routerLinkActive","active"],["src","https://cdn.lordicon.com/ndydpcaq.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer"],["src","https://cdn.lordicon.com/uvextprq.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer"],["src","https://cdn.lordicon.com/aoggitwj.json","trigger","loop-on-hover","colors","primary:#f6f6f6",1,"cart-icon",2,"width","32px","height","32px","cursor","pointer",3,"click"],["content",""],["routerLink","/user-profile"],["src","https://cdn.lordicon.com/dklbhvrt.json","trigger","loop-on-hover","colors","primary:#f6f6f6",2,"width","32px","height","32px","cursor","pointer"],[1,"material-symbols-outlined",2,"margin","0px","cursor","pointer"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","cart-items",4,"ngFor","ngForOf"],[1,"modal-footer"],["routerLink","/cart",3,"click"],[1,"cart-items"],["alt","itemImg",3,"src"],[1,"item-title"]],template:function(e,o){if(1&e){const a=s.EpF();s.TgZ(0,"nav")(1,"h2",0,1),s.NdJ("click",function(){return o.goToHome()}),s._uU(3,"MERC"),s.qZA(),s.TgZ(4,"ul",2)(5,"div",3)(6,"li",4)(7,"a",5),s._uU(8,"Contact Us"),s.qZA()()(),s.TgZ(9,"li"),s._UZ(10,"lord-icon",6),s.qZA(),s.TgZ(11,"li")(12,"a"),s._UZ(13,"lord-icon",7),s.qZA()(),s.TgZ(14,"li")(15,"lord-icon",8),s.NdJ("click",function(){s.CHM(a);const c=s.MAs(18);return s.KtG(o.openModal(c))}),s.qZA()(),s._UZ(16,"p-toast"),s.YNc(17,woe,9,1,"ng-template",null,9,s.W1O),s.TgZ(19,"li")(20,"a",10),s._UZ(21,"lord-icon",11),s.qZA()(),s.TgZ(22,"li")(23,"a",0),s.NdJ("click",function(){return o.auth.logout()}),s.TgZ(24,"span",12),s._uU(25," logout "),s.qZA()()()()()}},dependencies:[Ui,Yx,tB,JS],styles:['nav{display:flex;justify-content:space-between;padding:1rem 2rem;background:#005DE8}nav h2{color:#f5f5f5;text-align:center;cursor:pointer;margin:0}.nav-items{list-style-type:none;margin:0}.nav-items li{margin:0 8px}.middle-nav{display:flex;flex-direction:row;margin:0 auto;float:center}.middle-nav li{margin:10px 10px 0}.middle-nav li a{text-decoration:none;color:#fff}.material-symbols-outlined{overflow-y:hidden;color:#fff;font-size:30px;margin:5px 10px 0;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}@media only screen and (max-width: 600px){nav{flex-direction:column}nav ul{flex-direction:column;padding-top:.5rem}nav li{padding:.5rem 0}}.cart-img{width:100px}.cart-dets-container{display:flex;margin:15px}.cart-dets{display:flex;flex-direction:column;justify-content:space-around;margin-left:15px}.shoppingCart{margin-bottom:10px}.shoppingCart a{text-decoration:none;color:#1f1f1f}.shoppingCart a:hover{color:#005de8;cursor:pointer;font-weight:600;text-decoration:underline}.oldPrice{text-decoration:line-through;color:#ccc}.discountedPrice{color:#005de8;font-size:larger;font-weight:600}.cart-items{display:flex;justify-content:space-between;text-align:center}.cart-items img{width:100px}.cart-items div{margin:auto}.item-title{width:150px}\n',".light-blue-backdrop{background-color:#5cb3fd}\n","\n      .p-overlaypanel .p-overlaypanel-close {\n        margin: 20px 20px 0 0;\n      }\n\n    "],encapsulation:2}),i})();function Coe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",12)(1,"div",13),s._UZ(2,"i",14),s.TgZ(3,"h4"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"div",15)(8,"div",16)(9,"button",17),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onConfirm())}),s.qZA()(),s.TgZ(10,"div",16)(11,"button",18),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onReject())}),s.qZA()()()()}if(2&i){const e=t.$implicit;s.xp6(4),s.Oqu(e.summary),s.xp6(2),s.Oqu(e.detail)}}function Toe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",12)(1,"div",13),s._UZ(2,"i",14),s.TgZ(3,"h4"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"div",15)(8,"div",16)(9,"button",17),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onConfirm())}),s.qZA()(),s.TgZ(10,"div",16)(11,"button",18),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onReject())}),s.qZA()()()()}if(2&i){const e=t.$implicit;s.xp6(4),s.Oqu(e.summary),s.xp6(2),s.Oqu(e.detail)}}function Eoe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"ul",19)(1,"li",20)(2,"div")(3,"div",21)(4,"div",22),s._UZ(5,"img",23),s.qZA(),s.TgZ(6,"p"),s._uU(7),s.qZA()()()(),s.TgZ(8,"li",24),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.slide("profile"))}),s.TgZ(9,"a",25),s._UZ(10,"img",26),s._uU(11," Profile "),s.qZA()(),s.TgZ(12,"li")(13,"a",27),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.slide("cards"))}),s._UZ(14,"img",28),s._uU(15," Credit "),s.qZA()(),s.TgZ(16,"li")(17,"a",27),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.slide("address"))}),s._UZ(18,"img",29),s._uU(19," Addresses "),s.qZA()(),s.TgZ(20,"li")(21,"a",27),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.slide("purchases"))}),s._UZ(22,"img",30),s._uU(23," My Purchases "),s.qZA()(),s.TgZ(24,"li",20)(25,"a",27),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.authService.logout())}),s._UZ(26,"img",31),s._uU(27," Log out "),s.qZA()()()}if(2&i){const e=s.oxw();s.xp6(5),s.s9C("src",e.userImage?e.userImage:"/assets/img/account/dummy.png",s.LSH),s.s9C("alt",e.userName),s.xp6(2),s.Oqu(e.userName)}}const xoe=function(i){return{width:i}};function Soe(i,t){if(1&i&&(s.TgZ(0,"div",50)(1,"div",51),s._uU(2),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(1),s.Q6J("ngStyle",s.VKq(3,xoe,e.percentage+"%")),s.uIk("aria-valuenow",e.percentage),s.xp6(1),s.hij(" ",e.percentage,"% ")}}function Doe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",4)(1,"div",36)(2,"div")(3,"div",37),s._UZ(4,"img",23),s.TgZ(5,"div",38)(6,"label")(7,"input",39),s.NdJ("change",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.selectFile(a))}),s.qZA()(),s.TgZ(8,"button",40),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.upload())}),s._uU(9," Upload "),s.qZA(),s.YNc(10,Soe,3,5,"div",41),s.qZA()(),s.TgZ(11,"div",42)(12,"div",43)(13,"p",44),s._uU(14,"Name"),s.qZA(),s.TgZ(15,"p"),s._uU(16," : "),s.qZA(),s.TgZ(17,"input",45,46),s.NdJ("ngModelChange",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.userName=a)}),s.qZA()(),s.TgZ(19,"span",43)(20,"p",44),s._uU(21,"Email"),s.qZA(),s.TgZ(22,"p"),s._uU(23," : "),s.qZA(),s.TgZ(24,"strong"),s._uU(25),s.qZA()(),s.TgZ(26,"span",43)(27,"p",44),s._uU(28,"Address"),s.qZA(),s.TgZ(29,"p"),s._uU(30," : "),s.qZA(),s.TgZ(31,"textarea",47,48),s._uU(33),s.qZA()()()(),s.TgZ(34,"div")(35,"button",49),s.NdJ("click",function(){s.CHM(e);const a=s.MAs(32),l=s.MAs(18),c=s.oxw(2);return s.KtG(c.showConfirm(a.value,l.value))}),s.qZA()()()()}if(2&i){const e=s.oxw(2);s.xp6(4),s.s9C("src",e.userImage?e.userImage:"/assets/img/account/dummy.png",s.LSH),s.s9C("alt",e.userName),s.xp6(4),s.Q6J("disabled",!e.selectedFiles),s.xp6(2),s.Q6J("ngIf",e.currentFileUpload),s.xp6(7),s.Q6J("ngModel",e.userName),s.xp6(8),s.Oqu(e.userEmail),s.xp6(8),s.Oqu(e.userAddress)}}function Ioe(i,t){if(1&i&&(s.TgZ(0,"div",32)(1,"div",33)(2,"h1",34),s._uU(3,"User Profile"),s.qZA()(),s.YNc(4,Doe,36,7,"div",35),s.qZA()),2&i){const e=s.oxw();s.xp6(4),s.Q6J("ngIf",e.authService.userData)}}function Moe(i,t){1&i&&(s.TgZ(0,"div"),s._uU(1," -----Visa----- All Visa card numbers start with a 4. New cards have 16 digits. Old cards have 13. For example, 4444444444444444. -----Mastercard----- MasterCard numbers either start with the numbers 51 through 55 or with the numbers 2221 through 2720. All have 16 digits. For example, 5124123412341244. credit card regex -> https://www.regular-expressions.info/creditcard.html "),s.qZA())}function Aoe(i,t){1&i&&s._UZ(0,"img",103)}function koe(i,t){1&i&&(s.TgZ(0,"div"),s._UZ(1,"img",104),s.qZA())}function Ooe(i,t){if(1&i&&(s.TgZ(0,"div"),s.YNc(1,Moe,2,0,"div",101),s.YNc(2,Aoe,1,0,"ng-template",null,102,s.W1O),s.YNc(4,koe,2,0,"div",66),s.qZA()),2&i){const e=s.MAs(3),o=s.oxw(3);s.xp6(1),s.Q6J("ngIf","visa"===o.card)("ngIfThen",e),s.xp6(3),s.Q6J("ngIf","mastercard"===o.card)}}function Roe(i,t){1&i&&(s.TgZ(0,"div"),s._uU(1," -----Visa----- All Visa card numbers start with a 4. New cards have 16 digits. Old cards have 13. For example, 4444444444444444. -----Mastercard----- MasterCard numbers either start with the numbers 51 through 55 or with the numbers 2221 through 2720. All have 16 digits. For example, 5124123412341244. credit card regex -> https://www.regular-expressions.info/creditcard.html "),s.qZA())}function Poe(i,t){1&i&&s._UZ(0,"img",103)}function Noe(i,t){1&i&&(s.TgZ(0,"div"),s._UZ(1,"img",104),s.qZA())}function Foe(i,t){if(1&i&&(s.TgZ(0,"div"),s.YNc(1,Roe,2,0,"div",101),s.YNc(2,Poe,1,0,"ng-template",null,102,s.W1O),s.YNc(4,Noe,2,0,"div",66),s.qZA()),2&i){const e=s.MAs(3),o=s.oxw(3);s.xp6(1),s.Q6J("ngIf","visa"===o.card1)("ngIfThen",e),s.xp6(3),s.Q6J("ngIf","mastercard"===o.card1)}}function Loe(i,t){1&i&&(s.TgZ(0,"div"),s._uU(1," -----Visa----- All Visa card numbers start with a 4. New cards have 16 digits. Old cards have 13. For example, 4444444444444444. -----Mastercard----- MasterCard numbers either start with the numbers 51 through 55 or with the numbers 2221 through 2720. All have 16 digits. For example, 5124123412341244. credit card regex -> https://www.regular-expressions.info/creditcard.html "),s.qZA())}function Voe(i,t){1&i&&s._UZ(0,"img",103)}function Boe(i,t){1&i&&(s.TgZ(0,"div"),s._UZ(1,"img",104),s.qZA())}function Hoe(i,t){if(1&i&&(s.TgZ(0,"div"),s.YNc(1,Loe,2,0,"div",101),s.YNc(2,Voe,1,0,"ng-template",null,102,s.W1O),s.YNc(4,Boe,2,0,"div",66),s.qZA()),2&i){const e=s.MAs(3),o=s.oxw(3);s.xp6(1),s.Q6J("ngIf","visa"===o.card2)("ngIfThen",e),s.xp6(3),s.Q6J("ngIf","mastercard"===o.card2)}}function Uoe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",59)(1,"h4",60),s._uU(2,"Add card"),s.qZA(),s.TgZ(3,"button",61),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.KtG(l.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",62)(5,"div",63)(6,"input",64,65),s.NdJ("keyup",function(){s.CHM(e);const a=s.MAs(7),l=s.oxw(2);return s.KtG(l.keyup(a.value))}),s.qZA(),s.YNc(8,Ooe,5,3,"div",66),s.YNc(9,Foe,5,3,"div",66),s.YNc(10,Hoe,5,3,"div",66),s.TgZ(11,"div",67)(12,"div",68)(13,"select",69,70)(15,"option",71),s._uU(16,"January"),s.qZA(),s.TgZ(17,"option",72),s._uU(18,"February"),s.qZA(),s.TgZ(19,"option",73),s._uU(20,"March"),s.qZA(),s.TgZ(21,"option",74),s._uU(22,"April"),s.qZA(),s.TgZ(23,"option",75),s._uU(24,"May"),s.qZA(),s.TgZ(25,"option",76),s._uU(26,"June"),s.qZA(),s.TgZ(27,"option",77),s._uU(28,"July"),s.qZA(),s.TgZ(29,"option",78),s._uU(30,"August"),s.qZA(),s.TgZ(31,"option",79),s._uU(32,"September"),s.qZA(),s.TgZ(33,"option",80),s._uU(34,"October"),s.qZA(),s.TgZ(35,"option",81),s._uU(36,"November"),s.qZA(),s.TgZ(37,"option",82),s._uU(38,"December"),s.qZA()()(),s.TgZ(39,"div",83)(40,"select",84,85)(42,"option",86),s._uU(43,"2023"),s.qZA(),s.TgZ(44,"option",87),s._uU(45,"2024"),s.qZA(),s.TgZ(46,"option",88),s._uU(47,"2025"),s.qZA(),s.TgZ(48,"option",89),s._uU(49,"2026"),s.qZA(),s.TgZ(50,"option",90),s._uU(51,"2027"),s.qZA(),s.TgZ(52,"option",91),s._uU(53,"2028"),s.qZA(),s.TgZ(54,"option",92),s._uU(55,"2029"),s.qZA()()()(),s.TgZ(56,"div",93)(57,"div",94),s._UZ(58,"input",95,96),s.TgZ(60,"div",97)(61,"p"),s._uU(62,"3 or 4 digits usually found "),s._UZ(63,"br"),s._uU(64," on the signature strip"),s.qZA()()()()(),s.TgZ(65,"div",98)(66,"button",99),s.NdJ("click",function(){s.CHM(e);const a=s.MAs(7),l=s.MAs(14),c=s.MAs(41),g=s.MAs(59),_=s.oxw(2);return s.KtG(_.saveCardDetails(a.value,l.value,c.value,g.value))}),s._uU(67),s.qZA(),s.TgZ(68,"button",100),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.KtG(l.close("Close click"))}),s._uU(69,"Close"),s.qZA()()()}if(2&i){const e=s.oxw(2);s.xp6(8),s.Q6J("ngIf",1==e.unusedID),s.xp6(1),s.Q6J("ngIf",2==e.unusedID),s.xp6(1),s.Q6J("ngIf",3==e.unusedID),s.xp6(57),s.Oqu(e.savedStatus)}}function joe(i,t){if(1&i&&(s.TgZ(0,"div")(1,"p",117),s._uU(2),s.qZA()()),2&i){const e=t.$implicit;s.xp6(2),s.hij("",e,"\xa0 \xa0 \xa0")}}function zoe(i,t){1&i&&(s.TgZ(0,"div"),s._uU(1," -----Visa----- All Visa card numbers start with a 4. New cards have 16 digits. Old cards have 13. For example, 4444444444444444. -----Mastercard----- MasterCard numbers either start with the numbers 51 through 55 or with the numbers 2221 through 2720. All have 16 digits. For example, 5124123412341244. credit card regex -> https://www.regular-expressions.info/creditcard.html "),s.qZA())}function Goe(i,t){1&i&&s._UZ(0,"img",118)}function qoe(i,t){1&i&&(s.TgZ(0,"div"),s._UZ(1,"img",119),s.qZA())}function Zoe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",105)(1,"div",106)(2,"div"),s._UZ(3,"img",107),s.TgZ(4,"button",108),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.deleteCard("1"))}),s.TgZ(5,"span",109),s._uU(6,"delete"),s.qZA()()(),s.TgZ(7,"div",110)(8,"label"),s._uU(9,"Card Number"),s.qZA(),s.TgZ(10,"div",111),s.YNc(11,joe,3,1,"div",112),s.qZA(),s.TgZ(12,"div",113)(13,"div",114)(14,"label"),s._uU(15,"Exp. Mth"),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA()(),s.TgZ(18,"div",115)(19,"label"),s._uU(20,"Exp. Year"),s.qZA(),s.TgZ(21,"p"),s._uU(22),s.qZA()(),s.TgZ(23,"div",116)(24,"label"),s._uU(25,"CVV"),s.qZA(),s.TgZ(26,"p"),s._uU(27),s.qZA()()(),s.TgZ(28,"div"),s.YNc(29,zoe,2,0,"div",101),s.YNc(30,Goe,1,0,"ng-template",null,102,s.W1O),s.YNc(32,qoe,2,0,"div",66),s.qZA()()()()}if(2&i){const e=s.MAs(31),o=s.oxw(2);s.xp6(11),s.Q6J("ngForOf",o.cardNum),s.xp6(6),s.Oqu(o.cardExpMonth),s.xp6(5),s.Oqu(o.cardExpYear),s.xp6(5),s.Oqu(o.cardCVV),s.xp6(2),s.Q6J("ngIf","visa"===o.card)("ngIfThen",e),s.xp6(3),s.Q6J("ngIf","mastercard"===o.card)}}function $oe(i,t){if(1&i&&(s.TgZ(0,"div")(1,"p",117),s._uU(2),s.qZA()()),2&i){const e=t.$implicit;s.xp6(2),s.hij("",e,"\xa0 \xa0 \xa0")}}function Woe(i,t){1&i&&(s.TgZ(0,"div"),s._uU(1," -----Visa----- All Visa card numbers start with a 4. New cards have 16 digits. Old cards have 13. For example, 4444444444444444. -----Mastercard----- MasterCard numbers either start with the numbers 51 through 55 or with the numbers 2221 through 2720. All have 16 digits. For example, 5124123412341244. credit card regex -> https://www.regular-expressions.info/creditcard.html "),s.qZA())}function Yoe(i,t){1&i&&s._UZ(0,"img",118)}function Koe(i,t){1&i&&(s.TgZ(0,"div"),s._UZ(1,"img",119),s.qZA())}function Joe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",120)(1,"div",106)(2,"div"),s._UZ(3,"img",107),s.TgZ(4,"button",108),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.deleteCard("2"))}),s.TgZ(5,"span",109),s._uU(6,"delete"),s.qZA()()(),s.TgZ(7,"div",110)(8,"label"),s._uU(9,"Card Number"),s.qZA(),s.TgZ(10,"div",111),s.YNc(11,$oe,3,1,"div",112),s.qZA(),s.TgZ(12,"div",113)(13,"div",114)(14,"label"),s._uU(15,"Exp. Mth"),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA()(),s.TgZ(18,"div",115)(19,"label"),s._uU(20,"Exp. Year"),s.qZA(),s.TgZ(21,"p"),s._uU(22),s.qZA()(),s.TgZ(23,"div",116)(24,"label"),s._uU(25,"CVV"),s.qZA(),s.TgZ(26,"p"),s._uU(27),s.qZA()()(),s.TgZ(28,"div"),s.YNc(29,Woe,2,0,"div",101),s.YNc(30,Yoe,1,0,"ng-template",null,102,s.W1O),s.YNc(32,Koe,2,0,"div",66),s.qZA()()()()}if(2&i){const e=s.MAs(31),o=s.oxw(2);s.xp6(11),s.Q6J("ngForOf",o.cardNum1),s.xp6(6),s.Oqu(o.cardExpMonth1),s.xp6(5),s.Oqu(o.cardExpYear1),s.xp6(5),s.Oqu(o.cardCVV1),s.xp6(2),s.Q6J("ngIf","visa"===o.card1)("ngIfThen",e),s.xp6(3),s.Q6J("ngIf","mastercard"===o.card1)}}function Qoe(i,t){if(1&i&&(s.TgZ(0,"div")(1,"p",117),s._uU(2),s.qZA()()),2&i){const e=t.$implicit;s.xp6(2),s.hij("",e,"\xa0 \xa0 \xa0")}}function Xoe(i,t){1&i&&(s.TgZ(0,"div"),s._uU(1," -----Visa----- All Visa card numbers start with a 4. New cards have 16 digits. Old cards have 13. For example, 4444444444444444. -----Mastercard----- MasterCard numbers either start with the numbers 51 through 55 or with the numbers 2221 through 2720. All have 16 digits. For example, 5124123412341244. credit card regex -> https://www.regular-expressions.info/creditcard.html "),s.qZA())}function ese(i,t){1&i&&s._UZ(0,"img",118)}function tse(i,t){1&i&&(s.TgZ(0,"div"),s._UZ(1,"img",119),s.qZA())}function nse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",121)(1,"div",106)(2,"div"),s._UZ(3,"img",107),s.TgZ(4,"button",108),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.deleteCard("3"))}),s.TgZ(5,"span",109),s._uU(6,"delete"),s.qZA()()(),s.TgZ(7,"div",110)(8,"label"),s._uU(9,"Card Number"),s.qZA(),s.TgZ(10,"div",111),s.YNc(11,Qoe,3,1,"div",112),s.qZA(),s.TgZ(12,"div",113)(13,"div",114)(14,"label"),s._uU(15,"Exp. Mth"),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA()(),s.TgZ(18,"div",115)(19,"label"),s._uU(20,"Exp. Year"),s.qZA(),s.TgZ(21,"p"),s._uU(22),s.qZA()(),s.TgZ(23,"div",116)(24,"label"),s._uU(25,"CVV"),s.qZA(),s.TgZ(26,"p"),s._uU(27),s.qZA()()(),s.TgZ(28,"div"),s.YNc(29,Xoe,2,0,"div",101),s.YNc(30,ese,1,0,"ng-template",null,102,s.W1O),s.YNc(32,tse,2,0,"div",66),s.qZA()()()()}if(2&i){const e=s.MAs(31),o=s.oxw(2);s.xp6(11),s.Q6J("ngForOf",o.cardNum2),s.xp6(6),s.Oqu(o.cardExpMonth2),s.xp6(5),s.Oqu(o.cardExpYear2),s.xp6(5),s.Oqu(o.cardCVV2),s.xp6(2),s.Q6J("ngIf","visa"===o.card2)("ngIfThen",e),s.xp6(3),s.Q6J("ngIf","mastercard"===o.card2)}}function ise(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",52)(1,"div",33)(2,"h1",34),s._uU(3,"Credit Debit Cards"),s.qZA()(),s.TgZ(4,"div")(5,"button",53),s.NdJ("click",function(){s.CHM(e);const a=s.MAs(10),l=s.oxw();return s.KtG(l.openModal(a))}),s._uU(6,"Add Card"),s.qZA(),s.TgZ(7,"p",54),s._uU(8,"(* Maximum number of cards allowed = 3)"),s.qZA(),s.YNc(9,Uoe,70,4,"ng-template",null,55,s.W1O),s.TgZ(11,"section"),s.YNc(12,Zoe,33,7,"div",56),s.YNc(13,Joe,33,7,"div",57),s.YNc(14,nse,33,7,"div",58),s.qZA()()()}if(2&i){const e=s.oxw();s.Q6J("hidden",!0),s.xp6(5),s.Q6J("disabled",3===e.numOfCards),s.xp6(7),s.Q6J("ngIf",e.ID1),s.xp6(1),s.Q6J("ngIf",e.ID2),s.xp6(1),s.Q6J("ngIf",e.ID3)}}function rse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",32)(1,"div",33)(2,"h1",34),s._uU(3,"Credit"),s.qZA()(),s.TgZ(4,"div",122)(5,"div",123)(6,"p"),s._uU(7),s.qZA()(),s.TgZ(8,"div",124)(9,"button",125),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.topup=!a.topup)}),s._uU(10,"Top Up"),s.qZA()()(),s.TgZ(11,"div",126)(12,"div")(13,"p"),s._uU(14,"Top up Amount:"),s.qZA(),s._UZ(15,"input",127,128),s.qZA(),s.TgZ(17,"button",125),s.NdJ("click",function(){s.CHM(e);const a=s.MAs(16),l=s.oxw();return s.KtG(l.confirmTopUp(a.value))}),s._uU(18," Confirm "),s.qZA()()()}if(2&i){const e=s.oxw();s.xp6(4),s.Q6J("hidden",!e.topup),s.xp6(3),s.hij("Credit Balance: ",e.userBal,""),s.xp6(4),s.Q6J("hidden",e.topup)}}function ose(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",138)(1,"p"),s._uU(2),s.qZA(),s.TgZ(3,"div",139)(4,"button",140),s.NdJ("click",function(){const l=s.CHM(e).index,c=s.oxw(2);return s.KtG(c.editAddress(l))}),s._uU(5,"Edit"),s.qZA(),s.TgZ(6,"button",141),s.NdJ("click",function(){const l=s.CHM(e).index,c=s.oxw(2);return s.KtG(c.deleteAddress(l))}),s._uU(7,"Delete"),s.qZA()()()}if(2&i){const e=t.$implicit,o=t.index,a=s.oxw(2);s.Q6J("hidden",a.addressList),s.xp6(2),s.AsE("Address ",o+1," : ",e.address,"")}}function sse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",32)(1,"div",33)(2,"h1",34),s._uU(3),s.qZA()(),s.TgZ(4,"div")(5,"button",125),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.addAddress())}),s._uU(6,"Add address"),s.qZA(),s.TgZ(7,"div",126)(8,"div",129)(9,"p",130),s._uU(10,"Address: "),s.qZA(),s.TgZ(11,"textarea",131,132),s._uU(13),s.qZA()(),s.TgZ(14,"div",133)(15,"button",134),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.backFromAddAddress())}),s._uU(16,"back"),s.qZA(),s.TgZ(17,"button",135),s.NdJ("click",function(){s.CHM(e);const a=s.MAs(12),l=s.oxw();return s.KtG(l.saveAddress(a.value))}),s._uU(18,"save"),s.qZA()()(),s.TgZ(19,"div",126)(20,"div",129)(21,"p",130),s._uU(22,"Address: "),s.qZA(),s.TgZ(23,"textarea",131,136),s._uU(25),s.qZA()(),s.TgZ(26,"div",133)(27,"button",134),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.backFromAddAddress())}),s._uU(28,"back"),s.qZA(),s.TgZ(29,"button",135),s.NdJ("click",function(){s.CHM(e);const a=s.MAs(24),l=s.oxw();return s.KtG(l.updateAddress(a.value))}),s._uU(30,"save"),s.qZA()()(),s.YNc(31,ose,8,3,"div",137),s.qZA()()}if(2&i){const e=s.oxw();s.xp6(3),s.Oqu(e.addressHeaderStatus),s.xp6(4),s.Q6J("hidden",e.addAddressStatus),s.xp6(6),s.Oqu(e.addressTextArea),s.xp6(6),s.Q6J("hidden",e.editAddressStatus),s.xp6(6),s.Oqu(e.selectedAddress),s.xp6(6),s.Q6J("ngForOf",e.allAddresses)}}function ase(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",32)(1,"div",33)(2,"h1",34),s._uU(3,"Password"),s.qZA()(),s._UZ(4,"div",126),s.TgZ(5,"div",126)(6,"div",142)(7,"button",143),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.authService.forgotPassword(a.currentUser.email))}),s._uU(8,"Click to change password"),s.qZA()()()()}if(2&i){const e=s.oxw();s.xp6(4),s.Q6J("hidden",!e.hideVerifiedOldPW),s.xp6(1),s.Q6J("hidden",e.hideVerifiedOldPW)}}function lse(i,t){if(1&i&&(s.TgZ(0,"tbody")(1,"tr",155)(2,"th"),s._uU(3),s.qZA(),s.TgZ(4,"td",156)(5,"div"),s._UZ(6,"img",157),s._uU(7),s.qZA()(),s.TgZ(8,"td"),s._uU(9),s.TgZ(10,"span",158),s._uU(11),s.qZA()(),s.TgZ(12,"td")(13,"div",159)(14,"span"),s._uU(15),s.qZA()()(),s.TgZ(16,"td",160),s._uU(17),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(3),s.hij(" ",e.id," "),s.xp6(3),s.s9C("src",e.placeholderImg,s.LSH),s.xp6(1),s.AsE(" ",e.title," - ",e.variations," "),s.xp6(2),s.hij("RM ",e.discountedPrice," "),s.xp6(2),s.Oqu(e.oldPrice),s.xp6(4),s.Oqu(e.quantity),s.xp6(2),s.hij("RM ",e.totalPrice," ")}}function cse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",145)(1,"div",146),s.NdJ("click",function(){const l=s.CHM(e).index,c=s.oxw(2);return s.KtG(c.selectOrder(l))}),s.TgZ(2,"h4"),s._uU(3),s.qZA(),s.TgZ(4,"h5"),s._uU(5),s.qZA()(),s.TgZ(6,"div",147)(7,"div",148)(8,"table",149)(9,"thead",150)(10,"tr"),s._UZ(11,"th"),s.TgZ(12,"th",151),s._uU(13,"Product"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Price"),s.qZA(),s.TgZ(16,"th"),s._uU(17,"Quantity"),s.qZA(),s.TgZ(18,"th"),s._uU(19,"Total Price"),s.qZA()()(),s.YNc(20,lse,18,8,"tbody",112),s.qZA()(),s._UZ(21,"hr"),s.TgZ(22,"div")(23,"div")(24,"p"),s._uU(25),s.qZA()(),s.TgZ(26,"div")(27,"p"),s._uU(28),s.qZA()(),s.TgZ(29,"div")(30,"p"),s._uU(31),s.qZA()()(),s._UZ(32,"hr"),s.TgZ(33,"div")(34,"div")(35,"p"),s._uU(36),s.qZA()(),s.TgZ(37,"div",152)(38,"p"),s._uU(39,"Delivery fee: "),s.TgZ(40,"strong"),s._uU(41,"RM 5"),s.qZA()()(),s.TgZ(42,"div",153)(43,"p",154),s._uU(44),s.qZA()()()()()}if(2&i){const e=t.$implicit,o=s.oxw(2);s.xp6(3),s.hij("Order ",e.orderID,""),s.xp6(2),s.AsE("Order placed at ",e.receiveDate," ",e.receiveTime,""),s.xp6(1),s.s9C("id",o.currentOrderStatusID),s.Q6J("hidden",o.orderStatus),s.xp6(14),s.Q6J("ngForOf",o.items),s.xp6(5),s.hij("Receiver's name: ",e.receiverName,""),s.xp6(3),s.hij("Receiver's phone number: 0",e.receiverHP,""),s.xp6(3),s.hij("Receiver's address: ",e.receiverAddress,""),s.xp6(5),s.hij("Payment method: ",e.paymentMethod,""),s.xp6(8),s.hij(" \xa0 RM ",e.total,"")}}function use(i,t){if(1&i&&(s.TgZ(0,"div",32)(1,"div",33)(2,"h1",34),s._uU(3,"My Purchases"),s.qZA()(),s.YNc(4,cse,45,11,"div",144),s.qZA()),2&i){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.order)}}let ez=(()=>{class i{constructor(e,o,a,l,c,g,_){this.authService=e,this.uploadService=o,this.firebaseService=a,this.messageService=l,this.primengConfig=c,this.modalService=g,this.fb=_,this.userName="",this.userAccPage="profile",this.userImg="",this.userEmail="",this.userAddress="",this.userImage="",this.name=!1,this.percentage=0,this.newName="",this.newAddress="",this.savedStatus="save",this.visa=/^4[0-9]{12}(?:[0-9]{3})?$/g,this.mastercard=/^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/g,this.invalid=!1,this.text="",this.unusedID=0,this.numOfCards=0,this.ID1=!1,this.cardID=0,this.cardExpMonth="",this.cardExpYear="",this.cardCVV="",this.card="",this.ID2=!1,this.cardID1=0,this.cardExpMonth1="",this.cardExpYear1="",this.cardCVV1="",this.card1="",this.ID3=!1,this.cardID2=0,this.cardExpMonth2="",this.cardExpYear2="",this.cardCVV2="",this.card2="",this.confirmState="",this.idDelete="",this.firstID=0,this.secondID=0,this.thirdID=0,this.addAddressStatus=!0,this.addressTextArea=" ",this.addressHeaderStatus="Addresses",this.editAddressStatus=!0,this.selectedAddress="",this.addressList=!1,this.selectedAddressIndex=0,this.deleteAddressIndex=0,this.hidePWError=!0,this.hideVerifiedOldPW=!0,this.errorCount=0,this.hideTimer=!0,this.vouchers=[],this.checked=!1,this.voucher0Title="",this.voucher1Title="",this.voucher2Title="",this.voucher0Min=0,this.voucher1Min=0,this.voucher2Min=0,this.currentOrderID=0,this.total=0,this.paymentMethod="",this.receiverName="",this.receiverHP="",this.receiverAddress="",this.orderStatus=!1,this.currentOrderStatusID=0,this.topup=!0,this.userBal=0,this.address=[{address:""}],this.currentUser=this.authService.getCurrentUserData(),console.log(this.currentUser.email),console.log(this.currentUser.userPassword),this.currentUserDetails=this.authService.getCurrentUserCredentials()}ngOnInit(){this.firebaseService.getBalance().subscribe(e=>{console.log(e),e.forEach(o=>{console.log(o.balance,this.total),o.email==this.currentUser.email&&(console.log("true email"),this.userBal=o.balance)})}),this.firebaseService.getUserOrder(this.currentUser.email).subscribe(e=>{console.log(e),this.order=e,e.forEach(o=>{this.currentOrderID=o.orderID,this.items=o.item,console.log(this.items,this.currentOrderID)})}),this.firebaseService.getVouchers().subscribe(e=>{this.vouchers=e,this.voucher0Title=e[0].title,this.voucher1Title=e[1].title,this.voucher2Title=e[2].title,this.voucher0Min=e[0].min,this.voucher1Min=e[1].min,this.voucher2Min=e[2].min}),this.firebaseService.getUserDetails(this.currentUser.email).subscribe(e=>{this.userUser=e,console.log(this.userUser),e.forEach(o=>{console.log(o.id),o.id==this.currentUser.email&&(this.userAddress=o.address,console.log(o.address))})}),this.firebaseService.getUserData().subscribe(e=>{e.forEach(o=>{console.log("element email = "+o.email,"current user email = "+this.currentUser.email,o.email==this.currentUser.email),o.email==this.currentUser.email&&(console.log(o),this.userImage=o.photoURL,this.userName=o.displayName,this.userEmail=o.email)})}),this.firebaseService.getUserCard(this.currentUser.email).subscribe(e=>{if(console.log(e),this.numOfCards=e.length,1==this.numOfCards?this.firstID=e[0].id:2==this.numOfCards?(this.firstID=e[0].id,this.secondID=e[1].id,console.log(this.firstID,this.secondID,this.unusedID)):3==this.numOfCards&&(this.firstID=e[0].id,this.secondID=e[1].id,this.thirdID=e[2].id,console.log(this.firstID,this.secondID,this.thirdID)),console.log(this.numOfCards),2==e.length)console.log("length less than 3"),1!=this.firstID&&1!=this.secondID?this.unusedID=1:2!=this.firstID&&2!=this.secondID?this.unusedID=2:3!=this.firstID&&3!=this.secondID&&(this.unusedID=3),console.log(this.unusedID,this.numOfCards),(1==this.firstID||1==this.secondID)&&(this.ID1=!0),(2==this.firstID||2==this.secondID)&&(this.ID2=!0),(3==this.firstID||3==this.secondID)&&(this.ID3=!0),console.log(this.ID1,this.ID2,this.ID3);else if(1==e.length){let o=e[0].id;1==o?(this.ID1=!0,this.unusedID=2):(this.unusedID=1,(2==o||3==o)&&(this.ID2=!0))}else this.ID1=!0,this.ID2=!0,this.ID3=!0;1==this.firstID?(console.log("total 1"),this.cardID=e[0].id,this.cardNum=e[0].cardNum,this.cardExpMonth=e[0].expMonth,this.cardExpYear=e[0].expYear,this.cardCVV=e[0].CVV,this.validateCardType(e[0].cardNum,this.cardID)):2==this.firstID?(this.cardID1=e[0].id,this.cardNum1=e[0].cardNum,this.cardExpMonth1=e[0].expMonth,this.cardExpYear1=e[0].expYear,this.cardCVV1=e[0].CVV,this.validateCardType(e[0].cardNum,this.cardID1)):3==this.firstID&&(this.cardID2=e[0].id,this.cardNum2=e[0].cardNum,this.cardExpMonth2=e[0].expMonth,this.cardExpYear2=e[0].expYear,this.cardCVV2=e[0].CVV,this.validateCardType(e[0].cardNum,this.cardID2)),1==this.secondID?(this.cardID=e[1].id,this.cardNum=e[1].cardNum,this.cardExpMonth=e[1].expMonth,this.cardExpYear=e[1].expYear,this.cardCVV=e[1].CVV,this.validateCardType(e[1].cardNum,this.cardID)):2==this.secondID?(this.cardID1=e[1].id,this.cardNum1=e[1].cardNum,this.cardExpMonth1=e[1].expMonth,this.cardExpYear1=e[1].expYear,this.cardCVV1=e[1].CVV,this.validateCardType(e[1].cardNum,this.cardID1)):3==this.secondID&&(this.cardID2=e[1].id,this.cardNum2=e[1].cardNum,this.cardExpMonth2=e[1].expMonth,this.cardExpYear2=e[1].expYear,this.cardCVV2=e[1].CVV,this.validateCardType(e[1].cardNum,this.cardID2)),1==this.thirdID?(this.cardID=e[2].id,this.cardNum=e[2].cardNum,this.cardExpMonth=e[2].expMonth,this.cardExpYear=e[2].expYear,this.cardCVV=e[2].CVV,this.validateCardType(e[2].cardNum,this.cardID)):2==this.thirdID?(this.cardID1=e[2].id,this.cardNum1=e[2].cardNum,this.cardExpMonth1=e[2].expMonth,this.cardExpYear1=e[2].expYear,this.cardCVV1=e[2].CVV,this.validateCardType(e[2].cardNum,this.cardID1)):3==this.thirdID&&(this.cardID2=e[2].id,this.cardNum2=e[2].cardNum,this.cardExpMonth2=e[2].expMonth,this.cardExpYear2=e[2].expYear,this.cardCVV2=e[2].CVV,this.validateCardType(e[2].cardNum,this.cardID2))}),this.firebaseService.getUserAddress(this.currentUser.email).subscribe(e=>{this.allAddresses=e,this.address=e,console.log(this.allAddresses.length)})}slide(e){$(".pages").addClass("move-right"),setTimeout(()=>{this.userAccPage=e,$(".pages").removeClass("move-right")},800)}selectFile(e){this.selectedFiles=e.target.files}upload(){if(this.selectedFiles){const e=this.selectedFiles.item(0);this.selectedFiles=void 0,e&&(this.currentFileUpload=new P4(e),this.uploadService.pushFileToStorage(this.currentFileUpload,this.currentUser.email).subscribe(o=>{this.percentage=Math.round(o||0)},o=>{console.log(o)}))}}processName(e){console.log(e.value)}processLocation(e){}saveUserData(e,o){console.log(e+" and "+o)}showConfirm(e,o){console.log(e+" and "+o),this.confirmState="saveProfile",this.newName=o,console.log(this.newName),this.newAddress=e,this.messageService.clear(),this.messageService.add({key:"c",sticky:!0,severity:"warn",summary:"Are you sure?",detail:"Confirm to proceed"})}onConfirm(){if("saveProfile"==this.confirmState){console.log("set name to db"),this.firebaseService.updateUserDetails(this.currentUser.email,this.newAddress),this.firebaseService.updateName(this.currentUser.email,this.newName),this.address.push({address:this.newAddress});let e=this.address.length-1;this.firebaseService.addAddress(this.currentUser.email,e.toString(),this.address[e])}else"deleteCard"==this.confirmState?this.firebaseService.deleteCard(this.currentUser.email,this.idDelete):"deleteAddress"==this.confirmState&&(this.firebaseService.deleteAddress(this.currentUser.email,this.deleteAddressIndex.toString()),this.messageService.add({severity:"success",summary:"Success",detail:"Address deleted successfully"}));this.messageService.clear("c")}onReject(){this.messageService.clear("c")}clear(){this.messageService.clear()}openModal(e){this.modalService.open(e,{modalDialogClass:"dark-modal"})}saveCardDetails(e,o,a,l){this.cardNum=e.match(/.{1,4}/g),this.cardExpMonth=o,this.cardExpYear=a,this.cardCVV=l,this.disableBtn();let c=document.getElementById("closeBtn");this.savedStatus="saved",1===this.numOfCards?(this.firstCard={id:this.unusedID,cardNum:this.cardNum,expMonth:this.cardExpMonth,expYear:this.cardExpYear,CVV:this.cardCVV},this.firebaseService.storeUserCard(this.currentUser.email,this.firstCard)):2===this.numOfCards?(console.log(this.cardNum1),this.secondCard={id:this.unusedID,cardNum:this.cardNum,expMonth:this.cardExpMonth,expYear:this.cardExpYear,CVV:this.cardCVV},this.firebaseService.storeUserCard(this.currentUser.email,this.secondCard)):3===this.numOfCards&&(this.thirdCard={id:this.unusedID,cardNum:this.cardNum,expMonth:this.cardExpMonth,expYear:this.cardExpYear,CVV:this.cardCVV},this.firebaseService.storeUserCard(this.currentUser.email,this.thirdCard)),this.showSuccess(),setTimeout(()=>{c?.click()},2e3)}keyup(e){this.validateCardType(e,this.unusedID)}showSuccess(){this.messageService.add({severity:"success",summary:"Success",detail:"Card saved successfully"})}disableBtn(){3===this.numOfCards&&(document.getElementById("addCardBtn").disabled=!0)}validateCardType(e,o){let a=this.combineNumbersFromCard(e);console.log(a,o),console.log(this.testVisaCard(a)),console.log(a),1==o?(console.log("processedFirst"),console.log(this.testVisaCard("4111111111111111")),console.log(a),this.card=this.testVisaCard(a)?"visa":this.mastercard.test(a)?"mastercard":"no matching card",console.log(this.card)):2==o?(console.log("processedSecond"),this.card1=this.testVisaCard(a)?"visa":this.mastercard.test(a)?"mastercard":"",console.log(this.card1)):3==o?(console.log("processedThird"),this.testVisaCard(a)?this.card2="visa":this.mastercard.test(a)?(console.log("mastercard true"),this.card2="mastercard"):this.card2="",console.log(this.card2)):console.log("validation error!")}combineNumbersFromCard(e){let o="";for(let a=0;a<e.length;a++)o+=e[a];return o}testVisaCard(e){return this.visa.test(e)}deleteCard(e){this.idDelete=e,this.confirmState="deleteCard",this.messageService.add({key:"c",sticky:!0,severity:"warn",summary:"Are you sure?",detail:"Confirm to proceed"})}initializeAddress(e){this.address[0].address=e,this.address.forEach(o=>{this.firebaseService.addAddress(this.currentUser.email,"0",o)})}addAddress(){this.addressHeaderStatus="Add Address",this.addAddressStatus=!1,this.addressList=!0}saveAddress(e){this.address.push({address:e});let o=this.address.length-1;this.firebaseService.addAddress(this.currentUser.email,o.toString(),this.address[o]),document.getElementById("textAreaAddress").value="",this.messageService.add({severity:"success",summary:"Success",detail:"Address saved successfully"}),this.backFromAddAddress()}backFromAddAddress(){this.addressHeaderStatus="Addresses",this.addAddressStatus=!0,this.addressList=!1,this.editAddressStatus=!0}editAddress(e){this.addressHeaderStatus="Edit Address "+e,this.selectedAddress=this.address[e].address,this.selectedAddressIndex=e,this.editAddressStatus=!1,this.addressList=!0}updateAddress(e){console.log(e),this.firebaseService.updateAddress(this.currentUser.email,this.selectedAddressIndex.toString(),e),this.messageService.add({severity:"success",summary:"Success",detail:"Address updated successfully"}),this.backFromAddAddress()}deleteAddress(e){this.deleteAddressIndex=e,this.confirmState="deleteAddress",this.messageService.clear(),this.messageService.add({key:"c",sticky:!0,severity:"warn",summary:"Are you sure?",detail:"Confirm to proceed"})}checkOldPwd(e){console.log(this.currentUserDetails),this.currentUser.userPassword==e?this.hideVerifiedOldPW=!1:(this.hidePWError=!1,this.errorCount>=3?(this.showMaximumNumberOfAttempts(),setTimeout(()=>{alert("done"),this.errorCount=0,this.hidePWError=!0,this.hideTimer=!0,document.getElementById("oldPwd").value=" "},5e3)):(this.errorCount++,this.showIncorrectPasswordMessage()))}showIncorrectPasswordMessage(){this.messageService.add({severity:"error",summary:"Error",detail:"Incorrect password"})}showMaximumNumberOfAttempts(){this.messageService.add({severity:"error",summary:"Error",detail:"Maximum attempts reached! Please try again later."})}startTimer(){let o=document.getElementById("timer").innerHTML.split(/[:]+/);var a=parseInt(o[0]);let l,c;l=parseInt(o[1])-1,console.log(l),l<10&&l>=0&&(c="0"+l),l<0&&(c="59"),console.log("seconds = "+l),59==l&&(a-=1),!(a<0)&&(0==l&&0==a&&(this.hideTimer=!1),document.getElementById("timer").innerHTML=a+":"+l,console.log(a,l),setTimeout(this.startTimer,1e3))}testing(){let e=5;e-=1,document.getElementById("timer").innerHTML=e.toString(),setTimeout(this.testing,1e3)}updatePassword(e){}selectOrder(e){}confirmTopUp(e){this.userBal+=parseInt(e),this.firebaseService.updateBalance(this.currentUser.email,this.userBal),this.topup=!this.topup}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu),s.Y36(Ck),s.Y36(jp),s.Y36(Vm),s.Y36(nf),s.Y36(Bk),s.Y36(PH))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-main"]],features:[s._Bn([Vm])],decls:18,vars:10,consts:[["position","bottom-center","key","a",3,"baseZIndex","onClose"],["pTemplate","message"],["position","bottom-center","key","c",3,"baseZIndex","onClose"],[1,"container-fluid","dashboardContainer"],[1,"row"],[1,"col-md-3","d-md-block","bg-light","sidebar"],[1,"sidebar-sticky"],["class","nav flex-column",4,"ngIf"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4","main",3,"ngSwitch"],[1,"pages"],["class","inner-adjust",4,"ngSwitchCase"],["class","inner-adjust",3,"hidden",4,"ngSwitchCase"],[1,"p-flex","p-flex-column",2,"flex","1"],[1,"p-text-center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3rem"],[1,"p-grid","p-fluid"],[1,"p-col-6"],["type","button","pButton","","label","Yes",1,"p-button-success",3,"click"],["type","button","pButton","","label","No",1,"p-button-secondary",3,"click"],[1,"nav","flex-column"],[1,"nav-item"],[1,"media"],[2,"justify-content","center","justify-items","center"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle","center",3,"src","alt"],[1,"nav-item",3,"click"],[1,"nav-link","active"],["src","../../../../assets/img/account/user.png","alt","profile"],[1,"nav-link",3,"click"],["src","../../../../assets/img/account/credit-card.png","alt","cards"],["src","../../../../assets/img/account/address.png","alt","address"],["src","../../../../assets/img/account/checklist.png","alt","purchases"],["src","../../../../assets/img/account/exit.png","alt","logout"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"profile-pic"],[1,"upload-profile-pic"],["type","file",1,"text-nowrap","text-truncate",3,"change"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],["class","progress mt-2",4,"ngIf"],[1,"media-body"],[1,"userAttr"],[1,"userAttr-title"],["type","text","id","name","name","name",1,"nameInputBox",3,"ngModel","ngModelChange"],["nameInput",""],["name","location","rows","5","cols","25","wrap","soft","maxlength","100",1,"locationTextArea",2,"overflow","hidden","resize","none"],["locationInput",""],["type","button","pButton","","pRipple","","label","Confirm",1,"ui-button-warning",3,"click"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"],[1,"inner-adjust",3,"hidden"],["id","addCardBtn",1,"btn","btn-outline-primary","mb-2","me-2",3,"disabled","click"],[1,"max-card-warning"],["content",""],["class","card","id","1",4,"ngIf"],["class","card","id","2",4,"ngIf"],["class","card","id","3",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-body"],["type","text","placeholder","Card Number","maxlength","16","minlength","13",1,"card-number",3,"keyup"],["cardNum",""],[4,"ngIf"],[1,"date-field"],[1,"month"],["name","Month"],["month",""],["value","january"],["value","february"],["value","march"],["value","april"],["value","may"],["value","june"],["value","july"],["value","august"],["value","september"],["value","october"],["value","november"],["value","december"],[1,"year"],["name","Year"],["year",""],["value","2023"],["value","2024"],["value","2025"],["value","2026"],["value","2027"],["value","2028"],["value","2029"],[1,"card-verification"],[1,"cvv-input"],["type","text","placeholder","CVV","maxlength","3","minlength","3"],["CVV",""],[1,"cvv-details"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","id","closeBtn",1,"btn","btn-light",3,"click"],[4,"ngIf","ngIfThen"],["visa",""],["src","../../../../assets/img/visa.png","alt","visa",1,"card-logo"],["src","../../../../assets/img/mastercard.png","alt","mastercard",1,"card-logo"],["id","1",1,"card"],[1,"card-content"],["src","../../../../assets/img/chip.png","alt","chip",1,"chip"],[1,"deleteBtn",3,"click"],[1,"material-icons"],[1,"lower-card"],[2,"display","flex"],[4,"ngFor","ngForOf"],[1,"third-row-card"],[1,"exp","exp-month"],[1,"exp","exp-year"],[1,"exp","cvv"],[1,"card-number-4"],["src","../../../../assets/img/visa.png","alt","visa",1,"card-type"],["src","../../../../assets/img/mastercard.png","alt","mastercard",1,"card-type"],["id","2",1,"card"],["id","3",1,"card"],[1,"creditBalance",3,"hidden"],[1,"creditBalanceField"],[1,"topUpBtn"],[1,"btn","btn-outline-primary","mb-2","me-2",3,"click"],[3,"hidden"],["type","number","name","topup",1,"creditBalanceField"],["topupamt",""],[2,"display","flex","justify-content","center","align-items","center","margin","10px 0 15px 10px"],[2,"margin-right","10px"],["name","address","rows","5","cols","25","wrap","soft","maxlength","100","id","textAreaAddress",1,"addressTextArea",2,"overflow","hidden","resize","none"],["address",""],[2,"float","left"],[1,"btn","btn-outline-secondary","mb-2","me-2",3,"click"],[1,"btn","btn-success","mb-2","me-2",3,"click"],["addressUpdate",""],["class","addressContainer",3,"hidden",4,"ngFor","ngForOf"],[1,"addressContainer",3,"hidden"],[1,"addressBtn"],[1,"btn","btn-secondary","mb-2","me-2",3,"click"],[1,"btn","btn-danger","mb-2","me-2",3,"click"],[1,"chgPwdContainer"],[3,"click"],["class","orderContainer",4,"ngFor","ngForOf"],[1,"orderContainer"],[1,"confirmation-header",3,"click"],[3,"hidden","id"],[1,"products-ordered-table"],[1,"table"],[1,"table-header"],[1,"product-header"],[1,"delivery"],[1,"total"],[1,"totalText"],[1,"product-row"],[1,"item-product"],["alt","",1,"cart-img",3,"src"],[1,"old-price"],[1,"quantity"],[1,"total-price"]],template:function(e,o){1&e&&(s._UZ(0,"app-header-normal"),s.TgZ(1,"p-toast",0),s.NdJ("onClose",function(){return o.onReject()}),s.YNc(2,Coe,12,2,"ng-template",1),s.qZA(),s.TgZ(3,"p-toast",2),s.NdJ("onClose",function(){return o.onReject()}),s.YNc(4,Toe,12,2,"ng-template",1),s.qZA(),s.TgZ(5,"div",3)(6,"div",4)(7,"nav",5)(8,"div",6),s.YNc(9,Eoe,28,3,"ul",7),s.qZA()(),s.TgZ(10,"main",8)(11,"div",9),s.YNc(12,Ioe,5,1,"div",10),s.YNc(13,ise,15,5,"div",11),s.YNc(14,rse,19,3,"div",10),s.YNc(15,sse,32,6,"div",10),s.YNc(16,ase,9,2,"div",10),s.YNc(17,use,5,1,"div",10),s.qZA()()()()),2&e&&(s.xp6(1),s.Q6J("baseZIndex",5e3),s.xp6(2),s.Q6J("baseZIndex",5e3),s.xp6(6),s.Q6J("ngIf",o.authService.userData),s.xp6(1),s.Q6J("ngSwitch",o.userAccPage),s.xp6(2),s.Q6J("ngSwitchCase","profile"),s.xp6(1),s.Q6J("ngSwitchCase","cards"),s.xp6(1),s.Q6J("ngSwitchCase","cards"),s.xp6(1),s.Q6J("ngSwitchCase","address"),s.xp6(1),s.Q6J("ngSwitchCase","password"),s.xp6(1),s.Q6J("ngSwitchCase","purchases"))},dependencies:[Ui,zi,Rr,vo,Ns,CH,EH,L0,E1,Jy,Da,Uk,Zm,JS,sw],styles:[".row[_ngcontent-%COMP%]{flex-wrap:nowrap}.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:auto}.main[_ngcontent-%COMP%]{overflow:hidden}.pages[_ngcontent-%COMP%]{margin:10px 20px;transition:1s ease-in-out;-webkit-transition:1s ease-in-out}.move-right[_ngcontent-%COMP%]{transform:translate(-200%);-webkit-transform:translateX(-200%)}li[_ngcontent-%COMP%]{margin:5px 0}li[_ngcontent-%COMP%] ~ li[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#87cefa80;color:#005de8}.media[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-self:center;justify-items:center}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.media[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-style:italic;margin-top:8px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%;width:120px;height:120px}.nav.flex-column[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%]:first-of-type{margin-bottom:20px}.nav-link[_ngcontent-%COMP%]{color:#63666a}.nav-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.userAttr[_ngcontent-%COMP%]{display:flex}.userAttr-title[_ngcontent-%COMP%]{width:100px}.userAttr-title-empty[_ngcontent-%COMP%]{width:100px;color:red}.userAttr[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:15px}.profile-pic[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.upload-profile-pic[_ngcontent-%COMP%]{margin:25px 0 0 10px}.nameInputBox[_ngcontent-%COMP%]{height:25px;margin-left:15px}.locationTextArea[_ngcontent-%COMP%]{margin-left:15px}.saveBtn[_ngcontent-%COMP%]{border:1px solid #005DE8;background-color:#f5f5f5;color:#005de8;padding:5px 8px;margin-top:25px;border-radius:5px}.saveBtn[_ngcontent-%COMP%]:hover{background-color:#005de8;color:#f5f5f5}.credit-card[_ngcontent-%COMP%]{width:360px;height:400px;margin:60px auto 0;border:1px solid #ddd;border-radius:6px;background-color:#fff;box-shadow:1px 2px 3px #0000001a}.form-header[_ngcontent-%COMP%]{height:60px;padding:20px 30px 0;border-bottom:1px solid #E1E8EE}.form-body[_ngcontent-%COMP%]{height:340px;padding:30px 30px 20px}.title[_ngcontent-%COMP%]{margin:0;color:#5e6977;font-size:18px}.card-number[_ngcontent-%COMP%], .cvv-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .month[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .paypal-btn[_ngcontent-%COMP%], .proceed-btn[_ngcontent-%COMP%], .year[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:42px}.card-number[_ngcontent-%COMP%], .month[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .year[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:14px}.card-number[_ngcontent-%COMP%], .cvv-details[_ngcontent-%COMP%], .cvv-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .month[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .year[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#86939e;opacity:.7}.card-number[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;padding-left:20px;border:2px solid #e1e8ee;border-radius:6px}.month[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .year[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;width:145px;margin-bottom:20px;padding-left:20px;border:2px solid #e1e8ee;border-radius:6px;background:url(https://designmodo.com/demo/creditcardform/caret.png) no-repeat;background-position:85% 50%}.month[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{float:left}.year[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{float:right}.cvv-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:145px;float:left;padding-left:20px;border:2px solid #e1e8ee;border-radius:6px;background:#fff}.cvv-details[_ngcontent-%COMP%]{float:left;margin:0 0 20px 10px;font-size:12px;font-weight:300;line-height:16px}.cvv-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:6px}.card-logo[_ngcontent-%COMP%]{width:40px;position:absolute;top:53px;right:60px}.max-card-warning[_ngcontent-%COMP%]{color:#63666a;font-size:smaller}.card[_ngcontent-%COMP%]{margin:10px 0 20px 25px;width:350px;border-radius:25px}.card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px 1px #005de8bf;-webkit-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75);-moz-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75)}.card[_ngcontent-%COMP%]:hover   .deleteBtn[_ngcontent-%COMP%]{visibility:visible}.card-content[_ngcontent-%COMP%]{padding:30px}.card-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:smaller;font-style:italic}.lower-card[_ngcontent-%COMP%]{margin:10px 0}.card-number-4[_ngcontent-%COMP%]{font-size:25px;font-weight:700;height:25px}.chip[_ngcontent-%COMP%]{width:40px;height:auto}.third-row-card[_ngcontent-%COMP%]{display:flex}.exp[_ngcontent-%COMP%]{width:100px;margin-right:10px}.exp-month[_ngcontent-%COMP%], .exp-year[_ngcontent-%COMP%], .exp[_ngcontent-%COMP%]   .cvv[_ngcontent-%COMP%]{width:100px}.card-type[_ngcontent-%COMP%]{width:50px;float:right}.deleteBtn[_ngcontent-%COMP%]{background-color:#fff;border:none;float:right;visibility:hidden}.deleteBtn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.addressContainer[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px 15px;border-radius:15px;margin:15px 15px 0;max-width:500px}.chgPwdContainer[_ngcontent-%COMP%]{display:flex}.chgPwdContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:10px}.chgPwd[_ngcontent-%COMP%]{padding:10px 15px}.voucherMain[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;display:flex;margin:0 30px 8px;height:80px;cursor:pointer;align-items:center}.voucherMain[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 5px #ccccccbf;-webkit-box-shadow:0px 0px 5px 5px rgba(204,204,204,.75);-moz-box-shadow:0px 0px 5px 5px rgba(204,204,204,.75)}.confirmation-header[_ngcontent-%COMP%]{cursor:pointer}.orderContainer[_ngcontent-%COMP%]{margin-bottom:10px;border-bottom:1px solid #005DE8}.old-price[_ngcontent-%COMP%]{text-decoration:line-through;color:#ccc;font-size:smaller}.creditBalance[_ngcontent-%COMP%]{display:flex;flex-direction:column}.creditBalance-Field[_ngcontent-%COMP%]{margin-bottom:25px}.topUpBtn[_ngcontent-%COMP%]{margin-left:10px}"]}),i})(),dse=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-faq"]],decls:2,vars:0,template:function(e,o){1&e&&(s.TgZ(0,"p"),s._uU(1,"faq works!"),s.qZA())}}),i})();var tz=q(7123);const hse=["ngcarousel"];function fse(i,t){1&i&&(s.TgZ(0,"div",3),s._UZ(1,"img",4),s.qZA())}function pse(i,t){1&i&&(s.TgZ(0,"div",3),s._UZ(1,"img",5),s.qZA())}let gse=(()=>{class i{constructor(){}ngOnInit(){}slideActivate(e){console.log(e.source),console.log(e.paused),console.log(ng.INDICATOR),console.log(ng.ARROW_LEFT),console.log(ng.ARROW_RIGHT)}navigateToSlide(e){this.ngCarousel.select(e),console.log(e)}getToPrev(){this.ngCarousel.prev()}goToNext(){this.ngCarousel.next()}stopCarousel(){this.ngCarousel.pause()}restartCarousel(){this.ngCarousel.cycle()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-banner"]],viewQuery:function(e,o){if(1&e&&s.Gf(hse,7),2&e){let a;s.iGM(a=s.CRH())&&(o.ngCarousel=a.first)}},decls:3,vars:6,consts:[["id","slider",3,"showNavigationArrows","showNavigationIndicators","keyboard","pauseOnHover","wrap","activeId"],["ngbSlide","","id","firstSlide"],["ngbSlide","","id","secondSlide"],[1,"picsum-img-wrapper"],["src","../../../../assets/img/banner/1.jpg","alt","Angular Carousel 1"],["src","../../../../assets/img/banner/2.jpg","alt","Angular Carousel 2"]],template:function(e,o){1&e&&(s.TgZ(0,"ngb-carousel",0),s.YNc(1,fse,2,0,"ng-template",1),s.YNc(2,pse,2,0,"ng-template",2),s.qZA()),2&e&&s.Q6J("showNavigationArrows",!0)("showNavigationIndicators",!0)("keyboard",!0)("pauseOnHover",!0)("wrap",!0)("activeId","secondSlide")},dependencies:[h5,P2],styles:["ngb-carousel[_ngcontent-%COMP%]{max-width:700px;margin:50px auto}ngb-carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;outline:none}ngb-carousel[_ngcontent-%COMP%]{width:inherit;height:inherit}.carousel-inner[_ngcontent-%COMP%]{overflow:visible}.carousel-item[_ngcontent-%COMP%]{display:flex!important;opacity:0;visibility:hidden;transition:opacity 1.2s ease-in-out,visibility 1.2s;z-index:-1}.carousel-item.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;z-index:10}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%], .carousel-indicators[_ngcontent-%COMP%]{z-index:20}","ngb-carousel[_ngcontent-%COMP%] {\n    max-width: 700px;\n    margin: 50px auto;\n  }\n\n  ngb-carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    width: 100%;\n    outline: none;\n  }\n\n  ngb-carousel[_ngcontent-%COMP%] {\n    width: inherit;\n    height: inherit;\n  }\n\n  .carousel-inner[_ngcontent-%COMP%] {\n    overflow: visible;\n  }\n\n  .carousel-item[_ngcontent-%COMP%] {\n    display: flex !important;\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity 1.2s ease-in-out, visibility 1.2s;\n    z-index: -1;\n  }\n\n  .carousel-item.active[_ngcontent-%COMP%] {\n    opacity: 1;\n    visibility: visible;\n    z-index: 10;\n  }\n\n  .carousel-control-prev[_ngcontent-%COMP%] {\n    z-index: 20;\n  }\n\n  .carousel-control-next[_ngcontent-%COMP%] {\n    z-index: 20;\n  }\n\n  .carousel-indicators[_ngcontent-%COMP%] {\n    z-index: 20;\n  }"]}),i})(),mse=(()=>{class i{constructor(){}ngOnInit(){}goToMore(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-categories"]],decls:36,vars:0,consts:[[1,"category"],[1,"category-header"],[1,"category-list"],[1,"category-item"],["src","../../../../assets/img/categories/phone.png","alt","phone"],["src","../../../../assets/img/categories/watch.png","alt","watch"],["src","../../../../assets/img/categories/shoe.png","alt","shoe"],["src","../../../../assets/img/categories/fashion.png","alt","fashion"],["src","../../../../assets/img/categories/computer.png","alt","computer"],[1,"category-more",3,"click"],["src","https://cdn.lordicon.com/iifryyua.json","trigger","loop-on-hover",2,"width","32px","height","32px"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"h1"),s._uU(3,"Categories"),s.qZA(),s._UZ(4,"p"),s.qZA(),s.TgZ(5,"ul",2)(6,"li")(7,"div",3),s._UZ(8,"img",4),s.TgZ(9,"p"),s._uU(10,"Mobile & Accessories"),s.qZA()()(),s.TgZ(11,"li")(12,"div",3),s._UZ(13,"img",5),s.TgZ(14,"p"),s._uU(15,"Watches"),s.qZA()()(),s.TgZ(16,"li")(17,"div",3),s._UZ(18,"img",6),s.TgZ(19,"p"),s._uU(20,"Shoes"),s.qZA()()(),s.TgZ(21,"li")(22,"div",3),s._UZ(23,"img",7),s.TgZ(24,"p"),s._uU(25,"Fashion"),s.qZA()()(),s.TgZ(26,"li")(27,"div",3),s._UZ(28,"img",8),s.TgZ(29,"p"),s._uU(30,"Computer & Accessories"),s.qZA()()(),s.TgZ(31,"li")(32,"div",9),s.NdJ("click",function(){return o.goToMore()}),s._UZ(33,"lord-icon",10),s.TgZ(34,"p"),s._uU(35,"More"),s.qZA()()()()())},styles:[".category[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 auto;background-image:linear-gradient(315deg,#2a2a72 20%,#009ffd 94%);background-clip:text;-moz-background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center}.category[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{list-style:none;display:flex;justify-content:center;align-items:center}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{margin:5px;width:160px;height:220px;border:1px solid #ccc;border-radius:15px}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 2px #69696940;-webkit-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25);-moz-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25)}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;padding:5px;margin-left:5px}.category[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;word-wrap:break-word;padding:0 5px}.category[_ngcontent-%COMP%]   .category-more[_ngcontent-%COMP%]{margin-left:35px;cursor:pointer}"]}),i})();function _se(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",23),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.navigateToProductDetails(a.id,a.type))}),s._UZ(1,"img",24)(2,"img",25)(3,"img",26),s.qZA()}if(2&i){const e=s.oxw().$implicit,o=s.oxw();s.s9C("id",e.id),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image1,"",s.LSH),s.Q6J("ngClass",o.product1mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image2,"",s.LSH),s.Q6J("ngClass",o.product1subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image3,"",s.LSH),s.Q6J("ngClass",o.product1subImg1)}}function yse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",23),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.navigateToProductDetails(a.id,a.type))}),s._UZ(1,"img",24)(2,"img",25)(3,"img",26),s.qZA()}if(2&i){const e=s.oxw().$implicit,o=s.oxw();s.s9C("id",e.id),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image1,"",s.LSH),s.Q6J("ngClass",o.product2mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image2,"",s.LSH),s.Q6J("ngClass",o.product2subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image3,"",s.LSH),s.Q6J("ngClass",o.product2subImg1)}}function vse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",27),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.navigateToProductDetails(a.id,a.type))}),s._UZ(1,"img",24)(2,"img",25)(3,"img",26),s.qZA()}if(2&i){const e=s.oxw().$implicit,o=s.oxw();s.s9C("id",e.id),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image1,"",s.LSH),s.Q6J("ngClass",o.product3mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image2,"",s.LSH),s.Q6J("ngClass",o.product3subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",e.image3,"",s.LSH),s.Q6J("ngClass",o.product3subImg1)}}function bse(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50"),s.qZA())}function wse(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50"),s.qZA())}function Cse(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50"),s.qZA())}function Tse(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50"),s.qZA())}function Ese(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50\u2b50"),s.qZA())}function xse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div")(1,"span",28),s._uU(2,"Colour:"),s.qZA(),s.TgZ(3,"div",29)(4,"span",30),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color0,a.id))}),s.qZA(),s.TgZ(5,"span",31),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color1,a.id))}),s.qZA(),s.TgZ(6,"span",32),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color2,a.id))}),s.qZA()()()}if(2&i){const e=s.oxw(2);s.xp6(4),s.Q6J("ngClass",e.product1MainColor),s.xp6(1),s.Q6J("ngClass",e.product1SubColor0),s.xp6(1),s.Q6J("ngClass",e.product1SubColor1)}}function Sse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div")(1,"span",28),s._uU(2,"Colour:"),s.qZA(),s.TgZ(3,"div",29)(4,"span",30),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color0,a.id))}),s.qZA(),s.TgZ(5,"span",31),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color1,a.id))}),s.qZA(),s.TgZ(6,"span",32),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color2,a.id))}),s.qZA()()()}if(2&i){const e=s.oxw(2);s.xp6(4),s.Q6J("ngClass",e.product2MainColor),s.xp6(1),s.Q6J("ngClass",e.product2SubColor0),s.xp6(1),s.Q6J("ngClass",e.product2SubColor1)}}function Dse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div")(1,"span",28),s._uU(2,"Colour:"),s.qZA(),s.TgZ(3,"div",29)(4,"span",30),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color0,a.id))}),s.qZA(),s.TgZ(5,"span",31),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color1,a.id))}),s.qZA(),s.TgZ(6,"span",32),s.NdJ("click",function(){s.CHM(e);const a=s.oxw().$implicit,l=s.oxw();return s.KtG(l.changeColor(a.color2,a.id))}),s.qZA()()()}if(2&i){const e=s.oxw(2);s.xp6(4),s.Q6J("ngClass",e.product3MainColor),s.xp6(1),s.Q6J("ngClass",e.product3SubColor0),s.xp6(1),s.Q6J("ngClass",e.product3SubColor1)}}function Ise(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",3)(1,"div",4),s._UZ(2,"img",5)(3,"i",6),s.qZA(),s.TgZ(4,"div",7)(5,"div",8)(6,"lord-icon",9),s.NdJ("click",function(){const l=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.addToCart(l.id))}),s.qZA()(),s._UZ(7,"div")(8,"div"),s.qZA(),s.TgZ(9,"div",10),s.YNc(10,_se,4,7,"div",11),s.YNc(11,yse,4,7,"div",11),s.YNc(12,vse,4,7,"div",12),s.qZA(),s.TgZ(13,"div",13)(14,"p",14),s._uU(15),s.qZA(),s.TgZ(16,"p"),s._uU(17),s.qZA(),s.TgZ(18,"div",15)(19,"div",16),s.YNc(20,bse,2,0,"p",17),s.YNc(21,wse,2,0,"p",17),s.YNc(22,Cse,2,0,"p",17),s.YNc(23,Tse,2,0,"p",17),s.YNc(24,Ese,2,0,"p",17),s.qZA(),s.TgZ(25,"p"),s._uU(26),s.qZA()()(),s.TgZ(27,"div",18)(28,"div",19),s.YNc(29,xse,7,3,"div",17),s.YNc(30,Sse,7,3,"div",17),s.YNc(31,Dse,7,3,"div",17),s.qZA(),s.TgZ(32,"div",20)(33,"span",21),s._uU(34),s.qZA(),s.TgZ(35,"span",22),s._uU(36),s.qZA()()()()}if(2&i){const e=t.$implicit;s.xp6(2),s.MGl("src","../../../../assets/img/",e.logo,"",s.LSH),s.xp6(7),s.Q6J("ngSwitch",e.id),s.xp6(1),s.Q6J("ngSwitchCase",1e3),s.xp6(1),s.Q6J("ngSwitchCase",1001),s.xp6(1),s.Q6J("ngSwitchCase",1002),s.xp6(3),s.Oqu(e.name),s.xp6(2),s.Oqu(e.description),s.xp6(2),s.Q6J("ngSwitch",e.rating),s.xp6(1),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2),s.xp6(1),s.Q6J("ngSwitchCase",3),s.xp6(1),s.Q6J("ngSwitchCase",4),s.xp6(1),s.Q6J("ngSwitchCase",5),s.xp6(2),s.hij("(",e.sold," sold)"),s.xp6(2),s.Q6J("ngSwitch",e.id),s.xp6(1),s.Q6J("ngSwitchCase",1e3),s.xp6(1),s.Q6J("ngSwitchCase",1001),s.xp6(1),s.Q6J("ngSwitchCase",1002),s.xp6(3),s.hij("RM ",e.discountedPrice,""),s.xp6(2),s.hij("RM ",e.oldPrice,"")}}let Mse=(()=>{class i{constructor(e,o){this.productService=e,this.router=o,this.discountedProducts=[],this.product1mainImg="active",this.product1subImg0="",this.product1subImg1="",this.product1MainColor=["circle","blue","active"],this.product1SubColor0=["circle","pink"],this.product1SubColor1=["circle","yellow"],this.product2mainImg="active",this.product2subImg0="",this.product2subImg1="",this.product2MainColor=["circle","black","active"],this.product2SubColor0=["circle","blue"],this.product2SubColor1=["circle","white"],this.product3mainImg="active",this.product3subImg0="",this.product3subImg1="",this.product3MainColor=["circle","burgundy","active"],this.product3SubColor0=["circle","green"],this.product3SubColor1=["circle","white"],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){this.productService.getDiscountedProducts().then(e=>{this.discountedProducts=e})}changeColor(e,o){"1000"==o?(this.productColor0=this.discountedProducts.find(a=>a.id===o).color0,this.productColor1=this.discountedProducts.find(a=>a.id===o).color1,this.productColor2=this.discountedProducts.find(a=>a.id===o).color2,e==this.productColor0?(this.product1MainColor=["circle","blue","active"],this.product1SubColor0=["circle","pink"],this.product1SubColor1=["circle","yellow"],this.product1mainImg="active",this.product1subImg0="",this.product1subImg1=""):e==this.productColor1?(this.product1MainColor=["circle","blue"],this.product1SubColor0=["circle","pink","active"],this.product1SubColor1=["circle","yellow"],this.product1mainImg="",this.product1subImg0="active",this.product1subImg1=""):e==this.productColor2&&(this.product1MainColor=["circle","blue"],this.product1SubColor0=["circle","pink"],this.product1SubColor1=["circle","yellow","active"],this.product1mainImg="",this.product1subImg0="",this.product1subImg1="active")):"1001"==o?(this.productColor0=this.discountedProducts.find(a=>a.id===o).color0,this.productColor1=this.discountedProducts.find(a=>a.id===o).color1,this.productColor2=this.discountedProducts.find(a=>a.id===o).color2,e==this.productColor0?(this.product2MainColor=["circle","black","active"],this.product2SubColor0=["circle","blue"],this.product2SubColor1=["circle","white"],this.product2mainImg="active",this.product2subImg0="",this.product2subImg1=""):e==this.productColor1?(this.product2MainColor=["circle","black"],this.product2SubColor0=["circle","blue","active"],this.product2SubColor1=["circle","yellow"],this.product2mainImg="",this.product2subImg0="active",this.product2subImg1=""):e==this.productColor2&&(this.product2MainColor=["circle","black"],this.product2SubColor0=["circle","blue"],this.product2SubColor1=["circle","white","active"],this.product2mainImg="",this.product2subImg0="",this.product2subImg1="active")):"1002"==o&&(this.productColor0=this.discountedProducts.find(a=>a.id===o).color0,this.productColor1=this.discountedProducts.find(a=>a.id===o).color1,this.productColor2=this.discountedProducts.find(a=>a.id===o).color2,e==this.productColor0?(this.product3MainColor=["circle","burgundy","active"],this.product3SubColor0=["circle","green"],this.product3SubColor1=["circle","white"],this.product3mainImg="active",this.product3subImg0="",this.product3subImg1=""):e==this.productColor1?(this.product3MainColor=["circle","burgundy"],this.product3SubColor0=["circle","green","active"],this.product3SubColor1=["circle","white"],this.product3mainImg="",this.product3subImg0="active",this.product3subImg1=""):e==this.productColor2&&(this.product3MainColor=["circle","burgundy"],this.product3SubColor0=["circle","green"],this.product3SubColor1=["circle","white","active"],this.product3mainImg="",this.product3subImg0="",this.product3subImg1="active"))}navigateToProductDetails(e,o){this.router.navigate(["/product_details/",e,o])}addToCart(e){}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(N0),s.Y36(tr))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-discounted-products"]],decls:7,vars:1,consts:[[1,"header"],[1,"product-container"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"logo-cart"],["alt","logo",3,"src"],[1,"bx","bx-shopping-bag"],[1,"product-right-panel"],[1,"add-to-cart"],["src","https://cdn.lordicon.com/aoggitwj.json","trigger","loop-on-hover","colors","primary:#005de8",2,"width","40px","height","40px","cursor","pointer",3,"click"],[3,"ngSwitch"],["class","main-images",3,"id","click",4,"ngSwitchCase"],["class","main-images last",3,"id","click",4,"ngSwitchCase"],[1,"shoe-details"],[1,"shoe_name"],[1,"rating-sold"],[1,"stars",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"color-price"],[1,"color-option",3,"ngSwitch"],[1,"price"],[1,"price_num"],[1,"price_letter"],[1,"main-images",3,"id","click"],["id","blue","alt","mainImg",3,"ngClass","src"],["id","pink","alt","subImg0",3,"ngClass","src"],["id","yellow","alt","subImg1",3,"ngClass","src"],[1,"main-images","last",3,"id","click"],[1,"color"],[1,"circles"],["id","mainColor",3,"ngClass","click"],["id","subColor0",3,"ngClass","click"],["id","subColor1",3,"ngClass","click"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0)(1,"h1"),s._uU(2,"Products on"),s.qZA(),s.TgZ(3,"p"),s._uU(4,"SALE"),s.qZA()(),s.TgZ(5,"div",1),s.YNc(6,Ise,37,20,"div",2),s.qZA()),2&e&&(s.xp6(6),s.Q6J("ngForOf",o.discountedProducts))},dependencies:[wr,Ui,vo,Ns],styles:[".product-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card[_ngcontent-%COMP%]{position:relative;max-width:355px;width:100%;border-radius:25px;padding:20px 30px 30px;background:#fff;box-shadow:0 5px 10px #0003;z-index:3;overflow:hidden;margin:10px}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px 1px #005de8bf;-webkit-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75);-moz-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75)}.header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:uppercase;background-image:linear-gradient(315deg,#2a2a72 20%,#009ffd 94%);background-clip:text;-moz-background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center;padding-top:15px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:100px;font-weight:800;color:transparent;background-image:url(https://media.giphy.com/media/LnEeDF1IzKdZlHruw9/giphy-downsized-large.gif);background-position:center;-webkit-background-clip:text;margin:0 0 0 15px}.product-right-panel[_ngcontent-%COMP%]{float:right;margin-top:-35px}.product-right-panel[_ngcontent-%COMP%]:hover{transform:scale(1.15)}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;object-fit:cover}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:27px;color:#707070;cursor:pointer;transition:color .3s ease}.product-card[_ngcontent-%COMP%]   .logo-cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#333}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]{position:relative;height:250px;margin-top:10px;transition:.5s ease;cursor:pointer}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]:hover{transform:rotate(8deg)}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;height:300px;width:300px;object-fit:cover;transform:rotate(18deg);left:12px;top:-40px;z-index:-1;opacity:0;transition:opacity .5s ease}.last[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:15px;height:250px!important;width:250px!important}.product-card[_ngcontent-%COMP%]   .main-images[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{opacity:1}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]   .shoe_name[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#161616;text-align:center}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]{margin-top:-25px}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:justify}.rating-sold[_ngcontent-%COMP%]{display:flex}.rating-sold[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:5px}.product-card[_ngcontent-%COMP%]   .shoe-details[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 -1px;color:#333}.product-card[_ngcontent-%COMP%]   .color-price[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;align-items:center}.color-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.color-price[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#333;margin-right:8px}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]{display:flex}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:18px;width:18px;background:#0071C7;border-radius:50%;margin:0 4px;cursor:pointer;transition:all .4s ease}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.blue.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #0071c7}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.pink[_ngcontent-%COMP%]{background:#FA1795}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.pink.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #fa1795}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.yellow[_ngcontent-%COMP%]{background:#F5DA00}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.yellow.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #f5da00}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.black[_ngcontent-%COMP%]{background:#414a4c}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.black.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #414a4c}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.white[_ngcontent-%COMP%]{background:#FBFAF5;border:1px solid #ccc}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.white.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #414a4c}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.burgundy[_ngcontent-%COMP%]{background:#65081F}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.burgundy.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #65081f}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.green[_ngcontent-%COMP%]{background:#013220}.color-option[_ngcontent-%COMP%]   .circles[_ngcontent-%COMP%]   .circle.green.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #013220}.color-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.color-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .price_num[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:#ff160c}.color-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .price_letter[_ngcontent-%COMP%]{font-size:10px;font-weight:600;margin-top:-4px;color:#707070;text-decoration:line-through}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;height:50px;width:100%;border-radius:25px;margin-top:30px;overflow:hidden}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-layer[_ngcontent-%COMP%]{position:absolute;height:100%;width:300%;left:-100%;background-image:linear-gradient(135deg,#9708CC,#43CBFF,#9708CC,#43CBFF);transition:all .4s ease;border-radius:25PX}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .button-layer[_ngcontent-%COMP%]{left:0}.product-card[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;background:none;outline:none;border:none;font-size:18px;font-weight:600;letter-spacing:1px;color:#fff}"]}),i})();const Ase=["itemsContainer"];function kse(i,t){1&i&&s.GkF(0)}function Ose(i,t){if(1&i&&(s.TgZ(0,"div",11),s.Hsn(1),s.YNc(2,kse,1,0,"ng-container",12),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}const Rse=function(i){return{"p-carousel-prev p-link":!0,"p-disabled":i}},Pse=function(i,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":i,"pi-chevron-up":t}};function Nse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.navBackward(a))}),s._UZ(1,"span",2),s.qZA()}if(2&i){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,Rse,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,Pse,!e.isVertical(),e.isVertical()))}}function Fse(i,t){1&i&&s.GkF(0)}const nz=function(i,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":i,"p-carousel-item-start":t,"p-carousel-item-end":e}},U2=function(i){return{$implicit:i}};function Lse(i,t){if(1&i&&(s.TgZ(0,"div",2),s.YNc(1,Fse,1,0,"ng-container",14),s.qZA()),2&i){const e=t.$implicit,o=t.index,a=s.oxw();s.Q6J("ngClass",s.kEZ(3,nz,-1*a.totalShiftedItems===a.value.length,0===o,a.clonedItemsForStarting.length-1===o)),s.xp6(1),s.Q6J("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",s.VKq(7,U2,e))}}function Vse(i,t){1&i&&s.GkF(0)}const Bse=function(i,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":i,"p-carousel-item-start":t,"p-carousel-item-end":e}};function Hse(i,t){if(1&i&&(s.TgZ(0,"div",2),s.YNc(1,Vse,1,0,"ng-container",14),s.qZA()),2&i){const e=t.$implicit,o=t.index,a=s.oxw();s.Q6J("ngClass",s.kEZ(3,Bse,a.firstIndex()<=o&&a.lastIndex()>=o,a.firstIndex()===o,a.lastIndex()===o)),s.xp6(1),s.Q6J("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",s.VKq(7,U2,e))}}function Use(i,t){1&i&&s.GkF(0)}function jse(i,t){if(1&i&&(s.TgZ(0,"div",2),s.YNc(1,Use,1,0,"ng-container",14),s.qZA()),2&i){const e=t.$implicit,o=t.index,a=s.oxw();s.Q6J("ngClass",s.kEZ(3,nz,-1*a.totalShiftedItems===a.numVisible,0===o,a.clonedItemsForFinishing.length-1===o)),s.xp6(1),s.Q6J("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",s.VKq(7,U2,e))}}const zse=function(i){return{"p-carousel-next p-link":!0,"p-disabled":i}},Gse=function(i,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":i,"pi-chevron-down":t}};function qse(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.navForward(a))}),s._UZ(1,"span",2),s.qZA()}if(2&i){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,zse,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,Gse,!e.isVertical(),e.isVertical()))}}const Zse=function(i){return{"p-carousel-indicator":!0,"p-highlight":i}};function $se(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"li",2)(1,"button",15),s.NdJ("click",function(a){const c=s.CHM(e).index,g=s.oxw(2);return s.KtG(g.onDotClick(a,c))}),s.qZA()()}if(2&i){const e=t.index,o=s.oxw(2);s.Q6J("ngClass",s.VKq(5,Zse,o._page===e)),s.xp6(1),s.Tol(o.indicatorStyleClass),s.Q6J("ngClass","p-link")("ngStyle",o.indicatorStyle)}}function Wse(i,t){if(1&i&&(s.TgZ(0,"ul",0),s.YNc(1,$se,2,7,"li",8),s.qZA()),2&i){const e=s.oxw();s.Tol(e.indicatorsContentClass),s.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),s.xp6(1),s.Q6J("ngForOf",e.totalDotsArray())}}function Yse(i,t){1&i&&s.GkF(0)}function Kse(i,t){if(1&i&&(s.TgZ(0,"div",16),s.Hsn(1,1),s.YNc(2,Yse,1,0,"ng-container",12),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Jse=[[["p-header"]],[["p-footer"]]],Qse=function(i,t){return{"p-carousel p-component":!0,"p-carousel-vertical":i,"p-carousel-horizontal":t}},Xse=function(i){return{height:i}},eae=["p-header","p-footer"];let j2=(()=>{class i{constructor(e,o,a){this.el=e,this.zone=o,this.cd=a,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new s.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=T1(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let o=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let a=this._page;0!==this.totalDots()&&a>=this.totalDots()&&(a=this.totalDots()-1,this._page=a,this.onPage.emit({page:this.page})),o=a*this._numScroll*-1,e&&(o-=this._numVisible),a===this.totalDots()-1&&this.remainingItems>0?(o+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,o!==this.totalShiftedItems&&(this.totalShiftedItems=o),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${o*(100/this._numVisible)}%, 0)`:`translate3d(${o*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?o=-1*this._numVisible:0===o&&(o=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),o!==this.totalShiftedItems&&(this.totalShiftedItems=o))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((o,a)=>{const l=o.breakpoint,c=a.breakpoint;let g=null;return g=null==l&&null!=c?-1:null!=l&&null==c?1:null==l&&null==c?0:"string"==typeof l&&"string"==typeof c?l.localeCompare(c,void 0,{numeric:!0}):l<c?-1:l>c?1:0,-1*g});for(let o=0;o<this.responsiveOptions.length;o++){let a=this.responsiveOptions[o];e+=`\n                    @media screen and (max-width: ${a.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/a.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e=window.innerWidth,o={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let a=0;a<this.responsiveOptions.length;a++){let l=this.responsiveOptions[a];parseInt(l.breakpoint,10)>=e&&(o=l)}if(this._numScroll!==o.numScroll){let a=this._page;a=Math.floor(a*this._numScroll/o.numScroll);let l=o.numScroll*this.page*-1;this.isCircular()&&(l-=o.numVisible),this.totalShiftedItems=l,this._numScroll=o.numScroll,this._page=a,this.onPage.emit({page:this.page})}this._numVisible!==o.numVisible&&(this._numVisible=o.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,o){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,o),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,o){(this.isCircular()||0!==this._page)&&this.step(1,o),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,o){let a=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),o>a?this.navForward(e,o):o<a&&this.navBackward(e,o)}step(e,o){let a=this.totalShiftedItems;const l=this.isCircular();null!=o?(a=this._numScroll*o*-1,l&&(a-=this._numVisible),this.isRemainingItemsAdded=!1):(a+=this._numScroll*e,this.isRemainingItemsAdded&&(a+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),o=Math.abs(Math.floor((l?a+this._numVisible:a)/this._numScroll))),l&&this.page===this.totalDots()-1&&-1===e?(a=-1*(this.value.length+this._numVisible),o=0):l&&0===this.page&&1===e?(a=0,o=this.totalDots()-1):o===this.totalDots()-1&&this.remainingItems>0&&(a+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${a*(100/this._numVisible)}%, 0)`:`translate3d(${a*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=a,this._page=o,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let o=e.changedTouches[0];this.startPos={x:o.pageX,y:o.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let o=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,o.pageY-this.startPos.y):this.changePageOnTouch(e,o.pageX-this.startPos.x)}changePageOnTouch(e,o){Math.abs(o)>this.swipeThreshold&&(o<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-carousel"]],contentQueries:function(e,o,a){if(1&e&&(s.Suo(a,gB,5),s.Suo(a,mB,5),s.Suo(a,Da,4)),2&e){let l;s.iGM(l=s.CRH())&&(o.headerFacet=l.first),s.iGM(l=s.CRH())&&(o.footerFacet=l.first),s.iGM(l=s.CRH())&&(o.templates=l)}},viewQuery:function(e,o){if(1&e&&s.Gf(Ase,5),2&e){let a;s.iGM(a=s.CRH())&&(o.itemsContainer=a.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[s.TTD],ngContentSelectors:eae,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,o){1&e&&(s.F$t(Jse),s.TgZ(0,"div",0),s.YNc(1,Ose,3,1,"div",1),s.TgZ(2,"div",2)(3,"div",3),s.YNc(4,Nse,2,8,"button",4),s.TgZ(5,"div",5)(6,"div",6,7),s.NdJ("transitionend",function(){return o.onTransitionEnd()})("touchend",function(l){return o.onTouchEnd(l)})("touchstart",function(l){return o.onTouchStart(l)})("touchmove",function(l){return o.onTouchMove(l)}),s.YNc(8,Lse,2,9,"div",8),s.YNc(9,Hse,2,9,"div",8),s.YNc(10,jse,2,9,"div",8),s.qZA()(),s.YNc(11,qse,2,8,"button",4),s.qZA(),s.YNc(12,Wse,2,5,"ul",9),s.qZA(),s.YNc(13,Kse,3,1,"div",10),s.qZA()),2&e&&(s.Tol(o.styleClass),s.Q6J("ngClass",s.WLB(17,Qse,o.isVertical(),!o.isVertical()))("ngStyle",o.style),s.uIk("id",o.id),s.xp6(1),s.Q6J("ngIf",o.headerFacet||o.headerTemplate),s.xp6(1),s.Tol(o.contentClass),s.Q6J("ngClass","p-carousel-content"),s.xp6(2),s.Q6J("ngIf",o.showNavigators),s.xp6(1),s.Q6J("ngStyle",s.VKq(20,Xse,o.isVertical()?o.verticalViewPortHeight:"auto")),s.xp6(3),s.Q6J("ngForOf",o.clonedItemsForStarting),s.xp6(1),s.Q6J("ngForOf",o.value),s.xp6(1),s.Q6J("ngForOf",o.clonedItemsForFinishing),s.xp6(1),s.Q6J("ngIf",o.showNavigators),s.xp6(1),s.Q6J("ngIf",o.showIndicators),s.xp6(1),s.Q6J("ngIf",o.footerFacet||o.footerTemplate))},dependencies:[wr,Ui,zi,lr,Rr,Zm],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),i})(),tae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,Tu,rg,qn,Tu]}),i})();function nae(i,t){1&i&&(s.TgZ(0,"div",3)(1,"h1"),s._uU(2,"AR Virtual Fitting"),s.qZA()())}function iae(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",4)(1,"div",5),s._UZ(2,"div",6),s.TgZ(3,"div",7),s.NdJ("click",function(){const l=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.initiateAR(l.id))}),s._UZ(4,"img",8),s.TgZ(5,"h4",9),s._uU(6),s.qZA(),s.TgZ(7,"div",10)(8,"h6",11),s._uU(9),s.qZA()()()()()}if(2&i){const e=t.$implicit;s.xp6(4),s.s9C("src",e.image,s.LSH),s.xp6(2),s.Oqu(e.name),s.xp6(3),s.hij("RM ",e.oldPrice,"")}}let iz=(()=>{class i{constructor(){this.test="24",this.products=[{id:0,image:"../../../assets/img/models/white-bucket-hat.png",name:"White Bucket Hat",oldPrice:30,newPrice:20,rating:5,numReviews:"1K"},{id:1,image:"../../../assets/img/models/clown-hat/clown_hat.png",name:"Clown Hat",oldPrice:39,newPrice:50,rating:4,numReviews:"200"},{id:2,image:"../../../assets/img/models/earing/earing.png",name:"Earring",oldPrice:85,newPrice:75,rating:4,numReviews:"150"},{id:3,image:"../../../assets/img/models/glasses/glasses.png",name:"Swagg Glasses",oldPrice:20,newPrice:13,rating:4,numReviews:"538"},{id:4,image:"../../../assets/img/models/headphone/headphone.png",name:"Headphones",oldPrice:160,newPrice:125,rating:5,numReviews:"1.7k"},{id:5,image:"../../../assets/img/models/necklace/necklace.png",name:"Necklace",oldPrice:90,newPrice:80,rating:5,numReviews:"727"}],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){}initiateAR(e){let o;0==e?o="hat":1==e?o="hat1":2==e?o="earring":3==e?o="glasses1":4==e?o="headphone":5==e&&(o="necklace"),window.open("../../../ar.html?item="+o,"_blank")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-ar"]],decls:3,vars:6,consts:[["styleClass","custom-carousel",3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions"],["pTemplate","header"],["pTemplate","item"],[1,"category-header"],[1,"product-item"],[1,"product-item-content"],[1,"p-mb-3"],[1,"item-container",3,"click"],["alt","productImage",1,"productImage",3,"src"],[1,"p-mb-1"],[1,"price-ar"],[1,"p-mt-0","p-mb-3"]],template:function(e,o){1&e&&(s.TgZ(0,"p-carousel",0),s.YNc(1,nae,3,0,"ng-template",1),s.YNc(2,iae,10,3,"ng-template",2),s.qZA()),2&e&&s.Q6J("value",o.products)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",o.responsiveOptions)},dependencies:[j2,Da],styles:[".ar-container[_ngcontent-%COMP%]{display:flex;height:100%}.category-header[_ngcontent-%COMP%]{text-transform:uppercase;background-image:linear-gradient(315deg,#2a2a72 20%,#009ffd 94%);background-clip:text;-moz-background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center;margin:15px 0}.product-slider[_ngcontent-%COMP%]{display:flex}.item-img-wrapper-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:250px}.item-title[_ngcontent-%COMP%]{font-style:normal;text-decoration:none}.item-stars[_ngcontent-%COMP%]{display:flex}.price-template[_ngcontent-%COMP%]{float:right}.item-new-price[_ngcontent-%COMP%]{font-weight:600;font-size:larger}.item-old-price[_ngcontent-%COMP%]{font-weight:400;font-size:smaller;color:#a9a9a9}.item[_ngcontent-%COMP%]{width:250px;height:200px}.productImage[_ngcontent-%COMP%]{width:200px;height:200px}.item-container[_ngcontent-%COMP%]{border:1px solid #ccc}.item-container[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ccc}.item-container[_ngcontent-%COMP%]{padding:10px 15px}.price-ar[_ngcontent-%COMP%]{width:100%;display:flex;justify-items:end;justify-content:end}"]}),i})(),rae=(()=>{class i{constructor(e,o){this.router=e,this.route=o,this.body=document.body,this.html=document.documentElement,this.id="#banner",this.height=Math.max(this.body.scrollHeight,this.body.offsetHeight,this.html.clientHeight,this.html.scrollHeight,this.html.offsetHeight),this.test=this.height-74,this.style={height:"800",margin:"0","background-color":"#5ca0f2","background-image":"linear-gradient(315deg, #5ca0f2 0%, #f5f7f6 74%)"}}ngOnInit(){tz.init()}scrollDown(){this.router.navigateByUrl("/home#banner")}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tr),s.Y36(xd))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-head"]],decls:18,vars:1,consts:[[3,"ngStyle"],["src","https://thumbs.dreamstime.com/b/imitation-transparent-background-seamless-vector-illustration-69028332.jpg","alt","img",2,"opacity","0"],["data-aos","fade-up","data-aos-duration","2000",1,"left-panel"],["src","../../../../assets/img/banner/left.png","alt","left-panel"],[1,"right-panel"],[1,"container"],[1,"heading"],["data-aos","fade-up","data-aos-duration","2000",1,"ar-text"],["data-text","The Future of AR",1,"hero","glitch","layers"],["id","section10",1,"demo"],[2,"cursor","pointer",3,"click"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"img",1),s.TgZ(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),s._uU(7,"Welcome"),s.qZA()(),s.TgZ(8,"h1"),s._uU(9," to Malaysia's first Augmented Reality based Ecommerce Platform"),s.qZA()(),s.TgZ(10,"div",7)(11,"h2",8)(12,"span"),s._uU(13,"The Future of AR"),s.qZA()()(),s.TgZ(14,"section",9)(15,"a",10),s.NdJ("click",function(){return o.scrollDown()}),s._UZ(16,"span"),s._uU(17,"Scroll"),s.qZA()()()),2&e&&s.Q6J("ngStyle",o.style)},dependencies:[Rr],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%!important;margin:0}.bg[_ngcontent-%COMP%]{background-color:#5ca0f2;background-image:linear-gradient(315deg,#5ca0f2 0%,#f5f7f6 74%);background-position:center;background-repeat:no-repeat;background-size:cover}.left-panel[_ngcontent-%COMP%]{position:absolute;top:15%;margin-left:15px}.left-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:600px}.right-panel[_ngcontent-%COMP%]{position:absolute;top:10%;right:0;width:50%;font-family:Playfair Display,serif;font-weight:700;color:#414a4c;font-size:x-large;letter-spacing:1px;line-height:55px;margin:.5em .5em 0;font-style:italic}.right-panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:3rem 0 1rem}.right-panel[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#2a2ad1;font-size:10vw;text-shadow:2px 2px 15px #4d8eef;animation:fadeIn 2.5s linear forwards;font-style:italic}.right-panel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-style:normal}.ar-text[_ngcontent-%COMP%]{position:absolute;bottom:25%;left:30%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center}.ar-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.hero[_ngcontent-%COMP%]{font-size:clamp(40px,10vw,50px);line-height:1;display:inline-block;color:#fff;z-index:2;letter-spacing:10px;filter:drop-shadow(0 1px 3px)}.layers[_ngcontent-%COMP%]{position:relative}.layers[_ngcontent-%COMP%]:before, .layers[_ngcontent-%COMP%]:after{content:attr(data-text);position:absolute;width:110%;z-index:-1}.layers[_ngcontent-%COMP%]:before{top:10px;left:15px;color:#e0287d}.layers[_ngcontent-%COMP%]:after{top:5px;left:-10px;color:#1bc7fb}.glitch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation:paths 5s step-end infinite}.glitch[_ngcontent-%COMP%]:before{animation:paths 5s step-end infinite,opacity 5s step-end infinite,font 8s step-end infinite,movement 10s step-end infinite}.glitch[_ngcontent-%COMP%]:after{animation:paths 5s step-end infinite,opacity 5s step-end infinite,font 7s step-end infinite,movement 8s step-end infinite}.hero-container[_ngcontent-%COMP%]{position:relative;padding:200px 0;text-align:center}.single-path[_ngcontent-%COMP%]{clip-path:polygon(0% 12%,53% 12%,53% 26%,25% 26%,25% 86%,31% 86%,31% 0%,53% 0%,53% 84%,92% 84%,92% 82%,70% 82%,70% 29%,78% 29%,78% 65%,69% 65%,69% 66%,77% 66%,77% 45%,85% 45%,85% 26%,97% 26%,97% 28%,84% 28%,84% 34%,54% 34%,54% 89%,30% 89%,30% 58%,83% 58%,83% 5%,68% 5%,68% 36%,62% 36%,62% 1%,12% 1%,12% 34%,60% 34%,60% 57%,98% 57%,98% 83%,1% 83%,1% 53%,91% 53%,91% 84%,8% 84%,8% 83%,4% 83%)}.paths[_ngcontent-%COMP%]{animation:paths 5s step-end infinite}@keyframes paths{0%{clip-path:polygon(0% 43%,83% 43%,83% 22%,23% 22%,23% 24%,91% 24%,91% 26%,18% 26%,18% 83%,29% 83%,29% 17%,41% 17%,41% 39%,18% 39%,18% 82%,54% 82%,54% 88%,19% 88%,19% 4%,39% 4%,39% 14%,76% 14%,76% 52%,23% 52%,23% 35%,19% 35%,19% 8%,36% 8%,36% 31%,73% 31%,73% 16%,1% 16%,1% 56%,50% 56%,50% 8%)}5%{clip-path:polygon(0% 29%,44% 29%,44% 83%,94% 83%,94% 56%,11% 56%,11% 64%,94% 64%,94% 70%,88% 70%,88% 32%,18% 32%,18% 96%,10% 96%,10% 62%,9% 62%,9% 84%,68% 84%,68% 50%,52% 50%,52% 55%,35% 55%,35% 87%,25% 87%,25% 39%,15% 39%,15% 88%,52% 88%)}30%{clip-path:polygon(0% 53%,93% 53%,93% 62%,68% 62%,68% 37%,97% 37%,97% 89%,13% 89%,13% 45%,51% 45%,51% 88%,17% 88%,17% 54%,81% 54%,81% 75%,79% 75%,79% 76%,38% 76%,38% 28%,61% 28%,61% 12%,55% 12%,55% 62%,68% 62%,68% 51%,0% 51%,0% 92%,63% 92%,63% 4%,65% 4%)}45%{clip-path:polygon(0% 33%,2% 33%,2% 69%,58% 69%,58% 94%,55% 94%,55% 25%,33% 25%,33% 85%,16% 85%,16% 19%,5% 19%,5% 20%,79% 20%,79% 96%,93% 96%,93% 50%,5% 50%,5% 74%,55% 74%,55% 57%,96% 57%,96% 59%,87% 59%,87% 65%,82% 65%,82% 39%,63% 39%,63% 92%,4% 92%,4% 36%,24% 36%,24% 70%,1% 70%,1% 43%,15% 43%,15% 28%,23% 28%,23% 71%,90% 71%,90% 86%,97% 86%,97% 1%,60% 1%,60% 67%,71% 67%,71% 91%,17% 91%,17% 14%,39% 14%,39% 30%,58% 30%,58% 11%,52% 11%,52% 83%,68% 83%)}76%{clip-path:polygon(0% 26%,15% 26%,15% 73%,72% 73%,72% 70%,77% 70%,77% 75%,8% 75%,8% 42%,4% 42%,4% 61%,17% 61%,17% 12%,26% 12%,26% 63%,73% 63%,73% 43%,90% 43%,90% 67%,50% 67%,50% 41%,42% 41%,42% 46%,50% 46%,50% 84%,96% 84%,96% 78%,49% 78%,49% 25%,63% 25%,63% 14%)}90%{clip-path:polygon(0% 41%,13% 41%,13% 6%,87% 6%,87% 93%,10% 93%,10% 13%,89% 13%,89% 6%,3% 6%,3% 8%,16% 8%,16% 79%,0% 79%,0% 99%,92% 99%,92% 90%,5% 90%,5% 60%,0% 60%,0% 48%,89% 48%,89% 13%,80% 13%,80% 43%,95% 43%,95% 19%,80% 19%,80% 85%,38% 85%,38% 62%)}1%,7%,33%,47%,78%,93%{clip-path:none}}.movement[_ngcontent-%COMP%]{position:relative;animation:movement 8s step-end infinite}@keyframes movement{0%{top:0px;left:-20px}15%{top:10px;left:10px}60%{top:5px;left:-10px}75%{top:-5px;left:20px}to{top:10px;left:5px}}.opacity[_ngcontent-%COMP%]{animation:opacity 5s step-end infinite}@keyframes opacity{0%{opacity:.1}5%{opacity:.7}30%{opacity:.4}45%{opacity:.6}76%{opacity:.4}90%{opacity:.8}1%,7%,33%,47%,78%,93%{opacity:0}}.font[_ngcontent-%COMP%]{animation:font 7s step-end infinite}@keyframes font{0%{font-weight:100;color:#e0287d;filter:blur(3px)}20%{font-weight:500;color:#fff;filter:blur(0)}50%{font-weight:300;color:#1bc7fb;filter:blur(2px)}60%{font-weight:700;color:#fff;filter:blur(0)}90%{font-weight:500;color:#e0287d;filter:blur(6px)}}.demo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;z-index:2;display:inline-block;transform:translateY(-50%);color:#fff;font: 400 20px/1 Josefin Sans,sans-serif;letter-spacing:.1em;text-decoration:none;transition:opacity .3s}.demo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.5}#section10[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-top:60px}#section10[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:30px;height:50px;margin-left:-15px;border:2px solid #fff;border-radius:50px;box-sizing:border-box}#section10[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{position:absolute;top:10px;left:50%;content:"";width:6px;height:6px;margin-left:-3px;background-color:#fff;border-radius:100%;animation:sdb10 2s infinite;box-sizing:border-box}@keyframes sdb10{0%{transform:translate(0);opacity:0}40%{opacity:1}80%{transform:translateY(20px);opacity:0}to{opacity:0}}']}),i})(),rz=(()=>{class i{constructor(e,o){this._Activatedroute=e,this.firebaseService=o,this.body=document.body,this.html=document.documentElement,this.height=Math.max(this.body.scrollHeight,this.body.offsetHeight,this.html.clientHeight,this.html.scrollHeight,this.html.offsetHeight),this.test=this.height-74,this.style={height:"800",margin:"0","background-color":"#5ca0f2","background-image":"linear-gradient(315deg, #5ca0f2 0%, #f5f7f6 74%)"}}ngOnInit(){tz.init(),this._Activatedroute.paramMap.subscribe(e=>{this.userid=e.get("userid"),console.log("user id = "+this.userid)}),this.user=this.firebaseService.getUserData(),console.log("email: "+this.firebaseService.getUserData())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(xd),s.Y36(jp))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-home-main"]],decls:8,vars:0,consts:[["id","banner"]],template:function(e,o){1&e&&(s.TgZ(0,"body"),s._UZ(1,"app-header-normal")(2,"app-head")(3,"div",0)(4,"app-banner")(5,"app-categories")(6,"app-discounted-products")(7,"app-ar"),s.qZA())},dependencies:[sw,gse,mse,Mse,iz,rae]}),i})(),oae=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-categories-main"]],decls:1,vars:0,template:function(e,o){1&e&&s._UZ(0,"app-header-normal")},dependencies:[sw]}),i})(),z2=(()=>{class i{constructor(e){this.http=e}makePayment(e,o){return this.http.post("http://localhost:5000/checkout/",{token:e,amount:o})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ko))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),sae=(()=>{class i{constructor(e){this.uploadService=e}ngOnInit(){}deleteFileUpload(e){this.uploadService.deleteFile(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Ck))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-seat"]],inputs:{fileUpload:"fileUpload"},decls:4,vars:2,consts:[[3,"href"],[1,"btn","btn-danger","btn-sm",2,"float","right",3,"click"]],template:function(e,o){1&e&&(s.TgZ(0,"a",0),s._uU(1),s.qZA(),s.TgZ(2,"button",1),s.NdJ("click",function(){return o.deleteFileUpload(o.fileUpload)}),s._uU(3," Delete\n"),s.qZA()),2&e&&(s.s9C("href",o.fileUpload.url,s.LSH),s.xp6(1),s.Oqu(o.fileUpload.name))}}),i})();function aae(i,t){if(1&i&&(s.TgZ(0,"ul",3)(1,"li",4),s._UZ(2,"app-seat",5),s.qZA()()),2&i){const e=t.$implicit;s.xp6(2),s.Q6J("fileUpload",e)}}let lae=(()=>{class i{constructor(e){this.uploadService=e}ngOnInit(){this.uploadService.getFiles(6).snapshotChanges().pipe((0,dn.U)(e=>e.map(o=>({key:o.payload.key,...o.payload.val()})))).subscribe(e=>{this.fileUploads=e})}deleteFileUpload(e){this.uploadService.deleteFile(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Ck))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-personal"]],decls:4,vars:1,consts:[[1,"card"],[1,"card-header"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"fileUpload"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"List of Files"),s.qZA(),s.YNc(3,aae,3,1,"ul",2),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngForOf",o.fileUploads))},dependencies:[Ui,sae]}),i})();const cae=function(i){return{width:i}};function uae(i,t){if(1&i&&(s.TgZ(0,"div",3)(1,"div",4),s._uU(2),s.qZA()()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngStyle",s.VKq(3,cae,e.percentage+"%")),s.uIk("aria-valuenow",e.percentage),s.xp6(1),s.hij(" ",e.percentage,"% ")}}let dae=(()=>{class i{constructor(e){this.uploadService=e,this.percentage=0}ngOnInit(){}selectFile(e){this.selectedFiles=e.target.files}upload(){if(this.selectedFiles){const e=this.selectedFiles.item(0);this.selectedFiles=void 0,e&&(this.currentFileUpload=new P4(e))}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Ck))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-confirmation"]],decls:5,vars:2,consts:[["type","file",1,"text-nowrap","text-truncate",3,"change"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],["class","progress mt-2",4,"ngIf"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"]],template:function(e,o){1&e&&(s.TgZ(0,"label")(1,"input",0),s.NdJ("change",function(l){return o.selectFile(l)}),s.qZA()(),s.TgZ(2,"button",1),s.NdJ("click",function(){return o.upload()}),s._uU(3," Upload\n"),s.qZA(),s.YNc(4,uae,3,5,"div",2)),2&e&&(s.xp6(2),s.Q6J("disabled",!o.selectedFiles),s.xp6(2),s.Q6J("ngIf",o.currentFileUpload))},dependencies:[zi,Rr]}),i})(),hae=(()=>{class i{constructor(e){this.checkout=e,this.items=[],this.paymentHandler=null,this.success=!1,this.failure=!1}ngOnInit(){this.invokeStripe()}makePayment(e){const o=window.StripeCheckout.configure({key:"pk_test_51KiEXBFN13hoDLby9WPZJAKOf7i92hVpeKw9EnnyStV7ZEgQqytzf8k6r7rAb0rIYuDkHyWFgO1zrN3nhQLVhi9i00rhHxNUR4",locale:"auto",token:function(l){console.log(l),a(l,e)}}),a=(l,c)=>{this.checkout.makePayment(l,c).subscribe(g=>{console.log(g),"success"===g.data?this.success=!0:this.failure=!0})};o.open({name:"Coding Shiksha",description:"This is a sample pdf file",amount:100*e})}invokeStripe(){if(!window.document.getElementById("stripe-script")){const e=window.document.createElement("script");e.id="stripe-script",e.type="text/javascript",e.src="https://checkout.stripe.com/checkout.js",e.onload=()=>{this.paymentHandler=window.StripeCheckout.configure({key:"pk_test_51KiEXBFN13hoDLby9WPZJAKOf7i92hVpeKw9EnnyStV7ZEgQqytzf8k6r7rAb0rIYuDkHyWFgO1zrN3nhQLVhi9i00rhHxNUR4",locale:"auto",token:function(o){console.log(o)}})},window.document.body.appendChild(e)}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(z2))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"container",2,"width","600px"],[1,"my-3"],[1,"my-2"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0)(1,"div")(2,"h3"),s._uU(3,"bezkoder.com"),s.qZA()(),s.TgZ(4,"div",1),s._UZ(5,"app-confirmation"),s.qZA(),s.TgZ(6,"div",2),s._UZ(7,"app-personal"),s.qZA()())},dependencies:[lae,dae]}),i})();const oz="primary";class QS{constructor(t){Object.assign(this,t)}static create(t){return(null==t?.type||0===t.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new QS(t)}}let mae=(()=>{class i{constructor(){this.spinnerObservable=new rs(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Zr(o=>o&&o.name===e))}show(e=oz,o){return new Promise((a,l)=>{setTimeout(()=>{o&&Object.keys(o).length?(o.name=e,this.spinnerObservable.next(new QS({...o,show:!0})),a(!0)):(this.spinnerObservable.next(new QS({name:e,show:!0})),a(!0))},10)})}hide(e=oz,o=10){return new Promise((a,l)=>{setTimeout(()=>{this.spinnerObservable.next(new QS({name:e,show:!1})),a(!0)},o)})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const _ae=new s.OlP("NGX_SPINNER_CONFIG");let yae=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:_ae,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})(),vae=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-similar-products"]],decls:0,vars:0,template:function(e,o){}}),i})();function bae(i,t){1&i&&(s.TgZ(0,"p",6),s._uU(1,"Highlights"),s.qZA())}function wae(i,t){if(1&i&&(s.TgZ(0,"div",8)(1,"div",9),s._UZ(2,"img",10),s.TgZ(3,"h4"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"div",9),s._UZ(8,"img",11),s.TgZ(9,"h4"),s._uU(10),s.qZA(),s.TgZ(11,"p"),s._uU(12),s.qZA(),s._UZ(13,"br"),s.qZA(),s.TgZ(14,"div",9),s._UZ(15,"img",12),s.TgZ(16,"h4"),s._uU(17),s.qZA(),s.TgZ(18,"p"),s._uU(19),s.qZA(),s._UZ(20,"br"),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(4),s.Oqu(e.productDetails.highlight1header),s.xp6(2),s.Oqu(e.productDetails.highlight1description),s.xp6(4),s.Oqu(e.productDetails.highlight2header),s.xp6(2),s.Oqu(e.productDetails.highlight2description),s.xp6(5),s.Oqu(e.productDetails.highlight3header),s.xp6(2),s.Oqu(e.productDetails.highlight3description)}}function Cae(i,t){if(1&i&&(s.TgZ(0,"div",8)(1,"div",9),s._UZ(2,"img",13),s.TgZ(3,"h4"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"div",9),s._UZ(8,"img",14),s.TgZ(9,"h4"),s._uU(10),s.qZA(),s.TgZ(11,"p"),s._uU(12),s.qZA(),s._UZ(13,"br"),s.qZA(),s.TgZ(14,"div",9),s._UZ(15,"img",14),s.TgZ(16,"h4"),s._uU(17),s.qZA(),s.TgZ(18,"p"),s._uU(19),s.qZA(),s._UZ(20,"br"),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(2),s.s9C("src",e.productDetails.highlight1img,s.LSH),s.xp6(2),s.Oqu(e.productDetails.highlight1header),s.xp6(2),s.Oqu(e.productDetails.highlight1description),s.xp6(2),s.s9C("src",e.productDetails.highlight2img,s.LSH),s.xp6(2),s.Oqu(e.productDetails.highlight2header),s.xp6(2),s.Oqu(e.productDetails.highlight2description),s.xp6(3),s.s9C("src",e.productDetails.highlight3img,s.LSH),s.xp6(2),s.Oqu(e.productDetails.highlight3header),s.xp6(2),s.Oqu(e.productDetails.highlight3description)}}function Tae(i,t){if(1&i&&(s.TgZ(0,"div",8)(1,"div",9)(2,"h4"),s._uU(3),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA()(),s.TgZ(6,"div",9)(7,"h4"),s._uU(8),s.qZA(),s.TgZ(9,"p"),s._uU(10),s.qZA(),s._UZ(11,"br"),s.qZA(),s.TgZ(12,"div",9)(13,"h4"),s._uU(14),s.qZA(),s.TgZ(15,"p"),s._uU(16),s.qZA(),s._UZ(17,"br"),s.qZA(),s.TgZ(18,"div",9)(19,"h4"),s._uU(20),s.qZA(),s.TgZ(21,"p"),s._uU(22),s.qZA()(),s.TgZ(23,"div",9)(24,"h4"),s._uU(25),s.qZA(),s.TgZ(26,"p"),s._uU(27),s.qZA(),s._UZ(28,"br"),s.qZA(),s.TgZ(29,"div",9)(30,"h4"),s._uU(31),s.qZA(),s.TgZ(32,"p"),s._uU(33),s.qZA(),s._UZ(34,"br"),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(3),s.Oqu(e.productDetails.highlight1header),s.xp6(2),s.Oqu(e.productDetails.highlight1description),s.xp6(3),s.Oqu(e.productDetails.highlight2header),s.xp6(2),s.Oqu(e.productDetails.highlight2description),s.xp6(4),s.Oqu(e.productDetails.highlight3header),s.xp6(2),s.Oqu(e.productDetails.highlight3description),s.xp6(4),s.Oqu(e.productDetails.highlight4header),s.xp6(2),s.Oqu(e.productDetails.highlight4description),s.xp6(3),s.Oqu(e.productDetails.highlight5header),s.xp6(2),s.Oqu(e.productDetails.highlight5description),s.xp6(4),s.Oqu(e.productDetails.highlight6header),s.xp6(2),s.Oqu(e.productDetails.highlight6description)}}function Eae(i,t){1&i&&(s.YNc(0,wae,21,6,"div",7),s.YNc(1,Cae,21,9,"div",7),s.YNc(2,Tae,35,12,"div",7)),2&i&&(s.Q6J("ngSwitchCase",1e3),s.xp6(1),s.Q6J("ngSwitchCase",1001),s.xp6(1),s.Q6J("ngSwitchCase",1002))}function xae(i,t){if(1&i&&(s.TgZ(0,"ngb-panel"),s.YNc(1,bae,2,0,"ng-template",4),s.YNc(2,Eae,3,3,"ng-template",5),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngSwitch",e.productId)}}function Sae(i,t){1&i&&(s.TgZ(0,"p",6),s._uU(1,"Description & Specs"),s.qZA())}function Dae(i,t){if(1&i&&(s.TgZ(0,"div",17)(1,"div",18)(2,"h4"),s._uU(3),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA()(),s._UZ(6,"img",19),s.qZA()),2&i){const e=s.oxw(3);s.xp6(3),s.Oqu(e.productDetails.descriptionHeader),s.xp6(2),s.Oqu(e.productDetails.descriptionText)}}function Iae(i,t){if(1&i&&(s.TgZ(0,"div",20)(1,"h4"),s._uU(2),s.qZA(),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.TgZ(5,"div")(6,"h5"),s._uU(7),s.qZA(),s.TgZ(8,"ul")(9,"li"),s._uU(10),s.qZA(),s.TgZ(11,"li"),s._uU(12),s.qZA()(),s.TgZ(13,"h5"),s._uU(14),s.qZA(),s.TgZ(15,"ul")(16,"li"),s._uU(17),s.qZA(),s.TgZ(18,"li"),s._uU(19),s.qZA(),s.TgZ(20,"li"),s._uU(21),s.qZA()(),s.TgZ(22,"h5"),s._uU(23),s.qZA(),s.TgZ(24,"ul")(25,"li"),s._uU(26),s.qZA(),s.TgZ(27,"li"),s._uU(28),s.qZA()(),s.TgZ(29,"h5"),s._uU(30),s.qZA(),s.TgZ(31,"ul")(32,"li"),s._uU(33),s.qZA(),s.TgZ(34,"li"),s._uU(35),s.qZA(),s.TgZ(36,"li"),s._uU(37),s.qZA(),s.TgZ(38,"li"),s._uU(39),s.qZA()(),s.TgZ(40,"h5"),s._uU(41),s.qZA(),s.TgZ(42,"ul")(43,"li"),s._uU(44),s.qZA(),s.TgZ(45,"li"),s._uU(46),s.qZA(),s.TgZ(47,"li"),s._uU(48),s.qZA()(),s.TgZ(49,"h5"),s._uU(50),s.qZA(),s.TgZ(51,"ul")(52,"li"),s._uU(53),s.qZA(),s.TgZ(54,"li"),s._uU(55),s.qZA(),s.TgZ(56,"li"),s._uU(57),s.qZA(),s.TgZ(58,"li"),s._uU(59),s.qZA(),s.TgZ(60,"li"),s._uU(61),s.qZA(),s.TgZ(62,"li"),s._uU(63),s.qZA(),s.TgZ(64,"li"),s._uU(65),s.qZA(),s.TgZ(66,"li"),s._uU(67),s.qZA(),s.TgZ(68,"li"),s._uU(69),s.qZA(),s.TgZ(70,"li"),s._uU(71),s.qZA(),s.TgZ(72,"li"),s._uU(73),s.qZA(),s.TgZ(74,"li"),s._uU(75),s.qZA(),s.TgZ(76,"li"),s._uU(77),s.qZA(),s.TgZ(78,"li"),s._uU(79),s.qZA(),s.TgZ(80,"li"),s._uU(81),s.qZA()(),s.TgZ(82,"div",21)(83,"div",22)(84,"h5"),s._uU(85),s.qZA(),s.TgZ(86,"ul")(87,"li"),s._uU(88),s.qZA(),s.TgZ(89,"li"),s._uU(90),s.qZA(),s.TgZ(91,"li"),s._uU(92),s.qZA(),s.TgZ(93,"li"),s._uU(94),s.qZA(),s.TgZ(95,"li"),s._uU(96),s.qZA(),s.TgZ(97,"li"),s._uU(98),s.qZA(),s.TgZ(99,"li"),s._uU(100),s.qZA()()(),s.TgZ(101,"div",23),s._UZ(102,"img",24),s.qZA()()()()),2&i){const e=s.oxw(3);s.xp6(2),s.Oqu(e.productDetails.descriptionHeader),s.xp6(2),s.Oqu(e.productDetails.description),s.xp6(3),s.Oqu(e.productDetails.generalSpecificationsHeader),s.xp6(3),s.AsE("",e.productDetails.generalSpecificationsBluetoothVersionHeader," - ",e.productDetails.generalSpecificationsBluetoothVersion,""),s.xp6(2),s.AsE("",e.productDetails.generalSpecificationsDriverSizeHeader," - ",e.productDetails.generalSpecificationsDriverSize,""),s.xp6(2),s.Oqu(e.productDetails.audioSpecificationsHeader),s.xp6(3),s.AsE("",e.productDetails.audioSpecificationsDriverSensitivityHeader," - ",e.productDetails.audioSpecificationsDriverSensitivity,""),s.xp6(2),s.AsE("",e.productDetails.audioSpecificationsDynamicFrequencyRangeHeader," - ",e.productDetails.audioSpecificationsDynamicFrequencyRange,""),s.xp6(2),s.AsE("",e.productDetails.audioSpecificationsImpedanceHeader," - ",e.productDetails.audioSpecificationsImpedance,""),s.xp6(2),s.Oqu(e.productDetails.dimensionsHeader),s.xp6(3),s.AsE("",e.productDetails.dimensionsWeightHeader," - ",e.productDetails.dimensionsWeight,""),s.xp6(2),s.AsE("",e.productDetails.dimensionsWeight1Header," - ",e.productDetails.dimensionsWeight1,""),s.xp6(2),s.Oqu(e.productDetails.cncspecHeader),s.xp6(3),s.AsE("",e.productDetails.bluetoothProfileHeader," - ",e.productDetails.bluetoothProfile,""),s.xp6(2),s.AsE("",e.productDetails.bluetoothFrequencyHeader," - ",e.productDetails.bluetoothFrequency,""),s.xp6(2),s.AsE("",e.productDetails.bluetoothTransmittedModulationHeader," - ",e.productDetails.bluetoothTransmittedModulation,""),s.xp6(2),s.AsE("",e.productDetails.bluetoothTransmitterWowerHeader," - ",e.productDetails.bluetoothTransmitterWower,""),s.xp6(2),s.Oqu(e.productDetails.batterHeader),s.xp6(3),s.AsE("",e.productDetails.batteryChargingTimeHeader," - ",e.productDetails.batteryChargingTime,""),s.xp6(2),s.AsE("",e.productDetails.maxMusicPlayOffHeader," - ",e.productDetails.maxMusicPlayOff,""),s.xp6(2),s.AsE("",e.productDetails.maxMusicPlayOnHeader," - ",e.productDetails.maxMusicPlayOn,""),s.xp6(2),s.Oqu(e.productDetails.featuresHeader),s.xp6(3),s.AsE("",e.productDetails.features1Header," - ",e.productDetails.features1,""),s.xp6(2),s.AsE("",e.productDetails.features2Header," - ",e.productDetails.features2,""),s.xp6(2),s.AsE("",e.productDetails.features3Header," - ",e.productDetails.features3,""),s.xp6(2),s.AsE("",e.productDetails.features4Header," - ",e.productDetails.features4,""),s.xp6(2),s.AsE("",e.productDetails.features5Header," - ",e.productDetails.features5,""),s.xp6(2),s.AsE("",e.productDetails.features6Header," - ",e.productDetails.features6,""),s.xp6(2),s.AsE("",e.productDetails.features7Header," - ",e.productDetails.features7,""),s.xp6(2),s.AsE("",e.productDetails.features8Header," - ",e.productDetails.features8,""),s.xp6(2),s.AsE("",e.productDetails.features9Header," - ",e.productDetails.features9,""),s.xp6(2),s.AsE("",e.productDetails.features10Header," - ",e.productDetails.features10,""),s.xp6(2),s.AsE("",e.productDetails.features11Header," - ",e.productDetails.features11,""),s.xp6(2),s.AsE("",e.productDetails.features12Header," - ",e.productDetails.features12,""),s.xp6(2),s.AsE("",e.productDetails.features13Header," - ",e.productDetails.features13,""),s.xp6(2),s.AsE("",e.productDetails.features14Header," - ",e.productDetails.features14,""),s.xp6(2),s.AsE("",e.productDetails.features15Header," - ",e.productDetails.features15,""),s.xp6(4),s.Oqu(e.productDetails.boxHeader),s.xp6(3),s.Oqu(e.productDetails.boxHeaderDetails1),s.xp6(2),s.Oqu(e.productDetails.boxHeaderDetails2),s.xp6(2),s.Oqu(e.productDetails.boxHeaderDetails3),s.xp6(2),s.Oqu(e.productDetails.boxHeaderDetails4),s.xp6(2),s.Oqu(e.productDetails.boxHeaderDetails5),s.xp6(2),s.Oqu(e.productDetails.boxHeaderDetails6),s.xp6(2),s.Oqu(e.productDetails.boxHeaderDetails7),s.xp6(2),s.s9C("src",e.productDetails.boxImg,s.LSH)}}function Mae(i,t){1&i&&(s.TgZ(0,"div",20)(1,"p"),s._uU(2,"Detailed specifications can be found in "),s.TgZ(3,"a",25),s._uU(4,"samsung official page"),s.qZA(),s._uU(5," or "),s.TgZ(6,"a",26),s._uU(7,"gsmarena"),s.qZA(),s._uU(8,"."),s.qZA()())}function Aae(i,t){1&i&&(s.YNc(0,Dae,7,2,"div",15),s.YNc(1,Iae,103,75,"div",16),s.YNc(2,Mae,9,0,"div",16)),2&i&&(s.Q6J("ngSwitchCase",1e3),s.xp6(1),s.Q6J("ngSwitchCase",1001),s.xp6(1),s.Q6J("ngSwitchCase",1002))}function kae(i,t){if(1&i&&(s.TgZ(0,"ngb-panel"),s.YNc(1,Sae,2,0,"ng-template",4),s.YNc(2,Aae,3,3,"ng-template",5),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngSwitch",e.productId)}}function Oae(i,t){1&i&&(s.TgZ(0,"p",6),s._uU(1,"Details"),s.qZA())}function Rae(i,t){if(1&i&&(s.TgZ(0,"div",28)(1,"div",29)(2,"ul")(3,"li"),s._uU(4),s.qZA(),s.TgZ(5,"li"),s._uU(6),s.qZA(),s.TgZ(7,"li"),s._uU(8),s.qZA(),s.TgZ(9,"li"),s._uU(10),s.qZA()()(),s.TgZ(11,"div",30)(12,"ul")(13,"li"),s._uU(14),s.qZA(),s.TgZ(15,"li"),s._uU(16),s.qZA(),s.TgZ(17,"li"),s._uU(18),s.qZA()()()()),2&i){const e=s.oxw(3);s.xp6(4),s.Oqu(e.productDetails.details1),s.xp6(2),s.Oqu(e.productDetails.details2),s.xp6(2),s.Oqu(e.productDetails.details3),s.xp6(2),s.Oqu(e.productDetails.details4),s.xp6(4),s.Oqu(e.productDetails.details5),s.xp6(2),s.Oqu(e.productDetails.details6),s.xp6(2),s.Oqu(e.productDetails.details7)}}function Pae(i,t){1&i&&s.YNc(0,Rae,19,7,"div",27),2&i&&s.Q6J("ngSwitchCase",1e3)}function Nae(i,t){if(1&i&&(s.TgZ(0,"ngb-panel"),s.YNc(1,Oae,2,0,"ng-template",4),s.YNc(2,Pae,1,1,"ng-template",5),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngSwitch",e.productId)}}function Fae(i,t){if(1&i&&(s.TgZ(0,"p",6),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Oqu(e.productDetails.docndownloadsHeader)}}function Lae(i,t){if(1&i&&(s.TgZ(0,"div",28)(1,"ul")(2,"li")(3,"a",31),s._uU(4),s.qZA()(),s.TgZ(5,"li")(6,"a",31),s._uU(7),s.qZA()(),s.TgZ(8,"li")(9,"a",31),s._uU(10),s.qZA()(),s.TgZ(11,"li")(12,"a",31),s._uU(13),s.qZA()()()()),2&i){const e=s.oxw(3);s.xp6(3),s.s9C("href",e.productDetails.docndownloadsDoc1Link,s.LSH),s.xp6(1),s.Oqu(e.productDetails.docndownloadsDoc1Header),s.xp6(2),s.s9C("href",e.productDetails.docndownloadsDoc2Link,s.LSH),s.xp6(1),s.Oqu(e.productDetails.docndownloadsDoc2Header),s.xp6(2),s.s9C("href",e.productDetails.docndownloadsDoc3Link,s.LSH),s.xp6(1),s.Oqu(e.productDetails.docndownloadsDoc3Header),s.xp6(2),s.s9C("href",e.productDetails.docndownloadsDoc4Link,s.LSH),s.xp6(1),s.Oqu(e.productDetails.docndownloadsDoc4Header)}}function Vae(i,t){1&i&&s.YNc(0,Lae,14,8,"div",27),2&i&&s.Q6J("ngSwitchCase",1001)}function Bae(i,t){if(1&i&&(s.TgZ(0,"ngb-panel"),s.YNc(1,Fae,2,1,"ng-template",4),s.YNc(2,Vae,1,1,"ng-template",5),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngSwitch",e.productId)}}function Hae(i,t){1&i&&(s.TgZ(0,"p",6),s._uU(1,"What's in the box"),s.qZA())}function Uae(i,t){if(1&i&&(s.TgZ(0,"div",33),s._UZ(1,"img",34),s.TgZ(2,"p"),s._uU(3),s.qZA(),s.TgZ(4,"p"),s._uU(5),s.qZA(),s.TgZ(6,"p"),s._uU(7),s.qZA(),s._UZ(8,"br"),s.TgZ(9,"p"),s._uU(10),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(1),s.s9C("src",e.productDetails.boxImg,s.LSH),s.xp6(2),s.Oqu(e.productDetails.boxDetails1),s.xp6(2),s.Oqu(e.productDetails.boxDetails2),s.xp6(2),s.Oqu(e.productDetails.boxDetails3),s.xp6(3),s.Oqu(e.productDetails.boxWarning)}}function jae(i,t){1&i&&s.YNc(0,Uae,11,5,"div",32),2&i&&s.Q6J("ngSwitchCase",1002)}function zae(i,t){if(1&i&&(s.TgZ(0,"ngb-panel"),s.YNc(1,Hae,2,0,"ng-template",4),s.YNc(2,jae,1,1,"ng-template",5),s.qZA()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("ngSwitch",e.productId)}}let Gae=(()=>{class i{constructor(e,o,a,l){this._Activatedroute=e,this.router=o,this.firebasecrudservice=a,this.productService=l}ngOnInit(){this._Activatedroute.paramMap.subscribe(e=>{this.productId=e.get("id")}),this.router.events.subscribe(e=>{e instanceof qp&&window.scrollTo(0,0)}),this.productService.getAllProductsDetails().then(e=>{this.productDetails=e.find(o=>o.id===this.productId)}),this.firebasecrudservice.getProductByIDFromAllProducts(this.productId).subscribe(e=>{this.highlights=e.highlights,this.productDescriptionSpecs=e.productDescriptionSpecs,this.documentsDownloads=e.documentsDownloads,this.box=e.box,this.details=e.details})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(xd),s.Y36(tr),s.Y36(jp),s.Y36(N0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-product-details-accordion"]],decls:8,vars:5,consts:[[1,"container"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],[4,"ngIf"],["ngbPanelTitle",""],["ngbPanelContent","",3,"ngSwitch"],[1,"title"],["class","highlights-container",4,"ngSwitchCase"],[1,"highlights-container"],[1,"highlight-section"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/3.png","alt","img3"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/2.png","alt","img2"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/1.png","alt","img1"],["alt","img3",3,"src"],["alt","img2",3,"src"],["class","description-container",4,"ngSwitchCase"],["class","description-container-column",4,"ngSwitchCase"],[1,"description-container"],[1,"description"],["src","../../../../assets/img/discountedProducts/addidas-shoes/product-details/4.png","alt","img4"],[1,"description-container-column"],[1,"box-container"],[1,"left-panel"],[1,"right-panel"],["alt","box-img",3,"src"],["href","https://www.samsung.com/my/smartphones/galaxy-s22-ultra/specs/"],["href","https://www.gsmarena.com/samsung_galaxy_s22_ultra_5g-11251.php"],["class","details-container",4,"ngSwitchCase"],[1,"details-container"],[1,"left-section"],[1,"right-section"],[3,"href"],["class","details-container-column",4,"ngSwitchCase"],[1,"details-container-column"],["alt","box-img",2,"width","800px",3,"src"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0)(1,"ngb-accordion",1,2),s.YNc(3,xae,3,1,"ngb-panel",3),s.YNc(4,kae,3,1,"ngb-panel",3),s.YNc(5,Nae,3,1,"ngb-panel",3),s.YNc(6,Bae,3,1,"ngb-panel",3),s.YNc(7,zae,3,1,"ngb-panel",3),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf",o.highlights),s.xp6(1),s.Q6J("ngIf",o.productDescriptionSpecs),s.xp6(1),s.Q6J("ngIf",o.details),s.xp6(1),s.Q6J("ngIf",o.documentsDownloads),s.xp6(1),s.Q6J("ngIf",o.box))},dependencies:[zi,vo,Ns,O2,kk,A2,k2],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.title[_ngcontent-%COMP%]{font-weight:600;color:#005de8}.highlights-container[_ngcontent-%COMP%], .box-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 20px;flex-wrap:wrap}.highlight-section[_ngcontent-%COMP%]{max-width:250px;padding-top:10px;display:flex;flex-direction:column;justify-content:center}.highlight-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;object-fit:scale-down}.highlight-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}.highlight-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify;font-size:smaller}.description-container[_ngcontent-%COMP%]{margin:20px;display:flex}.description-container[_ngcontent-%COMP%]   .description-container-column[_ngcontent-%COMP%]{flex-direction:column}.description-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding-right:30px;display:flex;flex-direction:column;justify-content:center}.description-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:360px}.description-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:italic;font-family:AdihausDIN Cn,Helvetica,Arial,sans-serif;font-weight:600}.description-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.details-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px}.left-panel[_ngcontent-%COMP%]{margin-top:50px}"]}),i})(),sz=(()=>{class i{constructor(e){this.http=e}getFirstProductImages(){return this.http.get("assets/data/gallery.json").toPromise().then(e=>e.data).then(e=>e)}getSecondProductImages(){return this.http.get("assets/data/gallery.json").toPromise().then(e=>e.data1).then(e=>e)}getThirdProductImages(){return this.http.get("assets/data/gallery.json").toPromise().then(e=>e.data2).then(e=>e)}getJBLBlack(){return this.http.get("assets/data/gallery.json").toPromise().then(e=>e.data4).then(e=>e)}getJBLBlue(){return this.http.get("assets/data/gallery.json").toPromise().then(e=>e.data5).then(e=>e)}getJBLWhite(){return this.http.get("assets/data/gallery.json").toPromise().then(e=>e.data6).then(e=>e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ko))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function qae(i,t){1&i&&s._UZ(0,"div")}function Zae(i,t){if(1&i&&(s.TgZ(0,"div",7)(1,"div",8)(2,"div",9),s._UZ(3,"img",10),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(3),s.s9C("src",e.previewImageSrc,s.LSH)}}function $ae(i,t){if(1&i&&(s.TgZ(0,"p-carousel",5),s.YNc(1,Zae,4,1,"ng-template",6),s.qZA()),2&i){const e=s.oxw(2);s.Q6J("value",e.firstProductImages)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",e.responsiveOptions)}}function Wae(i,t){if(1&i&&(s.TgZ(0,"div",7)(1,"div",8)(2,"div",9),s._UZ(3,"img",10),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(3),s.s9C("src",e.previewImageSrc,s.LSH)}}function Yae(i,t){if(1&i&&(s.TgZ(0,"p-carousel",5),s.YNc(1,Wae,4,1,"ng-template",6),s.qZA()),2&i){const e=s.oxw(2);s.Q6J("value",e.secondProductImages)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",e.responsiveOptions)}}function Kae(i,t){if(1&i&&(s.TgZ(0,"div",7)(1,"div",8)(2,"div",9),s._UZ(3,"img",10),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(3),s.s9C("src",e.previewImageSrc,s.LSH)}}function Jae(i,t){if(1&i&&(s.TgZ(0,"p-carousel",5),s.YNc(1,Kae,4,1,"ng-template",6),s.qZA()),2&i){const e=s.oxw(2);s.Q6J("value",e.thirdProductImages)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",e.responsiveOptions)}}function Qae(i,t){if(1&i&&(s.TgZ(0,"div",0)(1,"div",3)(2,"h1"),s._uU(3,"Gallery"),s.qZA()(),s.YNc(4,$ae,2,6,"p-carousel",4),s.YNc(5,Yae,2,6,"p-carousel",4),s.YNc(6,Jae,2,6,"p-carousel",4),s.qZA()),2&i){const e=s.oxw();s.Q6J("ngSwitch",e.activeImage),s.xp6(4),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2),s.xp6(1),s.Q6J("ngSwitchCase",3)}}let Xae=(()=>{class i{constructor(e,o){this.imageService=e,this._Activatedroute=o,this.imgChanged=new s.vpe,this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){this._Activatedroute.paramMap.subscribe(e=>{this.productId=e.get("id")}),"1000"==this.productId?(this.imageService.getFirstProductImages().then(e=>{this.firstProductImages=e}),this.imageService.getSecondProductImages().then(e=>{this.secondProductImages=e}),this.imageService.getThirdProductImages().then(e=>{this.thirdProductImages=e})):"1001"==this.productId&&(this.imageService.getJBLBlack().then(e=>{this.firstProductImages=e}),this.imageService.getJBLBlue().then(e=>{this.secondProductImages=e}),this.imageService.getJBLWhite().then(e=>{this.thirdProductImages=e}))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(sz),s.Y36(xd))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-product-details-gallery"]],inputs:{activeImage:"activeImage"},outputs:{imgChanged:"imgChanged"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"gallery-container","container"],["styleClass","custom-carousel",3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions",4,"ngSwitchCase"],["styleClass","custom-carousel",3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions"],["pTemplate","item"],[1,"product-item"],[1,"product-item-content"],[1,"slide-img"],["alt","img",3,"src"]],template:function(e,o){1&e&&(s.TgZ(0,"section",0),s.YNc(1,qae,1,0,"div",1),s.YNc(2,Qae,7,4,"div",2),s.qZA()),2&e&&(s.Q6J("ngSwitch",o.productId),s.xp6(1),s.Q6J("ngSwitchCase",1002))},dependencies:[vo,Ns,$o,j2,Da],styles:[".product-item[_ngcontent-%COMP%]   .product-item-content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:.3rem;text-align:center;padding:2rem 0}.product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:50%;box-shadow:0 3px 6px #00000029,0 3px 6px #0000003b}.slide-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.gallery-container[_ngcontent-%COMP%]{margin:40px auto}.gallery-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 auto;background-image:linear-gradient(315deg,#2a2a72 20%,#009ffd 94%);background-clip:text;-moz-background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center}"]}),i})(),ele=(()=>{class i{constructor(e){this.router=e}ngOnInit(){this.router.events.subscribe(e=>{e instanceof qp&&window.scrollTo(0,0)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tr))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-footer"]],decls:73,vars:0,consts:[[1,"footer"],[1,"container","p-4"],[1,"mb-4","text-center"],["href","#!","role","button",1,"btn","btn-outline-light","btn-floating","m-1"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-google"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin-in"],[1,"fab","fa-github"],[1,""],["action",""],[1,"row","d-flex","justify-content-center"],[1,"col-auto"],[1,"pt-2"],[1,"col-md-5","col-12"],[1,"form-outline","form-white","mb-4"],["type","email","id","form5Example21",1,"form-control"],["for","form5Example21",1,"form-label"],["type","submit",1,"btn","btn-outline-light","mb-4"],[1,"row"],[1,"col-lg-3","col-md-6","mb-4","mb-md-0","links"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["href","#!",1,"text-white"],[1,"col-lg-3","col-md-6","mb-4","mb-md-0","qr"],["src","../../../assets/img/qr.png","alt","qr-code"],[1,"col-lg-2","col-md-6","mb-4","mb-md-0","store"],["src","../../../assets/img/googleplay.png","alt","play-store"],["src","../../../assets/img/appstore.png","alt","app-store"],[1,"text-center","p-3",2,"background-color","rgba(0, 0, 0, 0.2)"]],template:function(e,o){1&e&&(s.TgZ(0,"footer",0)(1,"div",1)(2,"section",2)(3,"a",3),s._UZ(4,"i",4),s.qZA(),s.TgZ(5,"a",3),s._UZ(6,"i",5),s.qZA(),s.TgZ(7,"a",3),s._UZ(8,"i",6),s.qZA(),s.TgZ(9,"a",3),s._UZ(10,"i",7),s.qZA(),s.TgZ(11,"a",3),s._UZ(12,"i",8),s.qZA(),s.TgZ(13,"a",3),s._UZ(14,"i",9),s.qZA()(),s.TgZ(15,"section",10)(16,"form",11)(17,"div",12)(18,"div",13)(19,"p",14)(20,"strong"),s._uU(21,"Sign up for our newsletter"),s.qZA()()(),s.TgZ(22,"div",15)(23,"div",16),s._UZ(24,"input",17),s.TgZ(25,"label",18),s._uU(26,"Email address"),s.qZA()()(),s.TgZ(27,"div",13)(28,"button",19),s._uU(29," Subscribe "),s.qZA()()()()(),s.TgZ(30,"section",10)(31,"div",20)(32,"div",21)(33,"h5",22),s._uU(34,"Useful Links"),s.qZA(),s.TgZ(35,"ul",23)(36,"li")(37,"a",24),s._uU(38,"Home"),s.qZA()(),s.TgZ(39,"li")(40,"a",24),s._uU(41,"Categories"),s.qZA()(),s.TgZ(42,"li")(43,"a",24),s._uU(44,"Shopping Cart"),s.qZA()(),s.TgZ(45,"li")(46,"a",24),s._uU(47,"FAQ"),s.qZA()()()(),s.TgZ(48,"div",21)(49,"h5",22),s._uU(50,"MERC"),s.qZA(),s.TgZ(51,"ul",23)(52,"li")(53,"a",24),s._uU(54,"About Us"),s.qZA()(),s.TgZ(55,"li")(56,"a",24),s._uU(57,"Contact Us"),s.qZA()(),s.TgZ(58,"li")(59,"a",24),s._uU(60,"Seller Center"),s.qZA()(),s.TgZ(61,"li")(62,"a",24),s._uU(63,"Privacy Policy"),s.qZA()()()(),s.TgZ(64,"div",25)(65,"h5",22),s._uU(66,"MERC APP DOWNLOAD"),s.qZA(),s._UZ(67,"img",26),s.qZA(),s.TgZ(68,"div",27),s._UZ(69,"img",28)(70,"img",29),s.qZA()()()(),s.TgZ(71,"div",30),s._uU(72," Copyright \xa9 2022 Ryan Wong Yi Syen. All Rights Reserved "),s.qZA()())},dependencies:[D1,x1,Ky],styles:[".footer[_ngcontent-%COMP%]{background-color:#005de8;color:#f6f6f6}.links[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-decoration:underline}.links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.qr[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}.store[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}.store[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){margin-top:-100px}"]}),i})(),az=(()=>{class i{constructor(e){this.http=e}getProduct1Comments(){return this.http.get("assets/data/productRating.json").toPromise().then(e=>e.data).then(e=>e)}getProduct2Comments(){return this.http.get("assets/data/productRating.json").toPromise().then(e=>e.data1).then(e=>e)}getProduct3Comments(){return this.http.get("assets/data/productRating.json").toPromise().then(e=>e.data2).then(e=>e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ko))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function tle(i,t){if(1&i&&(s.TgZ(0,"span",9)(1,"span",10),s._uU(2,"\u2605"),s.qZA(),s._uU(3,"\u2605 "),s.qZA()),2&i){const e=t.fill;s.ekj("full",100===e),s.xp6(1),s.Udp("width",e,"%")}}function nle(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50"),s.qZA())}function ile(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50"),s.qZA())}function rle(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50"),s.qZA())}function ole(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50"),s.qZA())}function sle(i,t){1&i&&(s.TgZ(0,"p"),s._uU(1,"\u2b50\u2b50\u2b50\u2b50\u2b50"),s.qZA())}function ale(i,t){if(1&i&&(s.TgZ(0,"div",11)(1,"div",12)(2,"div",13),s._UZ(3,"img",14),s.qZA(),s.TgZ(4,"div",15)(5,"div",16)(6,"div")(7,"p",17),s._uU(8),s.qZA(),s.TgZ(9,"div",18)(10,"div",19),s.YNc(11,nle,2,0,"p",20),s.YNc(12,ile,2,0,"p",20),s.YNc(13,rle,2,0,"p",20),s.YNc(14,ole,2,0,"p",20),s.YNc(15,sle,2,0,"p",20),s.qZA()()(),s._UZ(16,"div",21),s.TgZ(17,"div",22)(18,"span"),s._uU(19),s.qZA(),s.TgZ(20,"span"),s._uU(21),s.qZA()()(),s.TgZ(22,"p"),s._uU(23),s.qZA()()(),s.TgZ(24,"div",23),s._UZ(25,"lord-icon",24),s.qZA(),s._UZ(26,"hr",25),s.qZA()),2&i){const e=t.$implicit;s.xp6(3),s.s9C("src",e.profilePic,s.LSH),s.xp6(5),s.Oqu(e.username),s.xp6(2),s.Q6J("ngSwitch",e.rating),s.xp6(1),s.Q6J("ngSwitchCase",1),s.xp6(1),s.Q6J("ngSwitchCase",2),s.xp6(1),s.Q6J("ngSwitchCase",3),s.xp6(1),s.Q6J("ngSwitchCase",4),s.xp6(1),s.Q6J("ngSwitchCase",5),s.xp6(4),s.Oqu(e.dateTime),s.xp6(2),s.hij("Variation: ",e.variation,""),s.xp6(2),s.Oqu(e.comment)}}let lle=(()=>{class i{constructor(e){this.commentService=e,this.currentRate=4.5,this.rating=5,this.ratingArr=[],this.count=0,this.s5=0,this.s4=0,this.s3=0,this.s2=0,this.s1=0}ngOnInit(){"1000"==this.productId?this.commentService.getProduct1Comments().then(e=>{this.comment=e,this.comment.forEach(o=>{this.ratingArr.push(o.rating),this.count++}),this.ratingArr.forEach(o=>{5==o?this.s5++:4==o?this.s4++:3==o?this.s3++:2==o?this.s2++:1==o&&this.s1++}),this.s5==this.count?(this.rating=1*this.rating,this.currentRate=this.rating):(this.rating=this.rating*(this.s5/this.count),this.currentRate=this.rating)}):"1001"==this.productId?this.commentService.getProduct2Comments().then(e=>{this.comment=e,this.comment.forEach(o=>{this.ratingArr.push(o.rating),this.count++}),this.ratingArr.forEach(o=>{5==o?this.s5++:4==o?this.s4++:3==o?this.s3++:2==o?this.s2++:1==o&&this.s1++}),this.s5==this.count?(this.rating=1*this.rating,this.currentRate=this.rating):(this.rating=this.rating*(this.s5/this.count),this.currentRate=this.rating)}):"1002"==this.productId&&this.commentService.getProduct3Comments().then(e=>{this.comment=e,this.comment.forEach(o=>{this.ratingArr.push(o.rating),this.count++}),this.ratingArr.forEach(o=>{5==o?this.s5++:4==o?this.s4++:3==o?this.s3++:2==o?this.s2++:1==o&&this.s1++}),this.s5==this.count?(this.rating=1*this.rating,this.currentRate=this.rating):(this.rating=this.rating*(this.s5/this.count),this.currentRate=this.rating)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(az))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-rating"]],inputs:{productId:"productId"},decls:26,vars:11,consts:[[1,"container"],[1,"top"],[1,"stars"],[1,"stars-value"],["t",""],[3,"rate","starTemplate","readonly","max","rateChange"],[1,"options"],[1,"active"],["class","comments-container",4,"ngFor","ngForOf"],[1,"star"],[1,"half"],[1,"comments-container"],[1,"comment"],[1,"profile-pic"],["alt","",3,"src"],[1,"comment-details"],[1,"comment-details-top"],[1,"username"],[1,"user-rating"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"vl"],[1,"date-and-time"],[1,"report"],["src","https://cdn.lordicon.com/rslnizbt.json","trigger","loop-on-hover",1,"report-btn",2,"width","32px","height","32px"],[2,"margin-top","25px"]],template:function(e,o){if(1&e&&(s.TgZ(0,"div",0)(1,"h4"),s._uU(2,"Product Rating"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"p")(6,"span",3),s._uU(7),s.qZA(),s._uU(8," out of 5"),s.qZA(),s.YNc(9,tle,4,4,"ng-template",null,4,s.W1O),s.TgZ(11,"ngb-rating",5),s.NdJ("rateChange",function(l){return o.currentRate=l}),s.qZA()(),s.TgZ(12,"div",6)(13,"button",7),s._uU(14,"All"),s.qZA(),s.TgZ(15,"button"),s._uU(16),s.qZA(),s.TgZ(17,"button"),s._uU(18),s.qZA(),s.TgZ(19,"button"),s._uU(20),s.qZA(),s.TgZ(21,"button"),s._uU(22),s.qZA(),s.TgZ(23,"button"),s._uU(24),s.qZA()()(),s.YNc(25,ale,27,11,"div",8),s.qZA()),2&e){const a=s.MAs(10);s.xp6(7),s.Oqu(o.currentRate),s.xp6(4),s.Q6J("rate",o.currentRate)("starTemplate",a)("readonly",!0)("max",5),s.xp6(5),s.hij("5 \u2b50 (",o.s5,")"),s.xp6(2),s.hij("4 \u2b50 (",o.s4,")"),s.xp6(2),s.hij("3 \u2b50 (",o.s3,")"),s.xp6(2),s.hij("2 \u2b50 (",o.s2,")"),s.xp6(2),s.hij("1 \u2b50 (",o.s1,")"),s.xp6(1),s.Q6J("ngForOf",o.comment)}},dependencies:[Ui,vo,Ns,noe],styles:[".star[_ngcontent-%COMP%]{position:relative;display:inline-block;font-size:2rem;color:#d3d3d3}.full[_ngcontent-%COMP%]{color:gold}.half[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:gold}.top[_ngcontent-%COMP%]{display:flex;padding:20px;margin:5px;border:1px solid rgba(0,93,232,.125);background-color:#005de80d}.stars[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:1.1rem;font-weight:500;color:#005de8;margin-right:20px}.stars[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.stars[_ngcontent-%COMP%]   .stars-value[_ngcontent-%COMP%]{font-size:2rem}.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;line-height:2rem;min-width:6.25rem;text-align:center;padding:.2rem .625rem;color:#000c;background-color:#fff;border:1px solid rgba(0,93,232,.5);box-sizing:border-box;display:inline-block;margin-right:.5rem;text-decoration:none;color:#000000de;text-transform:capitalize;border-radius:2px;margin-bottom:.3125rem;margin-top:.3125rem}.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .options[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#005de8;color:#f6f6f6}.comments-container[_ngcontent-%COMP%]{padding:20px;margin:5px}.comment[_ngcontent-%COMP%]{display:flex}.comment[_ngcontent-%COMP%]   .comment-details[_ngcontent-%COMP%]{margin-left:20px;position:relative}.comment[_ngcontent-%COMP%]   .comment-details[_ngcontent-%COMP%]   .comment-details-top[_ngcontent-%COMP%]{display:flex}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border:1px solid #ccc;border-radius:50%;padding:5px;object-fit:cover}.username[_ngcontent-%COMP%]{margin:0}.vl[_ngcontent-%COMP%]{border-left:2px solid rgba(0,93,232,.5);height:45px;margin:0 8px}.date-and-time[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:small;color:#696969}.media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;border:1px solid #ccc}.report[_ngcontent-%COMP%]{margin:10px 0}.report[_ngcontent-%COMP%]   .report-btn[_ngcontent-%COMP%]{float:right;cursor:pointer}"]}),i})();function cle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",10)(1,"h4",11),s._uU(2,"Shoe Size Chart"),s.qZA(),s.TgZ(3,"button",12),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.KtG(l.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",13),s._UZ(5,"img",14),s.qZA(),s.TgZ(6,"div",15)(7,"button",16),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.KtG(l.close("Close click"))}),s._uU(8,"Close"),s.qZA()()}}function ule(i,t){1&i&&(s.TgZ(0,"div",17)(1,"div",18)(2,"span",19),s._uU(3,"Loading..."),s.qZA()()())}function dle(i,t){1&i&&s._UZ(0,"img",58)}function hle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",59)(1,"div",60)(2,"h5",61),s._uU(3,"Sizes: "),s.qZA(),s.TgZ(4,"span",62),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.selectSize(7))}),s._uU(5,"UK 7"),s.qZA(),s.TgZ(6,"span",63),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.selectSize(7.5))}),s._uU(7,"UK 7.5"),s.qZA(),s.TgZ(8,"span",64),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.selectSize(8))}),s._uU(9,"UK 8"),s.qZA(),s.TgZ(10,"span",65),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.selectSize(8.5))}),s._uU(11,"UK 8.5"),s.qZA(),s.TgZ(12,"span",66),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.selectSize(9))}),s._uU(13,"UK 9"),s.qZA(),s.TgZ(14,"span",67),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.selectSize(9.5))}),s._uU(15,"UK 9.5"),s.qZA()(),s.TgZ(16,"a",68),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2),l=s.MAs(2);return s.KtG(a.openBackDropCustomClass(l))}),s._uU(17,"Size chart"),s.qZA()()}}function fle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",59)(1,"div",60)(2,"h5",61),s._uU(3,"Sizes: "),s.qZA(),s.TgZ(4,"span",69),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.changeSpecs(1))}),s._uU(5,"128 GB | 8 GB"),s.qZA(),s.TgZ(6,"span",70),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.changeSpecs(2))}),s._uU(7,"256 GB | 12 GB"),s.qZA(),s.TgZ(8,"span",71),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.changeSpecs(3))}),s._uU(9,"512 GB | 12 GB"),s.qZA()()()}}function ple(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21)(2,"div",22),s._UZ(3,"img",23)(4,"img",23)(5,"img",23)(6,"br"),s.TgZ(7,"div",24)(8,"div",25)(9,"img",26),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.changeColor(a.product.color0))}),s.qZA()(),s.TgZ(10,"div",25)(11,"img",27),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.changeColor(a.product.color1))}),s.qZA()(),s.TgZ(12,"div",25)(13,"img",28),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.changeColor(a.product.color2))}),s.qZA()()()(),s.TgZ(14,"div",29)(15,"div",30)(16,"h2"),s._uU(17),s.qZA(),s.YNc(18,dle,1,0,"img",31),s.TgZ(19,"p"),s._uU(20),s.qZA()(),s._UZ(21,"br"),s.TgZ(22,"p",32),s._uU(23),s.qZA(),s._UZ(24,"br"),s.TgZ(25,"div",33)(26,"div",34)(27,"h2"),s._uU(28),s.qZA(),s.TgZ(29,"p"),s._uU(30),s.qZA()(),s.TgZ(31,"div",35)(32,"h5",36),s._uU(33,"Quantity"),s.qZA(),s.TgZ(34,"div",37)(35,"button",38),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.minus())}),s._uU(36,"-"),s.qZA(),s.TgZ(37,"p",39),s._uU(38),s.qZA(),s.TgZ(39,"button",40),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.add())}),s._uU(40,"+"),s.qZA()()(),s.TgZ(41,"div",41)(42,"div",42),s.O4$(),s.TgZ(43,"svg",43)(44,"defs")(45,"style"),s._uU(46," .cls-1 { fill: #005DE8; } .cls-2 { fill: #fff; } "),s.qZA()(),s._UZ(47,"path",44)(48,"path",45)(49,"path",45),s.qZA(),s.kcU(),s.TgZ(50,"p"),s._uU(51,"100% Authentic Guarantee"),s.qZA()(),s.TgZ(52,"div",46),s._uU(53,"Guarantee Authentic or Money Back"),s.qZA()()(),s._UZ(54,"br"),s.TgZ(55,"div",47),s.YNc(56,hle,18,0,"div",48),s.YNc(57,fle,10,0,"div",48),s.qZA(),s.TgZ(58,"div",49)(59,"h5",50),s._uU(60,"Colors:"),s.qZA(),s.TgZ(61,"div",51)(62,"span",52),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.changeColor(a.color0))}),s.qZA(),s.TgZ(63,"span",53),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.changeColor(a.color1))}),s.qZA(),s.TgZ(64,"span",54),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.changeColor(a.color2))}),s.qZA()()(),s._UZ(65,"br"),s.TgZ(66,"button",55),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.addItemToCart())}),s._UZ(67,"i",56),s._uU(68," Add To Cart"),s.qZA(),s.TgZ(69,"button",57),s._uU(70,"Buy Now"),s.qZA()()()()}if(2&i){const e=s.oxw();s.xp6(3),s.MGl("src","../../../../assets/img/",e.productImg1,"",s.LSH),s.Q6J("ngClass",e.mainImg),s.xp6(1),s.MGl("src","../../../../assets/img/",e.productImg2,"",s.LSH),s.Q6J("ngClass",e.subImg0),s.xp6(1),s.MGl("src","../../../../assets/img/",e.productImg3,"",s.LSH),s.Q6J("ngClass",e.subImg1),s.xp6(4),s.MGl("src","../../../../assets/img/",e.productImg1,"",s.LSH),s.Q6J("ngClass",e.mainImg),s.xp6(2),s.MGl("src","../../../../assets/img/",e.productImg2,"",s.LSH),s.Q6J("ngClass",e.subImg0),s.xp6(2),s.MGl("src","../../../../assets/img/",e.productImg3,"",s.LSH),s.Q6J("ngClass",e.subImg1),s.xp6(4),s.Oqu(e.productName),s.xp6(1),s.Q6J("ngIf","discounted"==e.productType),s.xp6(2),s.hij("(",e.sold," sold)"),s.xp6(3),s.Oqu(e.productDescription),s.xp6(5),s.hij(" RM ",e.discountedPrice,""),s.xp6(2),s.hij(" RM ",e.oldPrice,""),s.xp6(8),s.Oqu(e.quantity),s.xp6(17),s.Q6J("ngSwitch",e.productId),s.xp6(1),s.Q6J("ngSwitchCase","1000"),s.xp6(1),s.Q6J("ngSwitchCase","1002"),s.xp6(5),s.Q6J("ngClass",e.MainColor),s.xp6(1),s.Q6J("ngClass",e.SubColor0),s.xp6(1),s.Q6J("ngClass",e.SubColor1)}}let gle=(()=>{class i{constructor(e,o,a,l,c,g,_,b,T,D){this.authService=e,this._Activatedroute=o,this.productService=a,this.router=l,this.modalService=c,this.firebasecrudservice=g,this.renderer=_,this.spinner=b,this.e=T,this.messageService=D,this.loaderr=!0,this.activeImg=1,this.variations="",this.quantity=1,this.subtotal=0,this.colorOption="",this.cartItemId=0,this.image="",this.visible=!1,this.position="top-end",this.percentage=0,this.name="",this.tempObject=[],this.mainImg="active",this.subImg0="",this.subImg1="",this.currentUser=this.authService.getCurrentUserData(),this.productLogo="",this.productDescription="",this.productName="",this.productImg1="",this.productImg2="",this.productImg3="",this.oldPrice=0,this.discountedPrice=0,this.category="",this.stock0=0,this.stock1=0,this.stock2=0,this.rating=0,this.sold=0,this.color0="",this.color1="",this.color2="",this.gallery=!0,window.onbeforeunload=function(){window.scrollTo(0,0)}}ngOnInit(){this.router.events.subscribe(e=>{e instanceof qp&&window.scrollTo(0,0)}),setTimeout(()=>{this.loaderr=!1;let e=this.renderer.selectRootElement("#loader");this.renderer.setStyle(e,"display","none")},2500),this._Activatedroute.paramMap.subscribe(e=>{this.productId=e.get("id"),this.productType=e.get("type")}),this.firebasecrudservice.getProductByIDFromAllProducts(this.productId).subscribe(e=>{console.log(e),this.product=e,this.productID=e.id,this.productLogo=e.logo,this.productName=e.name,this.productDescription=e.description,this.productImg1=e.image1,this.productImg2=e.image2,this.productImg3=e.image3,this.color0=e.color0,this.color1=e.color1,this.color2=e.color2,this.oldPrice=e.oldPrice,this.discountedPrice=e.discountedPrice,this.category=e.category,this.sold=e.sold,this.gallery=e.gallery,this.MainColor=["circle",e.color0,"active"],this.SubColor0=["circle",e.color1],this.SubColor1=["circle",e.color2]})}ngAfterViewInit(){let e=this.renderer.selectRootElement("#loader");this.renderer.setStyle(e,"display","none")}openBackDropCustomClass(e){this.modalService.open(e,{backdropClass:"light-blue-backdrop"})}changeColor(e){e==this.color0?(this.MainColor=["circle",this.color0,"active"],this.SubColor0=["circle",this.color1],this.SubColor1=["circle",this.color2],this.mainImg="active",this.subImg0="",this.subImg1="",this.activeImg=1,this.image=this.productImg1,this.colorOption=this.color0):e==this.color1?(this.MainColor=["circle",this.color0],this.SubColor0=["circle",this.color1,"active"],this.SubColor1=["circle",this.color2],this.mainImg="",this.subImg0="active",this.subImg1="",this.activeImg=2,this.image=this.productImg2,this.colorOption=this.color1):e==this.color2?(console.log(this.color2),this.MainColor=["circle",this.color0],this.SubColor0=["circle",this.color1],this.SubColor1=["circle",this.color2,"active"],this.mainImg="",this.subImg0="",this.subImg1="active",this.activeImg=3,this.image=this.productImg3,this.colorOption=this.color2):alert("no products found")}changeSpecs(e){1==e?this.size="128 GB | 8 GB":2==e?this.size="256 GB | 12 GB":3==e&&(this.size="512 GB | 12 GB");let o=document.getElementById("spec1"),a=document.getElementById("spec2"),l=document.getElementById("spec3"),c=document.getElementById("spec"+e);c?.classList.contains("selectedSize")?(this.size="",c.classList.remove("selectedSize")):(o?.classList.remove("selectedSize"),a?.classList.remove("selectedSize"),l?.classList.remove("selectedSize"),c?.classList.add("selectedSize"))}addItemToCart(){this.cartItemId++;let e="../../../../assets/img/"+this.image;""==this.colorOption&&(this.colorOption=this.color0),this.variations="size: "+this.size+" color: "+this.colorOption,this.subtotal=this.quantity*this.discountedPrice;let o={id:this.cartItemId.toString(),placeholderImg:e,title:this.productName,variations:this.variations,oldPrice:this.oldPrice,discountedPrice:this.discountedPrice,quantity:this.quantity,totalPrice:this.subtotal};(this.productID=1e3)&&(""==this.size||0==this.size?this.messageService.add({key:"normal",severity:"error",summary:"Error",detail:"Size not selected"}):(this.firebasecrudservice.setCart(this.currentUser.email,o),this.toggleToast()))}minus(){this.quantity>1&&this.quantity--}add(){this.quantity<10&&this.quantity++}toggleToast(){this.visible=!this.visible,this.name=this.productName,this.messageService.add({key:"normal",severity:"success",summary:"Success",detail:this.name+" has been added to your cart."})}goToCart(){this.router.navigate(["/cart"])}selectSize(e){this.size=e,console.log(e);let o=document.getElementById("size7"),a=document.getElementById("size7.5"),l=document.getElementById("size8"),c=document.getElementById("size8.5"),g=document.getElementById("size9"),_=document.getElementById("size9.5"),b=document.getElementById("size"+e);b?.classList.contains("selectedSize")?(this.size=0,b.classList.remove("selectedSize")):(o?.classList.remove("selectedSize"),a?.classList.remove("selectedSize"),l?.classList.remove("selectedSize"),c?.classList.remove("selectedSize"),g?.classList.remove("selectedSize"),_?.classList.remove("selectedSize"),b?.classList.add("selectedSize"))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu),s.Y36(xd),s.Y36(N0),s.Y36(tr),s.Y36(Bk),s.Y36(jp),s.Y36(s.Qsj),s.Y36(mae),s.Y36(s.SBq),s.Y36(Vm))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-main-product-details"]],features:[s._Bn([Vm])],decls:16,vars:4,consts:[["style","background-color: #5cb3fd;"],["content",""],["id","loader"],[1,"application-loading-container"],[1,"application-loading-box"],["id","loader","style","display: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\nheight: 100vh;",4,"ngIf"],["key","normal"],["class","container product-details-container",4,"ngIf"],[3,"activeImage","imgChanged"],[3,"productId"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["src","../../../../assets/img/productDetails/sizeChart.png","alt","size-chart",1,"size-chart-img"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["id","loader",2,"display","flex","flex-direction","column","justify-content","center","align-items","center","height","100vh"],["role","status",1,"spinner-grow","text-primary",2,"width","3rem","height","3rem"],[1,"visually-hidden"],[1,"container","product-details-container"],[1,"row-container"],[1,"imgContainer"],["alt","activeImg",1,"activeImg",3,"ngClass","src"],[1,"subImages"],[1,"subImages-container"],["alt","firstImg",1,"subImages-img",3,"ngClass","src","click"],["alt","secondImg",1,"subImages-img",3,"ngClass","src","click"],["alt","thirdImg",1,"subImages-img",3,"ngClass","src","click"],[1,"col-md-6"],[1,"title"],["src","../../../../assets/img/productDetails/discount.png","alt","discount-logo",4,"ngIf"],[1,"description"],[1,"price-guarantee"],[1,"price"],[2,"width","50%","margin-bottom","15px","display","flex"],[1,"quantity"],[1,"qty-input"],["data-action","minus","type","button",1,"qty-count","qty-count--minus",3,"click"],[1,"product-qty"],["data-action","add","type","button",1,"qty-count","qty-count--add",3,"click"],[1,"authentic-guarantee"],[1,"guarantee"],["id","Layer_1","data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","width","24","height","24",1,"NM0h58"],["d","M28.65,16.92V4.73S19,4.46,15.94,0C12.45,4.41,3.23,4.73,3.23,4.73V16.92S3,27.22,15.94,32C28.9,27.22,28.65,16.92,28.65,16.92Z",1,"cls-1","orignal-guarantee-icon__path--fill"],["d","M25.56,13.67,15.26,24a.68.68,0,0,1-1,0L8.33,18a.68.68,0,0,1,0-1l1.55-1.55a.68.68,0,0,1,1,0l3.44,3.43a.68.68,0,0,0,1,0L23,11.15a.68.68,0,0,1,1,0l1.55,1.54A.69.69,0,0,1,25.56,13.67Z",1,"cls-2"],[1,"guarantee-last"],[3,"ngSwitch"],["class","container-size-container",4,"ngSwitchCase"],[1,"color-container"],[1,"colors"],[1,"circles"],["id","mainColor",3,"ngClass","click"],["id","subColor0",3,"ngClass","click"],["id","subColor1",3,"ngClass","click"],["type","button",1,"add-to-cart-btn","button",3,"click"],[1,"fa-solid","fa-cart-shopping"],["type","button",1,"btn","btn-primary-color","button"],["src","../../../../assets/img/productDetails/discount.png","alt","discount-logo"],[1,"container-size-container"],[1,"size-container"],[1,"sizes"],["id","size7",3,"click"],["id","size7.5",3,"click"],["id","size8",3,"click"],["id","size8.5",3,"click"],["id","size9",3,"click"],["id","size9.5",3,"click"],[1,"size-chart-link",3,"click"],["id","spec1",3,"click"],["id","spec2",3,"click"],["id","spec3",3,"click"]],template:function(e,o){1&e&&(s._UZ(0,"app-header-normal"),s.YNc(1,cle,9,0,"ng-template",0,1,s.W1O),s.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2"),s._uU(7,"Loading..."),s.qZA()()()(),s.YNc(8,ule,4,0,"div",5),s._UZ(9,"p-toast",6),s.YNc(10,ple,71,25,"div",7),s.TgZ(11,"app-product-details-gallery",8),s.NdJ("imgChanged",function(l){return o.activeImg=l}),s.qZA(),s._UZ(12,"app-product-details-accordion")(13,"app-rating",9)(14,"app-similar-products")(15,"app-footer")),2&e&&(s.xp6(8),s.Q6J("ngIf",o.loaderr),s.xp6(2),s.Q6J("ngIf",!o.loaderr),s.xp6(1),s.Q6J("activeImage",o.activeImg),s.xp6(2),s.Q6J("productId",o.productId))},dependencies:[wr,zi,vo,Ns,JS,sw,vae,Gae,Xae,ele,lle],styles:['.product-details-container[_ngcontent-%COMP%]{margin-top:20px}.activeImg[_ngcontent-%COMP%]{position:absolute;max-width:350px;opacity:0;transition:opacity .5s ease}.activeImg.active[_ngcontent-%COMP%]{opacity:1}.row-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:solid 1px #808080;padding:15px}.imgContainer[_ngcontent-%COMP%]{position:relative}.subImages[_ngcontent-%COMP%]{display:flex;margin-top:100%}.subImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;cursor:pointer;border:1px solid #ccc}.subImages[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px 1px #005de8bf;-webkit-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75);-moz-box-shadow:0px 0px 15px 1px rgba(0,93,232,.75);border:solid 1px #ADD8E6}.subImages[_ngcontent-%COMP%]   .subImages-container[_ngcontent-%COMP%]{border-radius:5px;margin:0 8px}.subImages[_ngcontent-%COMP%]   .subImages-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:solid 1px #005DE8}.title[_ngcontent-%COMP%]{display:flex}.title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-left:10px}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0 5px}.description[_ngcontent-%COMP%]{text-align:justify;margin:0;padding:0}.price[_ngcontent-%COMP%]{display:flex}.price[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ff160c}.price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px 0 0 5px;text-decoration:line-through}.authentic-guarantee[_ngcontent-%COMP%]{background-color:#005de81a;max-width:52%;padding:10px 5px 5px 8px}.guarantee[_ngcontent-%COMP%]{display:flex}.guarantee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#005de8;margin-left:5px}.guarantee-last[_ngcontent-%COMP%]{font-size:12px}.container-size-container[_ngcontent-%COMP%]{margin-bottom:20px}.size-container[_ngcontent-%COMP%]{display:flex}.size-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:40px;padding:5px;border:1px solid #ccc;text-align:center;margin:0 5px;cursor:pointer}.size-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 2px #69696940;-webkit-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25);-moz-box-shadow:0px 0px 5px 2px rgba(105,105,105,.25)}.sizes[_ngcontent-%COMP%], .colors[_ngcontent-%COMP%]{color:#636363;padding:5px 5px 0 0}.size-chart-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;font-size:smaller}.size-chart-img[_ngcontent-%COMP%]{width:450px}.light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd}.color-container[_ngcontent-%COMP%]{display:flex}.circles[_ngcontent-%COMP%]{display:flex;padding-top:10px}.circles[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:18px;width:18px;border-radius:50%;margin:0 4px;cursor:pointer;transition:all .4s ease}.circle.blue[_ngcontent-%COMP%]{background:#0071C7}.circle.blue.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #0071c7}.circle.pink[_ngcontent-%COMP%]{background:#FA1795}.circle.pink.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #fa1795}.circle.yellow[_ngcontent-%COMP%]{background:#F5DA00}.circle.yellow.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #f5da00}.circle.black[_ngcontent-%COMP%]{background:#414a4c}.circle.black.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #414a4c}.circle.white[_ngcontent-%COMP%]{border:1px solid #ccc}.circle.white.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #ccc}.circle.burgundy[_ngcontent-%COMP%]{background:#65081F}.circle.burgundy.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #65081f}.circle.green[_ngcontent-%COMP%]{background:#013220}.circle.green.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff,0 0 0 4px #013220}.add-to-cart-btn[_ngcontent-%COMP%]{border-color:#0d6efd;color:#0d6efd;background-color:#f6f6f6;line-height:1.5;text-align:center;text-decoration:none;vertical-align:middle;padding:5px;font-size:1rem;border-radius:.25rem;margin-right:15px}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background-color:#0d6efd33}.button[_ngcontent-%COMP%]{height:48px;padding:0 20px;font-weight:600}.qty-input[_ngcontent-%COMP%]{color:#000;background:#fff;display:flex;align-items:center;overflow:hidden}.qty-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding-top:10px}.qty-input[_ngcontent-%COMP%]   .product-qty[_ngcontent-%COMP%], .qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]{background:transparent;color:inherit;font-weight:700;font-size:inherit;border:0px solid #ccc;display:inline-block;min-width:0;height:2.5rem;line-height:1}.qty-input[_ngcontent-%COMP%]:focus{outline:none}.product-qty[_ngcontent-%COMP%]{width:50px;min-width:0;display:inline-block;text-align:center;-webkit-appearance:textfield;appearance:textfield;border-top:1px solid #005DE8!important;border-bottom:1px solid #005DE8!important}.product-qty[_ngcontent-%COMP%]::-webkit-outer-spin-button, .product-qty[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}.qty-count[_ngcontent-%COMP%]{padding:0;cursor:pointer;width:2.5rem;font-size:1.25em;text-indent:-100px;overflow:hidden;position:relative;border:1px solid #005DE8!important}.qty-count[_ngcontent-%COMP%]:hover{color:#f5f5f5;background-color:#005de8}.qty-count[_ngcontent-%COMP%]:before, .qty-count[_ngcontent-%COMP%]:after{content:"";height:2px;width:10px;position:absolute;display:block;background:#000;top:0;bottom:0;left:0;right:0;margin:auto}.qty-count--add[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.qty-count[_ngcontent-%COMP%]:disabled{color:#ccc;background:#f2f2f2;cursor:not-allowed;border-color:transparent}.qty-count[_ngcontent-%COMP%]:disabled:before, .qty-count[_ngcontent-%COMP%]:disabled:after{background:#ccc}.quantity[_ngcontent-%COMP%]{color:#636363;margin-right:10px;padding-top:10px}.toast[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{cursor:pointer}.toastStyle[_ngcontent-%COMP%]{background-color:#cff;color:#006400}.toastHeader[_ngcontent-%COMP%]{background-color:green;color:#f5f5f5}.selectedSize[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;border:#0d6efd}',".light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd!important}",".application-loading-container[_ngcontent-%COMP%] {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      height: 100vh;\n    }\n\n    .application-loading-box[_ngcontent-%COMP%] {\n      width: 300px;\n      margin: 5px;\n      text-align: center;\n    }"]}),i})(),mle=(()=>{class i{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let o=Le.getFocusableElements(this.el.nativeElement);if(o&&o.length>0)if(o[0].ownerDocument.activeElement){let a=o.indexOf(o[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?o[o.length-1].focus():o[a-1].focus():-1==a||a===o.length-1?o[0].focus():o[a+1].focus()}else o[0].focus()}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,o){1&e&&s.NdJ("keydown.tab",function(l){return o.onkeydown(l)})("keydown.shift.tab",function(l){return o.onkeydown(l)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),i})(),_le=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})();const yle=["titlebar"],vle=["content"],ble=["footer"];function wle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",11),s.NdJ("mousedown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.initResize(a))}),s.qZA()}}function Cle(i,t){if(1&i&&(s.TgZ(0,"span",18),s._uU(1),s.qZA()),2&i){const e=s.oxw(4);s.uIk("id",e.id+"-label"),s.xp6(1),s.Oqu(e.header)}}function Tle(i,t){if(1&i&&(s.TgZ(0,"span",18),s.Hsn(1,1),s.qZA()),2&i){const e=s.oxw(4);s.uIk("id",e.id+"-label")}}function Ele(i,t){1&i&&s.GkF(0)}const xle=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function Sle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(4);return s.KtG(a.maximize())})("keydown.enter",function(){s.CHM(e);const a=s.oxw(4);return s.KtG(a.maximize())}),s._UZ(1,"span",20),s.qZA()}if(2&i){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(2,xle)),s.xp6(1),s.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const Dle=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Ile(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.close(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.close(a))}),s._UZ(1,"span",22),s.qZA()}if(2&i){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(4,Dle)),s.uIk("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),s.xp6(1),s.Q6J("ngClass",e.closeIcon)}}function Mle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",12,13),s.NdJ("mousedown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.initDrag(a))}),s.YNc(2,Cle,2,2,"span",14),s.YNc(3,Tle,2,1,"span",14),s.YNc(4,Ele,1,0,"ng-container",9),s.TgZ(5,"div",15),s.YNc(6,Sle,2,3,"button",16),s.YNc(7,Ile,2,5,"button",17),s.qZA()()}if(2&i){const e=s.oxw(3);s.xp6(2),s.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.headerFacet),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(2),s.Q6J("ngIf",e.maximizable),s.xp6(1),s.Q6J("ngIf",e.closable)}}function Ale(i,t){1&i&&s.GkF(0)}function kle(i,t){1&i&&s.GkF(0)}function Ole(i,t){if(1&i&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.YNc(3,kle,1,0,"ng-container",9),s.qZA()),2&i){const e=s.oxw(3);s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Rle=function(i,t,e,o){return{"p-dialog p-component":!0,"p-dialog-rtl":i,"p-dialog-draggable":t,"p-dialog-resizable":e,"p-dialog-maximized":o}},Ple=function(i,t){return{transform:i,transition:t}},Nle=function(i){return{value:"visible",params:i}};function Fle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",3,4),s.NdJ("@animation.start",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onAnimationStart(a))})("@animation.done",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onAnimationEnd(a))}),s.YNc(2,wle,1,0,"div",5),s.YNc(3,Mle,8,5,"div",6),s.TgZ(4,"div",7,8),s.Hsn(6),s.YNc(7,Ale,1,0,"ng-container",9),s.qZA(),s.YNc(8,Ole,4,1,"div",10),s.qZA()}if(2&i){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.l5B(15,Rle,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",s.VKq(23,Nle,s.WLB(20,Ple,e.transformOptions,e.transitionOptions))),s.uIk("aria-labelledby",e.id+"-label"),s.xp6(2),s.Q6J("ngIf",e.resizable),s.xp6(1),s.Q6J("ngIf",e.showHeader),s.xp6(1),s.Tol(e.contentStyleClass),s.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate),s.xp6(1),s.Q6J("ngIf",e.footerFacet||e.footerTemplate)}}const Lle=function(i,t,e,o,a,l,c,g,_,b){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":i,"p-dialog-mask-scrollblocker":t,"p-dialog-left":e,"p-dialog-right":o,"p-dialog-top":a,"p-dialog-top-left":l,"p-dialog-top-right":c,"p-dialog-bottom":g,"p-dialog-bottom-left":_,"p-dialog-bottom-right":b}};function Vle(i,t){if(1&i&&(s.TgZ(0,"div",1),s.YNc(1,Fle,9,25,"div",2),s.qZA()),2&i){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",s.rFY(4,Lle,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),s.xp6(1),s.Q6J("ngIf",e.visible)}}const Ble=["*",[["p-header"]],[["p-footer"]]],Hle=["*","p-header","p-footer"],Ule=LH([Kn({transform:"{{transform}}",opacity:0}),yr("{{transition}}")]),jle=LH([yr("{{transition}}",Kn({transform:"{{transform}}",opacity:0}))]);let zle=(()=>{class i{constructor(e,o,a,l,c){this.el=e,this.renderer=o,this.zone=a,this.cd=l,this.config=c,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new s.vpe,this.onHide=new s.vpe,this.visibleChange=new s.vpe,this.onResizeInit=new s.vpe,this.onResizeEnd=new s.vpe,this.onDragEnd=new s.vpe,this.onMaximize=new s.vpe,this.id=T1(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style={...e},this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=Le.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&Le.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Le.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Le.addClass(document.body,"p-overflow-hidden"):Le.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Ys.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let o in this.breakpoints)e+=`\n                    @media screen and (max-width: ${o}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[o]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){Le.hasClass(e.target,"p-dialog-header-icon")||Le.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",Le.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let o=Le.getFocusableElements(this.container);if(o&&o.length>0)if(o[0].ownerDocument.activeElement){let a=o.indexOf(o[0].ownerDocument.activeElement);e.shiftKey?-1==a||0===a?o[o.length-1].focus():o[a-1].focus():-1==a||a===o.length-1?o[0].focus():o[a+1].focus()}else o[0].focus()}}onDrag(e){if(this.dragging){let o=Le.getOuterWidth(this.container),a=Le.getOuterHeight(this.container),l=e.pageX-this.lastPageX,c=e.pageY-this.lastPageY,g=this.container.getBoundingClientRect(),_=g.left+l,b=g.top+c,T=Le.getViewport();this.container.style.position="fixed",this.keepInViewport?(_>=this.minX&&_+o<T.width&&(this._style.left=_+"px",this.lastPageX=e.pageX,this.container.style.left=_+"px"),b>=this.minY&&b+a<T.height&&(this._style.top=b+"px",this.lastPageY=e.pageY,this.container.style.top=b+"px")):(this.lastPageX=e.pageX,this.container.style.left=_+"px",this.lastPageY=e.pageY,this.container.style.top=b+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,Le.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,Le.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let o=e.pageX-this.lastPageX,a=e.pageY-this.lastPageY,l=Le.getOuterWidth(this.container),c=Le.getOuterHeight(this.container),g=Le.getOuterHeight(this.contentViewChild.nativeElement),_=l+o,b=c+a,T=this.container.style.minWidth,D=this.container.style.minHeight,O=this.container.getBoundingClientRect(),F=Le.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(_+=o,b+=a),(!T||_>parseInt(T))&&O.left+_<F.width&&(this._style.width=_+"px",this.container.style.width=this._style.width),(!D||b>parseInt(D))&&O.top+b<F.height&&(this.contentViewChild.nativeElement.style.height=g+b-c+"px",this._style.height&&(this._style.height=b+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,Le.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",o=>{27==o.which&&this.close(o)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Le.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Le.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&Le.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Le.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Le.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Ys.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(nf))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-dialog"]],contentQueries:function(e,o,a){if(1&e&&(s.Suo(a,gB,5),s.Suo(a,mB,5),s.Suo(a,Da,4)),2&e){let l;s.iGM(l=s.CRH())&&(o.headerFacet=l.first),s.iGM(l=s.CRH())&&(o.footerFacet=l.first),s.iGM(l=s.CRH())&&(o.templates=l)}},viewQuery:function(e,o){if(1&e&&(s.Gf(yle,5),s.Gf(vle,5),s.Gf(ble,5)),2&e){let a;s.iGM(a=s.CRH())&&(o.headerViewChild=a.first),s.iGM(a=s.CRH())&&(o.contentViewChild=a.first),s.iGM(a=s.CRH())&&(o.footerViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:Hle,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(e,o){1&e&&(s.F$t(Ble),s.YNc(0,Vle,2,15,"div",0)),2&e&&s.Q6J("ngIf",o.maskVisible)},dependencies:[wr,zi,lr,Rr,mle,Zm],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Ks("animation",[nr("void => visible",[VH(Ule)]),nr("visible => void",[VH(jle)])])]},changeDetection:0}),i})(),Gle=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,_le,rg,Tu]}),i})();function qle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"tbody")(1,"tr",26),s._UZ(2,"th"),s.TgZ(3,"td",27)(4,"div"),s._UZ(5,"img",28),s._uU(6),s.qZA()(),s.TgZ(7,"td"),s._uU(8),s.TgZ(9,"span",29),s._uU(10),s.qZA()(),s.TgZ(11,"td")(12,"div",30)(13,"button",31),s.NdJ("click",function(){const a=s.CHM(e),l=a.$implicit,c=a.index,g=s.oxw();return s.KtG(g.addQuantity(l.id,c,l.discountedPrice))}),s.TgZ(14,"p"),s._uU(15,"+"),s.qZA()(),s.TgZ(16,"span"),s._uU(17),s.qZA(),s.TgZ(18,"button",31),s.NdJ("click",function(){const a=s.CHM(e),l=a.$implicit,c=a.index,g=s.oxw();return s.KtG(g.minusQuantity(l.id,c,l.discountedPrice))}),s.TgZ(19,"p"),s._uU(20,"\u2212"),s.qZA()()()(),s.TgZ(21,"td",32),s._uU(22),s.qZA(),s.TgZ(23,"td")(24,"p",33),s.NdJ("click",function(){const l=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.removeItem(l.id))}),s._uU(25,"Delete"),s.qZA()()()()}if(2&i){const e=t.$implicit;s.xp6(5),s.s9C("src",e.placeholderImg,s.LSH),s.xp6(1),s.AsE(" ",e.title," - ",e.variations," "),s.xp6(2),s.hij("RM ",e.discountedPrice," "),s.xp6(2),s.Oqu(e.oldPrice),s.xp6(7),s.Oqu(e.quantity),s.xp6(5),s.hij("RM ",e.totalPrice," ")}}function Zle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",34),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.displayModal=!1)}),s._uU(1,"CANCEL"),s.qZA(),s.TgZ(2,"button",35),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.selectingVoucher())}),s._uU(3,"OK"),s.qZA()}}function $le(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",36)(1,"div",37),s._UZ(2,"i",38),s.TgZ(3,"h4"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"div",39)(8,"div",40)(9,"button",41),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onConfirm())}),s.qZA()(),s.TgZ(10,"div",40)(11,"button",42),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onReject())}),s.qZA()()()()}if(2&i){const e=t.$implicit;s.xp6(4),s.Oqu(e.summary),s.xp6(2),s.Oqu(e.detail)}}const Wle=function(){return{width:"50vw"}};let Yle=(()=>{class i{constructor(e,o,a,l,c,g){this.productService=e,this.primengConfig=o,this.firebaseService=a,this.messageService=l,this.router=c,this.authService=g,this.cartItems=[],this.items=[],this.totalPriceArr=[],this.itemCount=0,this.checkingAll=!1,this.checkingInidividual=!1,this.discountsApplied=0,this.checkbox="",this.checkboxIndividual="",this.total=0,this.check="nonactive",this.sum=0,this.quantity=1,this.count=0,this.newCheck=!1,this.vouchers=[],this.checked=!1,this.voucher0Title="",this.voucher1Title="",this.voucher2Title="",this.voucher0Min=0,this.voucher1Min=0,this.voucher2Min=0,this.feedback="",this.feedback1="",this.feedback2="",this.visible=!1,this.position="top-end",this.percentage=0,this.loaded=!1,this.displayVouchersModal=!0,this.browserRefresh=!1,this.checkIndividualStyle={visibility:"hidden"},this.currentUser=this.authService.getCurrentUserData(),this.firestore=new IV}onLoad(){this.loaded=!0,console.log("is window:load")}ngOnInit(){this.primengConfig.ripple=!0,this.browserRefresh=Y2,console.log("refreshed?:",Y2),this.firebaseService.getCart(this.currentUser.email).subscribe(e=>{this.items=e,this.total=0,this.itemCount=0;for(let o=0;o<Object.keys(this.items).length;o++)this.total=this.total+this.items[o].totalPrice,this.itemCount++}),this.firebaseService.getVouchers().subscribe(e=>{this.vouchers=e,this.voucher0Title=e[0].title,this.voucher1Title=e[1].title,this.voucher2Title=e[2].title,this.voucher0Min=e[0].min,this.voucher1Min=e[1].min,this.voucher2Min=e[2].min,console.log(e)})}ngAfterViewInit(){}addQuantity(e,o,a){console.log(" addQuantity is running now!");let c,l=this.items[o].quantity;l<100&&(l++,this.quantity=l,this.items[o].quantity=this.quantity,this.items[o].totalPrice=a*l,c=this.items[o].totalPrice,this.firebaseService.updateCartPriceQuantity(this.currentUser.email,e,l,c).then(()=>{console.log("Data updated successfully!"),this.function()}))}minusQuantity(e,o,a){let c,l=this.items[o].quantity;1!=l&&(l--,this.items[o].quantity=l,this.items[o].totalPrice=a*l,c=this.items[o].totalPrice,this.firebaseService.updateCartPriceQuantity(this.currentUser.email,e,l,c).then(()=>{console.log("Data updated successfully!"),this.function()}))}removeItem(e){this.firebaseService.deleteCartItem(this.currentUser.email,e)}clearCart(){this.showConfirm()}showConfirm(){this.messageService.clear(),this.messageService.add({key:"c",sticky:!0,severity:"warn",summary:"Are you sure?",detail:"Confirm to clear cart"})}populateCart(){this.productService.getCartItems().then(e=>{this.items=e,this.count=e.length;for(let o=0;o<this.count;o++)this.firebaseService.setCart(this.currentUser.email,this.items[o])})}showModalDialog(){setTimeout(()=>{this.function()},100),this.displayModal=!0,console.log(this.displayModal)}selectVoucher(e){let o=document.getElementById(e);1==o?.classList.contains("voucherNotSelected")?(o?.classList.remove("voucherNotSelected"),o?.classList.add("voucherSelected")):(o?.classList.remove("voucherSelected"),o?.classList.add("voucherNotSelected"))}selectingVoucher(){console.log("then run this"),this.discountsApplied=0;let e=document.getElementById("cashback"),o=document.getElementById("discount"),a=document.getElementById("freeShipping"),l=e?.classList.contains("voucherSelected"),c=o?.classList.contains("voucherSelected"),g=a?.classList.contains("voucherSelected");if(1==l){this.feedback="Cashback voucher applied successfully.";let _=(this.total*(this.vouchers[0].cashback/100)).toFixed(2);this.discountsApplied+=parseFloat(_)}else this.feedback="";if(1==c?(this.feedback1="Discount voucher applied successfully.",console.log(this.vouchers[1].discount),this.discountsApplied+=this.vouchers[1].discount):this.feedback1="",1==g?(this.feedback2="Free Shipping voucher applied successfully.",this.discountsApplied+=5):this.feedback2="",this.displayModal=!1,1==l||1==c||1==g){let _=[];_.push(this.feedback,this.feedback1,this.feedback2),this.toggleToast(_)}this.displayVouchersModal=!1}toggleToast(e){this.messageService.add({key:"normal",severity:"success",summary:"Success",detail:e[0]+e[1]+e[2]})}function(){console.log("run this first");var e=document.getElementById("firstVoucher"),o=document.getElementById("secondVoucher"),a=document.getElementById("thirdVoucher");let l=document.getElementById("cashback"),c=document.getElementById("discount"),g=document.getElementById("freeShipping");this.total<100?(l?.classList.remove("voucherSelected"),l?.classList.add("voucherNotSelected"),this.feedback="",e?.classList.add("disabled")):this.total<500?(c?.classList.remove("voucherSelected"),c?.classList.add("voucherNotSelected"),this.feedback1="",g?.classList.remove("voucherSelected"),g?.classList.add("voucherNotSelected"),this.feedback2="",o?.classList.add("disabled"),a?.classList.add("disabled"),console.log("blocked successfully")):(e?.classList.remove("disabled"),o?.classList.remove("disabled"),a?.classList.remove("disabled"),console.log("removed block successfully"))}goToCheckout(){1==this.authService.isLoggedIn?this.router.navigate(["/payment"]):(window.alert("Access Denied!"),this.router.navigate(["/login"]))}onConfirm(){for(let e=0;e<Object.keys(this.items).length;e++)this.firebaseService.deleteCartItem(this.currentUser.email,this.items[e].id);this.messageService.clear("c")}onReject(){this.messageService.clear("c")}clear(){this.messageService.clear()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(N0),s.Y36(nf),s.Y36(jp),s.Y36(Vm),s.Y36(tr),s.Y36(Cu))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-cart"]],hostBindings:function(e,o){1&e&&s.NdJ("load",function(){return o.onLoad()},!1,s.Jf7)},decls:71,vars:18,consts:[["key","normal"],[1,"table-responsive"],[1,"table"],[1,"table-header"],[1,"product-header"],[4,"ngFor","ngForOf"],[1,"stickBottom"],[1,"left-bottom-panel"],[1,"clearCart",3,"click"],[2,"float","right"],[2,"display","flex"],[1,"totalText"],[1,"checkoutBtn",3,"click"],["header","Voucher",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[1,"voucherContainer"],["id","firstVoucher",1,"voucherMain",3,"click"],[1,"voucherLeft"],[1,"voucherRight"],["id","cashback",1,"voucherNotSelected"],["id","secondVoucher",1,"voucherMain",3,"click"],["id","discount",1,"voucherNotSelected"],["id","thirdVoucher",1,"voucherMain",3,"click"],["id","freeShipping",1,"voucherNotSelected"],["pTemplate","footer"],["position","bottom-center","key","c",3,"baseZIndex","onClose"],["pTemplate","message"],[1,"product-row"],[1,"item-product"],["alt","",1,"cart-img",3,"src"],[1,"old-price"],[1,"quantity"],[3,"click"],[1,"total-price"],[1,"del",3,"click"],[1,"cancelBtn",3,"click"],[1,"okBtn",3,"click"],[1,"p-flex","p-flex-column",2,"flex","1"],[1,"p-text-center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3rem"],[1,"p-grid","p-fluid"],[1,"p-col-6"],["type","button","pButton","","label","Yes",1,"p-button-success",3,"click"],["type","button","pButton","","label","No",1,"p-button-secondary",3,"click"]],template:function(e,o){1&e&&(s._UZ(0,"app-header-normal")(1,"p-toast",0),s.TgZ(2,"section",1)(3,"div")(4,"h4"),s._uU(5,"Shopping Cart"),s.qZA()(),s.TgZ(6,"table",2)(7,"thead",3)(8,"tr"),s._UZ(9,"th"),s.TgZ(10,"th",4),s._uU(11,"Product"),s.qZA(),s.TgZ(12,"th"),s._uU(13,"Price"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Quantity"),s.qZA(),s.TgZ(16,"th"),s._uU(17,"Total Price"),s.qZA(),s.TgZ(18,"th"),s._uU(19,"Actions"),s.qZA()()(),s.YNc(20,qle,26,7,"tbody",5),s.qZA(),s.TgZ(21,"div",6),s._UZ(22,"div"),s.TgZ(23,"div")(24,"div",7)(25,"button",8),s.NdJ("click",function(){return o.clearCart()}),s._uU(26,"Clear Cart"),s.qZA()(),s.TgZ(27,"div",9)(28,"div",10)(29,"p"),s._uU(30),s.qZA(),s.TgZ(31,"p",11),s._uU(32),s.qZA()(),s.TgZ(33,"div",9)(34,"button",12),s.NdJ("click",function(){return o.goToCheckout()}),s._uU(35,"Checkout"),s.qZA()()()()(),s.TgZ(36,"p-dialog",13),s.NdJ("visibleChange",function(l){return o.displayModal=l}),s.TgZ(37,"div",14)(38,"div",15),s.NdJ("click",function(){return o.selectVoucher("cashback")}),s.TgZ(39,"div",16)(40,"h6"),s._uU(41),s.qZA()(),s.TgZ(42,"div",17)(43,"p"),s._uU(44),s.qZA()(),s.TgZ(45,"div")(46,"p",18),s._uU(47,"\u2714\ufe0f"),s.qZA()()(),s.TgZ(48,"div",19),s.NdJ("click",function(){return o.selectVoucher("discount")}),s.TgZ(49,"div",16)(50,"h6"),s._uU(51),s.qZA()(),s.TgZ(52,"div",17)(53,"p"),s._uU(54),s.qZA()(),s.TgZ(55,"div")(56,"p",20),s._uU(57,"\u2714\ufe0f"),s.qZA()()(),s.TgZ(58,"div",21),s.NdJ("click",function(){return o.selectVoucher("freeShipping")}),s.TgZ(59,"div",16)(60,"h6"),s._uU(61),s.qZA()(),s.TgZ(62,"div",17)(63,"p"),s._uU(64),s.qZA()(),s.TgZ(65,"div")(66,"p",22),s._uU(67,"\u2714\ufe0f"),s.qZA()()()(),s.YNc(68,Zle,4,0,"ng-template",23),s.qZA(),s.TgZ(69,"p-toast",24),s.NdJ("onClose",function(){return o.onReject()}),s.YNc(70,$le,12,2,"ng-template",25),s.qZA()()),2&e&&(s.xp6(20),s.Q6J("ngForOf",o.items),s.xp6(10),s.hij("Total (",o.itemCount," items) : "),s.xp6(2),s.hij(" \xa0 RM ",o.total,""),s.xp6(4),s.Akn(s.DdM(17,Wle)),s.Q6J("visible",o.displayModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),s.xp6(5),s.Oqu(o.voucher0Title),s.xp6(3),s.hij(" Mininum total of RM ",o.voucher0Min," "),s.xp6(7),s.Oqu(o.voucher1Title),s.xp6(3),s.hij(" Mininum total of RM ",o.voucher1Min," "),s.xp6(7),s.Oqu(o.voucher2Title),s.xp6(3),s.hij(" Mininum total of RM ",o.voucher2Min," "),s.xp6(5),s.Q6J("baseZIndex",5e3))},dependencies:[Ui,Da,Uk,JS,zle,sw],styles:[".table-responsive[_ngcontent-%COMP%]{margin:25px 30px 0}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;padding:10px 10px 0;border-spacing:30px;text-align:center}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #3184f9}.table-header[_ngcontent-%COMP%]{padding-bottom:15px}.cart-img[_ngcontent-%COMP%]{width:100px}.product-header[_ngcontent-%COMP%], .item-product[_ngcontent-%COMP%]{text-align:left}.product-row[_ngcontent-%COMP%]{vertical-align:middle}.product-row[_ngcontent-%COMP%]:hover{background-color:#d8f9ff}.old-price[_ngcontent-%COMP%]{text-decoration:line-through;color:#ccc;font-size:smaller}.total-price[_ngcontent-%COMP%]{color:#005de8}.del[_ngcontent-%COMP%], .clearCart[_ngcontent-%COMP%]{color:red;margin:0;cursor:pointer}.del[_ngcontent-%COMP%]:hover, .clearCart[_ngcontent-%COMP%]:hover{font-weight:500}.voucherModalBtn[_ngcontent-%COMP%]{color:#005de8;font-size:small;cursor:pointer;float:right}.select-voucher[_ngcontent-%COMP%]{display:flex;margin:15px 0}.select-voucher[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;margin-right:15px}.selectedVouchers[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small}.voucher-container[_ngcontent-%COMP%]{display:flex;margin:15px 0}.voucher-container[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;margin-right:15px}.discount-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.discount-container[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;margin-right:15px}.discount-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.left-bottom-panel[_ngcontent-%COMP%]{float:left;display:flex}.left-bottom-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 10px}.checkbox-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.checkbox-border[_ngcontent-%COMP%]{border:1px solid #005DE8;height:16px;width:16px;margin-bottom:5px;border-radius:5px}.tick[_ngcontent-%COMP%]{font-size:xx-small;margin:0;visibility:hidden;cursor:default}.active[_ngcontent-%COMP%]{visibility:visible!important;background-color:#005de8;color:#fff;height:100%}.nonactive[_ngcontent-%COMP%]{visibility:hidden}.totalText[_ngcontent-%COMP%]{font-weight:700;color:red}.quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.quantity[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:8px 8px 0}.quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #3184f9;border-radius:5px}.quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005de8}.quantity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0 10px;font-size:x-large;font-weight:700;color:#005de8}.quantity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{color:#fff}.clearCart[_ngcontent-%COMP%]{border:none;background-color:#fff}.voucherContainer[_ngcontent-%COMP%], .voucher-cart-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.voucherMain[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;display:flex;margin:0 30px 8px;height:80px;cursor:pointer;align-items:center}.voucherMain[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 5px #ccccccbf;-webkit-box-shadow:0px 0px 5px 5px rgba(204,204,204,.75);-moz-box-shadow:0px 0px 5px 5px rgba(204,204,204,.75)}.voucherMain.disabled[_ngcontent-%COMP%]{background-color:#63666a;color:#63666a;pointer-events:none;cursor:none}.voucherLeft[_ngcontent-%COMP%]{background-color:#005de8;color:#f5f5f5;width:120px;height:100%!important}.voucherLeft[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{padding-top:25px;text-align:center;text-transform:uppercase;word-wrap:break-word}.voucherRight[_ngcontent-%COMP%]{padding:8px 0 0 5px;font-weight:bolder;display:flex;align-items:center}.voucherSelected[_ngcontent-%COMP%]{padding-top:5px;width:32px;height:32px}.voucherNotSelected[_ngcontent-%COMP%]{visibility:hidden}.okBtn[_ngcontent-%COMP%]{color:#f5f5f5;background-color:#005de8;margin:8px 5px;width:100px!important;height:50px;border:none;border-radius:5px}.okBtn[_ngcontent-%COMP%]:hover{font-weight:600}.cancelBtn[_ngcontent-%COMP%]{color:#63666a;border:1px solid #ccc;margin:8px 5px;width:100px!important;height:50px;border-radius:5px}.cancelBtn[_ngcontent-%COMP%]:hover{font-weight:600}.toastStyle[_ngcontent-%COMP%]{background-color:#cff;color:#006400}.toastHeader[_ngcontent-%COMP%]{background-color:green;color:#f5f5f5}.stickBottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:0;width:100%;border:1px solid #ccc;border-radius:5px;padding:5px 15px 1px;box-shadow:0 -1px 5px 2px #ccccccbf;-webkit-box-shadow:0px -1px 5px 2px rgba(204,204,204,.75);-moz-box-shadow:0px -1px 5px 2px rgba(204,204,204,.75)}.checkoutBtn[_ngcontent-%COMP%]{padding:5px 8px;border:1px solid #005DE8;color:#005de8;background-color:#f5f5f5;border-radius:5px;margin-bottom:10px}.checkoutBtn[_ngcontent-%COMP%]:hover{color:#f5f5f5;background-color:#005de8}"]}),i})();function Kle(i,t){1&i&&s.GkF(0)}function Jle(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",5),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onCloseClick(a))})("keydown.enter",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.hide())}),s._UZ(1,"span",6),s.qZA()}if(2&i){const e=s.oxw(2);s.uIk("aria-label",e.ariaCloseLabel)}}const Qle=function(i,t){return{showTransitionParams:i,hideTransitionParams:t}},Xle=function(i,t){return{value:i,params:t}};function ece(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",1),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onOverlayClick(a))})("@animation.start",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onAnimationStart(a))})("@animation.done",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onAnimationEnd(a))}),s.TgZ(1,"div",2),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onContentClick())})("mousedown",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onContentClick())}),s.Hsn(2),s.YNc(3,Kle,1,0,"ng-container",3),s.qZA(),s.YNc(4,Jle,2,1,"button",4),s.qZA()}if(2&i){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",s.WLB(10,Xle,e.overlayVisible?"open":"close",s.WLB(7,Qle,e.showTransitionOptions,e.hideTransitionOptions))),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate),s.xp6(1),s.Q6J("ngIf",e.showCloseIcon)}}const tce=["*"];let nce=(()=>{class i{constructor(e,o,a,l,c,g){this.el=e,this.renderer=o,this.cd=a,this.zone=l,this.config=c,this.overlayService=g,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new s.vpe,this.onHide=new s.vpe,this.overlayVisible=!1,this.render=!1,this.isOverlayAnimationInProgress=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let e=Le.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",e,a=>{!this.container.contains(a.target)&&this.target!==a.target&&!this.target.contains(a.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,o){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,o)&&(this.destroyCallback=()=>{this.show(null,o||e.currentTarget||e.target)}),this.hide()):this.show(e,o))}show(e,o){this.isOverlayAnimationInProgress||(this.target=o||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(e,o){return null!=this.target&&this.target!==(o||e.currentTarget||e.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Le.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&Ys.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Le.absolutePosition(this.container,this.target);const e=Le.getOffset(this.container),o=Le.getOffset(this.target);let a=0;e.left<o.left&&(a=o.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${a}px`),e.top<o.top&&Le.addClass(this.container,"p-overlaypanel-flipped")}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=o=>{this.container&&this.container.contains(o.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&Ys.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let e=Le.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.isOverlayAnimationInProgress||(this.overlayVisible=!1,this.cd.markForCheck())}onCloseClick(e){this.hide(),e.preventDefault()}onWindowResize(e){this.overlayVisible&&!Le.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Hk(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Ys.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(nf),s.Y36(QM))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-overlayPanel"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,Da,4),2&e){let l;s.iGM(l=s.CRH())&&(o.templates=l)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:tce,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(e,o){1&e&&(s.F$t(),s.YNc(0,ece,5,13,"div",0)),2&e&&s.Q6J("ngIf",o.render)},dependencies:[wr,zi,lr,Rr,Zm],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[Ks("animation",[to("void",Kn({transform:"scaleY(0.8)",opacity:0})),to("close",Kn({opacity:0})),to("open",Kn({transform:"translateY(0)",opacity:1})),nr("void => open",yr("{{showTransitionParams}}")),nr("open => close",yr("{{hideTransitionParams}}"))])]},changeDetection:0}),i})(),ice=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,rg,Tu,Tu]}),i})(),rce=(()=>{class i{constructor(e,o,a){this.el=e,this.zone=o,this.config=a,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Le.appendChild(this.container,this.el.nativeElement):Le.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Le.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Ys.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Ys.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+Le.getWindowScrollLeft(),top:e.top+Le.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),o=e.left+Le.getOuterWidth(this.el.nativeElement),a=e.top+(Le.getOuterHeight(this.el.nativeElement)-Le.getOuterHeight(this.container))/2;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),o=e.left-Le.getOuterWidth(this.container),a=e.top+(Le.getOuterHeight(this.el.nativeElement)-Le.getOuterHeight(this.container))/2;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),o=e.left+(Le.getOuterWidth(this.el.nativeElement)-Le.getOuterWidth(this.container))/2,a=e.top-Le.getOuterHeight(this.container);this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),o=e.left+(Le.getOuterWidth(this.el.nativeElement)-Le.getOuterWidth(this.container))/2,a=e.top+Le.getOuterHeight(this.el.nativeElement);this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return Le.hasClass(e,"p-inputwrapper")?Le.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let o="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?o+" "+this.getOption("tooltipStyleClass"):o}isOutOfBounds(){let e=this.container.getBoundingClientRect(),o=e.top,a=e.left,l=Le.getOuterWidth(this.container),c=Le.getOuterHeight(this.container),g=Le.getViewport();return a+l>g.width||a<0||o<0||o+c>g.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Hk(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Le.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Ys.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(nf))},i.\u0275dir=s.lG2({type:i,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),i})(),oce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})();const sce=["element"],ace=["content"];function lce(i,t){1&i&&s.GkF(0)}const G2=function(i,t){return{$implicit:i,options:t}};function cce(i,t){if(1&i&&(s.ynx(0),s.YNc(1,lce,1,0,"ng-container",7),s.BQk()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(2,G2,e.loadedItems,e.getContentOptions()))}}function uce(i,t){1&i&&s.GkF(0)}function dce(i,t){if(1&i&&(s.ynx(0),s.YNc(1,uce,1,0,"ng-container",7),s.BQk()),2&i){const e=t.$implicit,o=t.index,a=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",s.WLB(2,G2,e,a.getOptions(o)))}}const hce=function(i){return{"p-scroller-loading":i}};function fce(i,t){if(1&i&&(s.TgZ(0,"div",8,9),s.YNc(2,dce,2,5,"ng-container",10),s.qZA()),2&i){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(4,hce,e.d_loading))("ngStyle",e.contentStyle),s.xp6(2),s.Q6J("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function pce(i,t){if(1&i&&s._UZ(0,"div",11),2&i){const e=s.oxw(2);s.Q6J("ngStyle",e.spacerStyle)}}function gce(i,t){1&i&&s.GkF(0)}const mce=function(i){return{numCols:i}},lz=function(i){return{options:i}};function _ce(i,t){if(1&i&&(s.ynx(0),s.YNc(1,gce,1,0,"ng-container",7),s.BQk()),2&i){const e=t.index,o=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",o.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,lz,o.getLoaderOptions(e,o.both&&s.VKq(2,mce,o._numItemsInViewport.cols))))}}function yce(i,t){if(1&i&&(s.ynx(0),s.YNc(1,_ce,2,6,"ng-container",14),s.BQk()),2&i){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.loaderArr)}}function vce(i,t){1&i&&s.GkF(0)}const bce=function(){return{styleClass:"p-scroller-loading-icon"}};function wce(i,t){if(1&i&&(s.ynx(0),s.YNc(1,vce,1,0,"ng-container",7),s.BQk()),2&i){const e=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,lz,s.DdM(2,bce)))}}function Cce(i,t){1&i&&s._UZ(0,"i",16)}function Tce(i,t){if(1&i&&(s.YNc(0,wce,2,5,"ng-container",0),s.YNc(1,Cce,1,0,"ng-template",null,15,s.W1O)),2&i){const e=s.MAs(2),o=s.oxw(3);s.Q6J("ngIf",o.loaderIconTemplate)("ngIfElse",e)}}const Ece=function(i){return{"p-component-overlay":i}};function xce(i,t){if(1&i&&(s.TgZ(0,"div",12),s.YNc(1,yce,2,1,"ng-container",0),s.YNc(2,Tce,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&i){const e=s.MAs(3),o=s.oxw(2);s.Q6J("ngClass",s.VKq(3,Ece,!o.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",o.loaderTemplate)("ngIfElse",e)}}const Sce=function(i,t){return{"p-scroller":!0,"p-both-scroll":i,"p-horizontal-scroll":t}};function Dce(i,t){if(1&i){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onContainerScroll(a))}),s.YNc(3,cce,2,5,"ng-container",0),s.YNc(4,fce,3,6,"ng-template",null,4,s.W1O),s.YNc(6,pce,1,1,"div",5),s.YNc(7,xce,4,5,"div",6),s.qZA(),s.BQk()}if(2&i){const e=s.MAs(5),o=s.oxw();s.xp6(1),s.Tol(o._styleClass),s.Q6J("ngStyle",o._style)("ngClass",s.WLB(10,Sce,o.both,o.horizontal)),s.uIk("id",o._id)("tabindex",o.tabindex),s.xp6(2),s.Q6J("ngIf",o.contentTemplate)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",o._showSpacer),s.xp6(1),s.Q6J("ngIf",!o.loaderDisabled&&o._showLoader&&o.d_loading)}}function Ice(i,t){1&i&&s.GkF(0)}const Mce=function(i,t){return{rows:i,columns:t}};function Ace(i,t){if(1&i&&(s.ynx(0),s.YNc(1,Ice,1,0,"ng-container",7),s.BQk()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(5,G2,e.items,s.WLB(2,Mce,e._items,e.loadedColumns)))}}function kce(i,t){if(1&i&&(s.Hsn(0),s.YNc(1,Ace,2,8,"ng-container",17)),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.contentTemplate)}}const Oce=["*"];let cz=(()=>{class i{constructor(e,o){this.cd=e,this.zone=o,this.onLazyLoad=new s.vpe,this.onScroll=new s.vpe,this.onScrollIndexChange=new s.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._delay=0,this._resizeDelay=10,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1,this._disabled||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([o,a])=>this[`_${o}`]!==a&&(this[`_${o}`]=a))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}ngOnInit(){this.setInitialState()}ngOnChanges(e){if(this.initialized){let o=!1;if(e.items){const{previousValue:l,currentValue:c}=e.items;o=!l||l.length!==(c||[]).length}(o||e.itemSize||e.scrollHeight||e.scrollWidth)&&this.init()}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.loading){const{previousValue:o,currentValue:a}=e.loading;this.lazy&&o!==a&&a!==this.d_loading&&(this.d_loading=a)}if(e.numToleratedItems){const{previousValue:o,currentValue:a}=e.numToleratedItems;o!==a&&a!==this.d_numToleratedItems&&(this.d_numToleratedItems=a)}if(e.options){const{previousValue:o,currentValue:a}=e.options;this.lazy&&o?.loading!==a?.loading&&a?.loading!==this.d_loading&&(this.d_loading=a.loading),o?.numToleratedItems!==a?.numToleratedItems&&a?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=a.numToleratedItems)}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.setContentEl(this.contentEl),this.init(),this.defaultWidth=Le.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=Le.getHeight(this.elementViewChild.nativeElement),this.initialized=!0}ngAfterViewChecked(){this.calculateAutoSize()}ngOnDestroy(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||Le.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems}getElementRef(){return this.elementViewChild}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,o="auto"){const{numToleratedItems:a}=this.calculateNumItems(),l=this.getContentPosition(),c=(b=0,T)=>b<=T?0:b,g=(b,T,D)=>b*T+D,_=(b=0,T=0)=>this.scrollTo({left:b,top:T,behavior:o});if(this.both){const b={rows:c(e[0],a[0]),cols:c(e[1],a[1])};(b.rows!==this.first.rows||b.cols!==this.first.cols)&&_(g(b.cols,this._itemSize[1],l.left),g(b.rows,this._itemSize[0],l.top))}else{const b=c(e,a);b!==this.first&&(this.horizontal?_(g(b,this._itemSize,l.left),0):_(0,g(b,this._itemSize,l.top)))}}scrollInView(e,o,a="auto"){if(o){const{first:l,viewport:c}=this.getRenderedRange(),g=(T=0,D=0)=>this.scrollTo({left:T,top:D,behavior:a}),b="to-end"===o;if("to-start"===o){if(this.both)c.first.rows-l.rows>e[0]?g(c.first.cols*this._itemSize[1],(c.first.rows-1)*this._itemSize[0]):c.first.cols-l.cols>e[1]&&g((c.first.cols-1)*this._itemSize[1],c.first.rows*this._itemSize[0]);else if(c.first-l>e){const T=(c.first-1)*this._itemSize;this.horizontal?g(T,0):g(0,T)}}else if(b)if(this.both)c.last.rows-l.rows<=e[0]+1?g(c.first.cols*this._itemSize[1],(c.first.rows+1)*this._itemSize[0]):c.last.cols-l.cols<=e[1]+1&&g((c.first.cols+1)*this._itemSize[1],c.first.rows*this._itemSize[0]);else if(c.last-l<=e+1){const T=(c.first+1)*this._itemSize;this.horizontal?g(T,0):g(0,T)}}else this.scrollToIndex(e,a)}getRenderedRange(){const e=(l,c)=>Math.floor(l/(c||l));let o=this.first,a=0;if(this.elementViewChild?.nativeElement){const{scrollTop:l,scrollLeft:c}=this.elementViewChild.nativeElement;this.both?(o={rows:e(l,this._itemSize[0]),cols:e(c,this._itemSize[1])},a={rows:o.rows+this.numItemsInViewport.rows,cols:o.cols+this.numItemsInViewport.cols}):(o=e(this.horizontal?c:l,this._itemSize),a=o+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:o,last:a}}}calculateNumItems(){const e=this.getContentPosition(),o=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0,a=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0,l=(b,T)=>Math.ceil(b/(T||b)),c=b=>Math.ceil(b/2),g=this.both?{rows:l(a,this._itemSize[0]),cols:l(o,this._itemSize[1])}:l(this.horizontal?o:a,this._itemSize);return{numItemsInViewport:g,numToleratedItems:this.d_numToleratedItems||(this.both?[c(g.rows),c(g.cols)]:c(g))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:o}=this.calculateNumItems(),a=(g,_,b,T=!1)=>this.getLast(g+_+(g<b?2:3)*b,T),l=this.first,c=this.both?{rows:a(this.first.rows,e.rows,o[0]),cols:a(this.first.cols,e.cols,o[1],!0)}:a(this.first,e,o);this.last=c,this.numItemsInViewport=e,this.d_numToleratedItems=o,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&this.handleEvents("onLazyLoad",{first:l,last:c})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:e,offsetHeight:o}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(e<this.defaultWidth?e:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(o<this.defaultHeight?o:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(e=0,o=!1){return this._items?Math.min(o?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),o=parseInt(e.paddingLeft,10)+Math.max(parseInt(e.left,10),0),a=parseInt(e.paddingRight,10)+Math.max(parseInt(e.right,10),0),l=parseInt(e.paddingTop,10)+Math.max(parseInt(e.top,10),0),c=parseInt(e.paddingBottom,10)+Math.max(parseInt(e.bottom,10),0);return{left:o,right:a,top:l,bottom:c,x:o+a,y:l+c}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,o=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,a=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,l=(c,g)=>this.elementViewChild.nativeElement.style[c]=g;this.both||this.horizontal?(l("height",a),l("width",o)):l("height",a)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),o=(a,l,c,g=0)=>this.spacerStyle={...this.spacerStyle,[`${a}`]:(l||[]).length*c+g+"px"};this.both?(o("height",this._items,this._itemSize[0],e.y),o("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?o("width",this._columns||this._items,this._itemSize,e.x):o("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl){const o=e?e.first:this.first,a=(c,g)=>c*g,l=(c=0,g=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${c}px, ${g}px, 0)`};if(this.both)l(a(o.cols,this._itemSize[1]),a(o.rows,this._itemSize[0]));else{const c=a(o,this._itemSize);this.horizontal?l(c,0):l(0,c)}}}onScrollPositionChange(e){const o=e.target,a=this.getContentPosition(),l=(se,ke)=>se?se>ke?se-ke:se:0,c=(se,ke)=>Math.floor(se/(ke||se)),g=(se,ke,We,ft,ht,Ht)=>se<=ht?ht:Ht?We-ft-ht:ke+ht-1,_=(se,ke,We,ft,ht,Ht,qt)=>se<=Ht?0:Math.max(0,qt?se<ke?We:se-Ht:se>ke?We:se-2*Ht),b=(se,ke,We,ft,ht,Ht=!1)=>{let qt=ke+ft+2*ht;return se>=ht&&(qt+=ht+1),this.getLast(qt,Ht)},T=l(o.scrollTop,a.top),D=l(o.scrollLeft,a.left);let O=this.both?{rows:0,cols:0}:0,F=this.last,j=!1,X=this.lastScrollPos;if(this.both){const se=this.lastScrollPos.top<=T,ke=this.lastScrollPos.left<=D,We={rows:c(T,this._itemSize[0]),cols:c(D,this._itemSize[1])},ft={rows:g(We.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],se),cols:g(We.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],ke)};O={rows:_(We.rows,ft.rows,this.first.rows,0,0,this.d_numToleratedItems[0],se),cols:_(We.cols,ft.cols,this.first.cols,0,0,this.d_numToleratedItems[1],ke)},F={rows:b(We.rows,O.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:b(We.cols,O.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},j=O.rows!==this.first.rows||F.rows!==this.last.rows||O.cols!==this.first.cols||F.cols!==this.last.cols,X={top:T,left:D}}else{const se=this.horizontal?D:T,ke=this.lastScrollPos<=se,We=c(se,this._itemSize);O=_(We,g(We,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,ke),this.first,0,0,this.d_numToleratedItems,ke),F=b(We,O,0,this.numItemsInViewport,this.d_numToleratedItems),j=O!==this.first||F!==this.last,X=se}return{first:O,last:F,isRangeChanged:j,scrollPos:X}}onScrollChange(e){const{first:o,last:a,isRangeChanged:l,scrollPos:c}=this.onScrollPositionChange(e);if(l){const g={first:o,last:a};this.setContentPosition(g),this.first=o,this.last=a,this.lastScrollPos=c,this.handleEvents("onScrollIndexChange",g),this._lazy&&this.handleEvents("onLazyLoad",g)}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:o}=this.onScrollPositionChange(e);o&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.cd.detectChanges())},this._delay)}else this.onScrollChange(e)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(this.elementViewChild){const[e,o]=[Le.getWidth(this.elementViewChild.nativeElement),Le.getHeight(this.elementViewChild.nativeElement)],[a,l]=[e!==this.defaultWidth,o!==this.defaultHeight];(this.both?a||l:this.horizontal?a:this.vertical&&l)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=o,this.init()})}},this._resizeDelay)}handleEvents(e,o){return this.options&&this.options[e]?this.options[e](o):this[e].emit(o)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,o)=>this.getLoaderOptions(e,o),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const o=(this._items||[]).length,a=this.both?this.first.rows+e:this.first+e;return{index:a,count:o,first:0===a,last:a===o-1,even:a%2==0,odd:a%2!=0}}getLoaderOptions(e,o){const a=this.loaderArr.length;return{index:e,count:a,first:0===e,last:e===a-1,even:e%2==0,odd:e%2!=0,...o}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO),s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-scroller"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,Da,4),2&e){let l;s.iGM(l=s.CRH())&&(o.templates=l)}},viewQuery:function(e,o){if(1&e&&(s.Gf(sce,5),s.Gf(ace,5)),2&e){let a;s.iGM(a=s.CRH())&&(o.elementViewChild=a.first),s.iGM(a=s.CRH())&&(o.contentViewChild=a.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",delay:"delay",resizeDelay:"resizeDelay",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:Oce,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,o){if(1&e&&(s.F$t(),s.YNc(0,Dce,8,13,"ng-container",0),s.YNc(1,kce,2,1,"ng-template",null,1,s.W1O)),2&e){const a=s.MAs(2);s.Q6J("ngIf",!o._disabled)("ngIfElse",a)}},dependencies:[wr,Ui,zi,lr,Rr],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}\n"],encapsulation:2}),i})(),jk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})();function Rce(i,t){if(1&i&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function Pce(i,t){1&i&&s.GkF(0)}const XS=function(i){return{height:i}},Nce=function(i,t){return{"p-dropdown-item":!0,"p-highlight":i,"p-disabled":t}},q2=function(i){return{$implicit:i}},Fce=["container"],Lce=["filter"],Vce=["in"],Bce=["editableInput"],Hce=["items"],Uce=["scroller"];function jce(i,t){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function zce(i,t){1&i&&s.GkF(0)}const Gce=function(i){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":i}};function qce(i,t){if(1&i&&(s.TgZ(0,"span",12),s.YNc(1,jce,2,1,"ng-container",13),s.YNc(2,zce,1,0,"ng-container",14),s.qZA()),2&i){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,Gce,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,q2,e.selectedOption))}}const Zce=function(i){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":i}};function $ce(i,t){if(1&i&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&i){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,Zce,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function Wce(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onEditableInputClick())})("input",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onEditableInputChange(a))})("focus",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onEditableInputFocus(a))})("blur",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onInputBlur(a))}),s.qZA()}if(2&i){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function Yce(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.clear(a))}),s.qZA()}}function Kce(i,t){1&i&&s.GkF(0)}function Jce(i,t){1&i&&s.GkF(0)}const uz=function(i){return{options:i}};function Qce(i,t){if(1&i&&(s.ynx(0),s.YNc(1,Jce,1,0,"ng-container",14),s.BQk()),2&i){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",s.VKq(2,uz,e.filterOptions))}}function Xce(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",27)(1,"input",28,29),s.NdJ("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onKeydown(a,!1))})("input",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onFilterInputChange(a))}),s.qZA(),s._UZ(3,"span",30),s.qZA()}if(2&i){const e=s.oxw(3);s.xp6(1),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function eue(i,t){if(1&i&&(s.TgZ(0,"div",24),s.NdJ("click",function(o){return o.stopPropagation()}),s.YNc(1,Qce,2,4,"ng-container",25),s.YNc(2,Xce,4,4,"ng-template",null,26,s.W1O),s.qZA()),2&i){const e=s.MAs(3),o=s.oxw(2);s.xp6(1),s.Q6J("ngIf",o.filterTemplate)("ngIfElse",e)}}function tue(i,t){1&i&&s.GkF(0)}const dz=function(i,t){return{$implicit:i,options:t}};function nue(i,t){if(1&i&&s.YNc(0,tue,1,0,"ng-container",14),2&i){const e=t.$implicit,o=t.options;s.oxw(2);const a=s.MAs(7);s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.WLB(2,dz,e,o))}}function iue(i,t){1&i&&s.GkF(0)}function rue(i,t){if(1&i&&s.YNc(0,iue,1,0,"ng-container",14),2&i){const e=t.options,o=s.oxw(4);s.Q6J("ngTemplateOutlet",o.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,uz,e))}}function oue(i,t){1&i&&(s.ynx(0),s.YNc(1,rue,1,4,"ng-template",34),s.BQk())}function sue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-scroller",31,32),s.NdJ("onLazyLoad",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onLazyLoad.emit(a))}),s.YNc(2,nue,1,5,"ng-template",33),s.YNc(3,oue,2,0,"ng-container",13),s.qZA()}if(2&i){const e=s.oxw(2);s.Akn(s.VKq(8,XS,e.scrollHeight)),s.Q6J("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",e.loaderTemplate)}}function aue(i,t){1&i&&s.GkF(0)}const lue=function(){return{}};function cue(i,t){if(1&i&&(s.ynx(0),s.YNc(1,aue,1,0,"ng-container",14),s.BQk()),2&i){s.oxw();const e=s.MAs(7),o=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(3,dz,o.optionsToDisplay,s.DdM(2,lue)))}}function uue(i,t){if(1&i&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&i){const e=s.oxw().$implicit,o=s.oxw(4);s.xp6(1),s.Oqu(o.getOptionGroupLabel(e)||"empty")}}function due(i,t){1&i&&s.GkF(0)}function hue(i,t){1&i&&s.GkF(0)}const hz=function(i,t){return{$implicit:i,selectedOption:t}};function fue(i,t){if(1&i&&(s.TgZ(0,"li",40),s.YNc(1,uue,2,1,"span",13),s.YNc(2,due,1,0,"ng-container",14),s.qZA(),s.YNc(3,hue,1,0,"ng-container",14)),2&i){const e=t.$implicit,o=s.oxw(2).options,a=s.MAs(5),l=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,XS,o.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!l.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",l.groupTemplate)("ngTemplateOutletContext",s.VKq(8,q2,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.WLB(10,hz,l.getOptionGroupChildren(e),l.selectedOption))}}function pue(i,t){if(1&i&&(s.ynx(0),s.YNc(1,fue,4,13,"ng-template",39),s.BQk()),2&i){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function gue(i,t){1&i&&s.GkF(0)}function mue(i,t){if(1&i&&(s.ynx(0),s.YNc(1,gue,1,0,"ng-container",14),s.BQk()),2&i){const e=s.oxw().$implicit,o=s.MAs(5),a=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",s.WLB(2,hz,e,a.selectedOption))}}function _ue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-dropdownItem",41),s.NdJ("onClick",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.onItemClick(a))}),s.qZA()}if(2&i){const e=t.$implicit,o=s.oxw().selectedOption,a=s.oxw(3);s.Q6J("option",e)("selected",o==e)("label",a.getOptionLabel(e))("disabled",a.isOptionDisabled(e))("template",a.itemTemplate)}}function yue(i,t){1&i&&s.YNc(0,_ue,1,5,"ng-template",39),2&i&&s.Q6J("ngForOf",t.$implicit)}function vue(i,t){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function bue(i,t){1&i&&s.GkF(0,null,43)}function wue(i,t){if(1&i&&(s.TgZ(0,"li",42),s.YNc(1,vue,2,1,"ng-container",25),s.YNc(2,bue,2,0,"ng-container",19),s.qZA()),2&i){const e=s.oxw().options,o=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,XS,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.emptyFilterTemplate&&!o.emptyTemplate)("ngIfElse",o.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",o.emptyFilterTemplate||o.emptyTemplate)}}function Cue(i,t){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function Tue(i,t){1&i&&s.GkF(0,null,44)}function Eue(i,t){if(1&i&&(s.TgZ(0,"li",42),s.YNc(1,Cue,2,1,"ng-container",25),s.YNc(2,Tue,2,0,"ng-container",19),s.qZA()),2&i){const e=s.oxw().options,o=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,XS,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.emptyTemplate)("ngIfElse",o.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",o.emptyTemplate)}}function xue(i,t){if(1&i&&(s.TgZ(0,"ul",35,36),s.YNc(2,pue,2,1,"ng-container",13),s.YNc(3,mue,2,5,"ng-container",13),s.YNc(4,yue,1,1,"ng-template",null,37,s.W1O),s.YNc(6,wue,3,6,"li",38),s.YNc(7,Eue,3,6,"li",38),s.qZA()),2&i){const e=t.options,o=s.oxw(2);s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass),s.uIk("id",o.listId),s.xp6(2),s.Q6J("ngIf",o.group),s.xp6(1),s.Q6J("ngIf",!o.group),s.xp6(3),s.Q6J("ngIf",o.filterValue&&o.isEmpty()),s.xp6(1),s.Q6J("ngIf",!o.filterValue&&o.isEmpty())}}function Sue(i,t){1&i&&s.GkF(0)}const Due=function(i,t){return{showTransitionParams:i,hideTransitionParams:t}},Iue=function(i){return{value:"visible",params:i}};function Mue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onOverlayClick(a))})("@overlayAnimation.start",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onOverlayAnimationStart(a))})("@overlayAnimation.done",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onOverlayAnimationEnd(a))}),s.YNc(1,Kce,1,0,"ng-container",19),s.YNc(2,eue,4,2,"div",20),s.TgZ(3,"div",21),s.YNc(4,sue,4,10,"p-scroller",22),s.YNc(5,cue,2,6,"ng-container",13),s.YNc(6,xue,8,8,"ng-template",null,23,s.W1O),s.qZA(),s.YNc(8,Sue,1,0,"ng-container",19),s.qZA()}if(2&i){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(15,Iue,s.WLB(12,Due,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",e.virtualScroll),s.xp6(1),s.Q6J("ngIf",!e.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Aue=function(i,t,e,o){return{"p-dropdown p-component":!0,"p-disabled":i,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":o}},kue={provide:ws,useExisting:(0,s.Gpc)(()=>fz),multi:!0};let Oue=(()=>{class i{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(l){return o.onOptionClick(l)}),s.YNc(1,Rce,2,1,"span",1),s.YNc(2,Pce,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,XS,o.itemSize+"px"))("id",o.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,Nce,o.selected,o.disabled)),s.uIk("aria-label",o.label)("aria-selected",o.selected),s.xp6(1),s.Q6J("ngIf",!o.template),s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.VKq(13,q2,o.option)))},dependencies:[wr,zi,lr,Rr,Zm],encapsulation:2}),i})(),fz=(()=>{class i{constructor(e,o,a,l,c,g,_){this.el=e,this.renderer=o,this.cd=a,this.zone=l,this.filterService=c,this.config=g,this.overlayService=_,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=T1()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Pn.isNotEmpty(this.value)&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Dd.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Dd.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?Pn.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?Pn.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?Pn.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?Pn.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Pn.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const o=e.option;this.isOptionDisabled(o)||(this.selectItem(e.originalEvent,o),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},150)}selectItem(e,o){this.selectedOption!=o&&(this.selectedOption=o,this.value=this.getOptionValue(o),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(Le.findSingle(this.overlay,"li.p-highlight")&&Le.scrollInView(this.itemsWrapper,Le.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return Le.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=Le.findSingle(this.overlay,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.appendOverlay(),this.autoZIndex&&Ys.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length)if(this.virtualScroll){const o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==o&&this.scroller.scrollToIndex(o)}else{let o=Le.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");o&&o.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Ys.clear(e.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Le.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Le.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?Le.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Le.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let o;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e-1;0<=a;a--){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){o=l;break}}if(!o)for(let a=this.optionsToDisplay.length-1;a>=e;a--){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){o=l;break}}}return o}findNextEnabledOption(e){let o;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let a=e+1;a<this.optionsToDisplay.length;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){o=l;break}}if(!o)for(let a=0;a<e;a++){let l=this.optionsToDisplay[a];if(!this.isOptionDisabled(l)){o=l;break}}}return o}onKeydown(e,o){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex+1;l<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findNextEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){let l=a.itemIndex-1;if(l>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[l]),this.selectedOptionUpdated=!0;else if(l<0){let c=this.optionsToDisplay[a.groupIndex-1];c&&(this.selectItem(e,this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1]),this.selectedOptionUpdated=!0)}}}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findPrevEnabledOption(a);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:o&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:o&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const o=e.key;let a;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=o,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+o:o,this.group){let l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};a=this.searchOptionWithinGroup(l)}else{let l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;a=this.searchOption(++l)}a&&!this.isOptionDisabled(a)&&(this.selectItem(e,a),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let o;return this.searchValue&&(o=this.searchOptionInRange(e,this.optionsToDisplay.length),o||(o=this.searchOptionInRange(0,e))),o}searchOptionInRange(e,o){for(let a=e;a<o;a++){let l=this.optionsToDisplay[a];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let a=e.groupIndex;a<this.optionsToDisplay.length;a++)for(let l=e.groupIndex===a?e.itemIndex+1:0;l<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;l++){let c=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}for(let a=0;a<=e.groupIndex;a++)for(let l=0;l<(e.groupIndex===a?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[a]).length);l++){let c=this.getOptionGroupChildren(this.optionsToDisplay[a])[l];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}findOptionIndex(e,o){let a=-1;if(o)for(let l=0;l<o.length;l++)if(null==e&&null==this.getOptionValue(o[l])||Pn.equals(e,this.getOptionValue(o[l]),this.dataKey)){a=l;break}return a}findOptionGroupIndex(e,o){let a,l;if(o)for(let c=0;c<o.length&&(a=c,l=this.findOptionIndex(e,this.getOptionGroupChildren(o[c])),-1===l);c++);return-1!==l?{groupIndex:a,itemIndex:l}:-1}findOption(e,o,a){if(this.group&&!a){let l;if(o&&o.length)for(let c of o)if(l=this.findOption(e,this.getOptionGroupChildren(c),!0),l)break;return l}{let l=this.findOptionIndex(e,o);return-1!=l?o[l]:null}}onFilterInputChange(e){let o=e.target.value;o&&o.length?(this._filterValue=o,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let o=[];for(let a of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(a),e,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&o.push({...a,[this.optionGroupChildren]:l})}this.optionsToDisplay=o}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Le.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Le.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",o=>{!this.preventDocumentDefault&&this.isOutsideClicked(o)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Le.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Hk(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Ys.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(fB),s.Y36(nf),s.Y36(QM))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-dropdown"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,Da,4),2&e){let l;s.iGM(l=s.CRH())&&(o.templates=l)}},viewQuery:function(e,o){if(1&e&&(s.Gf(Fce,5),s.Gf(Lce,5),s.Gf(Vce,5),s.Gf(Bce,5),s.Gf(Hce,5),s.Gf(Uce,5)),2&e){let a;s.iGM(a=s.CRH())&&(o.containerViewChild=a.first),s.iGM(a=s.CRH())&&(o.filterViewChild=a.first),s.iGM(a=s.CRH())&&(o.accessibleViewChild=a.first),s.iGM(a=s.CRH())&&(o.editableInputViewChild=a.first),s.iGM(a=s.CRH())&&(o.itemsViewChild=a.first),s.iGM(a=s.CRH())&&(o.scroller=a.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,o){2&e&&s.ekj("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused||o.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",itemSize:"itemSize",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([kue])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,o){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(l){return o.onMouseclick(l)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(l){return o.onInputFocus(l)})("blur",function(l){return o.onInputBlur(l)})("keydown",function(l){return o.onKeydown(l,!0)}),s.qZA()(),s.YNc(5,qce,3,13,"span",5),s.YNc(6,$ce,2,4,"span",6),s.YNc(7,Wce,2,4,"input",7),s.YNc(8,Yce,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,Mue,9,17,"div",11),s.qZA()),2&e&&(s.Tol(o.styleClass),s.Q6J("ngClass",s.l5B(20,Aue,o.disabled,o.overlayVisible,o.focused,o.showClear&&!o.disabled))("ngStyle",o.style),s.xp6(3),s.Q6J("disabled",o.disabled),s.uIk("id",o.inputId)("placeholder",o.placeholder)("aria-label",o.ariaLabel)("aria-expanded",!1)("aria-labelledby",o.ariaLabelledBy)("tabindex",o.tabindex)("autofocus",o.autofocus)("aria-activedescendant",o.overlayVisible?o.labelId:null),s.xp6(2),s.Q6J("ngIf",!o.editable&&null!=o.label),s.xp6(1),s.Q6J("ngIf",!o.editable&&null==o.label),s.xp6(1),s.Q6J("ngIf",o.editable),s.xp6(1),s.Q6J("ngIf",null!=o.value&&o.showClear&&!o.disabled),s.xp6(1),s.uIk("aria-expanded",o.overlayVisible),s.xp6(1),s.Q6J("ngClass",o.dropdownIcon),s.xp6(1),s.Q6J("ngIf",o.overlayVisible))},dependencies:[wr,Ui,zi,lr,Rr,Da,rce,cz,Oue],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Ks("overlayAnimation",[nr(":enter",[Kn({opacity:0,transform:"scaleY(0.8)"}),yr("{{showTransitionParams}}")]),nr(":leave",[yr("{{hideTransitionParams}}",Kn({opacity:0}))])])]},changeDetection:0}),i})(),Z2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,Tu,oce,rg,jk,Tu,jk]}),i})(),Rue=(()=>{class i{constructor(e,o,a){this.el=e,this.ngModel=o,this.cd=a}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Jy,8),s.Y36(s.sBO))},i.\u0275dir=s.lG2({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,o){1&e&&s.NdJ("input",function(l){return o.onInput(l)}),2&e&&s.ekj("p-filled",o.filled)}}),i})(),pz=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})();const Pue=["input"];function Nue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.clear())}),s.qZA()}}const gz=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},mz=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Fue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onUpButtonMouseDown(a))})("mouseup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onUpButtonMouseLeave())})("keydown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onUpButtonKeyDown(a))})("keyup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onUpButtonKeyUp())}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onDownButtonMouseDown(a))})("mouseup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onDownButtonMouseLeave())})("keydown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onDownButtonKeyDown(a))})("keyup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onDownButtonKeyUp())}),s.qZA()()}if(2&i){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,gz))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,mz))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Lue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onUpButtonMouseDown(a))})("mouseup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onUpButtonMouseLeave())})("keydown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onUpButtonKeyDown(a))})("keyup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onUpButtonKeyUp())}),s.qZA()}if(2&i){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,gz))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function Vue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onDownButtonMouseDown(a))})("mouseup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onDownButtonMouseLeave())})("keydown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onDownButtonKeyDown(a))})("keyup",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onDownButtonKeyUp())}),s.qZA()}if(2&i){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,mz))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Bue=function(i,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},Hue={provide:ws,useExisting:(0,s.Gpc)(()=>_z),multi:!0};let _z=(()=>{class i{constructor(e,o){this.el=e,this.cd=o,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(a=>!!e[a])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),o=new Map(e.map((a,l)=>[a,l]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=a=>o.get(a)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let a=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(a=this.prefix+a),this.suffix&&(a+=this.suffix),a}return e.toString()}return""}parseValue(e){let o=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(o){if("-"===o)return o;let a=+o;return isNaN(a)?null:a}return null}repeat(e,o,a){if(this.readonly)return;let l=o||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,a)},l),this.spin(e,a)}spin(e,o){let a=this.step*o,l=this.parseValue(this.input.nativeElement.value)||0,c=this.validateValue(l+a);this.maxlength&&this.maxlength<this.formatValue(c).length||(this.updateInput(c,null,"spin",null),this.updateModel(e,c),this.handleOnInput(e,l,c))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let o=e.target.selectionStart,a=e.target.selectionEnd,l=e.target.value,c=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(l.charAt(o-1))||e.preventDefault();break;case 39:this.isNumeralChar(l.charAt(o))||e.preventDefault();break;case 13:c=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(c),this.input.nativeElement.setAttribute("aria-valuenow",c),this.updateModel(e,c);break;case 8:if(e.preventDefault(),o===a){const g=l.charAt(o-1),{decimalCharIndex:_,decimalCharIndexWithoutPrefix:b}=this.getDecimalCharIndexes(l);if(this.isNumeralChar(g)){const T=this.getDecimalLength(l);if(this._group.test(g))this._group.lastIndex=0,c=l.slice(0,o-2)+l.slice(o-1);else if(this._decimal.test(g))this._decimal.lastIndex=0,T?this.input.nativeElement.setSelectionRange(o-1,o-1):c=l.slice(0,o-1)+l.slice(o);else if(_>0&&o>_){const D=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";c=l.slice(0,o-1)+D+l.slice(o)}else 1===b?(c=l.slice(0,o-1)+"0"+l.slice(o),c=this.parseValue(c)>0?c:""):c=l.slice(0,o-1)+l.slice(o)}this.updateValue(e,c,null,"delete-single")}else c=this.deleteRange(l,o,a),this.updateValue(e,c,null,"delete-range");break;case 46:if(e.preventDefault(),o===a){const g=l.charAt(o),{decimalCharIndex:_,decimalCharIndexWithoutPrefix:b}=this.getDecimalCharIndexes(l);if(this.isNumeralChar(g)){const T=this.getDecimalLength(l);if(this._group.test(g))this._group.lastIndex=0,c=l.slice(0,o)+l.slice(o+2);else if(this._decimal.test(g))this._decimal.lastIndex=0,T?this.input.nativeElement.setSelectionRange(o+1,o+1):c=l.slice(0,o)+l.slice(o+1);else if(_>0&&o>_){const D=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";c=l.slice(0,o)+D+l.slice(o+1)}else 1===b?(c=l.slice(0,o)+"0"+l.slice(o+1),c=this.parseValue(c)>0?c:""):c=l.slice(0,o)+l.slice(o+1)}this.updateValue(e,c,null,"delete-back-single")}else c=this.deleteRange(l,o,a),this.updateValue(e,c,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let o=e.which||e.keyCode,a=String.fromCharCode(o);const l=this.isDecimalSign(a),c=this.isMinusSign(a);(48<=o&&o<=57||c||l)&&this.insert(e,a,{isDecimalSign:l,isMinusSign:c})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let o=(e.clipboardData||window.clipboardData).getData("Text");if(o){let a=this.parseValue(o);null!=a&&this.insert(e,a.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let o=e.search(this._decimal);this._decimal.lastIndex=0;const l=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:o,decimalCharIndexWithoutPrefix:l}}getCharIndexes(e){const o=e.search(this._decimal);this._decimal.lastIndex=0;const a=e.search(this._minusSign);this._minusSign.lastIndex=0;const l=e.search(this._suffix);this._suffix.lastIndex=0;const c=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:o,minusCharIndex:a,suffixCharIndex:l,currencyCharIndex:c}}insert(e,o,a={isDecimalSign:!1,isMinusSign:!1}){const l=o.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==l)return;let c=this.input.nativeElement.selectionStart,g=this.input.nativeElement.selectionEnd,_=this.input.nativeElement.value.trim();const{decimalCharIndex:b,minusCharIndex:T,suffixCharIndex:D,currencyCharIndex:O}=this.getCharIndexes(_);let F;if(a.isMinusSign)0===c&&(F=_,(-1===T||0!==g)&&(F=this.insertText(_,o,0,g)),this.updateValue(e,F,o,"insert"));else if(a.isDecimalSign)b>0&&c===b?this.updateValue(e,_,o,"insert"):(b>c&&b<g||-1===b&&this.maxFractionDigits)&&(F=this.insertText(_,o,c,g),this.updateValue(e,F,o,"insert"));else{const j=this.numberFormat.resolvedOptions().maximumFractionDigits,X=c!==g?"range-insert":"insert";if(b>0&&c>b){if(c+o.length-(b+1)<=j){const se=O>=c?O-1:D>=c?D:_.length;F=_.slice(0,c)+o+_.slice(c+o.length,se)+_.slice(se),this.updateValue(e,F,o,X)}}else F=this.insertText(_,o,c,g),this.updateValue(e,F,o,X)}}insertText(e,o,a,l){if(2===("."===o?o:o.split(".")).length){const g=e.slice(a,l).search(this._decimal);return this._decimal.lastIndex=0,g>0?e.slice(0,a)+this.formatValue(o)+e.slice(l):e||this.formatValue(o)}return l-a===e.length?this.formatValue(o):0===a?o+e.slice(l):l===e.length?e.slice(0,a)+o:e.slice(0,a)+o+e.slice(l)}deleteRange(e,o,a){let l;return l=a-o===e.length?"":0===o?e.slice(a):a===e.length?e.slice(0,o):e.slice(0,o)+e.slice(a),l}initCursor(){let e=this.input.nativeElement.selectionStart,o=this.input.nativeElement.value,a=o.length,l=null,c=(this.prefixChar||"").length;o=o.replace(this._prefix,""),e-=c;let g=o.charAt(e);if(this.isNumeralChar(g))return e+c;let _=e-1;for(;_>=0;){if(g=o.charAt(_),this.isNumeralChar(g)){l=_+c;break}_--}if(null!==l)this.input.nativeElement.setSelectionRange(l+1,l+1);else{for(_=e;_<a;){if(g=o.charAt(_),this.isNumeralChar(g)){l=_+c;break}_++}null!==l&&this.input.nativeElement.setSelectionRange(l,l)}return l||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,o,a,l){let c=this.input.nativeElement.value,g=null;null!=o&&(g=this.parseValue(o),g=g||this.allowEmpty?g:0,this.updateInput(g,a,l,o),this.handleOnInput(e,c,g))}handleOnInput(e,o,a){this.isValueChanged(o,a)&&this.onInput.emit({originalEvent:e,value:a})}isValueChanged(e,o){return null===o&&null!==e||null!=o&&o!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,o,a,l){o=o||"";let c=this.input.nativeElement.value,g=this.formatValue(e),_=c.length;if(g!==l&&(g=this.concatValues(g,l)),0===_){this.input.nativeElement.value=g,this.input.nativeElement.setSelectionRange(0,0);const T=this.initCursor()+o.length;this.input.nativeElement.setSelectionRange(T,T)}else{let b=this.input.nativeElement.selectionStart,T=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<g.length)return;this.input.nativeElement.value=g;let D=g.length;if("range-insert"===a){const O=this.parseValue((c||"").slice(0,b)),j=(null!==O?O.toString():"").split("").join(`(${this.groupChar})?`),X=new RegExp(j,"g");X.test(g);const se=o.split("").join(`(${this.groupChar})?`),ke=new RegExp(se,"g");ke.test(g.slice(X.lastIndex)),T=X.lastIndex+ke.lastIndex,this.input.nativeElement.setSelectionRange(T,T)}else if(D===_)"insert"===a||"delete-back-single"===a?this.input.nativeElement.setSelectionRange(T+1,T+1):"delete-single"===a?this.input.nativeElement.setSelectionRange(T-1,T-1):("delete-range"===a||"spin"===a)&&this.input.nativeElement.setSelectionRange(T,T);else if("delete-back-single"===a){let O=c.charAt(T-1),F=c.charAt(T),j=_-D,X=this._group.test(F);X&&1===j?T+=1:!X&&this.isNumeralChar(O)&&(T+=-1*j+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(T,T)}else if("-"===c&&"insert"===a){this.input.nativeElement.setSelectionRange(0,0);const F=this.initCursor()+o.length+1;this.input.nativeElement.setSelectionRange(F,F)}else T+=D-_,this.input.nativeElement.setSelectionRange(T,T)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,o){if(e&&o){let a=o.search(this._decimal);return this._decimal.lastIndex=0,-1!==a?e.split(this._decimal)[0]+o.slice(a):e}return e}getDecimalLength(e){if(e){const o=e.split(this._decimal);if(2===o.length)return o[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let o=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,o){this.value!==o&&(this.value=o,this.onModelChange(o)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-inputNumber"]],viewQuery:function(e,o){if(1&e&&s.Gf(Pue,5),2&e){let a;s.iGM(a=s.CRH())&&(o.input=a.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,o){2&e&&s.ekj("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused)("p-inputnumber-clearable",o.showClear&&"vertical"!=o.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([Hue]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,o){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(l){return o.onUserInput(l)})("keydown",function(l){return o.onInputKeyDown(l)})("keypress",function(l){return o.onInputKeyPress(l)})("paste",function(l){return o.onPaste(l)})("click",function(){return o.onInputClick()})("focus",function(l){return o.onInputFocus(l)})("blur",function(l){return o.onInputBlur(l)}),s.qZA(),s.YNc(3,Nue,1,0,"i",3),s.YNc(4,Fue,3,12,"span",4),s.YNc(5,Lue,1,6,"button",5),s.YNc(6,Vue,1,6,"button",5),s.qZA()),2&e&&(s.Tol(o.styleClass),s.Q6J("ngClass",s.kEZ(28,Bue,o.showButtons&&"stacked"===o.buttonLayout,o.showButtons&&"horizontal"===o.buttonLayout,o.showButtons&&"vertical"===o.buttonLayout))("ngStyle",o.style),s.xp6(1),s.Tol(o.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",o.inputStyle)("value",o.formattedValue())("disabled",o.disabled)("readonly",o.readonly),s.uIk("placeholder",o.placeholder)("title",o.title)("id",o.inputId)("size",o.size)("name",o.name)("autocomplete",o.autocomplete)("maxlength",o.maxlength)("tabindex",o.tabindex)("aria-label",o.ariaLabel)("aria-required",o.ariaRequired)("required",o.required)("min",o.min)("max",o.max),s.xp6(2),s.Q6J("ngIf","vertical"!=o.buttonLayout&&o.showClear&&o.value),s.xp6(1),s.Q6J("ngIf",o.showButtons&&"stacked"===o.buttonLayout),s.xp6(1),s.Q6J("ngIf",o.showButtons&&"stacked"!==o.buttonLayout),s.xp6(1),s.Q6J("ngIf",o.showButtons&&"stacked"!==o.buttonLayout))},dependencies:[wr,zi,Rr,Rue,Uk],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),i})(),$2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,pz,KS]}),i})();function Uue(i,t){1&i&&s.GkF(0)}const W2=function(i){return{$implicit:i}};function jue(i,t){if(1&i&&(s.TgZ(0,"div",15),s.YNc(1,Uue,1,0,"ng-container",16),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,W2,e.paginatorState))}}function zue(i,t){if(1&i&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const zk=function(i){return{"p-disabled":i}};function Gue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.changePageToFirst(a))}),s._UZ(1,"span",19),s.qZA()}if(2&i){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,zk,e.isFirstPage()||e.empty()))}}const que=function(i){return{"p-highlight":i}};function Zue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(a){const c=s.CHM(e).$implicit,g=s.oxw(3);return s.KtG(g.onPageLinkClick(a,c-1))}),s._uU(1),s.qZA()}if(2&i){const e=t.$implicit,o=s.oxw(3);s.Q6J("ngClass",s.VKq(2,que,e-1==o.getPage())),s.xp6(1),s.Oqu(e)}}function $ue(i,t){if(1&i&&(s.TgZ(0,"span",20),s.YNc(1,Zue,2,4,"button",21),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function Wue(i,t){if(1&i&&s._uU(0),2&i){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function Yue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onPageDropdownChange(a))}),s.YNc(1,Wue,1,1,"ng-template",24),s.qZA()}if(2&i){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function Kue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.changePageToLast(a))}),s._UZ(1,"span",26),s.qZA()}if(2&i){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,zk,e.isLastPage()||e.empty()))}}function Jue(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.changePage(a-1))}),s.qZA()}if(2&i){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function Que(i,t){1&i&&s.GkF(0)}function Xue(i,t){if(1&i&&s.YNc(0,Que,1,0,"ng-container",16),2&i){const e=t.$implicit,o=s.oxw(4);s.Q6J("ngTemplateOutlet",o.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,W2,e))}}function ede(i,t){1&i&&(s.ynx(0),s.YNc(1,Xue,1,4,"ng-template",30),s.BQk())}function tde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.rows=a)})("onChange",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onRppChange(a))}),s.YNc(1,ede,2,0,"ng-container",29),s.qZA()}if(2&i){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function nde(i,t){1&i&&s.GkF(0)}function ide(i,t){if(1&i&&(s.TgZ(0,"div",31),s.YNc(1,nde,1,0,"ng-container",16),s.qZA()),2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,W2,e.paginatorState))}}function rde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,jue,2,4,"div",2),s.YNc(2,zue,2,1,"span",3),s.YNc(3,Gue,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.changePageToPrev(a))}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,$ue,2,1,"span",7),s.YNc(7,Yue,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.changePageToNext(a))}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,Kue,2,4,"button",11),s.YNc(11,Jue,1,2,"p-inputNumber",12),s.YNc(12,tde,2,6,"p-dropdown",13),s.YNc(13,ide,2,4,"div",14),s.qZA()}if(2&i){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,zk,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,zk,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let ode=(()=>{class i{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),o=Math.min(this.pageLinkSize,e),a=Math.max(0,Math.ceil(this.getPage()-o/2)),l=Math.min(e-1,a+o-1);return a=Math.max(0,a-(this.pageLinkSize-(l-a+1))),[a,l]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),a=e[1];for(let l=e[0];l<=a;l++)this.pageLinks.push(l+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let l=0;l<this.getPageCount();l++)this.pageItems.push({label:String(l+1),value:l})}}changePage(e){var o=this.getPageCount();if(e>=0&&e<o){this._first=this.rows*e;var a={page:e,first:this.first,rows:this.rows,pageCount:o};this.updatePageLinks(),this.onPageChange.emit(a),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,o){this.changePage(o),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,o){1&e&&s.YNc(0,rde,14,21,"div",0),2&e&&s.Q6J("ngIf",!!o.alwaysShow||o.pageLinks&&o.pageLinks.length>1)},dependencies:[wr,Ui,zi,lr,Rr,fz,Da,_z,E1,Jy,Zm],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),i})(),sde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,Z2,$2,M1,Tu,rg,Z2,$2,M1,Tu]}),i})();function ade(i,t){if(1&i&&s._UZ(0,"span",8),2&i){const e=s.oxw(2).$implicit;s.Tol(e.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function lde(i,t){if(1&i&&(s.ynx(0),s.YNc(1,ade,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&i){const e=s.oxw().$implicit,o=s.oxw();s.xp6(1),s.Q6J("ngIf",e.icon),s.xp6(2),s.Oqu(o.getOptionLabel(e))}}function cde(i,t){1&i&&s.GkF(0)}const ude=function(i,t){return{$implicit:i,index:t}};function dde(i,t){if(1&i&&s.YNc(0,cde,1,0,"ng-container",9),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw();s.Q6J("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",s.WLB(2,ude,o,a))}}const hde=function(i,t,e){return{"p-highlight":i,"p-disabled":t,"p-button-icon-only":e}};function fde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(a){const l=s.CHM(e),c=l.$implicit,g=l.index,_=s.oxw();return s.KtG(_.onItemClick(a,c,g))})("keydown.enter",function(a){const l=s.CHM(e),c=l.$implicit,g=l.index,_=s.oxw();return s.KtG(_.onItemClick(a,c,g))})("blur",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onBlur())}),s.YNc(2,lde,4,2,"ng-container",4),s.YNc(3,dde,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&i){const e=t.$implicit,o=s.MAs(4),a=s.oxw();s.Tol(e.styleClass),s.Q6J("ngClass",s.kEZ(10,hde,a.isSelected(e),a.disabled||a.isOptionDisabled(e),e.icon&&!a.getOptionLabel(e))),s.uIk("aria-pressed",a.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",a.disabled?null:a.tabindex)("aria-labelledby",a.getOptionLabel(e)),s.xp6(2),s.Q6J("ngIf",!a.itemTemplate)("ngIfElse",o)}}const pde={provide:ws,useExisting:(0,s.Gpc)(()=>gde),multi:!0};let gde=(()=>{class i{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new s.vpe,this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?Pn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?Pn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?Pn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,o,a){if(!this.disabled&&!this.isOptionDisabled(o)){if(this.multiple)this.isSelected(o)?this.removeOption(o):this.value=[...this.value||[],this.getOptionValue(o)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let l=this.getOptionValue(o);this.value!==l&&(this.value=this.getOptionValue(o),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:o,index:a})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(o=>!Pn.equals(o,this.getOptionValue(e),this.dataKey))}isSelected(e){let o=!1,a=this.getOptionValue(e);if(this.multiple){if(this.value)for(let l of this.value)if(Pn.equals(l,a,this.dataKey)){o=!0;break}}else o=Pn.equals(this.getOptionValue(e),this.value,this.dataKey);return o}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-selectButton"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,s.Rgc,5),2&e){let l;s.iGM(l=s.CRH())&&(o.itemTemplate=l.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([pde])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0),s.YNc(1,fde,5,14,"div",1),s.qZA()),2&e&&(s.Tol(o.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",o.style),s.xp6(1),s.Q6J("ngForOf",o.options))},dependencies:[wr,Ui,zi,lr,Rr,Zm],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),i})(),mde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,rg]}),i})();const _de=function(i,t,e){return{"p-checkbox-label-active":i,"p-disabled":t,"p-checkbox-label-focus":e}};function yde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"label",7),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw(),c=s.MAs(3);return s.KtG(l.onClick(a,c))}),s._uU(1),s.qZA()}if(2&i){const e=s.oxw();s.Q6J("ngClass",s.kEZ(3,_de,null!=e.value,e.disabled,e.focused)),s.uIk("for",e.inputId),s.xp6(1),s.Oqu(e.label)}}const vde=function(i,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":i,"p-checkbox-focused":t}},bde=function(i,t,e){return{"p-highlight":i,"p-disabled":t,"p-focus":e}},wde={provide:ws,useExisting:(0,s.Gpc)(()=>Cde),multi:!0};let Cde=(()=>{class i{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,o){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,o.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([wde])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,o){if(1&e){const a=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(c){return o.onKeyup(c)})("keydown",function(c){return o.onKeydown(c)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(c){s.CHM(a);const g=s.MAs(3);return s.KtG(o.onClick(c,g))}),s._UZ(5,"span",5),s.qZA()(),s.YNc(6,yde,2,7,"label",6)}2&e&&(s.Tol(o.styleClass),s.Q6J("ngStyle",o.style)("ngClass",s.WLB(14,vde,o.disabled,o.focused)),s.xp6(2),s.Q6J("name",o.name)("readonly",o.readonly)("disabled",o.disabled),s.uIk("id",o.inputId)("tabindex",o.tabindex)("aria-labelledby",o.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(17,bde,null!=o.value,o.disabled,o.focused)),s.uIk("aria-checked",!0===o.value),s.xp6(1),s.Q6J("ngClass",!0===o.value?o.checkboxTrueIcon:!1===o.value?o.checkboxFalseIcon:""),s.xp6(1),s.Q6J("ngIf",o.label))},dependencies:[wr,zi,Rr],encapsulation:2,changeDetection:0}),i})(),Tde=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn]}),i})();const Ede=["container"],xde=["inputfield"],Sde=["contentWrapper"];function Dde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.clear())}),s.qZA()}}function Ide(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(a){s.CHM(e),s.oxw();const l=s.MAs(1),c=s.oxw();return s.KtG(c.onButtonClick(a,l))}),s.qZA()}if(2&i){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function Mde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onInputFocus(a))})("keydown",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onInputKeydown(a))})("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.onInputClick())})("blur",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onInputBlur(a))})("input",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onUserInput(a))}),s.qZA(),s.YNc(2,Dde,1,0,"i",6),s.YNc(3,Ide,1,3,"button",7)}if(2&i){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function Ade(i,t){1&i&&s.GkF(0)}function kde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.onContainerButtonKeydown(a))})("click",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.onPrevButtonClick(a))}),s._UZ(1,"span",31),s.qZA()}}function Ode(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.switchToMonthView(a))})("keydown",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.onContainerButtonKeydown(a))}),s._uU(1),s.qZA()}if(2&i){const e=s.oxw().$implicit,o=s.oxw(3);s.Q6J("disabled",o.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",o.getMonthName(e.month)," ")}}function Rde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.switchToYearView(a))})("keydown",function(a){s.CHM(e);const l=s.oxw(4);return s.KtG(l.onContainerButtonKeydown(a))}),s._uU(1),s.qZA()}if(2&i){const e=s.oxw().$implicit,o=s.oxw(3);s.Q6J("disabled",o.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",o.getYear(e)," ")}}function Pde(i,t){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function Nde(i,t){1&i&&s.GkF(0)}const yz=function(i){return{$implicit:i}};function Fde(i,t){if(1&i&&(s.TgZ(0,"span",34),s.YNc(1,Pde,2,2,"ng-container",13),s.YNc(2,Nde,1,0,"ng-container",35),s.qZA()),2&i){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,yz,e.yearPickerValues))}}function Lde(i,t){if(1&i&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&i){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function Vde(i,t){if(1&i&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&i){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Bde(i,t){if(1&i&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&i){const e=s.oxw().index,o=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",o.weekNumbers[e]," ")}}function Hde(i,t){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function Ude(i,t){1&i&&s.GkF(0)}const jde=function(i,t){return{"p-highlight":i,"p-disabled":t}};function zde(i,t){if(1&i){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw().$implicit,c=s.oxw(6);return s.KtG(c.onDateSelect(a,l))})("keydown",function(a){s.CHM(e);const l=s.oxw().$implicit,c=s.oxw(3).index,g=s.oxw(3);return s.KtG(g.onDateCellKeydown(a,l,c))}),s.YNc(2,Hde,2,1,"ng-container",13),s.YNc(3,Ude,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&i){const e=s.oxw().$implicit,o=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,jde,o.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!o.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",o.dateTemplate)("ngTemplateOutletContext",s.VKq(7,yz,e))}}const Gde=function(i,t){return{"p-datepicker-other-month":i,"p-datepicker-today":t}};function qde(i,t){if(1&i&&(s.TgZ(0,"td",47),s.YNc(1,zde,4,9,"ng-container",13),s.qZA()),2&i){const e=t.$implicit,o=s.oxw(6);s.Q6J("ngClass",s.WLB(2,Gde,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||o.showOtherMonths)}}function Zde(i,t){if(1&i&&(s.TgZ(0,"tr"),s.YNc(1,Bde,3,1,"td",43),s.YNc(2,qde,2,5,"td",44),s.qZA()),2&i){const e=t.$implicit,o=s.oxw(5);s.xp6(1),s.Q6J("ngIf",o.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function $de(i,t){if(1&i&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,Lde,3,1,"th",38),s.YNc(5,Vde,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,Zde,3,2,"tr",40),s.qZA()()()),2&i){const e=s.oxw().$implicit,o=s.oxw(3);s.xp6(4),s.Q6J("ngIf",o.showWeek),s.xp6(1),s.Q6J("ngForOf",o.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function Wde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,kde,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,Ode,2,2,"button",24),s.YNc(5,Rde,2,2,"button",25),s.YNc(6,Fde,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onContainerButtonKeydown(a))})("click",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onNextButtonClick(a))}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,$de,8,3,"div",29),s.qZA()}if(2&i){const e=t.index,o=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===o.currentView),s.xp6(1),s.Q6J("ngIf","year"!==o.currentView),s.xp6(1),s.Q6J("ngIf","year"===o.currentView),s.xp6(1),s.Udp("display",1===o.numberOfMonths||e===o.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===o.currentView)}}const vz=function(i){return{"p-highlight":i}};function Yde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(a){const c=s.CHM(e).index,g=s.oxw(4);return s.KtG(g.onMonthSelect(a,c))})("keydown",function(a){const c=s.CHM(e).index,g=s.oxw(4);return s.KtG(g.onMonthCellKeydown(a,c))}),s._uU(1),s.qZA()}if(2&i){const e=t.$implicit,o=t.index,a=s.oxw(4);s.Q6J("ngClass",s.VKq(2,vz,a.isMonthSelected(o))),s.xp6(1),s.hij(" ",e," ")}}function Kde(i,t){if(1&i&&(s.TgZ(0,"div",49),s.YNc(1,Yde,2,4,"span",50),s.qZA()),2&i){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}function Jde(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(a){const c=s.CHM(e).$implicit,g=s.oxw(4);return s.KtG(g.onYearSelect(a,c))})("keydown",function(a){const c=s.CHM(e).$implicit,g=s.oxw(4);return s.KtG(g.onYearCellKeydown(a,c))}),s._uU(1),s.qZA()}if(2&i){const e=t.$implicit,o=s.oxw(4);s.Q6J("ngClass",s.VKq(2,vz,o.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function Qde(i,t){if(1&i&&(s.TgZ(0,"div",52),s.YNc(1,Jde,2,4,"span",53),s.qZA()),2&i){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function Xde(i,t){if(1&i&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,Wde,10,7,"div",17),s.qZA(),s.YNc(3,Kde,2,1,"div",18),s.YNc(4,Qde,2,1,"div",19),s.BQk()),2&i){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function ehe(i,t){1&i&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function the(i,t){1&i&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function nhe(i,t){if(1&i&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&i){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function ihe(i,t){1&i&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function rhe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onContainerButtonKeydown(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.incrementSecond(a))})("keydown.space",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.incrementSecond(a))})("mousedown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseDown(a,2,1))})("mouseup",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.enter",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.space",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseUp(a))})("mouseleave",function(){s.CHM(e);const a=s.oxw(3);return s.KtG(a.onTimePickerElementMouseLeave())}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,ihe,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onContainerButtonKeydown(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.decrementSecond(a))})("keydown.space",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.decrementSecond(a))})("mousedown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseDown(a,2,-1))})("mouseup",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.enter",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.space",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onTimePickerElementMouseUp(a))})("mouseleave",function(){s.CHM(e);const a=s.oxw(3);return s.KtG(a.onTimePickerElementMouseLeave())}),s._UZ(7,"span",59),s.qZA()()}if(2&i){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function ohe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onContainerButtonKeydown(a))})("click",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.toggleAMPM(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.toggleAMPM(a))}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.onContainerButtonKeydown(a))})("click",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.toggleAMPM(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(3);return s.KtG(l.toggleAMPM(a))}),s._UZ(6,"span",59),s.qZA()()}if(2&i){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function she(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onContainerButtonKeydown(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.incrementHour(a))})("keydown.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.incrementHour(a))})("mousedown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseDown(a,0,1))})("mouseup",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("mouseleave",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.onTimePickerElementMouseLeave())}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,ehe,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onContainerButtonKeydown(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.decrementHour(a))})("keydown.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.decrementHour(a))})("mousedown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseDown(a,0,-1))})("mouseup",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("mouseleave",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.onTimePickerElementMouseLeave())}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onContainerButtonKeydown(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.incrementMinute(a))})("keydown.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.incrementMinute(a))})("mousedown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseDown(a,1,1))})("mouseup",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("mouseleave",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.onTimePickerElementMouseLeave())}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,the,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onContainerButtonKeydown(a))})("keydown.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.decrementMinute(a))})("keydown.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.decrementMinute(a))})("mousedown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseDown(a,1,-1))})("mouseup",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.enter",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("keyup.space",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTimePickerElementMouseUp(a))})("mouseleave",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.onTimePickerElementMouseLeave())}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,nhe,3,1,"div",62),s.YNc(21,rhe,8,2,"div",63),s.YNc(22,ohe,7,1,"div",64),s.qZA()}if(2&i){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const bz=function(i){return[i]};function ahe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onContainerButtonKeydown(a))})("click",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onTodayButtonClick(a))}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onContainerButtonKeydown(a))})("click",function(a){s.CHM(e);const l=s.oxw(2);return s.KtG(l.onClearButtonClick(a))}),s.qZA()()}if(2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,bz,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,bz,e.clearButtonStyleClass))}}function lhe(i,t){1&i&&s.GkF(0)}const che=function(i,t,e,o,a,l){return{"p-datepicker p-component":!0,"p-datepicker-inline":i,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":o,"p-datepicker-monthpicker":a,"p-datepicker-touch-ui":l}},wz=function(i,t){return{showTransitionParams:i,hideTransitionParams:t}},uhe=function(i){return{value:"visibleTouchUI",params:i}},dhe=function(i){return{value:"visible",params:i}};function hhe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onOverlayAnimationStart(a))})("@overlayAnimation.done",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onOverlayAnimationDone(a))})("click",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onOverlayClick(a))}),s.Hsn(2),s.YNc(3,Ade,1,0,"ng-container",12),s.YNc(4,Xde,5,3,"ng-container",13),s.YNc(5,she,23,8,"div",14),s.YNc(6,ahe,3,8,"div",15),s.Hsn(7,1),s.YNc(8,lhe,1,0,"ng-container",12),s.qZA()}if(2&i){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,che,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,uhe,s.WLB(18,wz,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,dhe,s.WLB(23,wz,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const fhe=[[["p-header"]],[["p-footer"]]],phe=function(i,t,e,o){return{"p-calendar":!0,"p-calendar-w-btn":i,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":o}},ghe=["p-header","p-footer"],mhe={provide:ws,useExisting:(0,s.Gpc)(()=>_he),multi:!0};let _he=(()=>{class i{constructor(e,o,a,l,c,g){this.el=e,this.renderer=o,this.cd=a,this.zone=l,this.config=c,this.overlayService=g,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(_,b){return"12"==this.hourFormat?12===_?b?12:0:b?_+12:_:_}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const o=e||new Date;this.currentMonth=o.getMonth(),this.currentYear=o.getFullYear(),this.initTime(o),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const o=e.split(":"),a=parseInt(o[0]),l=parseInt(o[1]);this.populateYearOptions(a,l)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=T1();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=Le.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,o){this.yearOptions=[];for(let a=e;a<=o;a++)this.yearOptions.push(a)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),o=this.getTranslation(Dd.DAY_NAMES_MIN);for(let a=0;a<7;a++)this.weekDays.push(o[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let o=0;o<=11;o++)e.push(this.config.getTranslation("monthNamesShort")[o]);return e}yearPickerValues(){let e=[],o=this.currentYear-this.currentYear%10;for(let a=0;a<10;a++)e.push(o+a);return e}createMonths(e,o){this.months=this.months=[];for(let a=0;a<this.numberOfMonths;a++){let l=e+a,c=o;l>11&&(l=l%11-1,c=o+1),this.months.push(this.createMonth(l,c))}}getWeekNumber(e){let o=new Date(e.getTime());o.setDate(o.getDate()+4-(o.getDay()||7));let a=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((a-o.getTime())/864e5)/7)+1}createMonth(e,o){let a=[],l=this.getFirstDayOfMonthIndex(e,o),c=this.getDaysCountInMonth(e,o),g=this.getDaysCountInPrevMonth(e,o),_=1,b=new Date,T=[],D=Math.ceil((c+l)/7);for(let O=0;O<D;O++){let F=[];if(0==O){for(let X=g-l+1;X<=g;X++){let se=this.getPreviousMonthAndYear(e,o);F.push({day:X,month:se.month,year:se.year,otherMonth:!0,today:this.isToday(b,X,se.month,se.year),selectable:this.isSelectable(X,se.month,se.year,!0)})}let j=7-F.length;for(let X=0;X<j;X++)F.push({day:_,month:e,year:o,today:this.isToday(b,_,e,o),selectable:this.isSelectable(_,e,o,!1)}),_++}else for(let j=0;j<7;j++){if(_>c){let X=this.getNextMonthAndYear(e,o);F.push({day:_-c,month:X.month,year:X.year,otherMonth:!0,today:this.isToday(b,_-c,X.month,X.year),selectable:this.isSelectable(_-c,X.month,X.year,!0)})}else F.push({day:_,month:e,year:o,today:this.isToday(b,_,e,o),selectable:this.isSelectable(_,e,o,!1)});_++}this.showWeek&&T.push(this.getWeekNumber(new Date(F[0].year,F[0].month,F[0].day))),a.push(F)}return{month:e,year:o,dates:a,weekNumbers:T}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,o){!this.disabled&&o.selectable?(this.isMultipleSelection()&&this.isSelected(o)?(this.value=this.value.filter((a,l)=>!this.isDateEquals(a,o)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(o)&&this.selectDate(o),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,o){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:o,day:1,selectable:!0}):(this.currentMonth=o,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,o){"year"===this.view?this.onDateSelect(e,{year:o,month:0,day:1,selectable:!0}):(this.currentYear=o,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let o=0;o<this.value.length;o++)e+=this.formatDateTime(this.value[o]),o!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let a=this.value[1];e=this.formatDateTime(this.value[0]),a&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(a))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let o=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?o=this.formatTime(e):(o=this.formatDate(e,this.getDateFormat()),this.showTime&&(o+=" "+this.formatTime(e)))),o}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let o=new Date(e.year,e.month,e.day);if(this.showTime&&(o.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),o.setMinutes(this.currentMinute),o.setSeconds(this.currentSecond)),this.minDate&&this.minDate>o&&(o=this.minDate,this.setCurrentHourPM(o.getHours()),this.currentMinute=o.getMinutes(),this.currentSecond=o.getSeconds()),this.maxDate&&this.maxDate<o&&(o=this.maxDate,this.setCurrentHourPM(o.getHours()),this.currentMinute=o.getMinutes(),this.currentSecond=o.getSeconds()),this.isSingleSelection())this.updateModel(o);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,o]:[o]);else if(this.isRangeSelection())if(this.value&&this.value.length){let a=this.value[0],l=this.value[1];!l&&o.getTime()>=a.getTime()?l=o:(a=o,l=null),this.updateModel([a,l])}else this.updateModel([o,null]);this.onSelect.emit(o)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let o=null;this.value&&(o=this.value.map(a=>this.formatDateTime(a))),this.onModelChange(o)}}getFirstDayOfMonthIndex(e,o){let a=new Date;a.setDate(1),a.setMonth(e),a.setFullYear(o);let l=a.getDay()+this.getSundayIndex();return l>=7?l-7:l}getDaysCountInMonth(e,o){return 32-this.daylightSavingAdjust(new Date(o,e,32)).getDate()}getDaysCountInPrevMonth(e,o){let a=this.getPreviousMonthAndYear(e,o);return this.getDaysCountInMonth(a.month,a.year)}getPreviousMonthAndYear(e,o){let a,l;return 0===e?(a=11,l=o-1):(a=e-1,l=o),{month:a,year:l}}getNextMonthAndYear(e,o){let a,l;return 11===e?(a=0,l=o+1):(a=e+1,l=o),{month:a,year:l}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let o=!1;for(let a of this.value)if(o=this.isDateEquals(a,e),o)break;return o}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let o=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&o.getMonth()===e&&o.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let o=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&o.getFullYear()===e}return!1}isDateEquals(e,o){return!!(e&&e instanceof Date)&&e.getDate()===o.day&&e.getMonth()===o.month&&e.getFullYear()===o.year}isDateBetween(e,o,a){if(e&&o){let c=new Date(a.year,a.month,a.day);return e.getTime()<=c.getTime()&&o.getTime()>=c.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,o,a,l){return e.getDate()===o&&e.getMonth()===a&&e.getFullYear()===l}isSelectable(e,o,a,l){let c=!0,g=!0,_=!0,b=!0;return!(l&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>a||this.minDate.getFullYear()===a&&(this.minDate.getMonth()>o||this.minDate.getMonth()===o&&this.minDate.getDate()>e))&&(c=!1),this.maxDate&&(this.maxDate.getFullYear()<a||this.maxDate.getFullYear()===a&&(this.maxDate.getMonth()<o||this.maxDate.getMonth()===o&&this.maxDate.getDate()<e))&&(g=!1),this.disabledDates&&(_=!this.isDateDisabled(e,o,a)),this.disabledDays&&(b=!this.isDayDisabled(e,o,a)),c&&g&&_&&b)}isDateDisabled(e,o,a){if(this.disabledDates)for(let l of this.disabledDates)if(l.getFullYear()===a&&l.getMonth()===o&&l.getDate()===e)return!0;return!1}isDayDisabled(e,o,a){if(this.disabledDays){let c=new Date(a,o,e).getDay();return-1!==this.disabledDays.indexOf(c)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,o){this.overlayVisible?this.hideOverlay():(o.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(Le.getFocusableElements(this.contentViewChild.nativeElement).forEach(o=>o.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,o,a){const l=e.currentTarget,c=l.parentElement;switch(e.which){case 40:{l.tabIndex="-1";let g=Le.index(c),_=c.parentElement.nextElementSibling;_?Le.hasClass(_.children[g].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(_.children[g].children[0].tabIndex="0",_.children[g].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{l.tabIndex="-1";let g=Le.index(c),_=c.parentElement.previousElementSibling;if(_){let b=_.children[g].children[0];Le.hasClass(b,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(b.tabIndex="0",b.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{l.tabIndex="-1";let g=c.previousElementSibling;if(g){let _=g.children[0];Le.hasClass(_,"p-disabled")||Le.hasClass(_.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,a):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!0,a);e.preventDefault();break}case 39:{l.tabIndex="-1";let g=c.nextElementSibling;if(g){let _=g.children[0];Le.hasClass(_,"p-disabled")?this.navigateToMonth(!1,a):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!1,a);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,o),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,o){const a=e.currentTarget;switch(e.which){case 38:case 40:{a.tabIndex="-1";var l=a.parentElement.children,c=Le.index(a);let g=l[40===e.which?c+3:c-3];g&&(g.tabIndex="0",g.focus()),e.preventDefault();break}case 37:{a.tabIndex="-1";let g=a.previousElementSibling;g?(g.tabIndex="0",g.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{a.tabIndex="-1";let g=a.nextElementSibling;g?(g.tabIndex="0",g.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,o),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,o){const a=e.currentTarget;switch(e.which){case 38:case 40:{a.tabIndex="-1";var l=a.parentElement.children,c=Le.index(a);let g=l[40===e.which?c+2:c-2];g&&(g.tabIndex="0",g.focus()),e.preventDefault();break}case 37:{a.tabIndex="-1";let g=a.previousElementSibling;g?(g.tabIndex="0",g.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{a.tabIndex="-1";let g=a.nextElementSibling;g?(g.tabIndex="0",g.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,o),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,o){if(e)if(1===this.numberOfMonths||0===o)this.navigationState={backward:!0},this.navBackward(event);else{let l=Le.find(this.contentViewChild.nativeElement.children[o-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),c=l[l.length-1];c.tabIndex="0",c.focus()}else if(1===this.numberOfMonths||o===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let l=Le.findSingle(this.contentViewChild.nativeElement.children[o+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");l.tabIndex="0",l.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let o;o=Le.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),o&&o.length>0&&(e=o[o.length-1])}else e=Le.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let o=Le.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),a=Le.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");o.forEach(l=>l.tabIndex=-1),e=a||o[0],0===o.length&&Le.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if("year"===this.currentView){let o=Le.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),a=Le.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");o.forEach(l=>l.tabIndex=-1),e=a||o[0],0===o.length&&Le.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(c=>c.tabIndex=-1)}else if(e=Le.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let o=Le.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=o||Le.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let o=Le.getFocusableElements(this.contentViewChild.nativeElement);if(o&&o.length>0)if(o[0].ownerDocument.activeElement){let a=o.indexOf(o[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==a||0===a)if(this.focusTrap)o[o.length-1].focus();else{if(-1===a)return this.hideOverlay();if(0===a)return}else o[a-1].focus();else if(-1==a||a===o.length-1){if(!this.focusTrap&&-1!=a)return this.hideOverlay();o[0].focus()}else o[a+1].focus()}else o[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,o,a,l){let c=this.value;const g=this.convertTo24Hour(e,l);this.isRangeSelection()&&(c=this.value[1]||this.value[0]),this.isMultipleSelection()&&(c=this.value[this.value.length-1]);const _=c?c.toDateString():null;return!(this.minDate&&_&&this.minDate.toDateString()===_&&(this.minDate.getHours()>g||this.minDate.getHours()===g&&(this.minDate.getMinutes()>o||this.minDate.getMinutes()===o&&this.minDate.getSeconds()>a))||this.maxDate&&_&&this.maxDate.toDateString()===_&&(this.maxDate.getHours()<g||this.maxDate.getHours()===g&&(this.maxDate.getMinutes()<o||this.maxDate.getMinutes()===o&&this.maxDate.getSeconds()<a)))}incrementHour(e){let a=this.currentHour+this.stepHour,l=this.pm;"24"==this.hourFormat?a=a>=24?a-24:a:"12"==this.hourFormat&&(this.currentHour<12&&a>11&&(l=!this.pm),a=a>=13?a-12:a),this.validateTime(a,this.currentMinute,this.currentSecond,l)&&(this.currentHour=a,this.pm=l),e.preventDefault()}onTimePickerElementMouseDown(e,o,a){this.disabled||(this.repeat(e,null,o,a),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,o,a,l){let c=o||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,a,l),this.cd.markForCheck()},c),a){case 0:1===l?this.incrementHour(e):this.decrementHour(e);break;case 1:1===l?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===l?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let o=this.currentHour-this.stepHour,a=this.pm;"24"==this.hourFormat?o=o<0?24+o:o:"12"==this.hourFormat&&(12===this.currentHour&&(a=!this.pm),o=o<=0?12+o:o),this.validateTime(o,this.currentMinute,this.currentSecond,a)&&(this.currentHour=o,this.pm=a),e.preventDefault()}incrementMinute(e){let o=this.currentMinute+this.stepMinute;o=o>59?o-60:o,this.validateTime(this.currentHour,o,this.currentSecond,this.pm)&&(this.currentMinute=o),e.preventDefault()}decrementMinute(e){let o=this.currentMinute-this.stepMinute;o=o<0?60+o:o,this.validateTime(this.currentHour,o,this.currentSecond,this.pm)&&(this.currentMinute=o),e.preventDefault()}incrementSecond(e){let o=this.currentSecond+this.stepSecond;o=o>59?o-60:o,this.validateTime(this.currentHour,this.currentMinute,o,this.pm)&&(this.currentSecond=o),e.preventDefault()}decrementSecond(e){let o=this.currentSecond-this.stepSecond;o=o<0?60+o:o,this.validateTime(this.currentHour,this.currentMinute,o,this.pm)&&(this.currentSecond=o),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const o=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,o)&&(this.pm=o,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let o=e.target.value;try{let a=this.parseValueFromString(o);this.isValidSelection(a)&&(this.updateModel(a),this.updateUI())}catch{this.updateModel(this.keepInvalid?o:null)}this.filled=null!=o&&o.length,this.onInput.emit(e)}isValidSelection(e){let o=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(o=!1):e.every(a=>this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1))&&this.isRangeSelection()&&(o=e.length>1&&e[1]>e[0]),o}parseValueFromString(e){if(!e||0===e.trim().length)return null;let o;if(this.isSingleSelection())o=this.parseDateTime(e);else if(this.isMultipleSelection()){let a=e.split(this.multipleSeparator);o=[];for(let l of a)o.push(this.parseDateTime(l.trim()))}else if(this.isRangeSelection()){let a=e.split(" "+this.rangeSeparator+" ");o=[];for(let l=0;l<a.length;l++)o[l]=this.parseDateTime(a[l].trim())}return o}parseDateTime(e){let o,a=e.split(" ");if(this.timeOnly)o=new Date,this.populateTime(o,a[0],a[1]);else{const l=this.getDateFormat();if(this.showTime){let c="12"==this.hourFormat?a.pop():null,g=a.pop();o=this.parseDate(a.join(" "),l),this.populateTime(o,g,c)}else o=this.parseDate(e,l)}return o}populateTime(e,o,a){if("12"==this.hourFormat&&!a)throw"Invalid Time";this.pm="PM"===a||"pm"===a;let l=this.parseTime(o);e.setHours(l.hour),e.setMinutes(l.minute),e.setSeconds(l.second)}isValidDate(e){return e instanceof Date&&Pn.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let o=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=o.getMonth(),this.currentYear=o.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(o.getHours()),this.currentMinute=o.getMinutes(),this.currentSecond=o.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Ys.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Ys.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Ys.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Le.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=Le.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=Le.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=Le.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",Le.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):Le.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),Le.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",a=>{this.disableModality()}),document.body.appendChild(this.mask),Le.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Le.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let o,e=document.body.children;for(let a=0;a<e.length;a++)if(Le.hasClass(e[a],"p-datepicker-mask-scrollblocker")){o=!0;break}o||Le.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Dd.FIRST_DAY_OF_WEEK)}formatDate(e,o){if(!e)return"";let a;const l=T=>{const D=a+1<o.length&&o.charAt(a+1)===T;return D&&a++,D},c=(T,D,O)=>{let F=""+D;if(l(T))for(;F.length<O;)F="0"+F;return F},g=(T,D,O,F)=>l(T)?F[D]:O[D];let _="",b=!1;if(e)for(a=0;a<o.length;a++)if(b)"'"!==o.charAt(a)||l("'")?_+=o.charAt(a):b=!1;else switch(o.charAt(a)){case"d":_+=c("d",e.getDate(),2);break;case"D":_+=g("D",e.getDay(),this.getTranslation(Dd.DAY_NAMES_SHORT),this.getTranslation(Dd.DAY_NAMES));break;case"o":_+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":_+=c("m",e.getMonth()+1,2);break;case"M":_+=g("M",e.getMonth(),this.getTranslation(Dd.MONTH_NAMES_SHORT),this.getTranslation(Dd.MONTH_NAMES));break;case"y":_+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":_+=e.getTime();break;case"!":_+=1e4*e.getTime()+this.ticksTo1970;break;case"'":l("'")?_+="'":b=!0;break;default:_+=o.charAt(a)}return _}formatTime(e){if(!e)return"";let o="",a=e.getHours(),l=e.getMinutes(),c=e.getSeconds();return"12"==this.hourFormat&&a>11&&12!=a&&(a-=12),o+="12"==this.hourFormat&&0===a?12:a<10?"0"+a:a,o+=":",o+=l<10?"0"+l:l,this.showSeconds&&(o+=":",o+=c<10?"0"+c:c),"12"==this.hourFormat&&(o+=e.getHours()>11?" PM":" AM"),o}parseTime(e){let o=e.split(":");if(o.length!==(this.showSeconds?3:2))throw"Invalid time";let l=parseInt(o[0]),c=parseInt(o[1]),g=this.showSeconds?parseInt(o[2]):null;if(isNaN(l)||isNaN(c)||l>23||c>59||"12"==this.hourFormat&&l>12||this.showSeconds&&(isNaN(g)||g>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==l&&this.pm?l+=12:!this.pm&&12===l&&(l-=12)),{hour:l,minute:c,second:g}}parseDate(e,o){if(null==o||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let a,l,c,j,g=0,_="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),b=-1,T=-1,D=-1,O=-1,F=!1,X=ft=>{let ht=a+1<o.length&&o.charAt(a+1)===ft;return ht&&a++,ht},se=ft=>{let ht=X(ft),Ht="@"===ft?14:"!"===ft?20:"y"===ft&&ht?4:"o"===ft?3:2,wn=new RegExp("^\\d{"+("y"===ft?Ht:1)+","+Ht+"}"),Vn=e.substring(g).match(wn);if(!Vn)throw"Missing number at position "+g;return g+=Vn[0].length,parseInt(Vn[0],10)},ke=(ft,ht,Ht)=>{let qt=-1,wn=X(ft)?Ht:ht,Vn=[];for(let _i=0;_i<wn.length;_i++)Vn.push([_i,wn[_i]]);Vn.sort((_i,Ji)=>-(_i[1].length-Ji[1].length));for(let _i=0;_i<Vn.length;_i++){let Ji=Vn[_i][1];if(e.substr(g,Ji.length).toLowerCase()===Ji.toLowerCase()){qt=Vn[_i][0],g+=Ji.length;break}}if(-1!==qt)return qt+1;throw"Unknown name at position "+g},We=()=>{if(e.charAt(g)!==o.charAt(a))throw"Unexpected literal at position "+g;g++};for("month"===this.view&&(D=1),a=0;a<o.length;a++)if(F)"'"!==o.charAt(a)||X("'")?We():F=!1;else switch(o.charAt(a)){case"d":D=se("d");break;case"D":ke("D",this.getTranslation(Dd.DAY_NAMES_SHORT),this.getTranslation(Dd.DAY_NAMES));break;case"o":O=se("o");break;case"m":T=se("m");break;case"M":T=ke("M",this.getTranslation(Dd.MONTH_NAMES_SHORT),this.getTranslation(Dd.MONTH_NAMES));break;case"y":b=se("y");break;case"@":j=new Date(se("@")),b=j.getFullYear(),T=j.getMonth()+1,D=j.getDate();break;case"!":j=new Date((se("!")-this.ticksTo1970)/1e4),b=j.getFullYear(),T=j.getMonth()+1,D=j.getDate();break;case"'":X("'")?We():F=!0;break;default:We()}if(g<e.length&&(c=e.substr(g),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===b?b=(new Date).getFullYear():b<100&&(b+=(new Date).getFullYear()-(new Date).getFullYear()%100+(b<=_?0:-100)),O>-1)for(T=1,D=O;l=this.getDaysCountInMonth(b,T-1),!(D<=l);)T++,D-=l;if("year"===this.view&&(T=-1===T?1:T,D=-1===D?1:D),j=this.daylightSavingAdjust(new Date(b,T-1,D)),j.getFullYear()!==b||j.getMonth()+1!==T||j.getDate()!==D)throw"Invalid date";return j}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let o=new Date,a={day:o.getDate(),month:o.getMonth(),year:o.getFullYear(),otherMonth:o.getMonth()!==this.currentMonth||o.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,a),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let o=[...this.responsiveOptions].filter(a=>!(!a.breakpoint||!a.numMonths)).sort((a,l)=>-1*a.breakpoint.localeCompare(l.breakpoint,void 0,{numeric:!0}));for(let a=0;a<o.length;a++){let{breakpoint:l,numMonths:c}=o[a],g=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${c}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let _=c;_<this.numberOfMonths;_++)g+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${_+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${l}) {\n                            ${g}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",o=>{this.isOutsideClicked(o)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(o),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Hk(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return Le.hasClass(e.target,"p-datepicker-prev")||Le.hasClass(e.target,"p-datepicker-prev-icon")||Le.hasClass(e.target,"p-datepicker-next")||Le.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Le.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Ys.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(nf),s.Y36(QM))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-calendar"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,Da,4),2&e){let l;s.iGM(l=s.CRH())&&(o.templates=l)}},viewQuery:function(e,o){if(1&e&&(s.Gf(Ede,5),s.Gf(xde,5),s.Gf(Sde,5)),2&e){let a;s.iGM(a=s.CRH())&&(o.containerViewChild=a.first),s.iGM(a=s.CRH())&&(o.inputfieldViewChild=a.first),s.iGM(a=s.CRH())&&(o.content=a.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,o){2&e&&s.ekj("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focus)("p-calendar-clearable",o.showClear&&!o.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([mhe])],ngContentSelectors:ghe,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,o){1&e&&(s.F$t(fhe),s.TgZ(0,"span",0,1),s.YNc(2,Mde,4,17,"ng-template",2),s.YNc(3,hhe,9,28,"div",3),s.qZA()),2&e&&(s.Tol(o.styleClass),s.Q6J("ngClass",s.l5B(6,phe,o.showIcon,o.timeOnly,o.disabled,o.focus))("ngStyle",o.style),s.xp6(2),s.Q6J("ngIf",!o.inline),s.xp6(1),s.Q6J("ngIf",o.inline||o.overlayVisible))},dependencies:[wr,Ui,zi,lr,Rr,Uk,Zm],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Ks("overlayAnimation",[to("visibleTouchUI",Kn({transform:"translate(-50%,-50%)",opacity:1})),nr("void => visible",[Kn({opacity:0,transform:"scaleY(0.8)"}),yr("{{showTransitionParams}}",Kn({opacity:1,transform:"*"}))]),nr("visible => void",[yr("{{hideTransitionParams}}",Kn({opacity:0}))]),nr("void => visibleTouchUI",[Kn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),yr("{{showTransitionParams}}")]),nr("visibleTouchUI => void",[yr("{{hideTransitionParams}}",Kn({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),i})(),yhe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,KS,Tu,rg,KS,Tu]}),i})();const vhe=["container"],bhe=["resizeHelper"],whe=["reorderIndicatorUp"],Che=["reorderIndicatorDown"],The=["wrapper"],Ehe=["table"],xhe=["tableHeader"],She=["scroller"];function Dhe(i,t){if(1&i&&(s.TgZ(0,"div",15),s._UZ(1,"i"),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function Ihe(i,t){1&i&&s.GkF(0)}function Mhe(i,t){if(1&i&&(s.TgZ(0,"div",16),s.YNc(1,Ihe,1,0,"ng-container",17),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.captionTemplate)}}function Ahe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-paginator",18),s.NdJ("onPageChange",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onPageChange(a))}),s.qZA()}if(2&i){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function khe(i,t){1&i&&s.GkF(0)}const Cz=function(i,t){return{$implicit:i,options:t}};function Ohe(i,t){if(1&i&&s.YNc(0,khe,1,0,"ng-container",22),2&i){const e=t.$implicit,o=t.options;s.oxw(2);const a=s.MAs(10);s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.WLB(2,Cz,e,o))}}const Rhe=function(i){return{height:i}};function Phe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-scroller",19,20),s.NdJ("onLazyLoad",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onLazyItemLoad(a))}),s.YNc(2,Ohe,1,5,"ng-template",21),s.qZA()}if(2&i){const e=s.oxw();s.Akn(s.VKq(12,Rhe,"flex"!==e.scrollHeight?e.scrollHeight:void 0)),s.Q6J("items",e.processedData)("columns",e.columns)("scrollHeight","flex"!==e.scrollHeight?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualRowHeight)("delay",e.lazy?e.virtualScrollDelay:0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate)("options",e.virtualScrollOptions)}}function Nhe(i,t){1&i&&s.GkF(0)}const Fhe=function(i){return{columns:i}};function Lhe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,Nhe,1,0,"ng-container",22),s.BQk()),2&i){const e=s.oxw(),o=s.MAs(10);s.xp6(1),s.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",s.WLB(4,Cz,e.processedData,s.VKq(2,Fhe,e.columns)))}}function Vhe(i,t){1&i&&s.GkF(0)}function Bhe(i,t){1&i&&s.GkF(0)}function Hhe(i,t){if(1&i&&s._UZ(0,"tbody",29),2&i){const e=s.oxw().options,o=s.oxw();s.Q6J("value",o.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",o.frozenBodyTemplate)("frozen",!0)}}function Uhe(i,t){1&i&&s.GkF(0)}const eD=function(i){return{$implicit:i}};function jhe(i,t){if(1&i&&(s.TgZ(0,"tfoot",30),s.YNc(1,Uhe,1,0,"ng-container",22),s.qZA()),2&i){const e=s.oxw().options,o=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",o.footerGroupedTemplate||o.footerTemplate)("ngTemplateOutletContext",s.VKq(2,eD,e.columns))}}function zhe(i,t){if(1&i&&(s.TgZ(0,"table",23,24),s.YNc(2,Vhe,1,0,"ng-container",22),s.TgZ(3,"thead",25),s.YNc(4,Bhe,1,0,"ng-container",22),s.qZA(),s.YNc(5,Hhe,1,5,"tbody",26),s._UZ(6,"tbody",27),s.YNc(7,jhe,2,4,"tfoot",28),s.qZA()),2&i){const e=t.options,o=s.oxw();s.Akn(e.spacerStyle),s.Q6J("ngClass",o.tableStyleClass)("ngStyle",o.tableStyle),s.uIk("id",o.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",o.colGroupTemplate)("ngTemplateOutletContext",s.VKq(18,eD,e.columns)),s.xp6(2),s.Q6J("ngTemplateOutlet",o.headerGroupedTemplate||o.headerTemplate)("ngTemplateOutletContext",s.VKq(20,eD,e.columns)),s.xp6(1),s.Q6J("ngIf",o.frozenValue||o.frozenBodyTemplate),s.xp6(1),s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass)("value",o.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",o.bodyTemplate)("scrollerOptions",e),s.xp6(1),s.Q6J("ngIf",o.footerGroupedTemplate||o.footerTemplate)}}function Ghe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-paginator",31),s.NdJ("onPageChange",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onPageChange(a))}),s.qZA()}if(2&i){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function qhe(i,t){1&i&&s.GkF(0)}function Zhe(i,t){if(1&i&&(s.TgZ(0,"div",32),s.YNc(1,qhe,1,0,"ng-container",17),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function $he(i,t){1&i&&s._UZ(0,"div",33,34)}function Whe(i,t){1&i&&s._UZ(0,"span",35,36)}function Yhe(i,t){1&i&&s._UZ(0,"span",37,38)}const Khe=function(i,t,e,o,a,l,c,g,_,b,T,D,O,F){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":i,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":o,"p-datatable-scrollable":a,"p-datatable-scrollable-vertical":l,"p-datatable-scrollable-horizontal":c,"p-datatable-scrollable-both":g,"p-datatable-flex-scrollable":_,"p-datatable-responsive-stack":b,"p-datatable-responsive-scroll":T,"p-datatable-responsive":D,"p-datatable-grouped-header":O,"p-datatable-grouped-footer":F}},Jhe=function(i){return{maxHeight:i}},Qhe=["pTableBody",""];function Xhe(i,t){1&i&&s.GkF(0)}const Gk=function(i,t,e,o,a){return{$implicit:i,rowIndex:t,columns:e,editing:o,frozen:a}};function efe(i,t){if(1&i&&(s.ynx(0,3),s.YNc(1,Xhe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,Gk,o,l.getRowIndex(a),l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(o),l.frozen))}}function tfe(i,t){1&i&&s.GkF(0)}function nfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,tfe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",s.qbA(2,Gk,o,l.getRowIndex(a),l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(o),l.frozen))}}function ife(i,t){1&i&&s.GkF(0)}const rfe=function(i,t,e,o,a,l,c){return{$implicit:i,rowIndex:t,columns:e,editing:o,frozen:a,rowgroup:l,rowspan:c}};function ofe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,ife,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",s.Hh0(2,rfe,o,l.getRowIndex(a),l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(o),l.frozen,l.shouldRenderRowspan(l.value,o,l.getRowIndex(a)),l.calculateRowGroupSize(l.value,o,l.getRowIndex(a))))}}function sfe(i,t){1&i&&s.GkF(0)}function afe(i,t){if(1&i&&(s.ynx(0,3),s.YNc(1,sfe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,Gk,o,l.getRowIndex(a),l.columns,"row"===l.dt.editMode&&l.dt.isRowEditing(o),l.frozen))}}function lfe(i,t){if(1&i&&(s.YNc(0,efe,2,8,"ng-container",2),s.YNc(1,nfe,2,8,"ng-container",0),s.YNc(2,ofe,2,10,"ng-container",0),s.YNc(3,afe,2,8,"ng-container",2)),2&i){const e=t.$implicit,o=t.index,a=s.oxw(2);s.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,a.getRowIndex(o))),s.xp6(1),s.Q6J("ngIf","rowspan"!==a.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===a.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",a.dt.groupFooterTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupFooter(a.value,e,a.getRowIndex(o)))}}function cfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,lfe,4,4,"ng-template",1),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function ufe(i,t){1&i&&s.GkF(0)}function dfe(i,t){if(1&i&&s.YNc(0,ufe,1,0,"ng-container",4),2&i){const e=t.$implicit,o=t.index,a=s.oxw(2);s.Q6J("ngTemplateOutlet",e?a.template:a.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,Gk,e,a.getRowIndex(o),a.columns,"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen))}}function hfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,dfe,1,8,"ng-template",1),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function ffe(i,t){1&i&&s.GkF(0)}const qk=function(i,t,e,o,a,l){return{$implicit:i,rowIndex:t,columns:e,expanded:o,editing:a,frozen:l}};function pfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,ffe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",s.HTZ(2,qk,o,l.getRowIndex(a),l.columns,l.dt.isRowExpanded(o),"row"===l.dt.editMode&&l.dt.isRowEditing(o),l.frozen))}}function gfe(i,t){1&i&&s.GkF(0)}function mfe(i,t){if(1&i&&(s.ynx(0,3),s.YNc(1,gfe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,qk,o,l.getRowIndex(a),l.columns,l.dt.isRowExpanded(o),"row"===l.dt.editMode&&l.dt.isRowEditing(o),l.frozen))}}function _fe(i,t){1&i&&s.GkF(0)}function yfe(i,t){1&i&&s.GkF(0)}function vfe(i,t){if(1&i&&(s.ynx(0,3),s.YNc(1,yfe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(2),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,qk,o,l.getRowIndex(a),l.columns,l.dt.isRowExpanded(o),"row"===l.dt.editMode&&l.dt.isRowEditing(o),l.frozen))}}const Tz=function(i,t,e,o){return{$implicit:i,rowIndex:t,columns:e,frozen:o}};function bfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,_fe,1,0,"ng-container",4),s.YNc(2,vfe,2,9,"ng-container",2),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,Tz,o,l.getRowIndex(a),l.columns,l.frozen)),s.xp6(1),s.Q6J("ngIf",l.dt.groupFooterTemplate&&"subheader"===l.dt.rowGroupMode&&l.shouldRenderRowGroupFooter(l.value,o,l.getRowIndex(a)))}}function wfe(i,t){if(1&i&&(s.YNc(0,pfe,2,9,"ng-container",0),s.YNc(1,mfe,2,9,"ng-container",2),s.YNc(2,bfe,3,8,"ng-container",0)),2&i){const e=t.$implicit,o=t.index,a=s.oxw(2);s.Q6J("ngIf",!a.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",a.dt.groupHeaderTemplate&&"subheader"===a.dt.rowGroupMode&&a.shouldRenderRowGroupHeader(a.value,e,a.getRowIndex(o))),s.xp6(1),s.Q6J("ngIf",a.dt.isRowExpanded(e))}}function Cfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,wfe,3,3,"ng-template",1),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Tfe(i,t){1&i&&s.GkF(0)}function Efe(i,t){1&i&&s.GkF(0)}function xfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,Efe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw(),o=e.$implicit,a=e.index,l=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",l.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,Tz,o,l.getRowIndex(a),l.columns,l.frozen))}}function Sfe(i,t){if(1&i&&(s.YNc(0,Tfe,1,0,"ng-container",4),s.YNc(1,xfe,2,7,"ng-container",0)),2&i){const e=t.$implicit,o=t.index,a=s.oxw(2);s.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",s.HTZ(3,qk,e,a.getRowIndex(o),a.columns,a.dt.isRowExpanded(e),"row"===a.dt.editMode&&a.dt.isRowEditing(e),a.frozen)),s.xp6(1),s.Q6J("ngIf",a.dt.isRowExpanded(e))}}function Dfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,Sfe,2,10,"ng-template",1),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Ife(i,t){1&i&&s.GkF(0)}const Ez=function(i,t){return{$implicit:i,frozen:t}};function Mfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,Ife,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,Ez,e.columns,e.frozen))}}function Afe(i,t){1&i&&s.GkF(0)}function kfe(i,t){if(1&i&&(s.ynx(0),s.YNc(1,Afe,1,0,"ng-container",4),s.BQk()),2&i){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,Ez,e.columns,e.frozen))}}function Ofe(i,t){if(1&i&&(s.TgZ(0,"span",2),s._uU(1),s.qZA()),2&i){const e=s.oxw();s.xp6(1),s.Oqu(e.getBadgeValue())}}const Rfe=function(i,t,e){return{"pi-sort-amount-up-alt":i,"pi-sort-amount-down":t,"pi-sort-alt":e}};let Zk=(()=>{class i{constructor(){this.sortSource=new ii.x,this.selectionSource=new ii.x,this.contextMenuSource=new ii.x,this.valueSource=new ii.x,this.totalRecordsSource=new ii.x,this.columnsSource=new ii.x,this.resetSource=new ii.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),tD=(()=>{class i{constructor(e,o,a,l,c,g){this.el=e,this.zone=o,this.tableService=a,this.cd=l,this.filterService=c,this.overlayService=g,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new s.vpe,this.selectionChange=new s.vpe,this.contextMenuSelectionChange=new s.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(_,b)=>b,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new s.vpe,this.onRowUnselect=new s.vpe,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onFilter=new s.vpe,this.onLazyLoad=new s.vpe,this.onRowExpand=new s.vpe,this.onRowCollapse=new s.vpe,this.onContextMenuSelect=new s.vpe,this.onColResize=new s.vpe,this.onColReorder=new s.vpe,this.onRowReorder=new s.vpe,this.onEditInit=new s.vpe,this.onEditComplete=new s.vpe,this.onEditCancel=new s.vpe,this.onHeaderCheckboxToggle=new s.vpe,this.sortFunction=new s.vpe,this.firstChange=new s.vpe,this.rowsChange=new s.vpe,this.onStateSave=new s.vpe,this.onStateRestore=new s.vpe,this._virtualRowHeight=28,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=T1()}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get processedData(){return this.filteredValue||this.value||[]}dataToRender(e){const o=e||this.processedData;if(o&&this.paginator){const a=this.lazy?0:this.first;return o.slice(a,a+this.rows)}return o}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(Pn.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(Pn.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let o=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let a=o.metaKey||o.ctrlKey,l=this.getSortMeta(e.field);l?a?l.order=-1*l.order:(this._multiSortMeta=[{field:e.field,order:-1*l.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!a||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,o=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&o){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:o}):(this.value.sort((l,c)=>{let g=Pn.resolveFieldData(l,e),_=Pn.resolveFieldData(c,e),b=null;return b=null==g&&null!=_?-1:null!=g&&null==_?1:null==g&&null==_?0:"string"==typeof g&&"string"==typeof _?g.localeCompare(_):g<_?-1:g>_?1:0,o*b}),this._value=[...this.value]),this.hasFilter()&&this._filter());let a={field:e,order:o};this.onSort.emit(a),this.tableService.onSort(a)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,o)=>this.multisortField(e,o,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,o,a,l){let c=Pn.resolveFieldData(e,a[l].field),g=Pn.resolveFieldData(o,a[l].field),_=null;if(null==c&&null!=g)_=-1;else if(null!=c&&null==g)_=1;else if(null==c&&null==g)_=0;else if("string"==typeof c||c instanceof String){if(c.localeCompare&&c!=g)return a[l].order*c.localeCompare(g)}else _=c<g?-1:1;return c==g?a.length-1>l?this.multisortField(e,o,a,l+1):0:a[l].order*_}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field===e)return this.multiSortMeta[o];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let o=!1;if(this.multiSortMeta)for(let a=0;a<this.multiSortMeta.length;a++)if(this.multiSortMeta[a].field==e){o=!0;break}return o}}handleRowClick(e){let o=e.originalEvent.target,a=o.nodeName,l=o.parentElement&&o.parentElement.nodeName;if("INPUT"!=a&&"BUTTON"!=a&&"A"!=a&&"INPUT"!=l&&"BUTTON"!=l&&"A"!=l&&!Le.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let c=e.rowData,g=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)Le.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=g,this.selectRange(e.originalEvent,g);else{let _=this.isSelected(c);if(!_&&!this.isRowSelectable(c,g))return;let b=!this.rowTouched&&this.metaKeySelection,T=this.dataKey?String(Pn.resolveFieldData(c,this.dataKey)):null;if(this.anchorRowIndex=g,this.rangeRowIndex=g,b){let D=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(_&&D){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let O=this.findIndexInSelection(c);this._selection=this.selection.filter((F,j)=>j!=O),this.selectionChange.emit(this.selection),T&&delete this.selectionKeys[T]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row"})}else this.isSingleSelectionMode()?(this._selection=c,this.selectionChange.emit(c),T&&(this.selectionKeys={},this.selectionKeys[T]=1)):this.isMultipleSelectionMode()&&(D?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,c],this.selectionChange.emit(this.selection),T&&(this.selectionKeys[T]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:g})}else if("single"===this.selectionMode)_?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:g})):(this._selection=c,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:g}),T&&(this.selectionKeys={},this.selectionKeys[T]=1));else if("multiple"===this.selectionMode)if(_){let D=this.findIndexInSelection(c);this._selection=this.selection.filter((O,F)=>F!=D),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:g}),T&&delete this.selectionKeys[T]}else this._selection=this.selection?[...this.selection,c]:[c],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:c,type:"row",index:g}),T&&(this.selectionKeys[T]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const o=e.rowData,a=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=o,this.contextMenuSelectionChange.emit(o),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:o,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(o);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let l=this.isSelected(o),c=this.dataKey?String(Pn.resolveFieldData(o,this.dataKey)):null;if(!l){if(!this.isRowSelectable(o,a))return;this.isSingleSelectionMode()?(this.selection=o,this.selectionChange.emit(o),c&&(this.selectionKeys={},this.selectionKeys[c]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,o]:[o],this.selectionChange.emit(this.selection),c&&(this.selectionKeys[c]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:o,index:e.rowIndex})}}}selectRange(e,o){let a,l;this.anchorRowIndex>o?(a=o,l=this.anchorRowIndex):this.anchorRowIndex<o?(a=this.anchorRowIndex,l=o):(a=o,l=o),this.lazy&&this.paginator&&(a-=this.first,l-=this.first);let c=[];for(let g=a;g<=l;g++){let _=this.filteredValue?this.filteredValue[g]:this.value[g];if(!this.isSelected(_)){if(!this.isRowSelectable(_,o))continue;c.push(_),this._selection=[...this.selection,_];let b=this.dataKey?String(Pn.resolveFieldData(_,this.dataKey)):null;b&&(this.selectionKeys[b]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:c,type:"row"})}clearSelectionRange(e){let o,a;this.rangeRowIndex>this.anchorRowIndex?(o=this.anchorRowIndex,a=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(o=this.rangeRowIndex,a=this.anchorRowIndex):(o=this.rangeRowIndex,a=this.rangeRowIndex);for(let l=o;l<=a;l++){let c=this.value[l],g=this.findIndexInSelection(c);this._selection=this.selection.filter((b,T)=>T!=g);let _=this.dataKey?String(Pn.resolveFieldData(c,this.dataKey)):null;_&&delete this.selectionKeys[_],this.onRowUnselect.emit({originalEvent:e,data:c,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[Pn.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let o=-1;if(this.selection&&this.selection.length)for(let a=0;a<this.selection.length;a++)if(this.equals(e,this.selection[a])){o=a;break}return o}isRowSelectable(e,o){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:o}))}toggleRowWithRadio(e,o){if(this.preventSelectionSetterPropagation=!0,this.selection!=o){if(!this.isRowSelectable(o,e.rowIndex))return;this._selection=o,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:o,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(Pn.resolveFieldData(o,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:o,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,o){this.selection=this.selection||[];let a=this.isSelected(o),l=this.dataKey?String(Pn.resolveFieldData(o,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,a){let c=this.findIndexInSelection(o);this._selection=this.selection.filter((g,_)=>_!=c),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:o,type:"checkbox"}),l&&delete this.selectionKeys[l]}else{if(!this.isRowSelectable(o,e.rowIndex))return;this._selection=this.selection?[...this.selection,o]:[o],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:o,type:"checkbox"}),l&&(this.selectionKeys[l]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,o){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:o});else{const a=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let l=this.selectionPageOnly&&this._selection?this._selection.filter(c=>!a.some(g=>this.equals(c,g))):[];o&&(l=this.frozenValue?[...l,...this.frozenValue,...a]:[...l,...a],l=this.rowSelectable?l.filter((c,g)=>this.rowSelectable({data:c,index:g})):l),this._selection=l,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:o}),this.isStateful()&&this.saveState()}}equals(e,o){return"equals"===this.compareSelectionBy?e===o:Pn.equals(e,o,this.dataKey)}filter(e,o,a){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[o]&&delete this.filters[o]:this.filters[o]={value:e,matchMode:a},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,o){this.filter(e,"global",o)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let o=0;o<this.value.length;o++){let g,a=!0,l=!1,c=!1;for(let _ in this.filters)if(this.filters.hasOwnProperty(_)&&"global"!==_){c=!0;let b=_,T=this.filters[b];if(Array.isArray(T)){for(let D of T)if(a=this.executeLocalFilter(b,this.value[o],D),D.operator===pB.OR&&a||D.operator===pB.AND&&!a)break}else a=this.executeLocalFilter(b,this.value[o],T);if(!a)break}if(this.filters.global&&!l&&e)for(let _=0;_<e.length&&(l=this.filterService.filters[this.filters.global.matchMode](Pn.resolveFieldData(this.value[o],e[_].field||e[_]),this.filters.global.value,this.filterLocale),!l);_++);g=this.filters.global?c?c&&a&&l:l:c&&a,g&&this.filteredValue.push(this.value[o])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,o,a){let l=a.value,c=a.matchMode||Sa.STARTS_WITH,g=Pn.resolveFieldData(o,e);return(0,this.filterService.filters[c])(g,l,this.filterLocale)}hasFilter(){let e=!0;for(let o in this.filters)if(this.filters.hasOwnProperty(o)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let o,a="",l=this.columns;e&&e.selectionOnly?o=this.selection||[]:(o=this.filteredValue||this.value,this.frozenValue&&(o=o?[...this.frozenValue,...o]:this.frozenValue));for(let _=0;_<l.length;_++){let b=l[_];!1!==b.exportable&&b.field&&(a+='"'+this.getExportHeader(b)+'"',_<l.length-1&&(a+=this.csvSeparator))}o.forEach((_,b)=>{a+="\n";for(let T=0;T<l.length;T++){let D=l[T];if(!1!==D.exportable&&D.field){let O=Pn.resolveFieldData(_,D.field);O=null!=O?this.exportFunction?this.exportFunction({data:O,field:D.field}):String(O).replace(/"/g,'""'):"",a+='"'+O+'"',T<l.length-1&&(a+=this.csvSeparator)}}});let c=new Blob([a],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a");g.style.display="none",document.body.appendChild(g),void 0!==g.download?(g.setAttribute("href",URL.createObjectURL(c)),g.setAttribute("download",this.exportFilename+".csv"),g.click()):(a="data:text/csv;charset=utf-8,"+a,window.open(encodeURI(a))),document.body.removeChild(g)}onLazyItemLoad(e){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...e,rows:e.last-e.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,o,a,l){this.editingCell=e,this.editingCellData=o,this.editingCellField=a,this.editingCellRowIndex=l,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===Le.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(Le.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let o=String(Pn.resolveFieldData(e,this.dataKey));this.editingRowKeys[o]=!0}saveRowEdit(e,o){if(0===Le.find(o,".ng-invalid.ng-dirty").length){let a=String(Pn.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[a]}}cancelRowEdit(e){let o=String(Pn.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[o]}toggleRow(e,o){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let a=String(Pn.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[a]?(delete this.expandedRowKeys[a],this.onRowCollapse.emit({originalEvent:o,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[a]=!0,this.onRowExpand.emit({originalEvent:o,data:e})),o&&o.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(Pn.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(Pn.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let o=Le.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-o+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let o=Le.getOffset(this.containerViewChild.nativeElement).left;Le.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-o+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,a=this.resizeColumnElement.offsetWidth+e;if(a>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let g=this.resizeColumnElement.nextElementSibling.offsetWidth-e;a>15&&g>15&&this.resizeTableCells(a,g)}else"expand"===this.columnResizeMode&&(this.setResizeTableWidth(this.tableViewChild.nativeElement.offsetWidth+e+"px"),this.resizeTableCells(a,null));this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",Le.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,o){let a=Le.index(this.resizeColumnElement),l=[];const c=Le.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");Le.find(c,"tr > th").forEach(b=>l.push(Le.getOuterWidth(b))),this.destroyStyleElement(),this.createStyleElement();let _="";l.forEach((b,T)=>{let D=T===a?e:o&&T===a+1?o:b;_+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${T+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${T+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${T+1}) {\n                    ${this.scrollable?`flex: 1 1 ${D}px !important`:`width: ${D}px !important`}\n                }\n            `}),this.styleElement.innerHTML=_}onColumnDragStart(e,o){this.reorderIconWidth=Le.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=Le.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=o,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,o){if(this.reorderableColumns&&this.draggedColumn&&o){e.preventDefault();let a=Le.getOffset(this.containerViewChild.nativeElement),l=Le.getOffset(o);if(this.draggedColumn!=o){let c=Le.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),g=Le.indexWithinGroup(o,"preorderablecolumn"),_=l.left-a.left,T=l.left+o.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=l.top-a.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=l.top-a.top+o.offsetHeight+"px",e.pageX>T?(this.reorderIndicatorUpViewChild.nativeElement.style.left=_+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=_+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=_-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=_-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),g-c==1&&-1===this.dropPosition||g-c==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,o){if(e.preventDefault(),this.draggedColumn){let a=Le.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),l=Le.indexWithinGroup(o,"preorderablecolumn"),c=a!=l;c&&(l-a==1&&-1===this.dropPosition||a-l==1&&1===this.dropPosition)&&(c=!1),c&&l<a&&1===this.dropPosition&&(l+=1),c&&l>a&&-1===this.dropPosition&&(l-=1),c&&(Pn.reorderArray(this.columns,a,l),this.onColReorder.emit({dragIndex:a,dropIndex:l,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,o){this.rowDragging=!0,this.draggedRowIndex=o,e.dataTransfer.setData("text","b")}onRowDragOver(e,o,a){if(this.rowDragging&&this.draggedRowIndex!==o){let l=Le.getOffset(a).top+Le.getWindowScrollTop(),c=e.pageY,g=l+Le.getOuterHeight(a)/2,_=a.previousElementSibling;c<g?(Le.removeClass(a,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=o,_?Le.addClass(_,"p-datatable-dragpoint-bottom"):Le.addClass(a,"p-datatable-dragpoint-top")):(_?Le.removeClass(_,"p-datatable-dragpoint-bottom"):Le.addClass(a,"p-datatable-dragpoint-top"),this.droppedRowIndex=o+1,Le.addClass(a,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,o){let a=o.previousElementSibling;a&&Le.removeClass(a,"p-datatable-dragpoint-bottom"),Le.removeClass(o,"p-datatable-dragpoint-bottom"),Le.removeClass(o,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,o){if(null!=this.droppedRowIndex){let a=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;Pn.reorderArray(this.value,this.draggedRowIndex,a),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:a})}this.onRowDragLeave(e,o),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let o={};this.paginator&&(o.first=this.first,o.rows=this.rows),this.sortField&&(o.sortField=this.sortField,o.sortOrder=this.sortOrder),this.multiSortMeta&&(o.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(o.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(o),this.reorderableColumns&&this.saveColumnOrder(o),this.selection&&(o.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(o.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(o)),this.onStateSave.emit(o)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const o=this.getStorage().getItem(this.stateKey),a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(o){let c=JSON.parse(o,function(c,g){return"string"==typeof g&&a.test(g)?new Date(g):g});this.paginator&&(void 0!==this.first&&(this.first=c.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=c.rows,this.rowsChange.emit(this.rows))),c.sortField&&(this.restoringSort=!0,this._sortField=c.sortField,this._sortOrder=c.sortOrder),c.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=c.multiSortMeta),c.filters&&(this.restoringFilter=!0,this.filters=c.filters),this.resizableColumns&&(this.columnWidthsState=c.columnWidths,this.tableWidthState=c.tableWidth),c.expandedRowKeys&&(this.expandedRowKeys=c.expandedRowKeys),c.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(c.selection)),this.stateRestored=!0,this.onStateRestore.emit(c)}}saveColumnWidths(e){let o=[];Le.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(l=>o.push(Le.getOuterWidth(l))),e.columnWidths=o.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=this.virtualScroll?Le.getOuterWidth(Le.findSingle(this.containerViewChild.nativeElement,".p-scroller")):Le.getOuterWidth(this.tableViewChild.nativeElement)+"px")}setResizeTableWidth(e){if(this.virtualScroll){const o=Le.findSingle(this.containerViewChild.nativeElement,".p-scroller");o.style.width=e,o.style.minWidth=e}else this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),Pn.isNotEmpty(e)){this.createStyleElement();let o="";e.forEach((a,l)=>{o+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${l+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${l+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${l+1}) {\n                            ${this.scrollable?`flex: 1 1 ${a}px !important`:`width: ${a}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=o}}}saveColumnOrder(e){if(this.columns){let o=[];this.columns.map(a=>{o.push(a.field||a.key)}),e.columnOrder=o}}restoreColumnOrder(){const o=this.getStorage().getItem(this.stateKey);if(o){let l=JSON.parse(o).columnOrder;if(l){let c=[];l.map(g=>{let _=this.findColumnByKey(g);_&&c.push(_)}),this.columnOrderStateRestored=!0,this.columns=c}}}findColumnByKey(e){if(!this.columns)return null;for(let o of this.columns)if(o.key===e||o.field===e)return o}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Zk),s.Y36(s.sBO),s.Y36(fB),s.Y36(QM))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-table"]],contentQueries:function(e,o,a){if(1&e&&s.Suo(a,Da,4),2&e){let l;s.iGM(l=s.CRH())&&(o.templates=l)}},viewQuery:function(e,o){if(1&e&&(s.Gf(vhe,5),s.Gf(bhe,5),s.Gf(whe,5),s.Gf(Che,5),s.Gf(The,5),s.Gf(Ehe,5),s.Gf(xhe,5),s.Gf(She,5)),2&e){let a;s.iGM(a=s.CRH())&&(o.containerViewChild=a.first),s.iGM(a=s.CRH())&&(o.resizeHelperViewChild=a.first),s.iGM(a=s.CRH())&&(o.reorderIndicatorUpViewChild=a.first),s.iGM(a=s.CRH())&&(o.reorderIndicatorDownViewChild=a.first),s.iGM(a=s.CRH())&&(o.wrapperViewChild=a.first),s.iGM(a=s.CRH())&&(o.tableViewChild=a.first),s.iGM(a=s.CRH())&&(o.tableHeaderViewChild=a.first),s.iGM(a=s.CRH())&&(o.scroller=a.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",virtualRowHeight:"virtualRowHeight",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([Zk]),s.TTD],decls:16,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","delay","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[3,"items","columns","scrollHeight","itemSize","delay","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,o){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,Dhe,2,2,"div",2),s.YNc(3,Mhe,2,1,"div",3),s.YNc(4,Ahe,1,17,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,Phe,3,14,"p-scroller",7),s.YNc(8,Lhe,2,7,"ng-container",8),s.YNc(9,zhe,8,22,"ng-template",null,9,s.W1O),s.qZA(),s.YNc(11,Ghe,1,17,"p-paginator",10),s.YNc(12,Zhe,2,1,"div",11),s.YNc(13,$he,2,0,"div",12),s.YNc(14,Whe,2,0,"span",13),s.YNc(15,Yhe,2,0,"span",14),s.qZA()),2&e&&(s.Tol(o.styleClass),s.Q6J("ngStyle",o.style)("ngClass",s.rFY(16,Khe,[o.rowHover||o.selectionMode,o.autoLayout,o.resizableColumns,o.resizableColumns&&"fit"===o.columnResizeMode,o.scrollable,o.scrollable&&"vertical"===o.scrollDirection,o.scrollable&&"horizontal"===o.scrollDirection,o.scrollable&&"both"===o.scrollDirection,o.scrollable&&"flex"===o.scrollHeight,"stack"===o.responsiveLayout,"scroll"===o.responsiveLayout,o.responsive,null!=o.headerGroupedTemplate,null!=o.footerGroupedTemplate])),s.uIk("id",o.id),s.xp6(2),s.Q6J("ngIf",o.loading&&o.showLoader),s.xp6(1),s.Q6J("ngIf",o.captionTemplate),s.xp6(1),s.Q6J("ngIf",o.paginator&&("top"===o.paginatorPosition||"both"==o.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(31,Jhe,o.virtualScroll?"":o.scrollHeight)),s.xp6(2),s.Q6J("ngIf",o.virtualScroll),s.xp6(1),s.Q6J("ngIf",!o.virtualScroll),s.xp6(3),s.Q6J("ngIf",o.paginator&&("bottom"===o.paginatorPosition||"both"==o.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",o.summaryTemplate),s.xp6(1),s.Q6J("ngIf",o.resizableColumns),s.xp6(1),s.Q6J("ngIf",o.reorderableColumns),s.xp6(1),s.Q6J("ngIf",o.reorderableColumns))},dependencies:function(){return[wr,zi,lr,Rr,ode,Da,cz,rpe]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-scroller-viewport>.p-scroller>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-scrollable .p-scroller>.p-datatable-table{display:inline-block}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2}),i})(),rpe=(()=>{class i{constructor(e,o,a,l){this.dt=e,this.tableService=o,this.cd=a,this.el=l,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition(),this.dt.virtualScroll&&this.getScrollerOption("vertical")&&this.updateScrollerPosition()}ngOnChanges(e){if(e.scrollerOptions){const{previousValue:o,currentValue:a}=e.scrollerOptions;this.dt.virtualScroll&&this.getScrollerOption("vertical")&&this.getScrollerOption("itemSize",o)!==this.getScrollerOption("itemSize",a)&&this.updateScrollerPosition()}}shouldRenderRowGroupHeader(e,o,a){let l=Pn.resolveFieldData(o,this.dt.groupRowsBy),c=e[a-1];return!c||l!==Pn.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,o,a){let l=Pn.resolveFieldData(o,this.dt.groupRowsBy),c=e[a+1];return!c||l!==Pn.resolveFieldData(c,this.dt.groupRowsBy)}shouldRenderRowspan(e,o,a){let l=Pn.resolveFieldData(o,this.dt.groupRowsBy),c=e[a-1];return!c||l!==Pn.resolveFieldData(c,this.dt.groupRowsBy)}calculateRowGroupSize(e,o,a){let l=Pn.resolveFieldData(o,this.dt.groupRowsBy),c=l,g=0;for(;l===c;){g++;let _=e[++a];if(!_)break;c=Pn.resolveFieldData(_,this.dt.groupRowsBy)}return 1===g?null:g}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=Le.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=Le.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}updateScrollerPosition(){const e=Le.getOuterHeight(this.el.nativeElement.previousElementSibling);this.el.nativeElement.style.top=(this.el.nativeElement.style.top||0)+e+"px"}getScrollerOption(e,o){return this.dt.virtualScroll&&(o=o||this.scrollerOptions)?o[e]:null}getRowIndex(e){const o=this.dt.paginator?this.dt.first+e:e,a=this.getScrollerOption("getItemOptions");return a?a(o).index:o}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tD),s.Y36(Zk),s.Y36(s.sBO),s.Y36(s.SBq))},i.\u0275cmp=s.Xpm({type:i,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},features:[s.TTD],attrs:Qhe,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(s.YNc(0,cfe,2,2,"ng-container",0),s.YNc(1,hfe,2,2,"ng-container",0),s.YNc(2,Cfe,2,2,"ng-container",0),s.YNc(3,Dfe,2,2,"ng-container",0),s.YNc(4,Mfe,2,5,"ng-container",0),s.YNc(5,kfe,2,5,"ng-container",0)),2&e&&(s.Q6J("ngIf",!o.dt.expandedRowTemplate&&!o.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",!o.dt.expandedRowTemplate&&o.dt.virtualScroll),s.xp6(1),s.Q6J("ngIf",o.dt.expandedRowTemplate&&!(o.frozen&&o.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",o.dt.frozenExpandedRowTemplate&&o.frozen),s.xp6(1),s.Q6J("ngIf",o.dt.loading),s.xp6(1),s.Q6J("ngIf",o.dt.isEmpty()&&!o.dt.loading))},dependencies:[Ui,zi,lr],encapsulation:2}),i})(),ope=(()=>{class i{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(o=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),Le.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return Le.hasClass(e,"pi-filter-icon")||Le.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tD))},i.\u0275dir=s.lG2({type:i,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(e,o){1&e&&s.NdJ("click",function(l){return o.onClick(l)})("keydown.enter",function(l){return o.onEnterKey(l)}),2&e&&(s.uIk("tabindex",o.isEnabled()?"0":null)("role","columnheader")("aria-sort",o.sortOrder),s.ekj("p-sortable-column",o.isEnabled())("p-highlight",o.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),i})(),spe=(()=>{class i{constructor(e,o){this.dt=e,this.cd=o,this.subscription=this.dt.tableService.sortSource$.subscribe(a=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,o=-1;if(e&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||e.length>1))for(let a=0;a<e.length;a++){let l=e[a];if(l.field===this.field||l.field===this.field){o=a;break}}return o}getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&e>-1?e:e+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tD),s.Y36(s.sBO))},i.\u0275cmp=s.Xpm({type:i,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(e,o){1&e&&(s._UZ(0,"i",0),s.YNc(1,Ofe,2,1,"span",1)),2&e&&(s.Q6J("ngClass",s.kEZ(2,Rfe,1===o.sortOrder,-1===o.sortOrder,0===o.sortOrder)),s.xp6(1),s.Q6J("ngIf",o.isMultiSorted()))},dependencies:[wr,zi],encapsulation:2,changeDetection:0}),i})(),ape=(()=>{class i{constructor(e,o){this.dt=e,this.tableService=o,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onArrowDownKeyDown(e){if(!this.isEnabled())return;const a=this.findNextSelectableRow(e.currentTarget);a&&a.focus(),e.preventDefault()}onArrowUpKeyDown(e){if(!this.isEnabled())return;const a=this.findPrevSelectableRow(e.currentTarget);a&&a.focus(),e.preventDefault()}onEnterKeyDown(e){!this.isEnabled()||this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.scroller.elementViewChild.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.scroller.elementViewChild.nativeElement.focus()}findNextSelectableRow(e){let o=e.nextElementSibling;return o?Le.hasClass(o,"p-selectable-row")?o:this.findNextSelectableRow(o):null}findPrevSelectableRow(e){let o=e.previousElementSibling;return o?Le.hasClass(o,"p-selectable-row")?o:this.findPrevSelectableRow(o):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tD),s.Y36(Zk))},i.\u0275dir=s.lG2({type:i,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(e,o){1&e&&s.NdJ("click",function(l){return o.onClick(l)})("touchend",function(l){return o.onTouchEnd(l)})("keydown.arrowdown",function(l){return o.onArrowDownKeyDown(l)})("keydown.arrowup",function(l){return o.onArrowUpKeyDown(l)})("keydown.enter",function(l){return o.onEnterKeyDown(l)})("keydown.shift.enter",function(l){return o.onEnterKeyDown(l)})("keydown.meta.enter",function(l){return o.onEnterKeyDown(l)})("keydown.pagedown",function(){return o.onPageDownKeyDown()})("keydown.pageup",function(){return o.onPageDownKeyDown()})("keydown.home",function(){return o.onPageDownKeyDown()})("keydown.end",function(){return o.onPageDownKeyDown()})("keydown.space",function(){return o.onSpaceKeydown()}),2&e&&(s.uIk("tabindex",o.isEnabled()?0:void 0),s.ekj("p-selectable-row",o.isEnabled())("p-highlight",o.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),i})(),lpe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,sde,pz,Z2,M1,KS,mde,yhe,$2,Tde,jk,Tu,jk]}),i})();function cpe(i,t){if(1&i&&(s.TgZ(0,"tbody")(1,"tr",37),s._UZ(2,"th"),s.TgZ(3,"td",38)(4,"div"),s._UZ(5,"img",39),s._uU(6),s.qZA()(),s.TgZ(7,"td"),s._uU(8),s.TgZ(9,"span",40),s._uU(10),s.qZA()(),s.TgZ(11,"td")(12,"div",41)(13,"span"),s._uU(14),s.qZA()()(),s.TgZ(15,"td",42),s._uU(16),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(5),s.s9C("src",e.placeholderImg,s.LSH),s.xp6(1),s.AsE(" ",e.title," - ",e.variations," "),s.xp6(2),s.hij("RM ",e.discountedPrice," "),s.xp6(2),s.Oqu(e.oldPrice),s.xp6(4),s.Oqu(e.quantity),s.xp6(2),s.hij("RM ",e.totalPrice," ")}}function upe(i,t){if(1&i&&(s.TgZ(0,"div",26)(1,"div",27)(2,"h4"),s._uU(3,"Products Ordered"),s.qZA()(),s.TgZ(4,"div",28)(5,"table",29)(6,"thead",30)(7,"tr"),s._UZ(8,"th"),s.TgZ(9,"th",31),s._uU(10,"Product"),s.qZA(),s.TgZ(11,"th"),s._uU(12,"Price"),s.qZA(),s.TgZ(13,"th"),s._uU(14,"Quantity"),s.qZA(),s.TgZ(15,"th"),s._uU(16,"Total Price"),s.qZA()()(),s.YNc(17,cpe,17,7,"tbody",32),s.qZA()(),s.TgZ(18,"div",33)(19,"div",34)(20,"p"),s._uU(21,"Delivery fee: "),s.TgZ(22,"strong"),s._uU(23,"RM 5"),s.qZA()()(),s.TgZ(24,"div",35)(25,"p"),s._uU(26),s.qZA(),s.TgZ(27,"p",36),s._uU(28),s.qZA()()()()),2&i){const e=s.oxw();s.xp6(17),s.Q6J("ngForOf",e.items),s.xp6(9),s.hij("Total (",e.itemCount," items) : "),s.xp6(2),s.hij(" \xa0 RM ",e.total,"")}}function dpe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",43)(2,"h4"),s._uU(3,"Receiver's Information"),s.qZA()(),s.TgZ(4,"div")(5,"div",44)(6,"div",45)(7,"p",46),s._uU(8,"Receiver's name *: "),s.qZA(),s.TgZ(9,"input",47,48),s.NdJ("ngModelChange",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.userName=a)}),s.qZA()(),s.TgZ(11,"div",49)(12,"div",50)(13,"p",46),s._uU(14,"Receiver's phone number *: "),s.qZA(),s.TgZ(15,"input",51,52),s.NdJ("ngModelChange",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.phoneNumber=a)})("keyup",function(){s.CHM(e);const a=s.MAs(16),l=s.oxw();return s.KtG(l.keyup(a.value))}),s.qZA()(),s.TgZ(17,"p",53),s._uU(18,"Invalid phone number!"),s.qZA(),s.TgZ(19,"p",54),s._uU(20,"Format: 011-11111111 / 01111111111"),s.qZA()(),s.TgZ(21,"div")(22,"div",45)(23,"p",55),s._uU(24,"Receiver's address *: "),s.qZA(),s.TgZ(25,"textarea",56,57),s.NdJ("ngModelChange",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.userAddress=a)}),s.qZA()(),s.TgZ(27,"p",58),s.NdJ("click",function(a){s.CHM(e);const l=s.oxw();return s.MAs(45).toggle(a),s.KtG(l.changeAddress())}),s._uU(28,"Change Address"),s.qZA()()()()()}if(2&i){const e=s.oxw();s.xp6(9),s.Q6J("ngModel",e.userName),s.xp6(6),s.Q6J("ngModel",e.phoneNumber),s.xp6(2),s.Q6J("hidden",e.invalidHP),s.xp6(8),s.Q6J("ngModel",e.userAddress)}}function hpe(i,t){1&i&&(s.TgZ(0,"tr")(1,"th",62),s._uU(2,"Address Index"),s._UZ(3,"p-sortIcon",63),s.qZA(),s.TgZ(4,"th",64),s._uU(5,"Address "),s._UZ(6,"p-sortIcon",65),s.qZA()())}function fpe(i,t){if(1&i&&(s.TgZ(0,"tr",66)(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA()()),2&i){const o=t.$implicit;s.Q6J("pSelectableRow",t.$implicit),s.xp6(2),s.hij("Address ",o.id,""),s.xp6(2),s.Oqu(o.address)}}function ppe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"p-table",59),s.NdJ("selectionChange",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.selectedAddress=a)})("onRowSelect",function(a){s.CHM(e);const l=s.oxw();return s.KtG(l.onRowSelect(a))}),s.YNc(1,hpe,7,0,"ng-template",60),s.YNc(2,fpe,5,3,"ng-template",61),s.qZA()}if(2&i){const e=s.oxw();s.Q6J("value",e.allAddress)("selection",e.selectedAddress)("paginator",!0)("rows",5)}}function gpe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",67)(2,"h4"),s._uU(3,"Payment Method"),s.qZA()(),s.TgZ(4,"div")(5,"div",68)(6,"div",69),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.credit())}),s.TgZ(7,"h4"),s._uU(8,"MERC Credit"),s.qZA(),s.TgZ(9,"p"),s._uU(10),s.qZA(),s._UZ(11,"img",70),s.qZA(),s.TgZ(12,"div")(13,"div",71),s.NdJ("click",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.creditDebit())}),s.TgZ(14,"h4"),s._uU(15,"Credit/Debit card"),s.qZA(),s._UZ(16,"img",70),s.qZA()()()()()}if(2&i){const e=s.oxw();s.xp6(10),s.hij("Bal: RM ",e.userBal,""),s.xp6(1),s.Q6J("hidden",e.visibleCredit),s.xp6(5),s.Q6J("hidden",e.visibleCD)}}function mpe(i,t){if(1&i&&(s.TgZ(0,"tbody")(1,"tr",37),s._UZ(2,"th"),s.TgZ(3,"td",38)(4,"div"),s._UZ(5,"img",39),s._uU(6),s.qZA()(),s.TgZ(7,"td"),s._uU(8),s.TgZ(9,"span",40),s._uU(10),s.qZA()(),s.TgZ(11,"td")(12,"div",41)(13,"span"),s._uU(14),s.qZA()()(),s.TgZ(15,"td",42),s._uU(16),s.qZA()()()),2&i){const e=t.$implicit;s.xp6(5),s.s9C("src",e.placeholderImg,s.LSH),s.xp6(1),s.AsE(" ",e.title," - ",e.variations," "),s.xp6(2),s.hij("RM ",e.discountedPrice," "),s.xp6(2),s.Oqu(e.oldPrice),s.xp6(4),s.Oqu(e.quantity),s.xp6(2),s.hij("RM ",e.totalPrice," ")}}function _pe(i,t){if(1&i&&(s.TgZ(0,"div")(1,"div",72)(2,"h4"),s._uU(3,"Confirmation"),s.qZA()(),s.TgZ(4,"div",28)(5,"table",29)(6,"thead",30)(7,"tr"),s._UZ(8,"th"),s.TgZ(9,"th",31),s._uU(10,"Product"),s.qZA(),s.TgZ(11,"th"),s._uU(12,"Price"),s.qZA(),s.TgZ(13,"th"),s._uU(14,"Quantity"),s.qZA(),s.TgZ(15,"th"),s._uU(16,"Total Price"),s.qZA()()(),s.YNc(17,mpe,17,7,"tbody",32),s.qZA()(),s._UZ(18,"hr"),s.TgZ(19,"div")(20,"div")(21,"p"),s._uU(22),s.qZA()(),s.TgZ(23,"div")(24,"p"),s._uU(25),s.qZA()(),s.TgZ(26,"div")(27,"p"),s._uU(28),s.qZA()()(),s._UZ(29,"hr"),s.TgZ(30,"div")(31,"div")(32,"p"),s._uU(33),s.qZA()(),s.TgZ(34,"div",34)(35,"p"),s._uU(36,"Delivery fee: "),s.TgZ(37,"strong"),s._uU(38,"RM 5"),s.qZA()()(),s.TgZ(39,"div",35)(40,"p"),s._uU(41),s.qZA(),s.TgZ(42,"p",36),s._uU(43),s.qZA()()()()),2&i){const e=s.oxw();s.xp6(17),s.Q6J("ngForOf",e.items),s.xp6(5),s.hij("Receiver's name: ",e.userName,""),s.xp6(3),s.hij("Receiver's phone number: 0",e.phoneNumber,""),s.xp6(3),s.hij("Receiver's address: ",e.userAddress,""),s.xp6(5),s.hij("Payment method: ",e.paymentMethod,""),s.xp6(8),s.hij("Total (",e.itemCount," items) : "),s.xp6(2),s.hij(" \xa0 RM ",e.total,"")}}function ype(i,t){if(1&i&&(s.TgZ(0,"div")(1,"div",72),s._UZ(2,"img",73),s.TgZ(3,"h4",74),s._uU(4,"Success! Your order has been placed."),s.qZA(),s.TgZ(5,"h4",74),s._uU(6,"An error has occured. Please try again."),s.qZA()()()),2&i){const e=s.oxw();s.xp6(2),s.Q6J("hidden",e.loaderVisibility),s.xp6(1),s.Q6J("hidden",e.successMsg),s.xp6(2),s.Q6J("hidden",e.failMsg)}}const vpe=function(){return{width:"450px"}};let bpe=(()=>{class i{constructor(e,o,a,l,c,g){this.authService=e,this.checkout=o,this.firebasecrudservice=a,this.router=l,this.messageService=c,this.primengConfig=g,this.currentOrderID=0,this.userName="test",this.userAccPage="profile",this.userImg="",this.userEmail="",this.userAddress="",this.allAddress=[],this.userBal=0,this.invalidHP=!0,this.phoneNumberRegex=/^(\+?6?01)[0-46-9]-*[0-9]{7,8}$/g,this.paymentHandler=null,this.success=!1,this.failure=!1,this.total=0,this.itemCount=0,this.voucher1="",this.voucher2="",this.voucher3="",this.step=1,this.visibleCredit=!0,this.visibleCD=!0,this.paymentMethod="",this.toastError=!1,this.position="top-end",this.loaderVisibility=!1,this.successMsg=!0,this.failMsg=!0,this.currentUser=this.authService.getCurrentUserData(),console.log(this.currentUser.email)}ngOnInit(){this.invokeStripe(),this.firebasecrudservice.getUserOrder(this.currentUser.email).subscribe(a=>{a.forEach(l=>{this.currentOrderID=l.orderID,console.log(this.currentOrderID)})}),this.firebasecrudservice.getCart(this.currentUser.email).subscribe(a=>{this.orderOrder=a});let e=JSON.parse(window.localStorage.getItem("user"));this.userID=e.uid,console.log(window.localStorage.getItem("userHP"));let o=window.localStorage.getItem("userHP");this.phoneNumber=o?"0"+o:"",this.firebasecrudservice.getUserData().subscribe(a=>{this.userUser=a,console.log(a),this.userUser.forEach(l=>{l.id==this.currentUser.email&&(this.userName=l.displayName)})}),this.firebasecrudservice.getUserDetails(this.currentUser.email).subscribe(a=>{a.forEach(l=>{l.id==this.currentUser.email&&(this.userAddress=l.address)})}),this.firebasecrudservice.getCart(this.currentUser.email).subscribe(a=>{this.items=a,this.total=5,this.itemCount=0;for(let l=0;l<Object.keys(this.items).length;l++)this.total=this.total+this.items[l].totalPrice,this.itemCount++}),this.firebasecrudservice.getBalance().subscribe(a=>{console.log(a),a.forEach(l=>{console.log(l.balance,this.total),l.email==this.currentUser.email&&(console.log("true email"),this.userBal=l.balance)})}),this.firebasecrudservice.getSelectedVouchers().subscribe(a=>{this.selectedVoucher=a})}initializePayment(e){const o=window.StripeCheckout.configure({key:"pk_test_51KiEXBFN13hoDLby9WPZJAKOf7i92hVpeKw9EnnyStV7ZEgQqytzf8k6r7rAb0rIYuDkHyWFgO1zrN3nhQLVhi9i00rhHxNUR4",locale:"auto",token:function(l){console.log({stripeToken:l}),a(l,e)}}),a=(l,c)=>{this.checkout.makePayment(l,c).subscribe(g=>{console.log(g),"success"===g.data?(this.success=!0,this.loaderVisibility=!0,this.successMsg=!1):(this.failure=!0,this.loaderVisibility=!0,this.failMsg=!1)})};o.open({name:"FreakyJolly",description:"Buying a Hot Coffee",amount:100*e})}invokeStripe(){if(!window.document.getElementById("stripe-script")){const e=window.document.createElement("script");e.id="stripe-script",e.type="text/javascript",e.src="https://checkout.stripe.com/checkout.js",e.onload=()=>{this.paymentHandler=window.StripeCheckout.configure({key:"pk_test_51KiEXBFN13hoDLby9WPZJAKOf7i92hVpeKw9EnnyStV7ZEgQqytzf8k6r7rAb0rIYuDkHyWFgO1zrN3nhQLVhi9i00rhHxNUR4",locale:"auto",token:function(o){console.log(o),alert("Payment has been successfull!")}})},window.document.body.appendChild(e)}}cancelCheckout(){let e=document.getElementById("productsOrdered"),o=document.getElementById("receiversInfo"),a=document.getElementById("paymentMtd"),l=document.getElementById("confirmation"),g=(document.getElementById("productsOrderedCaption"),document.getElementById("receiversInfoCaption")),_=document.getElementById("paymentMtdCaption"),b=document.getElementById("confirmationCaption");document.getElementById("cancel"),document.getElementById("next"),1==this.step?this.router.navigate(["/home/"+this.userID]):2==this.step?(o?.classList.remove("active"),g?.classList.remove("active"),e?.classList.remove("done"),e?.classList.add("active"),this.step--):3==this.step?(a?.classList.remove("active"),_?.classList.remove("active"),o?.classList.remove("done"),o?.classList.add("active"),this.step--):4==this.step&&(l?.classList.remove("active"),b?.classList.remove("active"),a?.classList.remove("done"),a?.classList.add("active"),this.step--)}nextStep(){let e=document.getElementById("productsOrdered"),o=document.getElementById("receiversInfo"),a=document.getElementById("paymentMtd"),l=document.getElementById("confirmation"),g=(document.getElementById("productsOrderedCaption"),document.getElementById("receiversInfoCaption")),_=document.getElementById("paymentMtdCaption"),b=document.getElementById("confirmationCaption"),T=document.getElementById("cancel");if(document.getElementById("next"),1==this.step)e?.classList.add("done"),o?.classList.add("active"),g?.classList.add("active"),document.querySelector("#cancel").innerHTML="Back",this.step++;else if(2==this.step)0==this.phoneNumberRegex.test(this.phoneNumber)?this.invalidHP=!1:(this.invalidHP=!0,this.phoneNumber=parseInt(this.phoneNumber),window.localStorage.setItem("userHP",JSON.stringify(this.phoneNumber)),""==this.userName||""==this.phoneNumber||""==this.userAddress?this.messageService.add({severity:"error",summary:"Error",detail:"One or more input fields are empty!"}):(o?.classList.add("done"),a?.classList.add("active"),_?.classList.add("active"),this.step++));else if(3==this.step)0==this.visibleCredit||0==this.visibleCD?(a?.classList.add("done"),l?.classList.add("active"),b?.classList.add("active"),0==this.visibleCredit?this.paymentMethod="MERC Credits":0==this.visibleCD&&(this.paymentMethod="Credit/Debit card"),this.step++):this.showError();else if(4==this.step){this.firebasecrudservice.setUserPaymentMethod(this.currentUser.email,this.paymentMethod);let O=new Date,F=O.getDate()+"-"+(O.getMonth()+1)+"-"+O.getFullYear(),j=O.getHours()+":"+O.getMinutes()+":"+O.getSeconds();console.log(F+"and"+j),this.currentOrderID++,this.firebasecrudservice.setUserOrder(this.currentUser.email,{email:this.currentUser.email,orderID:this.currentOrderID,item:this.items,receiverName:this.userName,receiverHP:this.phoneNumber,receiverAddress:this.userAddress,paymentMethod:this.paymentMethod,total:this.total,receiveDate:F,receiveTime:j},this.currentOrderID),this.orderOrder.forEach(se=>{console.log(se.id),this.firebasecrudservice.deleteCartItem(this.currentUser.email,se.id)}),l?.classList.add("done"),T.style.visibility="hidden",document.querySelector("#next").innerHTML="Home",1==this.visibleCD?(this.userBal=this.userBal-this.total,console.log(this.userBal)):1==this.visibleCredit&&this.initializePayment(this.total),this.step++}else 5==this.step&&this.router.navigate(["/home/"+this.userID])}showError(){this.messageService.add({severity:"error",summary:"Error",detail:"Payment method not selected. Please select one of the payment methods to proceed"})}credit(){this.userBal<this.total?this.messageService.add({severity:"error",summary:"Error",detail:"Insufficent Credit! Please top up."}):(this.visibleCredit=!this.visibleCredit,this.visibleCD=!0)}creditDebit(){this.visibleCD=!this.visibleCD,this.visibleCredit=!0}changeAddress(){this.firebasecrudservice.getUserAddress(this.currentUser.email).subscribe(e=>{this.allAddress=e,console.log(this.allAddress)})}onRowSelect(e){this.messageService.add({key:"normal",severity:"info",summary:"Address Selected",detail:"address"+e.data.id+" is selected"}),this.allAddress.forEach(o=>{let a;console.log(o),a=o,e.data.id==a.id&&(this.userAddress=a.address)})}test(e){}keyup(e){}saveInfo(){this.invalidHP=0!=this.phoneNumberRegex.test(this.phoneNumber),(""==this.userName||""==this.phoneNumber||""==this.userAddress)&&this.messageService.add({severity:"error",summary:"Error",detail:"One or more input fields are empty!"})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu),s.Y36(z2),s.Y36(jp),s.Y36(tr),s.Y36(Vm),s.Y36(nf))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-payment"]],decls:59,vars:10,consts:[["key","normal"],[2,"display","flex","justify-content","center","margin-top","25px"],[1,"step"],[1,"step-element"],[1,"step-circle-circles"],["id","productsOrdered",1,"step-circle","active"],["id","productsOrderedCaption",1,"caption","active"],[1,"hori-container"],[1,"horizontal-line"],["id","receiversInfo",1,"step-circle"],["id","receiversInfoCaption",1,"caption"],["id","paymentMtd",1,"step-circle"],["id","paymentMtdCaption",1,"caption"],["id","confirmation",1,"step-circle"],["id","confirmationCaption",1,"caption"],[3,"ngSwitch"],[1,"step-container"],["class","step-case",4,"ngSwitchCase"],[1,"secondContainer"],[3,"showCloseIcon"],["op",""],["pTemplate",""],[4,"ngSwitchCase"],[1,"footer-btn"],["id","cancel",1,"cancel-btn",3,"click"],["id","next",1,"next-btn",3,"click"],[1,"step-case"],[1,"products-ordered-header"],[1,"products-ordered-table"],[1,"table"],[1,"table-header"],[1,"product-header"],[4,"ngFor","ngForOf"],[1,"right-panel"],[1,"delivery"],[1,"total"],[1,"totalText"],[1,"product-row"],[1,"item-product"],["alt","",1,"cart-img",3,"src"],[1,"old-price"],[1,"quantity"],[1,"total-price"],[1,"receivers-information-header"],[1,"receiver-info"],[1,"information-field"],[1,"information-label","header"],["type","text","id","chgReceiverName","name","chgReceiverName",1,"input","chgReceiverName",3,"ngModel","ngModelChange"],["changeReceiverName",""],[2,"margin-bottom","15px"],[2,"display","flex"],["type","tel","id","userHP","name","userHP","pattern","^(\\+?6?01)[0-46-9]-*[0-9]{7,8}$","required","",1,"input","userHP",3,"ngModel","ngModelChange","keyup"],["userHP",""],[1,"error",3,"hidden"],[1,"sub-header"],[1,"header"],["name","location","rows","5","cols","25","wrap","soft","maxlength","100","required","",1,"locationTextArea",2,"overflow","hidden","resize","none",3,"ngModel","ngModelChange"],["address",""],[1,"changeAddress",3,"click"],["selectionMode","single",3,"value","selection","paginator","rows","selectionChange","onRowSelect"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","addIndex"],["field","addIndex"],["pSortableColumn","address"],["field","address"],[3,"pSelectableRow"],[1,"payment-method-header"],[1,"select-payment-method"],[1,"merc-credit",3,"click"],["src","../../../assets/img/tick.png","alt","tick",1,"selectedPaymentMethod",3,"hidden"],[1,"credit-debit",3,"click"],[1,"confirmation-header"],["src","../../../assets/gif/loader.gif","alt","loader",3,"hidden"],[3,"hidden"]],template:function(e,o){1&e&&(s._UZ(0,"app-header-normal")(1,"p-toast",0),s.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"p"),s._uU(8,"1"),s.qZA()()(),s.TgZ(9,"p",6),s._uU(10,"Products Ordered"),s.qZA()(),s.TgZ(11,"div",7),s._UZ(12,"div",8),s.qZA(),s.TgZ(13,"div",3)(14,"div",4)(15,"div",9)(16,"p"),s._uU(17,"2"),s.qZA()()(),s.TgZ(18,"div",10),s._uU(19,"Receiver's Information"),s.qZA()(),s.TgZ(20,"div",7),s._UZ(21,"div",8),s.qZA(),s.TgZ(22,"div",3)(23,"div",4)(24,"div",11)(25,"p"),s._uU(26,"3"),s.qZA()()(),s.TgZ(27,"p",12),s._uU(28,"Payment Method"),s.qZA()(),s.TgZ(29,"div",7),s._UZ(30,"div",8),s.qZA(),s.TgZ(31,"div",3)(32,"div",4)(33,"div",13)(34,"p"),s._uU(35,"4"),s.qZA()()(),s.TgZ(36,"p",14),s._uU(37,"Confirmation"),s.qZA()()()(),s.TgZ(38,"div",15)(39,"main",16),s.YNc(40,upe,29,3,"div",17),s.qZA(),s.TgZ(41,"main",16)(42,"div",18),s.YNc(43,dpe,29,4,"div",17),s.qZA()(),s.TgZ(44,"p-overlayPanel",19,20),s.YNc(46,ppe,3,4,"ng-template",21),s.qZA(),s.TgZ(47,"main",16),s.YNc(48,gpe,17,3,"div",17),s.qZA(),s.TgZ(49,"main",16),s.YNc(50,_pe,44,7,"div",22),s.qZA(),s.TgZ(51,"main",16),s.YNc(52,ype,7,3,"div",22),s.qZA()(),s.TgZ(53,"div",23)(54,"div")(55,"button",24),s.NdJ("click",function(){return o.cancelCheckout()}),s._uU(56,"Cancel"),s.qZA(),s.TgZ(57,"button",25),s.NdJ("click",function(){return o.nextStep()}),s._uU(58,"Next"),s.qZA()()()),2&e&&(s.xp6(38),s.Q6J("ngSwitch",o.step),s.xp6(2),s.Q6J("ngSwitchCase","1"),s.xp6(3),s.Q6J("ngSwitchCase","2"),s.xp6(1),s.Akn(s.DdM(9,vpe)),s.Q6J("showCloseIcon",!0),s.xp6(4),s.Q6J("ngSwitchCase","3"),s.xp6(2),s.Q6J("ngSwitchCase","4"),s.xp6(2),s.Q6J("ngSwitchCase","5"))},dependencies:[Ui,vo,Ns,L0,E1,I1,hN,fN,Jy,Da,JS,nce,tD,ope,ape,spe,sw],styles:['@import"https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,600";@import"https://fonts.googleapis.com/css2?family=Dosis:wght@400;500&display=swap";.step[_ngcontent-%COMP%]{display:flex;justify-content:space-between;justify-items:center}.step-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.step-case[_ngcontent-%COMP%]{width:800px;margin-bottom:20px}.step-circle-circles[_ngcontent-%COMP%]{display:flex;justify-content:center}.caption[_ngcontent-%COMP%]{color:#ccc}.caption.active[_ngcontent-%COMP%]{color:#000}.step-circle[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:50%;width:50px;height:50px}.step-circle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin:15px 0 0;color:#ccc}.step-circle.active[_ngcontent-%COMP%]{border:1px solid rgba(0,93,232,.5)}.step-circle.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.step-circle.active.done[_ngcontent-%COMP%]{background-color:#005de8}.step-circle.active.done[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f5f5f5}.hori-container[_ngcontent-%COMP%]{width:100px;display:flex;justify-items:center;justify-content:center}.horizontal-line[_ngcontent-%COMP%]{transform:rotate(90deg);border:1px solid #ccc;margin-bottom:10px}.horizontal-line.active[_ngcontent-%COMP%]{border:1px solid #005DE8}.products-ordered-header[_ngcontent-%COMP%], .receivers-information[_ngcontent-%COMP%]{margin:10px 0 15px}.products-ordered-table[_ngcontent-%COMP%]{margin:10px 0 5px}.table[_ngcontent-%COMP%]{width:100%;padding:10px 10px 0;border-spacing:30px;text-align:center}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #3184f9}.table-header[_ngcontent-%COMP%]{padding-bottom:15px}.cart-img[_ngcontent-%COMP%]{width:100px}.product-header[_ngcontent-%COMP%], .item-product[_ngcontent-%COMP%]{text-align:left}.product-row[_ngcontent-%COMP%]{vertical-align:middle}.product-row[_ngcontent-%COMP%]:hover{background-color:#d8f9ff}.old-price[_ngcontent-%COMP%]{text-decoration:line-through;color:#ccc;font-size:smaller}.total-price[_ngcontent-%COMP%]{color:#005de8}.right-panel[_ngcontent-%COMP%]{float:right}.voucher-cart-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.select-voucher[_ngcontent-%COMP%]{display:flex;margin:15px 0}.select-voucher[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;margin-right:15px}.selectedVouchers[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small}.total[_ngcontent-%COMP%]{display:flex}.footer-btn[_ngcontent-%COMP%]{display:flex;justify-content:center}.cancel-btn[_ngcontent-%COMP%]{border:1px solid #005DE8;border-radius:5px;background-color:#005de833;color:#005de8;margin-right:20px;padding:5px 8px}.cancel-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 3px #ccccccbf;-webkit-box-shadow:0px 0px 5px 3px rgba(204,204,204,.75);-moz-box-shadow:0px 0px 5px 3px rgba(204,204,204,.75)}.next-btn[_ngcontent-%COMP%]{border:1px solid #005DE8;border-radius:5px;background-color:#005de8;color:#f5f5f5;padding:5px 12px}.next-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 3px #ccccccbf;-webkit-box-shadow:0px 0px 5px 3px rgba(204,204,204,.75);-moz-box-shadow:0px 0px 5px 3px rgba(204,204,204,.75)}.select-payment-method[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;margin-top:20px}.merc-credit[_ngcontent-%COMP%], .credit-debit[_ngcontent-%COMP%]{max-height:100px;padding:10px 20px;border:1px solid #005DE8;border-radius:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-right:20px;position:relative}.merc-credit[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .credit-debit[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#005de8;margin:0}.merc-credit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .credit-debit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.merc-credit[_ngcontent-%COMP%]:hover, .credit-debit[_ngcontent-%COMP%]:hover{background-color:#005de8;cursor:pointer;box-shadow:0 0 5px 3px #ccccccbf;-webkit-box-shadow:0px 0px 5px 3px rgba(204,204,204,.75);-moz-box-shadow:0px 0px 5px 3px rgba(204,204,204,.75)}.merc-credit[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%], .credit-debit[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%], .merc-credit[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%], .credit-debit[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#f5f5f5;margin:0}.credit-debit[_ngcontent-%COMP%]{margin:0;height:90px;position:relative}.merc-credit[_ngcontent-%COMP%]:first, .credit-debit[_ngcontent-%COMP%]:first{margin-right:20px}.credit-card[_ngcontent-%COMP%]{position:relative;max-width:260px;min-width:260px;margin:50px auto;max-height:150px;min-height:150px;border-radius:20px;display:flex;flex-direction:column;padding:24px;box-sizing:border-box;background:linear-gradient(-240deg,#fffc00,#fc00ff,#00fffc);justify-content:space-between;font-family:Dosis,sans-serif;overflow:hidden}.credit-card[_ngcontent-%COMP%]:after{content:"";position:absolute;height:100%;width:100%;left:0;top:0;z-index:0;color:#f9f9f91a;background:linear-gradient(135deg,currentColor 25%,transparent 25%) -100px 0,linear-gradient(225deg,currentColor 25%,transparent 25%) -100px 0,linear-gradient(315deg,currentColor 25%,transparent 25%),linear-gradient(45deg,currentColor 25%,transparent 25%);background-size:200px 200px}.logo[_ngcontent-%COMP%]{width:72px;display:flex;align-self:flex-end;filter:drop-shadow(1px 1px 0 #555);z-index:1}.name-and-expiry[_ngcontent-%COMP%]{display:flex;justify-content:space-between;z-index:1;color:#fff;font-size:10px;letter-spacing:3px;filter:drop-shadow(1px 0px 1px #555);text-transform:uppercase}.numbers[_ngcontent-%COMP%]{font-size:12px;letter-spacing:9px;text-align:center;color:#fff;filter:drop-shadow(1px 0px 1px #555);z-index:1}.selectedPaymentMethod[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:24px;height:24px}.toastStyle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ee4b2b}.toastHeader[_ngcontent-%COMP%]{background-color:#ee4b2b;color:#f5f5f5}.information-field[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.information-label[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0}.receiver-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.input[_ngcontent-%COMP%]{margin-left:5px!important}.changeAddress[_ngcontent-%COMP%]{cursor:pointer;color:#005de8}.changeAddress[_ngcontent-%COMP%]:hover{text-decoration:underline}.header[_ngcontent-%COMP%]{font-size:larger;font-weight:550}.sub-header[_ngcontent-%COMP%]{font-size:smaller;font-style:italic}.error[_ngcontent-%COMP%]{color:#ee4b2b}']}),i})(),wpe=(()=>{class i{constructor(e){this.checkout=e,this.paymentHandler=null,this.success=!1,this.failure=!1}ngOnInit(){this.invokeStripe()}makePayment(e){const o=window.StripeCheckout.configure({key:"pk_test_51KiEXBFN13hoDLby9WPZJAKOf7i92hVpeKw9EnnyStV7ZEgQqytzf8k6r7rAb0rIYuDkHyWFgO1zrN3nhQLVhi9i00rhHxNUR4",locale:"auto",token:function(l){console.log(l),a(l,e)}}),a=(l,c)=>{this.checkout.makePayment(l,c).subscribe(g=>{console.log(g),"success"===g.data?this.success=!0:this.failure=!0})};o.open({name:"Coding Shiksha",description:"This is a sample pdf file",amount:100*e})}invokeStripe(){if(!window.document.getElementById("stripe-script")){const e=window.document.createElement("script");e.id="stripe-script",e.type="text/javascript",e.src="https://checkout.stripe.com/checkout.js",e.onload=()=>{this.paymentHandler=window.StripeCheckout.configure({key:"pk_test_51KiEXBFN13hoDLby9WPZJAKOf7i92hVpeKw9EnnyStV7ZEgQqytzf8k6r7rAb0rIYuDkHyWFgO1zrN3nhQLVhi9i00rhHxNUR4",locale:"auto",token:function(o){console.log(o)}})},window.document.body.appendChild(e)}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(z2))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-test1"]],decls:13,vars:0,consts:[[1,"product"],["src","https://i.imgur.com/EHyR2nP.png","alt","The cover of Stubborn Attachments"],[1,"description"],["action","/create-checkout-session","method","POST"],["type","submit","id","checkout-button"]],template:function(e,o){1&e&&(s._UZ(0,"head"),s.TgZ(1,"body")(2,"section")(3,"div",0),s._UZ(4,"img",1),s.TgZ(5,"div",2)(6,"h3"),s._uU(7,"Stubborn Attachments"),s.qZA(),s.TgZ(8,"h5"),s._uU(9,"$20.00"),s.qZA()()(),s.TgZ(10,"form",3)(11,"button",4),s._uU(12,"Checkout"),s.qZA()()()())},dependencies:[D1,x1,Ky]}),i})(),Cpe=(()=>{class i{constructor(e){this.authService=e}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-forgot-password"]],decls:15,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["type","button","routerLink","/login",1,"btn","btn-primary"]],template:function(e,o){if(1&e){const a=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Reset Password"),s.qZA(),s.TgZ(5,"p",3),s._uU(6,"Please enter your email address to request a password reset."),s.qZA(),s.TgZ(7,"div",4),s._UZ(8,"input",5,6),s.qZA(),s.TgZ(10,"div",4)(11,"input",7),s.NdJ("click",function(){s.CHM(a);const c=s.MAs(9);return s.KtG(o.authService.forgotPassword(c.value))}),s.qZA()()(),s.TgZ(12,"div",8)(13,"button",9),s._uU(14,"Log In"),s.qZA()()()()}},dependencies:[JM]}),i})();function Tpe(i,t){if(1&i&&(s.TgZ(0,"div",4)(1,"p",9),s._uU(2,"We have sent a confirmation email to "),s.TgZ(3,"strong"),s._uU(4),s.qZA(),s._uU(5,"."),s.qZA(),s.TgZ(6,"p",9),s._uU(7,"Please check your email and click on the link to verfiy your email address."),s.qZA()()),2&i){const e=t.ngIf;s.xp6(4),s.Oqu(e.email)}}let Epe=(()=>{class i{constructor(e,o){this.authService=e,this.route=o}ngOnInit(){}goToSignIn(){this.route.navigate(["/login"])}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Cu),s.Y36(tr))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-verify-email"]],decls:13,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock","header"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-center"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s._uU(4,"Thank You for Registering"),s.qZA(),s.YNc(5,Tpe,8,1,"div",3),s.TgZ(6,"div",4)(7,"button",5),s.NdJ("click",function(){return o.authService.sendEmailForVerification()}),s._UZ(8,"i",6),s._uU(9," Resend Verification Email "),s.qZA()()(),s.TgZ(10,"div",7)(11,"button",8),s.NdJ("click",function(){return o.goToSignIn()}),s._uU(12,"Sign in"),s.qZA()()()()),2&e&&(s.xp6(5),s.Q6J("ngIf",o.authService.userData))},dependencies:[zi],styles:[".header[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;justify-content:center!important;justify-items:center!important}"]}),i})(),xpe=(()=>{class i{constructor(){this.url="",this.lat=0,this.lng=0}ngOnInit(){}getLocation(){navigator}showError(e){let o=document.getElementById("demo");switch(e.code){case e.PERMISSION_DENIED:o.innerHTML="User denied the request for Geolocation.";break;case e.POSITION_UNAVAILABLE:o.innerHTML="Location information is unavailable.";break;case e.TIMEOUT:o.innerHTML="The request to get user location timed out.";break;case e.UNKNOWN_ERROR:o.innerHTML="An unknown error occurred."}}getWeatherData(){var e=this;return(0,st.Z)(function*(){document.getElementById("weather");try{let l=yield(yield fetch(e.url,{method:"GET"})).json();e.weatherData=l,e.temperatureDefault=l.main.temp,e.temperatureFeels=l.main.feels_like,e.temperature=(parseFloat(l.main.temp)-273.15).toFixed(2),e.temperatureFeels=(parseFloat(e.temperatureFeels)-273.15).toFixed(2)}catch{console.error("error")}})()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-test2"]],decls:10,vars:3,consts:[[3,"click"],["id","demo"],["id","weather"]],template:function(e,o){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return o.getLocation()}),s._uU(1,"Get current location and weather data"),s.qZA(),s.TgZ(2,"div"),s._UZ(3,"p",1),s.TgZ(4,"p",2),s._uU(5),s.qZA(),s.TgZ(6,"p",2),s._uU(7),s.qZA(),s.TgZ(8,"p",2),s._uU(9),s.qZA()()),2&e&&(s.xp6(5),s.hij(" Temperature in Kelvin = ",o.temperatureDefault,""),s.xp6(2),s.hij(" Temperature in Degrees Celcius = ",o.temperature,""),s.xp6(2),s.hij(" Feels like = ",o.temperatureFeels,""))}}),i})();q(5945);const nD={_origin:"https://api.emailjs.com"};class Sz{constructor(t){this.status=t.status,this.text=t.responseText}}const Mpe_sendForm=(i,t,e,o)=>{const a=o||nD._userID,l=(i=>{let t;if(t="string"==typeof i?document.querySelector(i):i,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(e);((i,t,e)=>{if(!i)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(a,i,t);const c=new FormData(l);return c.append("lib_version","3.6.2"),c.append("service_id",i),c.append("template_id",t),c.append("user_id",a),((i,t,e={})=>new Promise((o,a)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:c})=>{const g=new Sz(c);200===g.status||"OK"===g.text?o(g):a(g)}),l.addEventListener("error",({target:c})=>{a(new Sz(c))}),l.open("POST",nD._origin+i,!0),Object.keys(e).forEach(c=>{l.setRequestHeader(c,e[c])}),l.send(t)}))("/api/v1.0/email/send-form",c)};let Ape=(()=>{class i{constructor(e){this.builder=e}ngOnInit(){}sendEmail(e){e.preventDefault(),Mpe_sendForm("service_gy7oluz","template_lzghp49",e.target,"G6SN62v0YaDbxTNIQ").then(o=>{document.getElementsByName("contact-form")[0].reset(),console.log(o.text)},o=>{console.log(o.text)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(PH))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-contact-form"]],decls:29,vars:0,consts:[[1,"container"],[1,"row"],[1,"col","align-self-center"],[1,"text-center"],["id","myForm","name","contact-form",3,"submit"],[1,"form-group"],["for","name"],["type","name","name","name","id","name","placeholder","enter your name",1,"form-control"],["name",""],["for","email"],["type","email","name","email","id","email","placeholder","enter your email",1,"form-control"],["email",""],["for","subject"],["type","text","name","subject","id","subject","placeholder","enter email subject",1,"form-control"],["subject",""],["for","message"],["id","message","name","message","rows","5",1,"form-control"],["message",""],["type","submit",1,"btn","btn-primary"]],template:function(e,o){1&e&&(s._UZ(0,"app-header-normal"),s.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),s._uU(5,"Contact Us"),s.qZA(),s.TgZ(6,"form",4),s.NdJ("submit",function(l){return o.sendEmail(l)}),s.TgZ(7,"div",5)(8,"label",6),s._uU(9,"Name"),s.qZA(),s._UZ(10,"input",7,8),s.qZA(),s.TgZ(12,"div",5)(13,"label",9),s._uU(14,"Email address"),s.qZA(),s._UZ(15,"input",10,11),s.qZA(),s.TgZ(17,"div",5)(18,"label",12),s._uU(19,"Subject"),s.qZA(),s._UZ(20,"input",13,14),s.qZA(),s.TgZ(22,"div",5)(23,"label",15),s._uU(24,"Message"),s.qZA(),s._UZ(25,"textarea",16,17),s.qZA(),s.TgZ(27,"button",18),s._uU(28,"Submit"),s.qZA()()()()())},dependencies:[D1,x1,Ky,sw],styles:[".contact-form-wrapper[_ngcontent-%COMP%]{padding:100px 0}.contact-form[_ngcontent-%COMP%]{padding:30px 40px;background-color:#fff;border-radius:12px;max-width:400px}.contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.contact-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .form-text-area[_ngcontent-%COMP%]{background-color:#f0f4f5;height:50px;padding-left:16px}.contact-form[_ngcontent-%COMP%]   .form-text-area[_ngcontent-%COMP%]{background-color:#f0f4f5;height:auto;padding-left:16px}.contact-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#aeb4b9;font-weight:500;opacity:1}.contact-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:-ms-input-placeholder{color:#aeb4b9;font-weight:500}.contact-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::-ms-input-placeholder{color:#aeb4b9;font-weight:500}.contact-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#f33fb0;box-shadow:inset 0 1px 1px #00000012,0 0 8px #f33fb0}.contact-form[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-weight:500}.contact-form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#aeb4b9;font-size:14px;text-align:center}.contact-form[_ngcontent-%COMP%]   .submit-button-wrapper[_ngcontent-%COMP%]{text-align:center}.contact-form[_ngcontent-%COMP%]   .submit-button-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-radius:4px;background-color:#f23292;color:#fff;text-transform:uppercase;padding:10px 60px;font-weight:500;letter-spacing:2px}.contact-form[_ngcontent-%COMP%]   .submit-button-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background-color:#d30069}"]}),i})();const kpe=function(){return["/home"]};let Ope=(()=>{class i{constructor(e){this._Activatedroute=e}ngOnInit(){this._Activatedroute.paramMap.subscribe(c=>{this.item=c.get("item"),console.log("user id = "+this.item)}),document.getElementById(this.item).style.display="inline",[].push(!0),this.visibles=!0;const o=(c,g,_)=>{_?(console.log("run set visible is true"),c.classList.add("selected")):(console.log("run set visible is false"),c.classList.remove("selected")),g.setAttribute("visible",_)},a=document.querySelector("#"+this.item),l=document.querySelector("."+this.item+"-entity");o(a,l,this.visibles),a?.addEventListener("click",()=>{this.visibles=!this.visibles,o(a,l,this.visibles)})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(xd))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-test-ar"]],decls:47,vars:2,consts:[[1,"example-container"],[1,"back"],[3,"routerLink"],["id","backBtn",1,"back-btn"],[1,"options-panel"],["id","hat1","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/hat/thumbnail.png",2,"display","none"],["id","hat2","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/hat2/thumbnail.png",2,"display","none"],["id","glasses1","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/glasses/thumbnail.png",2,"display","none"],["id","glasses2","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/glasses2/thumbnail.png",2,"display","none"],["id","earring","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/earring/thumbnail.png",2,"display","none"],["id","hat","src","../../../assets/img/images/product/bucket_hat.jpeg",2,"display","none"],["id","headphone","src","../../../assets/img/models/headphone/headphone.png",2,"display","none","background-color","#fff"],["id","necklace","src","../../../assets/img/models/necklace/necklace.png",2,"display","none","background-color","#fff"],["mindar-face","","embedded","","color-space","sRGB","renderer","colorManagement: true, physicallyCorrectLights","vr-mode-ui","enabled: false","device-orientation-permission-ui","enabled: false"],["id","headModel","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/sparkar/headOccluder.glb"],["id","glassesModel","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/glasses/scene.gltf"],["id","glassesModel2","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/glasses2/scene.gltf"],["id","hatModel","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/hat/scene.gltf"],["id","hatModel2","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/hat2/scene.gltf"],["id","earringModel","src","https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/examples/face-tracking/assets/earring/scene.gltf"],["id","hatModel3","src","../../../assets/img/models/bucket hat/hat.gltf"],["id","headphoneModel","src","../../../assets/img/models/headphone/scene.gltf"],["id","necklaceModel","src","../../../assets/img/models/neck/scene.gltf"],["active","false","position","0 0 0"],["mindar-face-target","anchorIndex: 168"],["mindar-face-occluder","","position","0 -0.3 0.15","rotation","0 0 0","scale","0.065 0.065 0.065","src","#headModel"],["mindar-face-target","anchorIndex: 10"],["rotation","0 -0 0","position","0 1.0 -0.5","scale","0.35 0.35 0.35","src","#hatModel","visible","false",1,"hat1-entity"],["rotation","0 -0 0","position","0 -0.2 -0.5","scale","0.008 0.008 0.008","src","#hatModel2","visible","false",1,"hat2-entity"],["rotation","0 -0 0","position","0 0 0","scale","0.01 0.01 0.01","src","#glassesModel","visible","false",1,"glasses1-entity"],["rotation","0 -90 0","position","0 -0.3 0","scale","0.6 0.6 0.6","src","#glassesModel2","visible","false",1,"glasses2-entity"],["mindar-face-target","anchorIndex: 127"],["rotation","-0.1 -0 0","position","0 -0.3 -0.3","scale","0.05 0.05 0.05","src","#earringModel","visible","false",1,"earring-entity"],["mindar-face-target","anchorIndex: 356"],["rotation","0.1 -0 0","position","0 -0.3 -0.3","scale","0.05 0.05 0.05","src","#earringModel","visible","false",1,"earring-entity"],["rotation","0 -0 0","position","0.035 -1 -0.7","scale","0.007 0.0075 0.008","src","#hatModel3","visible","false",1,"hat-entity"],["rotation","0 -90 0","position","0 -0.01 -0.4","scale","0.25 0.25 0.25","src","#headphoneModel","visible","false",1,"headphone-entity"],["rotation","0 0 0","position","0.1 -1.9 -1","scale","0.003 0.003 0.003","src","#necklaceModel","visible","false",1,"necklace-entity"]],template:function(e,o){1&e&&(s.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"a",2)(4,"button",3),s._uU(5,"\u2b05\ufe0f Back"),s.qZA()()(),s.TgZ(6,"div",4),s._UZ(7,"img",5)(8,"img",6)(9,"img",7)(10,"img",8)(11,"img",9)(12,"img",10)(13,"img",11)(14,"img",12),s.qZA(),s.TgZ(15,"a-scene",13)(16,"a-assets"),s._UZ(17,"a-asset-item",14)(18,"a-asset-item",15)(19,"a-asset-item",16)(20,"a-asset-item",17)(21,"a-asset-item",18)(22,"a-asset-item",19)(23,"a-asset-item",20)(24,"a-asset-item",21)(25,"a-asset-item",22),s.qZA(),s._UZ(26,"a-camera",23),s.TgZ(27,"a-entity",24),s._UZ(28,"a-gltf-model",25),s.qZA(),s.TgZ(29,"a-entity",26),s._UZ(30,"a-gltf-model",27),s.qZA(),s.TgZ(31,"a-entity",26),s._UZ(32,"a-gltf-model",28),s.qZA(),s.TgZ(33,"a-entity",24),s._UZ(34,"a-gltf-model",29),s.qZA(),s.TgZ(35,"a-entity",24),s._UZ(36,"a-gltf-model",30),s.qZA(),s.TgZ(37,"a-entity",31),s._UZ(38,"a-gltf-model",32),s.qZA(),s.TgZ(39,"a-entity",33),s._UZ(40,"a-gltf-model",34),s.qZA(),s.TgZ(41,"a-entity",26),s._UZ(42,"a-gltf-model",35),s.qZA(),s.TgZ(43,"a-entity",26),s._UZ(44,"a-gltf-model",36),s.qZA(),s.TgZ(45,"a-entity",26),s._UZ(46,"a-gltf-model",37),s.qZA()()()()),2&e&&(s.xp6(3),s.Q6J("routerLink",s.DdM(1,kpe)))},dependencies:[Yx],styles:[".example-container[_ngcontent-%COMP%]{overflow:hidden;position:absolute;width:100%;height:100%}.options-panel[_ngcontent-%COMP%]{position:fixed;right:0;top:0;z-index:2;padding-right:10px;padding-top:10px}.options-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:solid 2px;width:50px;height:50px;object-fit:cover;cursor:pointer}.options-panel[_ngcontent-%COMP%]   img.selected[_ngcontent-%COMP%]{border-color:green}.back[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:2;margin:10px 0 0 10px;cursor:pointer}.back-btn[_ngcontent-%COMP%]{font-size:large;cursor:pointer}"]}),i})();function Rpe(i,t){1&i&&(s.TgZ(0,"h5"),s._uU(1,"Basic"),s.qZA())}function Ppe(i,t){if(1&i&&(s.TgZ(0,"div",5)(1,"div",6)(2,"div",7),s._UZ(3,"img",8),s.TgZ(4,"h4",9),s._uU(5),s.qZA(),s.TgZ(6,"div",10)(7,"h6",11),s._uU(8),s.qZA()()()()()),2&i){const e=t.$implicit;s.xp6(3),s.s9C("src",e.image,s.LSH),s.xp6(2),s.Oqu(e.name),s.xp6(3),s.hij("RM ",e.oldPrice,"")}}function Npe(i,t){1&i&&(s.TgZ(0,"h5"),s._uU(1,"Circular, AutoPlay, 3 Items per Page and Scroll by 1"),s.qZA())}function Fpe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6),s._UZ(2,"div",12),s.TgZ(3,"div",13),s.NdJ("click",function(){const l=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.initiateAR(l.id))}),s._UZ(4,"img",8),s.TgZ(5,"h4",9),s._uU(6),s.qZA(),s.TgZ(7,"div",10)(8,"h6",11),s._uU(9),s.qZA()()()()()}if(2&i){const e=t.$implicit;s.xp6(4),s.s9C("src",e.image,s.LSH),s.xp6(2),s.Oqu(e.name),s.xp6(3),s.hij("RM ",e.oldPrice,"")}}function Lpe(i,t){1&i&&(s.TgZ(0,"h5"),s._uU(1,"Vertical"),s.qZA())}function Vpe(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"div",5)(1,"div",6),s._UZ(2,"div",12),s.TgZ(3,"div",13),s.NdJ("click",function(){const l=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.initiateAR(l.id))}),s._UZ(4,"img",8),s.TgZ(5,"h4",9),s._uU(6),s.qZA(),s.TgZ(7,"h6",11),s._uU(8),s.qZA()()()()}if(2&i){const e=t.$implicit,o=s.oxw();s.xp6(4),s.s9C("src",e.image,s.LSH),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.hij("$",o.test,"")}}const Bpe=function(){return{"max-width":"400px","margin-top":"2em"}};let Hpe=(()=>{class i{constructor(e){this.router=e,this.test="24",this.products=[{id:0,image:"https://i5.walmartimages.com/asr/d9c259ca-bcda-48ab-aab1-b334ce0c6021_1.59243493546490ec8e379b64a36566ef.jpeg?odnHeight=612&odnWidth=612&odnBg=FFFFFF",name:"White Bucket Hat",oldPrice:30,newPrice:20,rating:5,numReviews:"1K"},{id:1,image:"../../../assets/img/models/clown-hat/clown_hat.png",name:"Clown Hat",oldPrice:39,newPrice:50,rating:4,numReviews:"200"},{id:2,image:"../../../assets/img/models/earing/earing.png",name:"Earring",oldPrice:85,newPrice:75,rating:4,numReviews:"150"},{id:3,image:"../../../assets/img/models/glasses/glasses.png",name:"Swagg Glasses",oldPrice:20,newPrice:13,rating:4,numReviews:"538"},{id:4,image:"../../../assets/img/models/headphone/headphone.png",name:"Headphones",oldPrice:160,newPrice:125,rating:5,numReviews:"1.7k"},{id:5,image:"../../../assets/img/models/necklace/necklace.png",name:"Necklace",oldPrice:90,newPrice:80,rating:5,numReviews:"727"}],this.responsiveOptions=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){}initiateAR(e){let o;0==e?o="hat":1==e?o="hat1":2==e?o="earring":3==e?o="glasses1":4==e?o="headphone":5==e&&(o="necklace"),window.open("../../../ar.html?item="+o,"_blank")}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(tr))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-test-carousel"]],decls:9,vars:17,consts:[[3,"value","numVisible","numScroll","circular","responsiveOptions"],["pTemplate","header"],["pTemplate","item"],["styleClass","custom-carousel",3,"value","numVisible","numScroll","circular","autoplayInterval","responsiveOptions"],["orientation","vertical","verticalViewPortHeight","250px",3,"value","numVisible","numScroll"],[1,"product-item"],[1,"product-item-content"],[1,"item-container"],["alt","productImage",1,"productImage",3,"src"],[1,"p-mb-1"],[1,"price-ar"],[1,"p-mt-0","p-mb-3"],[1,"p-mb-3"],[1,"item-container",3,"click"]],template:function(e,o){1&e&&(s.TgZ(0,"p-carousel",0),s.YNc(1,Rpe,2,0,"ng-template",1),s.YNc(2,Ppe,9,3,"ng-template",2),s.qZA(),s.TgZ(3,"p-carousel",3),s.YNc(4,Npe,2,0,"ng-template",1),s.YNc(5,Fpe,10,3,"ng-template",2),s.qZA(),s.TgZ(6,"p-carousel",4),s.YNc(7,Lpe,2,0,"ng-template",1),s.YNc(8,Vpe,9,3,"ng-template",2),s.qZA()),2&e&&(s.Q6J("value",o.products)("numVisible",3)("numScroll",3)("circular",!1)("responsiveOptions",o.responsiveOptions),s.xp6(3),s.Q6J("value",o.products)("numVisible",3)("numScroll",1)("circular",!0)("autoplayInterval",3e3)("responsiveOptions",o.responsiveOptions),s.xp6(3),s.Akn(s.DdM(16,Bpe)),s.Q6J("value",o.products)("numVisible",1)("numScroll",1))},dependencies:[j2,Da],styles:[".productImage[_ngcontent-%COMP%]{width:200px;height:200px}.item-container[_ngcontent-%COMP%]{border:1px solid #ccc}.item-container[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ccc}.item-container[_ngcontent-%COMP%]{padding:10px 15px}.price-ar[_ngcontent-%COMP%]{width:100%;display:flex;justify-items:end;justify-content:end}"]}),i})(),$k=(()=>{class i{constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){return 1==this.authService.isLoggedIn||(window.alert("Access Denied!"),this.router.navigate(["login"]),!1)}canActivateChild(e,o){return!0}canDeactivate(e,o,a,l){return!0}canLoad(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Cu),s.LFG(tr))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Upe=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:ste},{path:"user-profile",component:ez,canActivate:[$k]},{path:"register",component:cte},{path:"faq",component:dse},{path:"home",component:rz},{path:"home/:userid",component:rz},{path:"categories",component:oae},{path:"test",component:hae},{path:"product_details/:id/:type",component:gle},{path:"cart",component:Yle,canActivate:[$k]},{path:"payment",component:bpe,canActivate:[$k]},{path:"test1",component:wpe},{path:"user",component:ez},{path:"forgot-password",component:Cpe},{path:"verify-email",component:Epe},{path:"test2",component:xpe},{path:"contact",component:Ape},{path:"testAR/:item",component:Ope},{path:"testCarousel",component:Hpe},{path:"ar",component:iz}];let Y2=!1,Iz=(()=>{class i{constructor(e){this.router=e,this.subscription=e.events.subscribe(o=>{o instanceof VM&&(Y2=!e.navigated)})}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(tr))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,aB.forRoot(Upe),aB]}),i})(),jpe=(()=>{class i{constructor(){this.ticketInformation={personalInformation:{firstname:"",lastname:"",age:null},seatInformation:{class:null,wagon:null,seat:null},paymentInformation:{cardholderName:"",cardholderNumber:"",date:"",cvv:"",remember:!1}},this.paymentComplete=new ii.x,this.paymentComplete$=this.paymentComplete.asObservable()}getTicketInformation(){return this.ticketInformation}setTicketInformation(e){this.ticketInformation=e}complete(){this.paymentComplete.next(this.ticketInformation.personalInformation)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),zpe=(()=>{class i{constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){return this.authService.isLoggedIn&&(window.alert("Access denied!"),this.router.navigate(["user-profile"])),!0}canActivateChild(e,o){return!0}canDeactivate(e,o,a,l){return!0}canLoad(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Cu),s.LFG(tr))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Gpe=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function qpe(){return(0,s.f3M)(ve)}}),Zpe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Q2,K2=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const a=e.documentElement?e.documentElement.dir:null;this.value=function $pe(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Zpe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Gpe,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),iD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();function Wk(i){return Array.isArray(i)?i:[i]}function Cs(i){return null==i?"":"string"==typeof i?i:`${i}px`}try{Q2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Q2=!1}let lw,pf=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?bo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Q2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.Lbi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Kpe(){if(null==lw){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lw=!1,lw;if("scrollBehavior"in document.documentElement.style)lw=!0;else{const i=Element.prototype.scrollTo;lw=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return lw}function pv(i){return i.composedPath?i.composedPath()[0]:i.target}function eL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Rz=q(4408);const sD={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:o}=sD;o&&(t=o.requestAnimationFrame,e=o.cancelAnimationFrame);const a=t(l=>{e=void 0,i(l)});return new _1.w0(()=>e?.(a))},requestAnimationFrame(...i){const{delegate:t}=sD;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=sD;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var Pz=q(7565);new class ege extends Pz.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let a;t=t||o.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=o[0])&&t.id===e&&o.shift());if(this._active=!1,a){for(;(t=o[0])&&t.id===e&&o.shift();)t.unsubscribe();throw a}}}(class Xpe extends Rz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t._scheduled||(t._scheduled=sD.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(t,e,o);t.actions.some(a=>a.id===e)||(sD.cancelAnimationFrame(e),t._scheduled=void 0)}});let tL,nge=1;const Kk={};function Nz(i){return i in Kk&&(delete Kk[i],!0)}const ige={setImmediate(i){const t=nge++;return Kk[t]=!0,tL||(tL=Promise.resolve()),tL.then(()=>Nz(t)&&i()),t},clearImmediate(i){Nz(i)}},{setImmediate:rge,clearImmediate:oge}=ige,Jk={setImmediate(...i){const{delegate:t}=Jk;return(t?.setImmediate||rge)(...i)},clearImmediate(i){const{delegate:t}=Jk;return(t?.clearImmediate||oge)(i)},delegate:void 0};new class age extends Pz.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let a;t=t||o.shift();do{if(a=t.execute(t.state,t.delay))break}while((t=o[0])&&t.id===e&&o.shift());if(this._active=!1,a){for(;(t=o[0])&&t.id===e&&o.shift();)t.unsubscribe();throw a}}}(class sge extends Rz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t._scheduled||(t._scheduled=Jk.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(t,e,o);t.actions.some(a=>a.id===e)||(Jk.clearImmediate(e),t._scheduled=void 0)}});function Fz(i,t=d1.z){return function cge(i){return(0,Go.e)((t,e)=>{let o=!1,a=null,l=null,c=!1;const g=()=>{if(l?.unsubscribe(),l=null,o){o=!1;const b=a;a=null,e.next(b)}c&&e.complete()},_=()=>{l=null,c&&e.complete()};t.subscribe((0,Ar.x)(e,b=>{o=!0,a=b,l||(0,Td.Xf)(i(b)).subscribe(l=(0,Ar.x)(e,g,_))},()=>{c=!0,(!o||!l||l.closed)&&e.complete()}))})}(()=>Tk(i,t))}let dge=(()=>{class i{constructor(e,o,a){this._ngZone=e,this._platform=o,this._scrolled=new ii.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new qi.y(o=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(Fz(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):fn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const a=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe(Zr(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,e)&&o.push(l)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let a=function aw(i){return i instanceof s.SBq?i.nativeElement:i}(o),l=e.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.R0b),s.LFG(pf),s.LFG(ve,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Qk=(()=>{class i{constructor(e,o,a){this._platform=e,this._change=new ii.x,this._changeListener=l=>{this._change.next(l)},this._document=a,o.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+o,height:a,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),a=e.documentElement,l=a.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||o.scrollY||a.scrollTop||0,left:-l.left||e.body.scrollLeft||o.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Fz(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(pf),s.LFG(s.R0b),s.LFG(ve,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),nL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[iD,tT,iD,tT]}),i})(),Dge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[nL]}),i})(),Gz=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Gz]}),i})();const qz=new Set;let oT,Vge=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Hge}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Bge(i){if(!qz.has(i))try{oT||(oT=document.createElement("style"),oT.setAttribute("type","text/css"),document.head.appendChild(oT)),oT.sheet&&(oT.sheet.insertRule(`@media ${i} {body{ }}`,0),qz.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(pf))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Hge(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Uge=(()=>{class i{constructor(e,o){this._mediaMatcher=e,this._zone=o,this._queries=new Map,this._destroySubject=new ii.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Zz(Wk(e)).some(a=>this._registerQuery(a).mql.matches)}observe(e){let l=Fx(Zz(Wk(e)).map(c=>this._registerQuery(c).observable));return l=h1(l.pipe(go(1)),l.pipe(function g2(i){return Zr((t,e)=>i<=e)}(1),GN(0))),l.pipe((0,dn.U)(c=>{const g={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:b})=>{g.matches=g.matches||_,g.breakpoints[b]=_}),g}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const o=this._mediaMatcher.matchMedia(e),l={observable:new qi.y(c=>{const g=_=>this._zone.run(()=>c.next(_));return o.addListener(g),()=>{o.removeListener(g)}}).pipe(zp(o),(0,dn.U)(({matches:c})=>({query:e,matches:c})),Br(this._destroySubject)),mql:o};return this._queries.set(e,l),l}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Vge),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Zz(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Xz="cdk-high-contrast-black-on-white",eG="cdk-high-contrast-white-on-black",gL="cdk-high-contrast-active";let tG=(()=>{class i{constructor(e,o){this._platform=e,this._document=o,this._breakpointSubscription=(0,s.f3M)(Uge).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const o=this._document.defaultView||window,a=o&&o.getComputedStyle?o.getComputedStyle(e):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(gL,Xz,eG),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?e.add(gL,Xz):2===o&&e.add(gL,eG)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(pf),s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tme=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(tG))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[pL]}),i})();const ome=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function rme(){return!0}});let vr=(()=>{class i{constructor(e,o,a){this._sanityChecks=o,this._document=a,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!eL()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(tG),s.LFG(ome,8),s.LFG(ve))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[iD,iD]}),i})(),dme=(()=>{class i{isErrorState(e,o){return!!(e&&e.invalid&&(e.touched||o&&o.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[vr,vr]}),i})(),_me=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[vr]}),i})(),uO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[cO,qn,vr,_me]}),i})(),Lme=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Dge,vr,vr]}),i})(),_L=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[cO,vr,vr]}),i})();class yL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Bme extends yL{constructor(t,e,o,a){super(),this.component=t,this.viewContainerRef=e,this.injector=o,this.componentFactoryResolver=a}}class fG extends yL{constructor(t,e,o,a){super(),this.templateRef=t,this.viewContainerRef=e,this.context=o,this.injector=a}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Hme extends yL{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class jme extends class Ume{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Bme?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof fG?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Hme?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,o,a,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=o,this._defaultInjector=a,this.attachDomPortal=c=>{const g=c.element,_=this._document.createComment("dom-portal");g.parentNode.insertBefore(_,g),this.outletElement.appendChild(g),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(g,_)})},this._document=l}attachComponentPortal(t){const o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let a;return t.viewContainerRef?(a=t.viewContainerRef.createComponent(o,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=o.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=t,a}attachTemplatePortal(t){let e=t.viewContainerRef,o=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return o.rootNodes.forEach(a=>this.outletElement.appendChild(a)),o.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(o);-1!==a&&e.remove(a)}),this._attachedPortal=t,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zme=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const pG=Kpe();class Gme{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Cs(-this._previousScrollPosition.left),t.style.top=Cs(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,o=t.style,a=this._document.body.style,l=o.scrollBehavior||"",c=a.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),pG&&(o.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pG&&(o.scrollBehavior=l,a.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,o=this._viewportRuler.getViewportSize();return e.scrollHeight>o.height||e.scrollWidth>o.width}}class qme{constructor(t,e,o,a){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=o,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gG{enable(){}disable(){}attach(){}}function vL(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function mG(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class Zme{constructor(t,e,o,a){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=o,this._config=a,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:a}=this._viewportRuler.getViewportSize();vL(e,[{width:o,height:a,bottom:a,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $me=(()=>{class i{constructor(e,o,a,l){this._scrollDispatcher=e,this._viewportRuler=o,this._ngZone=a,this.noop=()=>new gG,this.close=c=>new qme(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Gme(this._viewportRuler,this._document),this.reposition=c=>new Zme(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=l}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(dge),s.LFG(Qk),s.LFG(s.R0b),s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class _G{constructor(t){if(this.scrollStrategy=new gG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const o of e)void 0!==t[o]&&(this[o]=t[o])}}}class Wme{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let yG=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const o=this._attachedOverlays.indexOf(e);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Yme=(()=>{class i extends yG{constructor(e,o){super(e),this._ngZone=o,this._keydownListener=a=>{const l=this._attachedOverlays;for(let c=l.length-1;c>-1;c--)if(l[c]._keydownEvents.observers.length>0){const g=l[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(a)):g.next(a);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve),s.LFG(s.R0b,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Kme=(()=>{class i extends yG{constructor(e,o,a){super(e),this._platform=o,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=pv(l)},this._clickListener=l=>{const c=pv(l),g="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const T=_[b];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(c)||T.overlayElement.contains(g))break;const D=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(l)):D.next(l)}}}add(e){if(super.add(e),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve),s.LFG(pf),s.LFG(s.R0b,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vG=(()=>{class i{constructor(e,o){this._platform=o,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||eL()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].remove()}const o=this._document.createElement("div");o.classList.add(e),eL()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ve),s.LFG(pf))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Jme{constructor(t,e,o,a,l,c,g,_,b,T=!1){this._portalOutlet=t,this._host=e,this._pane=o,this._config=a,this._ngZone=l,this._keyboardDispatcher=c,this._document=g,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new ii.x,this._attachments=new ii.x,this._detachments=new ii.x,this._locationChanges=_1.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new ii.x,this._outsidePointerEvents=new ii.x,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(go(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Cs(this._config.width),t.height=Cs(this._config.height),t.minWidth=Cs(this._config.minWidth),t.minHeight=Cs(this._config.minHeight),t.maxWidth=Cs(this._config.maxWidth),t.maxHeight=Cs(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,o){const a=Wk(e||[]).filter(l=>!!l);a.length&&(o?t.classList.add(...a):t.classList.remove(...a))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Br((0,Gy.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bG="cdk-overlay-connected-position-bounding-box",Qme=/([A-Za-z%]+)$/;class Xme{constructor(t,e,o,a,l){this._viewportRuler=e,this._document=o,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ii.x,this._resizeSubscription=_1.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(bG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,o=this._viewportRect,a=this._containerRect,l=[];let c;for(let g of this._preferredPositions){let _=this._getOriginPoint(t,a,g),b=this._getOverlayPoint(_,e,g),T=this._getOverlayFit(b,e,o,g);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,_);this._canFitWithFlexibleDimensions(T,b,o)?l.push({position:g,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,g)}):(!c||c.overlayFit.visibleArea<T.visibleArea)&&(c={overlayFit:T,overlayPoint:b,originPoint:_,position:g,overlayRect:e})}if(l.length){let g=null,_=-1;for(const b of l){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>_&&(_=T,g=b)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cw(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,o){let a,l;if("center"==o.originX)a=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,g=this._isRtl()?t.left:t.right;a="start"==o.originX?c:g}return e.left<0&&(a-=e.left),l="center"==o.originY?t.top+t.height/2:"top"==o.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:a,y:l}}_getOverlayPoint(t,e,o){let a,l;return a="center"==o.overlayX?-e.width/2:"start"===o.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==o.overlayY?-e.height/2:"top"==o.overlayY?0:-e.height,{x:t.x+a,y:t.y+l}}_getOverlayFit(t,e,o,a){const l=CG(e);let{x:c,y:g}=t,_=this._getOffset(a,"x"),b=this._getOffset(a,"y");_&&(c+=_),b&&(g+=b);let O=0-g,F=g+l.height-o.height,j=this._subtractOverflows(l.width,0-c,c+l.width-o.width),X=this._subtractOverflows(l.height,O,F),se=j*X;return{visibleArea:se,isCompletelyWithinViewport:l.width*l.height===se,fitsInViewportVertically:X===l.height,fitsInViewportHorizontally:j==l.width}}_canFitWithFlexibleDimensions(t,e,o){if(this._hasFlexibleDimensions){const a=o.bottom-e.y,l=o.right-e.x,c=wG(this._overlayRef.getConfig().minHeight),g=wG(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=g&&g<=l;return(t.fitsInViewportVertically||null!=c&&c<=a)&&b}return!1}_pushOverlayOnScreen(t,e,o){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const a=CG(e),l=this._viewportRect,c=Math.max(t.x+a.width-l.width,0),g=Math.max(t.y+a.height-l.height,0),_=Math.max(l.top-o.top-t.y,0),b=Math.max(l.left-o.left-t.x,0);let T=0,D=0;return T=a.width<=l.width?b||-c:t.x<this._viewportMargin?l.left-o.left-t.x:0,D=a.height<=l.height?_||-g:t.y<this._viewportMargin?l.top-o.top-t.y:0,this._previousPushAmount={x:T,y:D},{x:t.x+T,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const o=this._getScrollVisibility(),a=new Wme(t,o);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,a=t.overlayY;o="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${o} ${a}`}_calculateBoundingBoxRect(t,e){const o=this._viewportRect,a=this._isRtl();let l,c,g,T,D,O;if("top"===e.overlayY)c=t.y,l=o.height-c+this._viewportMargin;else if("bottom"===e.overlayY)g=o.height-t.y+2*this._viewportMargin,l=o.height-g+this._viewportMargin;else{const F=Math.min(o.bottom-t.y+o.top,t.y),j=this._lastBoundingBoxSize.height;l=2*F,c=t.y-F,l>j&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-j/2)}if("end"===e.overlayX&&!a||"start"===e.overlayX&&a)O=o.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!a||"end"===e.overlayX&&a)D=t.x,T=o.right-t.x;else{const F=Math.min(o.right-t.x+o.left,t.x),j=this._lastBoundingBoxSize.width;T=2*F,D=t.x-F,T>j&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-j/2)}return{top:c,left:D,bottom:g,right:O,width:T,height:l}}_setBoundingBoxStyles(t,e){const o=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;a.height=Cs(o.height),a.top=Cs(o.top),a.bottom=Cs(o.bottom),a.width=Cs(o.width),a.left=Cs(o.left),a.right=Cs(o.right),a.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",a.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=Cs(l)),c&&(a.maxWidth=Cs(c))}this._lastBoundingBoxSize=o,cw(this._boundingBox.style,a)}_resetBoundingBoxStyles(){cw(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cw(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const o={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(a){const T=this._viewportRuler.getViewportScrollPosition();cw(o,this._getExactOverlayY(e,t,T)),cw(o,this._getExactOverlayX(e,t,T))}else o.position="static";let g="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(g+=`translateX(${_}px) `),b&&(g+=`translateY(${b}px)`),o.transform=g.trim(),c.maxHeight&&(a?o.maxHeight=Cs(c.maxHeight):l&&(o.maxHeight="")),c.maxWidth&&(a?o.maxWidth=Cs(c.maxWidth):l&&(o.maxWidth="")),cw(this._pane.style,o)}_getExactOverlayY(t,e,o){let a={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,o)),"bottom"===t.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=Cs(l.y),a}_getExactOverlayX(t,e,o){let c,a={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,o)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=Cs(l.x),a}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),o=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mG(t,o),isOriginOutsideView:vL(t,o),isOverlayClipped:mG(e,o),isOverlayOutsideView:vL(e,o)}}_subtractOverflows(t,...e){return e.reduce((o,a)=>o-Math.max(a,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+t-this._viewportMargin,bottom:o.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Wk(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,o=t.height||0;return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e,height:o,width:e}}}function cw(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function wG(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(Qme);return e&&"px"!==e?null:parseFloat(t)}return i||null}function CG(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const TG="cdk-global-overlay-wrapper";class e_e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(TG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:c,maxHeight:g}=o,_=!("100%"!==a&&"100vw"!==a||c&&"100%"!==c&&"100vw"!==c),b=!("100%"!==l&&"100vh"!==l||g&&"100%"!==g&&"100vh"!==g),T=this._xPosition,D=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let F="",j="",X="";_?X="flex-start":"center"===T?(X="center",O?j=D:F=D):O?"left"===T||"end"===T?(X="flex-end",F=D):("right"===T||"start"===T)&&(X="flex-start",j=D):"left"===T||"start"===T?(X="flex-start",F=D):("right"===T||"end"===T)&&(X="flex-end",j=D),t.position=this._cssPosition,t.marginLeft=_?"0":F,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":j,e.justifyContent=X,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,o=e.style;e.classList.remove(TG),o.justifyContent=o.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let t_e=(()=>{class i{constructor(e,o,a,l){this._viewportRuler=e,this._document=o,this._platform=a,this._overlayContainer=l}global(){return new e_e}flexibleConnectedTo(e){return new Xme(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Qk),s.LFG(ve),s.LFG(pf),s.LFG(vG))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),n_e=0,uw=(()=>{class i{constructor(e,o,a,l,c,g,_,b,T,D,O,F){this.scrollStrategies=e,this._overlayContainer=o,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=c,this._injector=g,this._ngZone=_,this._document=b,this._directionality=T,this._location=D,this._outsideClickDispatcher=O,this._animationsModuleType=F}create(e){const o=this._createHostElement(),a=this._createPaneElement(o),l=this._createPortalOutlet(a),c=new _G(e);return c.direction=c.direction||this._directionality.value,new Jme(l,o,a,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const o=this._document.createElement("div");return o.id="cdk-overlay-"+n_e++,o.classList.add("cdk-overlay-pane"),e.appendChild(o),o}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new jme(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG($me),s.LFG(vG),s.LFG(s._Vd),s.LFG(t_e),s.LFG(Yme),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(ve),s.LFG(K2),s.LFG(Ke),s.LFG(Kme),s.LFG(s.QbO,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const o_e={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[uw],useFactory:function r_e(i){return()=>i.scrollStrategies.reposition()}};let dO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[uw,o_e],imports:[iD,zme,nL,nL]}),i})(),bL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[qn,vr,pL,vr]}),i})();const g_e={provide:new s.OlP("mat-select-scroll-strategy"),deps:[uw],useFactory:function p_e(i){return()=>i.scrollStrategies.reposition()}};let m_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[g_e],imports:[qn,dO,uO,vr,tT,bL,uO,vr]}),i})();const b_e={provide:new s.OlP("mat-tooltip-scroll-strategy"),deps:[uw],useFactory:function v_e(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let C_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[b_e],imports:[tme,qn,dO,vr,vr,tT]}),i})(),wL=(()=>{class i{constructor(){this.changes=new ii.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,o,a)=>{if(0==a||0==o)return`0 of ${a}`;const l=e*o;return`${l+1} \u2013 ${l<(a=Math.max(a,0))?Math.min(l+o,a):l+o} of ${a}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const D_e={provide:wL,deps:[[new s.FiY,new s.tp0,wL]],useFactory:function S_e(i){return i||new wL}};let I_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[D_e],imports:[qn,_L,m_e,C_e,vr]}),i})(),CL=(()=>{class i{constructor(){this.changes=new ii.x}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const A_e={provide:CL,deps:[[new s.FiY,new s.tp0,CL]],useFactory:function M_e(i){return i||new CL}};let k_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[A_e],imports:[qn,vr]}),i})(),O_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[qn]]}),i})(),xG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[vr,vr]}),i})();const F_e={provide:new s.OlP("mat-menu-scroll-strategy"),deps:[uw],useFactory:function N_e(i){return()=>i.scrollStrategies.reposition()}};let DG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[F_e],imports:[qn,vr,cO,dO,tT,vr]}),i})(),IG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[vr,vr]}),i})(),RG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[vr,vr]}),i})(),j_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[_L,DG,IG,RG,xG,_L,DG,IG,RG,xG]}),i})(),FG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),tye=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[cO,vr,pL,FG,vr,FG]}),i})();const oye={provide:new s.OlP("mat-autocomplete-scroll-strategy"),deps:[uw],useFactory:function rye(i){return()=>i.scrollStrategies.reposition()}};let cye=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[oye],imports:[dO,uO,vr,qn,tT,uO,vr]}),i})(),VG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),uye=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[dme],imports:[VG,bL,vr,VG,bL]}),i})();new s.OlP("basePath");class br{constructor(t={}){this.apiKeys=t.apiKeys,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.withCredentials=t.withCredentials,this.encoder=t.encoder,this.credentials=t.credentials?t.credentials:{},this.credentials.apikey||(this.credentials.apikey=()=>{if(null!=this.apiKeys)return this.apiKeys.apikey||this.apiKeys["X-ElasticEmail-ApiKey"]})}selectHeaderContentType(t){if(0===t.length)return;const e=t.find(o=>this.isJsonMime(o));return void 0===e?t[0]:e}selectHeaderAccept(t){if(0===t.length)return;const e=t.find(o=>this.isJsonMime(o));return void 0===e?t[0]:e}isJsonMime(t){const e=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==t&&(e.test(t)||"application/json-patch+json"===t.toLowerCase())}lookupCredential(t){const e=this.credentials[t];return"function"==typeof e?e():e}}let dye=(()=>{class i{constructor(e,o){if(e)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!o)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static forRoot(e){return{ngModule:i,providers:[{provide:br,useFactory:e}]}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(i,12),s.LFG(ko,8))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[],imports:[[]]}),i})();var fye=q(655),EL=q(6148);class dD{constructor(t){return t}}const BG="analytics",HG=wt.nk.async,gye=(0,wt.u3)(EL.IH,!0),mye=(0,wt.u3)(EL.Kz,!0),_ye=(0,wt.u3)(EL.Iv,!0);let xL=(()=>{class i{constructor(e,o,a){let l;this.disposables=[],(0,Tr.KN)("angularfire",wt.q4.full,"user-tracking"),this.initialized=o.runOutsideAngular(()=>new Promise(c=>{l=c})),HG().then(()=>{const c=a.get(dD);c?this.disposables=[Nv(e).subscribe(g=>{_ye(c,g?.uid),l()})]:l()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Xc),s.LFG(s.R0b),s.LFG(s.zs3))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const UG="firebase_screen_id",SL="outlet",hD="screen_class",jG="screen_name";let Mye=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const DL={},Aye=i=>{const t=[i[hD],i[SL]].join("#");if(DL.hasOwnProperty(t))return DL[t];{const e=Mye++;return DL[t]=e,e}};let zG=(()=>{class i{constructor(e,o,a,l,c,g){(0,Tr.KN)("angularfire",wt.q4.full,"screen-tracking"),HG().then(()=>{const _=g.get(dD);!e||!_||l.runOutsideAngular(()=>{this.disposable=((i,t,e)=>i.events.pipe(Zr(a=>a instanceof w3)).pipe(kr(a=>{var l;const g=(null===(l=i.parseUrl(i.url.replace(/(?:\().+(?:\))/g,F=>F.replace("://",":///"))).root.children[a.snapshot.outlet])||void 0===l?void 0:l.toString())||"",_=i.routerState.root.children.map(F=>F).find(F=>F.outlet===a.snapshot.outlet);if(!_)return fn(null);let b=_;for(;b.firstChild;)b=b.firstChild;const T=b.pathFromRoot.map(F=>{var j;return null===(j=F.routeConfig)||void 0===j?void 0:j.path}).filter(F=>F).join("/")||"/",D={[jG]:T,page_path:`/${g}`,firebase_event_origin:"auto",firebase_screen:T,[SL]:a.snapshot.outlet};t&&(D.page_title=t.getTitle());let O=_.component;if(O){if(O===kP){let F=a.snapshot;for(;F.firstChild;)F=F.firstChild;O=F.component}}else O=a.snapshot.component;if("string"==typeof O)return fn(Object.assign(Object.assign({},D),{[hD]:O}));if(O){const F=e.resolveComponentFactory(O);return fn(Object.assign(Object.assign({},D),{[hD]:F.selector}))}return fn(null)}),Zr(a=>!!a),(0,dn.U)(a=>Object.assign({firebase_screen_class:a[hD],[UG]:Aye(a)},a)),function hye(i,t,e,o){return(0,Go.e)((a,l)=>{let c;t&&"function"!=typeof t?({duration:e,element:c,connector:o}=t):c=t;const g=new Map,_=j=>{g.forEach(j),j(l)},b=j=>_(X=>X.error(j));let T=0,D=!1;const O=new Ar.Q(l,j=>{try{const X=i(j);let se=g.get(X);if(!se){g.set(X,se=o?o():new ii.x);const ke=function F(j,X){const se=new qi.y(ke=>{T++;const We=X.subscribe(ke);return()=>{We.unsubscribe(),0==--T&&D&&O.unsubscribe()}});return se.key=j,se}(X,se);if(l.next(ke),e){const We=(0,Ar.x)(se,()=>{se.complete(),We?.unsubscribe()},void 0,void 0,()=>g.delete(X));O.add((0,Td.Xf)(e(ke)).subscribe(We))}}se.next(c?c(j):j)}catch(X){b(X)}},()=>_(j=>j.complete()),b,()=>g.clear(),()=>(D=!0,0===T));a.subscribe(O)})}(a=>a[SL]),(0,Ws.z)(a=>a.pipe(I0((l,c)=>JSON.stringify(l)===JSON.stringify(c)),zp(void 0),SM(),(0,dn.U)(([l,c])=>l?Object.assign({firebase_previous_class:l[hD],firebase_previous_screen:l[jG],firebase_previous_id:l[UG]},c):c)))))(e,o,a).pipe(kr(b=>(0,fye.mG)(this,void 0,void 0,function*(){return c&&(yield c.initialized),mye(_,"screen_view",b)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(tr,8),s.LFG(cl,8),s.LFG(s._Vd),s.LFG(s.R0b),s.LFG(xL,8),s.LFG(s.zs3))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const IL=new s.OlP("angularfire2.analytics-instances");function Rye(i){return(t,e)=>{if(!wt.nk.sync())return null;const o=t.runOutsideAngular(()=>i(e));return new dD(o)}}const Pye={provide:class pye{constructor(){return(0,wt.vb)(BG)}},deps:[[new s.FiY,IL]]},Nye={provide:dD,useFactory:function Oye(i,t){if(!wt.nk.sync())return null;const e=(0,wt.JM)(BG,i,t);return e&&new dD(e)},deps:[[new s.FiY,IL],$i]};let Fye=(()=>{class i{constructor(e,o){(0,Tr.KN)("angularfire",wt.q4.full,"analytics")}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(zG,8),s.LFG(xL,8))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Nye,Pye,{provide:s.ip1,useValue:wt.nk.async,multi:!0}]}),i})();function Lye(i,...t){return{ngModule:Fye,providers:[{provide:IL,useFactory:Rye(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,...t]}]}}const AL="functions";class jye{constructor(t,e,o){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(a=>this.auth=a,()=>{}),this.messaging||e.get().then(a=>this.messaging=a,()=>{}),this.appCheck||o.get().then(a=>this.appCheck=a,()=>{})}getAuthToken(){var t=this;return(0,st.Z)(function*(){if(t.auth)try{return(yield t.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var t=this;return(0,st.Z)(function*(){if(t.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield t.messaging.getToken()}catch{return}})()}getAppCheckToken(){var t=this;return(0,st.Z)(function*(){if(t.appCheck){const e=yield t.appCheck.getToken();return e.error?null:e.token}return null})()}getContext(){var t=this;return(0,st.Z)(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken()}})()}}const kL="us-central1";class Gye{constructor(t,e,o,a,l=kL,c){this.app=t,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new jye(e,o,a),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(l);this.customDomain=g.origin,this.region=kL}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(t){const e=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:null!==this.customDomain?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}}const $G="@firebase/functions";function eve(i=(0,Wn.getApp)(),t=kL){return(0,Wn._getProvider)((0,W.m9)(i),AL).getImmediate({identifier:t})}!function Xye(i,t){(0,Wn._registerComponent)(new Zn.wA(AL,(o,{instanceIdentifier:a})=>{const l=o.getProvider("app").getImmediate(),c=o.getProvider("auth-internal"),g=o.getProvider("messaging-internal"),_=o.getProvider("app-check-internal");return new Gye(l,c,g,_,a,i)},"PUBLIC").setMultipleInstances(!0)),(0,Wn.registerVersion)($G,"0.8.4",t),(0,Wn.registerVersion)($G,"0.8.4","esm2017")}(fetch.bind(self));class PL{constructor(t){return t}}const YG="functions",NL=new s.OlP("angularfire2.functions-instances");function ive(i){return(t,e)=>{const o=t.runOutsideAngular(()=>i(e));return new PL(o)}}const rve={provide:class tve{constructor(){return(0,wt.vb)(YG)}},deps:[[new s.FiY,NL]]},ove={provide:PL,useFactory:function nve(i,t){const e=(0,wt.JM)(YG,i,t);return e&&new PL(e)},deps:[[new s.FiY,NL],$i]};let sve=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"fn")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[ove,rve]}),i})();function ave(i,...t){return{ngModule:sve,providers:[{provide:NL,useFactory:ive(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,[new s.FiY,Ku],[new s.FiY,ua],...t]}]}}const lve=(0,wt.u3)(eve,!0);var cve=q(2375);class FL{constructor(t){return t}}const KG="messaging",LL=new s.OlP("angularfire2.messaging-instances");function hve(i){return(t,e)=>{if(!wt.n1.sync())return null;const o=t.runOutsideAngular(()=>i(e));return new FL(o)}}const fve={provide:class uve{constructor(){return(0,wt.vb)(KG)}},deps:[[new s.FiY,LL]]},pve={provide:FL,useFactory:function dve(i,t){if(!wt.n1.sync())return null;const e=(0,wt.JM)(KG,i,t);return e&&new FL(e)},deps:[[new s.FiY,LL],$i]};let gve=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"fcm")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[pve,fve,{provide:s.ip1,useValue:wt.n1.async,multi:!0}]}),i})();function mve(i,...t){return{ngModule:gve,providers:[{provide:LL,useFactory:hve(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,...t]}]}}const _ve=(0,wt.u3)(cve.KL,!0);q(2833);const JG="@firebase/performance",VL="0.5.12",BL="FB-PERF-TRACE-MEASURE",iq="@firebase/performance/config",rq="@firebase/performance/configexpire",oq="Performance",Aa=new W.LL("performance",oq,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),og=new gr.Yd(oq);let HL,sq,aq,jL;og.logLevel=gr.in.INFO;class Xs{constructor(t){if(this.window=t,!t)throw Aa.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,e,o){!this.performance||!this.performance.measure||this.performance.measure(t,e,o)}getEntriesByType(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]}getEntriesByName(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,W.zI)()?!!(0,W.hl)()||(og.info("IndexedDB is not supported by current browswer"),!1):(og.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(t,e){this.PerformanceObserver&&new this.PerformanceObserver(a=>{for(const l of a.getEntries())e(l)}).observe({entryTypes:[t]})}static getInstance(){return void 0===HL&&(HL=new Xs(sq)),HL}}function UL(){return aq}function lq(i,t){const e=i.length-t.length;if(e<0||e>1)throw Aa.create("invalid String merger input");const o=[];for(let a=0;a<i.length;a++)o.push(i.charAt(a)),t.length>a&&o.push(t.charAt(a));return o.join("")}class Au{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=lq("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=lq("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===jL&&(jL=new Au),jL}}var hw=(()=>(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.VISIBLE=1]="VISIBLE",i[i.HIDDEN=2]="HIDDEN"}(hw||(hw={})),hw))();const xve=["firebase_","google_","ga_"],Sve=new RegExp("^[a-zA-Z]\\w*$");function Mve(){const i=Xs.getInstance().navigator;return"serviceWorker"in i?i.serviceWorker.controller?2:3:1}function cq(){switch(Xs.getInstance().document.visibilityState){case"visible":return hw.VISIBLE;case"hidden":return hw.HIDDEN;default:return hw.UNKNOWN}}function Ave(){const t=Xs.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function uq(i){var t;const e=null===(t=i.options)||void 0===t?void 0:t.appId;if(!e)throw Aa.create("no app id");return e}const gf={loggingEnabled:!0};const Hve="Could not fetch config, will use default configs";function dq(i){if(!i)return i;const t=Au.getInstance(),e=i.entries||{};return t.loggingEnabled=void 0!==e.fpr_enabled?"true"===String(e.fpr_enabled):gf.loggingEnabled,e.fpr_log_source?t.logSource=Number(e.fpr_log_source):gf.logSource&&(t.logSource=gf.logSource),e.fpr_log_endpoint_url?t.logEndPointUrl=e.fpr_log_endpoint_url:gf.logEndPointUrl&&(t.logEndPointUrl=gf.logEndPointUrl),e.fpr_log_transport_key?t.transportKey=e.fpr_log_transport_key:gf.transportKey&&(t.transportKey=gf.transportKey),void 0!==e.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(e.fpr_vc_network_request_sampling_rate):void 0!==gf.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=gf.networkRequestsSamplingRate),void 0!==e.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(e.fpr_vc_trace_sampling_rate):void 0!==gf.tracesSamplingRate&&(t.tracesSamplingRate=gf.tracesSamplingRate),t.logTraceAfterSampling=hq(t.tracesSamplingRate),t.logNetworkAfterSampling=hq(t.networkRequestsSamplingRate),i}function hq(i){return Math.random()<=i}let GL,zL=1;function fq(i){return zL=2,GL=GL||function Gve(i){return function qve(){const i=Xs.getInstance().document;return new Promise(t=>{if(i&&"complete"!==i.readyState){const e=()=>{"complete"===i.readyState&&(i.removeEventListener("readystatechange",e),t())};i.addEventListener("readystatechange",e)}else t()})}().then(()=>function Tve(i){const t=i.getId();return t.then(e=>{aq=e}),t}(i.installations)).then(t=>function Lve(i,t){const e=function Vve(){const i=Xs.getInstance().localStorage;if(!i)return;const t=i.getItem(rq);if(!t||!function jve(i){return Number(i)>Date.now()}(t))return;const e=i.getItem(iq);if(e)try{return JSON.parse(e)}catch{return}}();return e?(dq(e),Promise.resolve()):function Uve(i,t){return function Eve(i){const t=i.getToken();return t.then(e=>{}),t}(i.installations).then(e=>{const o=function Rve(i){var t;const e=null===(t=i.options)||void 0===t?void 0:t.projectId;if(!e)throw Aa.create("no project id");return e}(i.app),a=function Pve(i){var t;const e=null===(t=i.options)||void 0===t?void 0:t.apiKey;if(!e)throw Aa.create("no api key");return e}(i.app),c=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${o}/namespaces/fireperf:fetch?key=${a}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${e}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:uq(i.app),app_version:"0.5.12",sdk_version:"0.0.1"})});return fetch(c).then(g=>{if(g.ok)return g.json();throw Aa.create("RC response not ok")})}).catch(()=>{og.info(Hve)})}(i,t).then(dq).then(o=>function Bve(i){const t=Xs.getInstance().localStorage;!i||!t||(t.setItem(iq,JSON.stringify(i)),t.setItem(rq,String(Date.now()+60*Au.getInstance().configTimeToLive*60*1e3)))}(o),()=>{})}(i,t)).then(()=>pq(),()=>pq())}(i),GL}function pq(){zL=3}let ZL,gO=3,mv=[],mq=!1;function mO(i){setTimeout(()=>{if(0!==gO){if(!mv.length)return mO(1e4);!function Yve(){const i=mv.splice(0,1e3),t=i.map(o=>({source_extension_json_proto3:o.message,event_time_ms:String(o.eventTime)}));(function Kve(i,t){return function Jve(i){const t=Au.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(i)})}(i).then(e=>(e.ok||og.info("Call to Firebase backend failed."),e.json())).then(e=>{const o=Number(e.nextRequestWaitMillis);let a=1e4;isNaN(o)||(a=Math.max(o,a));const l=e.logResponseDetails;Array.isArray(l)&&l.length>0&&"RETRY_REQUEST_LATER"===l[0].responseAction&&(mv=[...t,...mv],og.info("Retry transport request later.")),gO=3,mO(a)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Au.getInstance().logSource,log_event:t},i).catch(()=>{mv=[...i,...mv],gO--,og.info(`Tries left: ${gO}.`),mO(1e4)})}()}},i)}function _q(i,t){ZL||(ZL=function Xve(i){return(...t)=>{!function Qve(i){if(!i.eventTime||!i.message)throw Aa.create("invalid cc log");mv=[...mv,i]}({message:i(...t),eventTime:Date.now()})}}(tbe)),ZL(i,t)}function _O(i){const t=Au.getInstance();!t.instrumentationEnabled&&i.isAuto||!t.dataCollectionEnabled&&!i.isAuto||!Xs.getInstance().requiredApisAvailable()||i.isAuto&&cq()!==hw.VISIBLE||(function zve(){return 3===zL}()?$L(i):fq(i.performanceController).then(()=>$L(i),()=>$L(i)))}function $L(i){if(!UL())return;const t=Au.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(()=>_q(i,1),0)}function tbe(i,t){return 0===t?function nbe(i){const t={url:i.url,http_method:i.httpMethod||0,http_response_code:200,response_payload_bytes:i.responsePayloadBytes,client_start_time_us:i.startTimeUs,time_to_response_initiated_us:i.timeToResponseInitiatedUs,time_to_response_completed_us:i.timeToResponseCompletedUs},e={application_info:yq(i.performanceController.app),network_request_metric:t};return JSON.stringify(e)}(i):function ibe(i){const t={name:i.name,is_auto:i.isAuto,client_start_time_us:i.startTimeUs,duration_us:i.durationUs};0!==Object.keys(i.counters).length&&(t.counters=i.counters);const e=i.getAttributes();0!==Object.keys(e).length&&(t.custom_attributes=e);const o={application_info:yq(i.performanceController.app),trace_metric:t};return JSON.stringify(o)}(i)}function yq(i){return{google_app_id:uq(i),app_instance_id:UL(),web_app_info:{sdk_version:"0.5.12",page_url:Xs.getInstance().getUrl(),service_worker_status:Mve(),visibility_state:cq(),effective_connection_type:Ave()},application_process_state:0}}const sbe=["_fp","_fcp","_fid"];class _v{constructor(t,e,o=!1,a){this.performanceController=t,this.name=e,this.isAuto=o,this.state=1,this.customAttributes={},this.counters={},this.api=Xs.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=a||`${BL}-${this.randomId}-${this.name}`,a&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Aa.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Aa.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_O(this)}record(t,e,o){if(t<=0)throw Aa.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Aa.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),o&&o.attributes&&(this.customAttributes=Object.assign({},o.attributes)),o&&o.metrics)for(const a of Object.keys(o.metrics))isNaN(Number(o.metrics[a]))||(this.counters[a]=Math.floor(Number(o.metrics[a])));_O(this)}incrementMetric(t,e=1){this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)}putMetric(t,e){if(!function abe(i,t){return!(0===i.length||i.length>100)&&(t&&t.startsWith("_wt_")&&sbe.indexOf(i)>-1||!i.startsWith("_"))}(t,this.name))throw Aa.create("invalid custom metric name",{customMetricName:t});this.counters[t]=function lbe(i){const t=Math.floor(i);return t<i&&og.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(e??0)}getMetric(t){return this.counters[t]||0}putAttribute(t,e){const o=function kve(i){return!(0===i.length||i.length>40||xve.some(e=>i.startsWith(e))||!i.match(Sve))}(t),a=function Ove(i){return 0!==i.length&&i.length<=100}(e);if(o&&a)this.customAttributes[t]=e;else{if(!o)throw Aa.create("invalid attribute name",{attributeName:t});if(!a)throw Aa.create("invalid attribute value",{attributeValue:e})}}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))}static createOobTrace(t,e,o,a){const l=Xs.getInstance().getUrl();if(!l)return;const c=new _v(t,"_wt_"+l,!0),g=Math.floor(1e3*Xs.getInstance().getTimeOrigin());if(c.setStartTime(g),e&&e[0]&&(c.setDuration(Math.floor(1e3*e[0].duration)),c.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),c.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),c.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),o){const T=o.find(O=>"first-paint"===O.name);T&&T.startTime&&c.putMetric("_fp",Math.floor(1e3*T.startTime));const D=o.find(O=>"first-contentful-paint"===O.name);D&&D.startTime&&c.putMetric("_fcp",Math.floor(1e3*D.startTime)),a&&c.putMetric("_fid",Math.floor(1e3*a))}_O(c)}static createUserTimingTrace(t,e){_O(new _v(t,e,!1,e))}}function vq(i,t){const e=t;if(!e||void 0===e.responseStart)return;const o=Xs.getInstance().getTimeOrigin(),a=Math.floor(1e3*(e.startTime+o)),l=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,c=Math.floor(1e3*(e.responseEnd-e.startTime));!function ebe(i){const t=Au.getInstance();if(!t.instrumentationEnabled)return;const e=i.url,o=t.logEndPointUrl.split("?")[0],a=t.flTransportEndpointUrl.split("?")[0];e===o||e===a||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(()=>_q(i,0),0)}({performanceController:i,url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:a,timeToResponseInitiatedUs:l,timeToResponseCompletedUs:c})}function bq(i){!UL()||(setTimeout(()=>function dbe(i){const t=Xs.getInstance(),e=t.getEntriesByType("navigation"),o=t.getEntriesByType("paint");if(t.onFirstInputDelay){let a=setTimeout(()=>{_v.createOobTrace(i,e,o),a=void 0},5e3);t.onFirstInputDelay(l=>{a&&(clearTimeout(a),_v.createOobTrace(i,e,o,l))})}else _v.createOobTrace(i,e,o)}(i),0),setTimeout(()=>function ube(i){const t=Xs.getInstance(),e=t.getEntriesByType("resource");for(const o of e)vq(i,o);t.setupObserver("resource",o=>vq(i,o))}(i),0),setTimeout(()=>function hbe(i){const t=Xs.getInstance(),e=t.getEntriesByType("measure");for(const o of e)wq(i,o);t.setupObserver("measure",o=>wq(i,o))}(i),0))}function wq(i,t){const e=t.name;e.substring(0,BL.length)!==BL&&_v.createUserTimingTrace(i,e)}class fbe{constructor(t,e){this.app=t,this.installations=e,this.initialized=!1}_init(t){this.initialized||(void 0!==t?.dataCollectionEnabled&&(this.dataCollectionEnabled=t.dataCollectionEnabled),void 0!==t?.instrumentationEnabled&&(this.instrumentationEnabled=t.instrumentationEnabled),Xs.getInstance().requiredApisAvailable()?(0,W.eu)().then(e=>{e&&(function Wve(){mq||(mO(5500),mq=!0)}(),fq(this).then(()=>bq(this),()=>bq(this)),this.initialized=!0)}).catch(e=>{og.info(`Environment doesn't support IndexedDB: ${e}`)}):og.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){Au.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return Au.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){Au.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return Au.getInstance().dataCollectionEnabled}}function gbe(i=(0,Wn.getApp)()){return i=(0,W.m9)(i),(0,Wn._getProvider)(i,"performance").getImmediate()}const mbe=(i,{options:t})=>{const e=i.getProvider("app").getImmediate(),o=i.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==e.name)throw Aa.create("FB not default");if(typeof window>"u")throw Aa.create("no window");!function Cve(i){sq=i}(window);const a=new fbe(e,o);return a._init(t),a};!function _be(){(0,Wn._registerComponent)(new Zn.wA("performance",mbe,"PUBLIC")),(0,Wn.registerVersion)(JG,VL),(0,Wn.registerVersion)(JG,VL,"esm2017")}();class WL{constructor(t){return t}}const Cq="performance",YL=new s.OlP("angularfire2.performance-instances");function bbe(i){return(t,e,o)=>{if(!bo(e))return null;const a=t.runOutsideAngular(()=>i(o));return new WL(a)}}const wbe={provide:class ybe{constructor(){return(0,wt.vb)(Cq)}},deps:[[new s.FiY,YL]]},Cbe={provide:WL,useFactory:function vbe(i,t,e){if(!bo(e))return null;const o=(0,wt.JM)(Cq,i,t);return o&&new WL(o)},deps:[[new s.FiY,YL],$i,s.Lbi]};let Tbe=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"perf")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Cbe,wbe]}),i})();function Ebe(i,...t){return{ngModule:Tbe,providers:[{provide:YL,useFactory:bbe(i),multi:!0,deps:[s.R0b,s.Lbi,s.zs3,wt.HU,zn,...t]}]}}const xbe=(0,wt.u3)(gbe,!0);var Sbe=q(3226);class KL{constructor(t){return t}}const Tq="remote-config",JL=new s.OlP("angularfire2.remote-config-instances");function Mbe(i){return(t,e)=>{if(!wt._J.sync())return null;const o=t.runOutsideAngular(()=>i(e));return new KL(o)}}const Abe={provide:class Dbe{constructor(){return(0,wt.vb)(Tq)}},deps:[[new s.FiY,JL]]},kbe={provide:KL,useFactory:function Ibe(i,t){if(!wt._J.sync())return null;const e=(0,wt.JM)(Tq,i,t);return e&&new KL(e)},deps:[[new s.FiY,JL],$i]};let Obe=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"rc")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[kbe,Abe,{provide:s.ip1,useValue:wt._J.async,multi:!0}]}),i})();function Rbe(i,...t){return{ngModule:Obe,providers:[{provide:JL,useFactory:Mbe(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,...t]}]}}const Pbe=(0,wt.u3)(Sbe.sN,!0);class QL{constructor(t){return t}}const Eq="storage",XL=new s.OlP("angularfire2.storage-instances");function Lbe(i){return(t,e)=>{const o=t.runOutsideAngular(()=>i(e));return new QL(o)}}const Vbe={provide:class Nbe{constructor(){return(0,wt.vb)(Eq)}},deps:[[new s.FiY,XL]]},Bbe={provide:QL,useFactory:function Fbe(i,t){const e=(0,wt.JM)(Eq,i,t);return e&&new QL(e)},deps:[[new s.FiY,XL],$i]};let Hbe=(()=>{class i{constructor(){(0,Tr.KN)("angularfire",wt.q4.full,"gcs")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Bbe,Vbe]}),i})();function Ube(i,...t){return{ngModule:Hbe,providers:[{provide:XL,useFactory:Lbe(i),multi:!0,deps:[s.R0b,s.zs3,wt.HU,zn,[new s.FiY,Ku],[new s.FiY,ua],...t]}]}}const jbe=(0,wt.u3)(w9,!0),zbe=[Lme,I_e,k_e];let Gbe=(()=>{class i{constructor(){S0.init(wk.firebase)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i,bootstrap:[J8]}),i.\u0275inj=s.cJS({providers:[Cu,$k,N0,Vm,sz,az,zpe,jpe,{provide:vs.Dh,useValue:wk.firebase},zG,xL],imports:[To,GK,vs.hO,oa(()=>mr(wk.firebase)),eZ,lZ,F9,Zee,Iz,b_(()=>ni()),Xee(()=>ete()),Ax(()=>Fq()),Iz,M1,pN,qK,uye,K8,aoe,O_e,tae,KS,rg,voe,yae,ice,lpe,Gle,j_e,zbe,tye,cye,qn,dye,Lye(()=>gye()),ave(()=>lve()),mve(()=>_ve()),Ebe(()=>xbe()),Rbe(()=>Pbe()),Ube(()=>jbe()),qn,M1,pN]}),i})();wk.production&&(0,s.G48)(),Bc().bootstrapModule(Gbe).catch(i=>console.error(i))},7123:function(an){an.exports=function(Qe){function q(V){if(s[V])return s[V].exports;var Y=s[V]={exports:{},id:V,loaded:!1};return Qe[V].call(Y.exports,Y,Y.exports,q),Y.loaded=!0,Y.exports}var s={};return q.m=Qe,q.c=s,q.p="dist/",q(0)}([function(Qe,q,s){"use strict";function V(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}var Y=Object.assign||function(Ae){for(var be=1;be<arguments.length;be++){var Ce=arguments[be];for(var Ue in Ce)Object.prototype.hasOwnProperty.call(Ce,Ue)&&(Ae[Ue]=Ce[Ue])}return Ae},Ve=(V(s(1)),s(6)),Me=V(Ve),Se=V(s(7)),re=V(s(8)),ce=V(s(9)),Oe=V(s(10)),ut=V(s(11)),Ne=V(s(14)),St=[],pt=!1,Ke={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},He=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(pt=!0),pt)return St=(0,ut.default)(St,Ke),(0,Oe.default)(St,Ke.once),St},$e=function(){St=(0,Ne.default)(),He()};Qe.exports={init:function(Ae){Ke=Y(Ke,Ae),St=(0,Ne.default)();var be=document.all&&!window.atob;return function(Ae){return!0===Ae||"mobile"===Ae&&ce.default.mobile()||"phone"===Ae&&ce.default.phone()||"tablet"===Ae&&ce.default.tablet()||"function"==typeof Ae&&!0===Ae()}(Ke.disable)||be?void St.forEach(function(Ae,be){Ae.node.removeAttribute("data-aos"),Ae.node.removeAttribute("data-aos-easing"),Ae.node.removeAttribute("data-aos-duration"),Ae.node.removeAttribute("data-aos-delay")}):(Ke.disableMutationObserver||re.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Ke.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Ke.easing),document.querySelector("body").setAttribute("data-aos-duration",Ke.duration),document.querySelector("body").setAttribute("data-aos-delay",Ke.delay),"DOMContentLoaded"===Ke.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?He(!0):"load"===Ke.startEvent?window.addEventListener(Ke.startEvent,function(){He(!0)}):document.addEventListener(Ke.startEvent,function(){He(!0)}),window.addEventListener("resize",(0,Se.default)(He,Ke.debounceDelay,!0)),window.addEventListener("orientationchange",(0,Se.default)(He,Ke.debounceDelay,!0)),window.addEventListener("scroll",(0,Me.default)(function(){(0,Oe.default)(St,Ke.once)},Ke.throttleDelay)),Ke.disableMutationObserver||re.default.ready("[data-aos]",$e),St)},refresh:He,refreshHard:$e}},function(Qe,q){},,,,,function(Qe,q){(function(s){"use strict";function V(pe,Ie,Ae){function be(Jt){var Cn=Tt,ai=It;return Tt=It=void 0,dt=Jt,Vt=pe.apply(ai,Cn)}function Ce(Jt){return dt=Jt,$t=setTimeout(gt,Ie),nn?be(Jt):Vt}function Pe(Jt){var Cn=Jt-Wt;return void 0===Wt||Cn>=Ie||Cn<0||Qt&&Jt-dt>=Zt}function gt(){var Jt=Xe();return Pe(Jt)?ct(Jt):void($t=setTimeout(gt,function Ue(Jt){var vn=Ie-(Jt-Wt);return Qt?$e(vn,Zt-(Jt-dt)):vn}(Jt)))}function ct(Jt){return $t=void 0,ln&&Tt?be(Jt):(Tt=It=void 0,Vt)}function en(){var Jt=Xe(),Cn=Pe(Jt);if(Tt=arguments,It=this,Wt=Jt,Cn){if(void 0===$t)return Ce(Wt);if(Qt)return $t=setTimeout(gt,Ie),be(Wt)}return void 0===$t&&($t=setTimeout(gt,Ie)),Vt}var Tt,It,Zt,Vt,$t,Wt,dt=0,nn=!1,Qt=!1,ln=!0;if("function"!=typeof pe)throw new TypeError(fe);return Ie=ve(Ie)||0,_e(Ae)&&(nn=!!Ae.leading,Zt=(Qt="maxWait"in Ae)?He(ve(Ae.maxWait)||0,Ie):Zt,ln="trailing"in Ae?!!Ae.trailing:ln),en.cancel=function Kt(){void 0!==$t&&clearTimeout($t),dt=0,Tt=Wt=It=$t=void 0},en.flush=function pn(){return void 0===$t?Vt:ct(Xe())},en}function _e(pe){var Ie=typeof pe>"u"?"undefined":Se(pe);return!!pe&&("object"==Ie||"function"==Ie)}function Me(pe){return"symbol"==(typeof pe>"u"?"undefined":Se(pe))||function Ve(pe){return!!pe&&"object"==(typeof pe>"u"?"undefined":Se(pe))}(pe)&&Ke.call(pe)==ne}function ve(pe){if("number"==typeof pe)return pe;if(Me(pe))return re;if(_e(pe)){var Ie="function"==typeof pe.valueOf?pe.valueOf():pe;pe=_e(Ie)?Ie+"":Ie}if("string"!=typeof pe)return 0===pe?pe:+pe;pe=pe.replace(ce,"");var Ae=Oe.test(pe);return Ae||je.test(pe)?ut(pe.slice(2),Ae?2:8):we.test(pe)?re:+pe}var Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},fe="Expected a function",re=NaN,ne="[object Symbol]",ce=/^\s+|\s+$/g,we=/^[-+]0x[0-9a-f]+$/i,Oe=/^0b[01]+$/i,je=/^0o[0-7]+$/i,ut=parseInt,Be="object"==(typeof s>"u"?"undefined":Se(s))&&s&&s.Object===Object&&s,Ne="object"==(typeof self>"u"?"undefined":Se(self))&&self&&self.Object===Object&&self,St=Be||Ne||Function("return this")(),Ke=Object.prototype.toString,He=Math.max,$e=Math.min,Xe=function(){return St.Date.now()};Qe.exports=function Y(pe,Ie,Ae){var be=!0,Ce=!0;if("function"!=typeof pe)throw new TypeError(fe);return _e(Ae)&&(be="leading"in Ae?!!Ae.leading:be,Ce="trailing"in Ae?!!Ae.trailing:Ce),V(pe,Ie,{leading:be,maxWait:Ie,trailing:Ce})}}).call(q,function(){return this}())},function(Qe,q){(function(s){"use strict";function Y(Xe){var pe=typeof Xe>"u"?"undefined":ve(Xe);return!!Xe&&("object"==pe||"function"==pe)}function Ve(Xe){return"symbol"==(typeof Xe>"u"?"undefined":ve(Xe))||function _e(Xe){return!!Xe&&"object"==(typeof Xe>"u"?"undefined":ve(Xe))}(Xe)&&pt.call(Xe)==re}function Me(Xe){if("number"==typeof Xe)return Xe;if(Ve(Xe))return fe;if(Y(Xe)){var pe="function"==typeof Xe.valueOf?Xe.valueOf():Xe;Xe=Y(pe)?pe+"":pe}if("string"!=typeof Xe)return 0===Xe?Xe:+Xe;Xe=Xe.replace(ne,"");var Ie=we.test(Xe);return Ie||Oe.test(Xe)?je(Xe.slice(2),Ie?2:8):ce.test(Xe)?fe:+Xe}var ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Xe){return typeof Xe}:function(Xe){return Xe&&"function"==typeof Symbol&&Xe.constructor===Symbol&&Xe!==Symbol.prototype?"symbol":typeof Xe},Se="Expected a function",fe=NaN,re="[object Symbol]",ne=/^\s+|\s+$/g,ce=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,Oe=/^0o[0-7]+$/i,je=parseInt,ut="object"==(typeof s>"u"?"undefined":ve(s))&&s&&s.Object===Object&&s,Be="object"==(typeof self>"u"?"undefined":ve(self))&&self&&self.Object===Object&&self,Ne=ut||Be||Function("return this")(),pt=Object.prototype.toString,Ke=Math.max,He=Math.min,$e=function(){return Ne.Date.now()};Qe.exports=function V(Xe,pe,Ie){function Ae(ln){var Jt=en,Cn=Tt;return en=Tt=void 0,Wt=ln,Zt=Xe.apply(Cn,Jt)}function be(ln){return Wt=ln,Vt=setTimeout(Pe,pe),dt?Ae(ln):Zt}function Ue(ln){var Jt=ln-$t;return void 0===$t||Jt>=pe||Jt<0||nn&&ln-Wt>=It}function Pe(){var ln=$e();return Ue(ln)?gt(ln):void(Vt=setTimeout(Pe,function Ce(ln){var ai=pe-(ln-$t);return nn?He(ai,It-(ln-Wt)):ai}(ln)))}function gt(ln){return Vt=void 0,Qt&&en?Ae(ln):(en=Tt=void 0,Zt)}function pn(){var ln=$e(),Jt=Ue(ln);if(en=arguments,Tt=this,$t=ln,Jt){if(void 0===Vt)return be($t);if(nn)return Vt=setTimeout(Pe,pe),Ae($t)}return void 0===Vt&&(Vt=setTimeout(Pe,pe)),Zt}var en,Tt,It,Zt,Vt,$t,Wt=0,dt=!1,nn=!1,Qt=!0;if("function"!=typeof Xe)throw new TypeError(Se);return pe=Me(pe)||0,Y(Ie)&&(dt=!!Ie.leading,It=(nn="maxWait"in Ie)?Ke(Me(Ie.maxWait)||0,pe):It,Qt="trailing"in Ie?!!Ie.trailing:Qt),pn.cancel=function ct(){void 0!==Vt&&clearTimeout(Vt),Wt=0,en=$t=Tt=Vt=void 0},pn.flush=function Kt(){return void 0===Vt?Zt:gt($e())},pn}}).call(q,function(){return this}())},function(Qe,q){"use strict";function s(ve){var Se=void 0,fe=void 0;for(Se=0;Se<ve.length;Se+=1)if((fe=ve[Se]).dataset&&fe.dataset.aos||fe.children&&s(fe.children))return!0;return!1}function V(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Ve(ve){ve&&ve.forEach(function(Se){var fe=Array.prototype.slice.call(Se.addedNodes),re=Array.prototype.slice.call(Se.removedNodes);if(s(fe.concat(re)))return Me()})}Object.defineProperty(q,"__esModule",{value:!0});var Me=function(){};q.default={isSupported:function Y(){return!!V()},ready:function _e(ve,Se){var fe=window.document,ne=new(V())(Ve);Me=Se,ne.observe(fe.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Qe,q){"use strict";function V(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(q,"__esModule",{value:!0});var Y=function(){function fe(re,ne){for(var ce=0;ce<ne.length;ce++){var we=ne[ce];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(re,we.key,we)}}return function(re,ne,ce){return ne&&fe(re.prototype,ne),ce&&fe(re,ce),re}}(),_e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Ve=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Me=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,ve=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Se=function(){function fe(){!function s(fe,re){if(!(fe instanceof re))throw new TypeError("Cannot call a class as a function")}(this,fe)}return Y(fe,[{key:"phone",value:function(){var re=V();return!(!_e.test(re)&&!Ve.test(re.substr(0,4)))}},{key:"mobile",value:function(){var re=V();return!(!Me.test(re)&&!ve.test(re.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),fe}();q.default=new Se},function(Qe,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.default=function(Y,_e){var Ve=window.pageYOffset,Me=window.innerHeight;Y.forEach(function(ve,Se){!function(Y,_e,Ve){var Me=Y.node.getAttribute("data-aos-once");_e>Y.position?Y.node.classList.add("aos-animate"):typeof Me<"u"&&("false"===Me||!Ve&&"true"!==Me)&&Y.node.classList.remove("aos-animate")}(ve,Me+Ve,_e)})}},function(Qe,q,s){"use strict";Object.defineProperty(q,"__esModule",{value:!0});var _e=function V(Me){return Me&&Me.__esModule?Me:{default:Me}}(s(12));q.default=function(Me,ve){return Me.forEach(function(Se,fe){Se.node.classList.add("aos-init"),Se.position=(0,_e.default)(Se.node,ve.offset)}),Me}},function(Qe,q,s){"use strict";Object.defineProperty(q,"__esModule",{value:!0});var _e=function V(Me){return Me&&Me.__esModule?Me:{default:Me}}(s(13));q.default=function(Me,ve){var Se=0,fe=0,re=window.innerHeight,ne={offset:Me.getAttribute("data-aos-offset"),anchor:Me.getAttribute("data-aos-anchor"),anchorPlacement:Me.getAttribute("data-aos-anchor-placement")};switch(ne.offset&&!isNaN(ne.offset)&&(fe=parseInt(ne.offset)),ne.anchor&&document.querySelectorAll(ne.anchor)&&(Me=document.querySelectorAll(ne.anchor)[0]),Se=(0,_e.default)(Me).top,ne.anchorPlacement){case"top-bottom":break;case"center-bottom":Se+=Me.offsetHeight/2;break;case"bottom-bottom":Se+=Me.offsetHeight;break;case"top-center":Se+=re/2;break;case"bottom-center":Se+=re/2+Me.offsetHeight;break;case"center-center":Se+=re/2+Me.offsetHeight/2;break;case"top-top":Se+=re;break;case"bottom-top":Se+=Me.offsetHeight+re;break;case"center-top":Se+=Me.offsetHeight/2+re}return ne.anchorPlacement||ne.offset||isNaN(ve)||(fe=ve),Se+fe}},function(Qe,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.default=function(V){for(var Y=0,_e=0;V&&!isNaN(V.offsetLeft)&&!isNaN(V.offsetTop);)Y+=V.offsetLeft-("BODY"!=V.tagName?V.scrollLeft:0),_e+=V.offsetTop-("BODY"!=V.tagName?V.scrollTop:0),V=V.offsetParent;return{top:_e,left:Y}}},function(Qe,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.default=function(V){return V=V||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(V,function(Y){return{node:Y}})}}])},6148:(an,Qe,q)=>{"use strict";q.d(Qe,{IH:()=>Qi,Gb:()=>Zi,Kz:()=>qe,Iv:()=>K});var s=q(5861),V=q(9681),Y=q(1877),_e=q(2090),Ve=q(4859);q(2833);const ve="analytics",Se="firebase_id",ne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ce="https://www.googletagmanager.com/gtag/js",we=new Y.Yd("@firebase/analytics");function Oe(Re){return Promise.all(Re.map(ae=>ae.catch(oe=>oe)))}function je(Re,ae){const oe=document.createElement("script");oe.src=`${ce}?l=${Re}&id=${ae}`,oe.async=!0,document.head.appendChild(oe)}function Be(Re,ae,oe,ue,De,lt){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(Re,ae,oe,ue,De,lt){const Pt=ue[De];try{if(Pt)yield ae[Pt];else{const kt=(yield Oe(oe)).find(cn=>cn.measurementId===De);kt&&(yield ae[kt.appId])}}catch(rt){we.error(rt)}Re("config",De,lt)})).apply(this,arguments)}function St(Re,ae,oe,ue,De){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(Re,ae,oe,ue,De){try{let lt=[];if(De&&De.send_to){let Pt=De.send_to;Array.isArray(Pt)||(Pt=[Pt]);const rt=yield Oe(oe);for(const kt of Pt){const cn=rt.find(Hi=>Hi.measurementId===kt),oi=cn&&ae[cn.appId];if(!oi){lt=[];break}lt.push(oi)}}0===lt.length&&(lt=Object.values(ae)),yield Promise.all(lt),Re("event",ue,De||{})}catch(lt){we.error(lt)}})).apply(this,arguments)}function $e(){const Re=window.document.getElementsByTagName("script");for(const ae of Object.values(Re))if(ae.src&&ae.src.includes(ce))return ae;return null}const pe=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ce=new class be{constructor(ae={},oe=1e3){this.throttleMetadata=ae,this.intervalMillis=oe}getThrottleMetadata(ae){return this.throttleMetadata[ae]}setThrottleMetadata(ae,oe){this.throttleMetadata[ae]=oe}deleteThrottleMetadata(ae){delete this.throttleMetadata[ae]}};function Ue(Re){return new Headers({Accept:"application/json","x-goog-api-key":Re})}function Pe(Re){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(Re){var ae;const{appId:oe,apiKey:ue}=Re,De={method:"GET",headers:Ue(ue)},lt=ne.replace("{app-id}",oe),Pt=yield fetch(lt,De);if(200!==Pt.status&&304!==Pt.status){let rt="";try{const kt=yield Pt.json();null!==(ae=kt.error)&&void 0!==ae&&ae.message&&(rt=kt.error.message)}catch{}throw pe.create("config-fetch-failed",{httpStatus:Pt.status,responseMessage:rt})}return Pt.json()})).apply(this,arguments)}function ct(Re){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(Re,ae=Ce,oe){const{appId:ue,apiKey:De,measurementId:lt}=Re.options;if(!ue)throw pe.create("no-app-id");if(!De){if(lt)return{measurementId:lt,appId:ue};throw pe.create("no-api-key")}const Pt=ae.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new Zt;return setTimeout((0,s.Z)(function*(){rt.abort()}),void 0!==oe?oe:6e4),pn({appId:ue,apiKey:De,measurementId:lt},Pt,rt,ae)})).apply(this,arguments)}function pn(Re,ae,oe){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(Re,{throttleEndTimeMillis:ae,backoffCount:oe},ue,De=Ce){var lt,Pt;const{appId:rt,measurementId:kt}=Re;try{yield Tt(ue,ae)}catch(cn){if(kt)return we.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${null===(lt=cn)||void 0===lt?void 0:lt.message}]`),{appId:rt,measurementId:kt};throw cn}try{const cn=yield Pe(Re);return De.deleteThrottleMetadata(rt),cn}catch(cn){const oi=cn;if(!It(oi)){if(De.deleteThrottleMetadata(rt),kt)return we.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${oi?.message}]`),{appId:rt,measurementId:kt};throw cn}const Hi=503===Number(null===(Pt=oi?.customData)||void 0===Pt?void 0:Pt.httpStatus)?(0,_e.$s)(oe,De.intervalMillis,30):(0,_e.$s)(oe,De.intervalMillis),Tn={throttleEndTimeMillis:Date.now()+Hi,backoffCount:oe+1};return De.setThrottleMetadata(rt,Tn),we.debug(`Calling attemptFetch again in ${Hi} millis`),pn(Re,Tn,ue,De)}})).apply(this,arguments)}function Tt(Re,ae){return new Promise((oe,ue)=>{const De=Math.max(ae-Date.now(),0),lt=setTimeout(oe,De);Re.addEventListener(()=>{clearTimeout(lt),ue(pe.create("fetch-throttle",{throttleEndTimeMillis:ae}))})})}function It(Re){if(!(Re instanceof _e.ZR&&Re.customData))return!1;const ae=Number(Re.customData.httpStatus);return 429===ae||500===ae||503===ae||504===ae}class Zt{constructor(){this.listeners=[]}addEventListener(ae){this.listeners.push(ae)}abort(){this.listeners.forEach(ae=>ae())}}let Vt,En;function Wt(){return(Wt=(0,s.Z)(function*(Re,ae,oe,ue,De){if(De&&De.global)Re("event",oe,ue);else{const lt=yield ae;Re("event",oe,Object.assign(Object.assign({},ue),{send_to:lt}))}})).apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(Re,ae,oe,ue){if(ue&&ue.global)return Re("set",{user_id:oe}),Promise.resolve();Re("config",yield ae,{update:!0,user_id:oe})})).apply(this,arguments)}function wi(Re){En=Re}function nt(Re){Vt=Re}function Fe(){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(){var Re;if(!(0,_e.hl)())return we.warn(pe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(ae){return we.warn(pe.create("indexeddb-unavailable",{errorInfo:null===(Re=ae)||void 0===Re?void 0:Re.toString()}).message),!1}return!0})).apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(Re,ae,oe,ue,De,lt,Pt){var rt;const kt=ct(Re);kt.then(Di=>{oe[Di.measurementId]=Di.appId,Re.options.measurementId&&Di.measurementId!==Re.options.measurementId&&we.warn(`The measurement ID in the local Firebase config (${Re.options.measurementId}) does not match the measurement ID fetched from the server (${Di.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Di=>we.error(Di)),ae.push(kt);const cn=Fe().then(Di=>{if(Di)return ue.getId()}),[oi,Hi]=yield Promise.all([kt,cn]);$e()||je(lt,oi.measurementId),En&&(De("consent","default",En),wi(void 0)),De("js",new Date);const Tn=null!==(rt=Pt?.config)&&void 0!==rt?rt:{};return Tn.origin="firebase",Tn.update=!0,null!=Hi&&(Tn[Se]=Hi),De("config",oi.measurementId,Tn),Vt&&(De("set",Vt),nt(void 0)),oi.measurementId})).apply(this,arguments)}class Rn{constructor(ae){this.app=ae}_delete(){return delete xn[this.app.options.appId],Promise.resolve()}}let xn={},$n=[];const Xn={};let Rt,ei,Bn="dataLayer",Bi=!1;function hi(Re,ae,oe){!function An(){const Re=[];if((0,_e.ru)()&&Re.push("This is a browser extension environment."),(0,_e.zI)()||Re.push("Cookies are not available."),Re.length>0){const ae=Re.map((ue,De)=>`(${De+1}) ${ue}`).join(" "),oe=pe.create("invalid-analytics-context",{errorInfo:ae});we.warn(oe.message)}}();const ue=Re.options.appId;if(!ue)throw pe.create("no-app-id");if(!Re.options.apiKey){if(!Re.options.measurementId)throw pe.create("no-api-key");we.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Re.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xn[ue])throw pe.create("already-exists",{id:ue});if(!Bi){!function ut(Re){let ae=[];Array.isArray(window[Re])?ae=window[Re]:window[Re]=ae}(Bn);const{wrappedGtag:lt,gtagCore:Pt}=function He(Re,ae,oe,ue,De){let lt=function(...Pt){window[ue].push(arguments)};return window[De]&&"function"==typeof window[De]&&(lt=window[De]),window[De]=function Ke(Re,ae,oe,ue){function lt(){return(lt=(0,s.Z)(function*(Pt,rt,kt){try{"event"===Pt?yield St(Re,ae,oe,rt,kt):"config"===Pt?yield Be(Re,ae,oe,ue,rt,kt):"consent"===Pt?Re("consent","update",kt):Re("set",rt)}catch(cn){we.error(cn)}})).apply(this,arguments)}return function De(Pt,rt,kt){return lt.apply(this,arguments)}}(lt,Re,ae,oe),{gtagCore:lt,wrappedGtag:window[De]}}(xn,$n,Xn,Bn,"gtag");ei=lt,Rt=Pt,Bi=!0}return xn[ue]=function Et(Re,ae,oe,ue,De,lt,Pt){return Ut.apply(this,arguments)}(Re,$n,Xn,ae,Rt,Bn,oe),new Rn(Re)}function Qi(Re=(0,V.getApp)()){Re=(0,_e.m9)(Re);const ae=(0,V._getProvider)(Re,ve);return ae.isInitialized()?ae.getImmediate():function In(Re,ae={}){const oe=(0,V._getProvider)(Re,ve);if(oe.isInitialized()){const De=oe.getImmediate();if((0,_e.vZ)(ae,oe.getOptions()))return De;throw pe.create("already-initialized")}return oe.initialize({options:ae})}(Re)}function Zi(){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}function K(Re,ae,oe){Re=(0,_e.m9)(Re),function Qt(Re,ae,oe,ue){return ln.apply(this,arguments)}(ei,xn[Re.app.options.appId],ae,oe).catch(ue=>we.error(ue))}function qe(Re,ae,oe,ue){Re=(0,_e.m9)(Re),function $t(Re,ae,oe,ue,De){return Wt.apply(this,arguments)}(ei,xn[Re.app.options.appId],ae,oe,ue).catch(De=>we.error(De))}const Gt="@firebase/analytics";!function Un(){(0,V._registerComponent)(new Ve.wA(ve,(ae,{options:oe})=>hi(ae.getProvider("app").getImmediate(),ae.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,V._registerComponent)(new Ve.wA("analytics-internal",function Re(ae){try{const oe=ae.getProvider(ve).getImmediate();return{logEvent:(ue,De,lt)=>qe(oe,ue,De,lt)}}catch(oe){throw pe.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,V.registerVersion)(Gt,"0.8.0"),(0,V.registerVersion)(Gt,"0.8.0","esm2017")}()},5867:(an,Qe,q)=>{"use strict";q.d(Qe,{C6:()=>s.getApps,KN:()=>s.registerVersion,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=q(9681);(0,s.registerVersion)("firebase","9.9.1","app")},127:(an,Qe,q)=>{"use strict";q.d(Qe,{Z:()=>s.Z});var s=q(3942);s.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(an,Qe,q)=>{"use strict";q.r(Qe);var s=q(5861),V=q(3942),Y=q(6457),_e=q(2090),ve=(q(9681),q(1877),q(4859));function Se(){return window}function ne(){return(ne=(0,s.Z)(function*(ae,oe,ue){var De;const{BuildInfo:lt}=Se();(0,Y.aq)(oe.sessionId,"AuthEvent did not contain a session ID");const Pt=yield Ne(oe.sessionId),rt={};return(0,Y.ar)()?rt.ibi=lt.packageName:(0,Y.as)()?rt.apn=lt.packageName:(0,Y.at)(ae,"operation-not-supported-in-this-environment"),lt.displayName&&(rt.appDisplayName=lt.displayName),rt.sessionId=Pt,(0,Y.au)(ae,ue,oe.type,void 0,null!==(De=oe.eventId)&&void 0!==De?De:void 0,rt)})).apply(this,arguments)}function we(){return(we=(0,s.Z)(function*(ae){const{BuildInfo:oe}=Se(),ue={};(0,Y.ar)()?ue.iosBundleId=oe.packageName:(0,Y.as)()?ue.androidPackageName=oe.packageName:(0,Y.at)(ae,"operation-not-supported-in-this-environment"),yield(0,Y.av)(ae,ue)})).apply(this,arguments)}function ut(){return(ut=(0,s.Z)(function*(ae,oe,ue){const{cordova:De}=Se();let lt=()=>{};try{yield new Promise((Pt,rt)=>{let kt=null;function cn(){var Tn;Pt();const Di=null===(Tn=De.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof Di&&Di(),"function"==typeof ue?.close&&ue.close()}function oi(){kt||(kt=window.setTimeout(()=>{rt((0,Y.aw)(ae,"redirect-cancelled-by-user"))},2e3))}function Hi(){"visible"===document?.visibilityState&&oi()}oe.addPassiveListener(cn),document.addEventListener("resume",oi,!1),(0,Y.as)()&&document.addEventListener("visibilitychange",Hi,!1),lt=()=>{oe.removePassiveListener(cn),document.removeEventListener("resume",oi,!1),document.removeEventListener("visibilitychange",Hi,!1),kt&&window.clearTimeout(kt)}})}finally{lt()}})).apply(this,arguments)}function Ne(ae){return St.apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(ae){const oe=pt(ae),ue=yield crypto.subtle.digest("SHA-256",oe);return Array.from(new Uint8Array(ue)).map(lt=>lt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(ae){if((0,Y.aq)(/[0-9a-zA-Z]+/.test(ae),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ae);const oe=new ArrayBuffer(ae.length),ue=new Uint8Array(oe);for(let De=0;De<ae.length;De++)ue[De]=ae.charCodeAt(De);return ue}class He extends Y.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(oe=>{this.resolveInialized=oe})}addPassiveListener(oe){this.passiveListeners.add(oe)}removePassiveListener(oe){this.passiveListeners.delete(oe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(oe){return this.resolveInialized(),this.passiveListeners.forEach(ue=>ue(oe)),super.onEvent(oe)}initialized(){var oe=this;return(0,s.Z)(function*(){yield oe.initPromise})()}}function pe(ae){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(ae){const oe=yield Ce()._get(Ue(ae));return oe&&(yield Ce()._remove(Ue(ae))),oe})).apply(this,arguments)}function be(){const ae=[],oe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ue=0;ue<20;ue++){const De=Math.floor(Math.random()*oe.length);ae.push(oe.charAt(De))}return ae.join("")}function Ce(){return(0,Y.ay)(Y.b)}function Ue(ae){return(0,Y.az)("authEvent",ae.config.apiKey,ae.name)}function ct(ae){if(!ae?.includes("?"))return{};const[oe,...ue]=ae.split("?");return(0,_e.zd)(ue.join("?"))}function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.aw)("no-auth-event")}}function Wt(){var ae;return(null===(ae=self?.location)||void 0===ae?void 0:ae.protocol)||null}function nn(ae=(0,_e.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!ae.toLowerCase().match(/iphone|ipad|ipod|android/))}function ai(){try{const ae=self.localStorage,oe=Y.aI();if(ae)return ae.setItem(oe,"1"),ae.removeItem(oe),!function Cn(ae=(0,_e.z$)()){return function ln(){return(0,_e.w1)()&&11===document?.documentMode}()||function Jt(ae=(0,_e.z$)()){return/Edge\/\d+/.test(ae)}(ae)}()||(0,_e.hl)()}catch{return vn()&&(0,_e.hl)()}return!1}function vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return(function dt(){return"http:"===Wt()||"https:"===Wt()}()||(0,_e.ru)()||nn())&&!function Qt(){return(0,_e.b$)()||(0,_e.UG)()}()&&ai()&&!vn()}function wi(){return nn()&&typeof document<"u"}function Fe(){return(Fe=(0,s.Z)(function*(){return!!wi()&&new Promise(ae=>{const oe=setTimeout(()=>{ae(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(oe),ae(!0)})})})).apply(this,arguments)}const Et={LOCAL:"local",NONE:"none",SESSION:"session"},Ut=Y.ax,Rn="persistence";function $n(ae){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.Z)(function*(ae){yield ae._initializationPromise;const oe=Ft(),ue=Y.az(Rn,ae.config.apiKey,ae.name);oe&&oe.setItem(ue,ae._getPersistence())})).apply(this,arguments)}function Ft(){var ae;try{return(null===(ae=function mt(){return typeof window<"u"?window:null}())||void 0===ae?void 0:ae.sessionStorage)||null}catch{return null}}const Rt=Y.ax;class ei{constructor(){this.browserResolver=Y.ay(Y.k),this.cordovaResolver=Y.ay(class pn{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aB,this._overrideRedirectResult=Y.aC}_initialize(oe){var ue=this;return(0,s.Z)(function*(){const De=oe._key();let lt=ue.eventManagers.get(De);return lt||(lt=new He(oe),ue.eventManagers.set(De,lt),ue.attachCallbackListeners(oe,lt)),lt})()}_openPopup(oe){(0,Y.at)(oe,"operation-not-supported-in-this-environment")}_openRedirect(oe,ue,De,lt){var Pt=this;return(0,s.Z)(function*(){!function Be(ae){var oe,ue,De,lt,Pt,rt,kt,cn,oi,Hi;const Tn=Se();(0,Y.ax)("function"==typeof(null===(oe=Tn?.universalLinks)||void 0===oe?void 0:oe.subscribe),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.ax)(typeof(null===(ue=Tn?.BuildInfo)||void 0===ue?void 0:ue.packageName)<"u",ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.ax)("function"==typeof(null===(Pt=null===(lt=null===(De=Tn?.cordova)||void 0===De?void 0:De.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===Pt?void 0:Pt.openUrl),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.ax)("function"==typeof(null===(cn=null===(kt=null===(rt=Tn?.cordova)||void 0===rt?void 0:rt.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===cn?void 0:cn.isAvailable),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.ax)("function"==typeof(null===(Hi=null===(oi=Tn?.cordova)||void 0===oi?void 0:oi.InAppBrowser)||void 0===Hi?void 0:Hi.open),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(oe);const rt=yield Pt._initialize(oe);yield rt.initialized(),rt.resetRedirect(),(0,Y.aD)(),yield Pt._originValidation(oe);const kt=function $e(ae,oe,ue=null){return{type:oe,eventId:ue,urlResponse:null,sessionId:be(),postBody:null,tenantId:ae.tenantId,error:(0,Y.aw)(ae,"no-auth-event")}}(oe,De,lt);yield function Xe(ae,oe){return Ce()._set(Ue(ae),oe)}(oe,kt);const cn=yield function re(ae,oe,ue){return ne.apply(this,arguments)}(oe,kt,ue),oi=yield function Oe(ae){const{cordova:oe}=Se();return new Promise(ue=>{oe.plugins.browsertab.isAvailable(De=>{let lt=null;De?oe.plugins.browsertab.openUrl(ae):lt=oe.InAppBrowser.open(ae,(0,Y.ap)()?"_blank":"_system","location=yes"),ue(lt)})})}(cn);return function je(ae,oe,ue){return ut.apply(this,arguments)}(oe,rt,oi)})()}_isIframeWebStorageSupported(oe,ue){throw new Error("Method not implemented.")}_originValidation(oe){const ue=oe._key();return this.originValidationPromises[ue]||(this.originValidationPromises[ue]=function ce(ae){return we.apply(this,arguments)}(oe)),this.originValidationPromises[ue]}attachCallbackListeners(oe,ue){const{universalLinks:De,handleOpenURL:lt,BuildInfo:Pt}=Se(),rt=setTimeout((0,s.Z)(function*(){yield pe(oe),ue.onEvent(Tt())}),500),kt=function(){var Hi=(0,s.Z)(function*(Tn){clearTimeout(rt);const Di=yield pe(oe);let Te=null;Di&&Tn?.url&&(Te=function Ae(ae,oe){var ue,De;const lt=function gt(ae){const oe=ct(ae),ue=oe.link?decodeURIComponent(oe.link):void 0,De=ct(ue).link,lt=oe.deep_link_id?decodeURIComponent(oe.deep_link_id):void 0;return ct(lt).link||lt||De||ue||ae}(oe);if(lt.includes("/__/auth/callback")){const Pt=ct(lt),rt=Pt.firebaseError?function Pe(ae){try{return JSON.parse(ae)}catch{return null}}(decodeURIComponent(Pt.firebaseError)):null,kt=null===(De=null===(ue=rt?.code)||void 0===ue?void 0:ue.split("auth/"))||void 0===De?void 0:De[1],cn=kt?(0,Y.aw)(kt):null;return cn?{type:ae.type,eventId:ae.eventId,tenantId:ae.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:ae.type,eventId:ae.eventId,tenantId:ae.tenantId,sessionId:ae.sessionId,urlResponse:lt,postBody:null}}return null}(Di,Tn.url)),ue.onEvent(Te||Tt())});return function(Di){return Hi.apply(this,arguments)}}();typeof De<"u"&&"function"==typeof De.subscribe&&De.subscribe(null,kt);const cn=lt,oi=`${Pt.packageName.toLowerCase()}://`;Se().handleOpenURL=function(){var Hi=(0,s.Z)(function*(Tn){if(Tn.toLowerCase().startsWith(oi)&&kt({url:Tn}),"function"==typeof cn)try{cn(Tn)}catch(Di){console.error(Di)}});return function(Tn){return Hi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aB,this._overrideRedirectResult=Y.aC}_initialize(oe){var ue=this;return(0,s.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._initialize(oe)})()}_openPopup(oe,ue,De,lt){var Pt=this;return(0,s.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openPopup(oe,ue,De,lt)})()}_openRedirect(oe,ue,De,lt){var Pt=this;return(0,s.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openRedirect(oe,ue,De,lt)})()}_isIframeWebStorageSupported(oe,ue){this.assertedUnderlyingResolver._isIframeWebStorageSupported(oe,ue)}_originValidation(oe){return this.assertedUnderlyingResolver._originValidation(oe)}get _shouldInitProactively(){return wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var oe=this;return(0,s.Z)(function*(){if(oe.underlyingResolver)return;const ue=yield function nt(){return Fe.apply(this,arguments)}();oe.underlyingResolver=ue?oe.cordovaResolver:oe.browserResolver})()}}function Bi(ae){return ae.unwrap()}function An(ae){return Qi(ae)}function Qi(ae){const{_tokenResponse:oe}=ae instanceof _e.ZR?ae.customData:ae;if(!oe)return null;if(!(ae instanceof _e.ZR)&&"temporaryProof"in oe&&"phoneNumber"in oe)return Y.P.credentialFromResult(ae);const ue=oe.providerId;if(!ue||ue===Y.o.PASSWORD)return null;let De;switch(ue){case Y.o.GOOGLE:De=Y.Q;break;case Y.o.FACEBOOK:De=Y.N;break;case Y.o.GITHUB:De=Y.T;break;case Y.o.TWITTER:De=Y.W;break;default:const{oauthIdToken:lt,oauthAccessToken:Pt,oauthTokenSecret:rt,pendingToken:kt,nonce:cn}=oe;return Pt||rt||lt||kt?kt?ue.startsWith("saml.")?Y.aL._create(ue,kt):Y.J._fromParams({providerId:ue,signInMethod:ue,pendingToken:kt,idToken:lt,accessToken:Pt}):new Y.U(ue).credential({idToken:lt,accessToken:Pt,rawNonce:cn}):null}return ae instanceof _e.ZR?De.credentialFromError(ae):De.credentialFromResult(ae)}function In(ae,oe){return oe.catch(ue=>{throw ue instanceof _e.ZR&&function hi(ae,oe){var ue,De;const lt=null===(ue=oe.customData)||void 0===ue?void 0:ue._tokenResponse;if("auth/multi-factor-auth-required"===(null===(De=oe)||void 0===De?void 0:De.code))oe.resolver=new G(ae,Y.an(ae,oe));else if(lt){const Pt=Qi(oe),rt=oe;Pt&&(rt.credential=Pt,rt.tenantId=lt.tenantId||void 0,rt.email=lt.email||void 0,rt.phoneNumber=lt.phoneNumber||void 0)}}(ae,ue),ue}).then(ue=>{const lt=ue.user;return{operationType:ue.operationType,credential:An(ue),additionalUserInfo:Y.al(ue),user:K.getOrCreate(lt)}})}function Zi(ae,oe){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(ae,oe){const ue=yield oe;return{verificationId:ue.verificationId,confirm:De=>In(ae,ue.confirm(De))}})).apply(this,arguments)}class G{constructor(oe,ue){this.resolver=ue,this.auth=function yi(ae){return ae.wrapped()}(oe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(oe){return In(Bi(this.auth),this.resolver.resolveSignIn(oe))}}class K{constructor(oe){this._delegate=oe,this.multiFactor=Y.ao(oe)}static getOrCreate(oe){return K.USER_MAP.has(oe)||K.USER_MAP.set(oe,new K(oe)),K.USER_MAP.get(oe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(oe){return this._delegate.getIdTokenResult(oe)}getIdToken(oe){return this._delegate.getIdToken(oe)}linkAndRetrieveDataWithCredential(oe){return this.linkWithCredential(oe)}linkWithCredential(oe){var ue=this;return(0,s.Z)(function*(){return In(ue.auth,Y.Z(ue._delegate,oe))})()}linkWithPhoneNumber(oe,ue){var De=this;return(0,s.Z)(function*(){return Zi(De.auth,Y.l(De._delegate,oe,ue))})()}linkWithPopup(oe){var ue=this;return(0,s.Z)(function*(){return In(ue.auth,Y.d(ue._delegate,oe,ei))})()}linkWithRedirect(oe){var ue=this;return(0,s.Z)(function*(){return yield $n(Y.aE(ue.auth)),Y.g(ue._delegate,oe,ei)})()}reauthenticateAndRetrieveDataWithCredential(oe){return this.reauthenticateWithCredential(oe)}reauthenticateWithCredential(oe){var ue=this;return(0,s.Z)(function*(){return In(ue.auth,Y._(ue._delegate,oe))})()}reauthenticateWithPhoneNumber(oe,ue){return Zi(this.auth,Y.r(this._delegate,oe,ue))}reauthenticateWithPopup(oe){return In(this.auth,Y.e(this._delegate,oe,ei))}reauthenticateWithRedirect(oe){var ue=this;return(0,s.Z)(function*(){return yield $n(Y.aE(ue.auth)),Y.h(ue._delegate,oe,ei)})()}sendEmailVerification(oe){return Y.ab(this._delegate,oe)}unlink(oe){var ue=this;return(0,s.Z)(function*(){return yield Y.ak(ue._delegate,oe),ue})()}updateEmail(oe){return Y.ag(this._delegate,oe)}updatePassword(oe){return Y.ah(this._delegate,oe)}updatePhoneNumber(oe){return Y.u(this._delegate,oe)}updateProfile(oe){return Y.af(this._delegate,oe)}verifyBeforeUpdateEmail(oe,ue){return Y.ac(this._delegate,oe,ue)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}K.USER_MAP=new WeakMap;const ee=Y.ax;let Q=(()=>{class ae{constructor(ue,De){if(this.app=ue,De.isInitialized())return this._delegate=De.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:lt}=ue.options;ee(lt,"invalid-api-key",{appName:ue.name}),ee(lt,"invalid-api-key",{appName:ue.name});const Pt=typeof window<"u"?ei:void 0;this._delegate=De.initialize({options:{persistence:qe(lt,ue.name),popupRedirectResolver:Pt}}),this._delegate._updateErrorMap(Y.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?K.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ue){this._delegate.languageCode=ue}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ue){this._delegate.tenantId=ue}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ue,De){Y.G(this._delegate,ue,De)}applyActionCode(ue){return Y.a2(this._delegate,ue)}checkActionCode(ue){return Y.a3(this._delegate,ue)}confirmPasswordReset(ue,De){return Y.a1(this._delegate,ue,De)}createUserWithEmailAndPassword(ue,De){var lt=this;return(0,s.Z)(function*(){return In(lt._delegate,Y.a5(lt._delegate,ue,De))})()}fetchProvidersForEmail(ue){return this.fetchSignInMethodsForEmail(ue)}fetchSignInMethodsForEmail(ue){return Y.aa(this._delegate,ue)}isSignInWithEmailLink(ue){return Y.a8(this._delegate,ue)}getRedirectResult(){var ue=this;return(0,s.Z)(function*(){ee(En(),ue._delegate,"operation-not-supported-in-this-environment");const De=yield Y.j(ue._delegate,ei);return De?In(ue._delegate,Promise.resolve(De)):{credential:null,user:null}})()}addFrameworkForLogging(ue){!function It(ae,oe){(0,Y.aE)(ae)._logFramework(oe)}(this._delegate,ue)}onAuthStateChanged(ue,De,lt){const{next:Pt,error:rt,complete:kt}=de(ue,De,lt);return this._delegate.onAuthStateChanged(Pt,rt,kt)}onIdTokenChanged(ue,De,lt){const{next:Pt,error:rt,complete:kt}=de(ue,De,lt);return this._delegate.onIdTokenChanged(Pt,rt,kt)}sendSignInLinkToEmail(ue,De){return Y.a7(this._delegate,ue,De)}sendPasswordResetEmail(ue,De){return Y.a0(this._delegate,ue,De||void 0)}setPersistence(ue){var De=this;return(0,s.Z)(function*(){let lt;switch(function xn(ae,oe){Ut(Object.values(Et).includes(oe),ae,"invalid-persistence-type"),(0,_e.b$)()?Ut(oe!==Et.SESSION,ae,"unsupported-persistence-type"):(0,_e.UG)()?Ut(oe===Et.NONE,ae,"unsupported-persistence-type"):vn()?Ut(oe===Et.NONE||oe===Et.LOCAL&&(0,_e.hl)(),ae,"unsupported-persistence-type"):Ut(oe===Et.NONE||ai(),ae,"unsupported-persistence-type")}(De._delegate,ue),ue){case Et.SESSION:lt=Y.a;break;case Et.LOCAL:lt=(yield Y.ay(Y.i)._isAvailable())?Y.i:Y.b;break;case Et.NONE:lt=Y.L;break;default:return Y.at("argument-error",{appName:De._delegate.name})}return De._delegate.setPersistence(lt)})()}signInAndRetrieveDataWithCredential(ue){return this.signInWithCredential(ue)}signInAnonymously(){return In(this._delegate,Y.X(this._delegate))}signInWithCredential(ue){return In(this._delegate,Y.Y(this._delegate,ue))}signInWithCustomToken(ue){return In(this._delegate,Y.$(this._delegate,ue))}signInWithEmailAndPassword(ue,De){return In(this._delegate,Y.a6(this._delegate,ue,De))}signInWithEmailLink(ue,De){return In(this._delegate,Y.a9(this._delegate,ue,De))}signInWithPhoneNumber(ue,De){return Zi(this._delegate,Y.s(this._delegate,ue,De))}signInWithPopup(ue){var De=this;return(0,s.Z)(function*(){return ee(En(),De._delegate,"operation-not-supported-in-this-environment"),In(De._delegate,Y.c(De._delegate,ue,ei))})()}signInWithRedirect(ue){var De=this;return(0,s.Z)(function*(){return ee(En(),De._delegate,"operation-not-supported-in-this-environment"),yield $n(De._delegate),Y.f(De._delegate,ue,ei)})()}updateCurrentUser(ue){return this._delegate.updateCurrentUser(ue)}verifyPasswordResetCode(ue){return Y.a4(this._delegate,ue)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ae.Persistence=Et,ae})();function de(ae,oe,ue){let De=ae;"function"!=typeof ae&&({next:De,error:oe,complete:ue}=ae);const lt=De;return{next:rt=>lt(rt&&K.getOrCreate(rt)),error:oe,complete:ue}}function qe(ae,oe){const ue=function Bn(ae,oe){const ue=Ft();if(!ue)return[];const De=Y.az(Rn,ae,oe);switch(ue.getItem(De)){case Et.NONE:return[Y.L];case Et.LOCAL:return[Y.i,Y.a];case Et.SESSION:return[Y.a];default:return[]}}(ae,oe);if(typeof self<"u"&&!ue.includes(Y.i)&&ue.push(Y.i),typeof window<"u")for(const De of[Y.b,Y.a])ue.includes(De)||ue.push(De);return ue.includes(Y.L)||ue.push(Y.L),ue}class bt{constructor(){this.providerId="phone",this._delegate=new Y.P(Bi(V.Z.auth()))}static credential(oe,ue){return Y.P.credential(oe,ue)}verifyPhoneNumber(oe,ue){return this._delegate.verifyPhoneNumber(oe,ue)}unwrap(){return this._delegate}}bt.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,bt.PROVIDER_ID=Y.P.PROVIDER_ID;const Gt=Y.ax;class mn{constructor(oe,ue,De=V.Z.app()){var lt;Gt(null===(lt=De.options)||void 0===lt?void 0:lt.apiKey,"invalid-api-key",{appName:De.name}),this._delegate=new Y.R(oe,ue,De.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Re(ae){ae.INTERNAL.registerComponent(new ve.wA("auth-compat",oe=>{const ue=oe.getProvider("app-compat").getImmediate(),De=oe.getProvider("auth");return new Q(ue,De)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.M,FacebookAuthProvider:Y.N,GithubAuthProvider:Y.T,GoogleAuthProvider:Y.Q,OAuthProvider:Y.U,SAMLAuthProvider:Y.V,PhoneAuthProvider:bt,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:mn,TwitterAuthProvider:Y.W,Auth:Q,AuthCredential:Y.H,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ae.registerVersion("@firebase/auth-compat","0.2.18")}(V.Z)},2375:(an,Qe,q)=>{"use strict";q.d(Qe,{KL:()=>cn,Gb:()=>De});var s=q(5861),Y=(q(2833),q(4859)),_e=q(8766),Ve=q(2090),Me=q(9681);const ve="/firebase-messaging-sw.js",Se="/firebase-cloud-messaging-push-scope",fe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ne="google.c.a.c_id",ce="google.c.a.c_l",we="google.c.a.ts",Oe="google.c.a.e";var ut=(()=>{return(Te=ut||(ut={})).PUSH_RECEIVED="push-received",Te.NOTIFICATION_CLICKED="notification-clicked",ut;var Te})();function Be(Te){const et=new Uint8Array(Te);return btoa(String.fromCharCode(...et)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ne(Te){const zt=(Te+"=".repeat((4-Te.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Dt=atob(zt),kn=new Uint8Array(Dt.length);for(let Ee=0;Ee<Dt.length;++Ee)kn[Ee]=Dt.charCodeAt(Ee);return kn}const St="fcm_token_details_db",Ke="fcm_token_object_Store";function He(Te){return $e.apply(this,arguments)}function $e(){return $e=(0,s.Z)(function*(Te){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(St))return null;let et=null;return(yield(0,_e.X3)(St,5,{upgrade:(Dt=(0,s.Z)(function*(kn,Ee,tt,yt){var rn;if(Ee<2||!kn.objectStoreNames.contains(Ke))return;const xi=yt.objectStore(Ke),li=yield xi.index("fcmSenderId").get(Te);if(yield xi.clear(),li)if(2===Ee){const Mn=li;if(!Mn.auth||!Mn.p256dh||!Mn.endpoint)return;et={token:Mn.fcmToken,createTime:null!==(rn=Mn.createTime)&&void 0!==rn?rn:Date.now(),subscriptionOptions:{auth:Mn.auth,p256dh:Mn.p256dh,endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:"string"==typeof Mn.vapidKey?Mn.vapidKey:Be(Mn.vapidKey)}}}else if(3===Ee){const Mn=li;et={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:Be(Mn.auth),p256dh:Be(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:Be(Mn.vapidKey)}}}else if(4===Ee){const Mn=li;et={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:Be(Mn.auth),p256dh:Be(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:Be(Mn.vapidKey)}}}}),function(Ee,tt,yt,rn){return Dt.apply(this,arguments)})})).close(),yield(0,_e.Lj)(St),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),Xe(et)?et:null;var Dt}),$e.apply(this,arguments)}function Xe(Te){if(!Te||!Te.subscriptionOptions)return!1;const{subscriptionOptions:et}=Te;return"number"==typeof Te.createTime&&Te.createTime>0&&"string"==typeof Te.token&&Te.token.length>0&&"string"==typeof et.auth&&et.auth.length>0&&"string"==typeof et.p256dh&&et.p256dh.length>0&&"string"==typeof et.endpoint&&et.endpoint.length>0&&"string"==typeof et.swScope&&et.swScope.length>0&&"string"==typeof et.vapidKey&&et.vapidKey.length>0}const Ae="firebase-messaging-store";let be=null;function Ce(){return be||(be=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(Te,et)=>{0===et&&Te.createObjectStore(Ae)}})),be}function Ue(Te){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(Te){const et=en(Te),Dt=yield(yield Ce()).transaction(Ae).objectStore(Ae).get(et);if(Dt)return Dt;{const kn=yield He(Te.appConfig.senderId);if(kn)return yield gt(Te,kn),kn}})).apply(this,arguments)}function gt(Te,et){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(Te,et){const zt=en(Te),kn=(yield Ce()).transaction(Ae,"readwrite");return yield kn.objectStore(Ae).put(et,zt),yield kn.done,et})).apply(this,arguments)}function Kt(Te){return pn.apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(Te){const et=en(Te),Dt=(yield Ce()).transaction(Ae,"readwrite");yield Dt.objectStore(Ae).delete(et),yield Dt.done})).apply(this,arguments)}function en({appConfig:Te}){return Te.appId}const It=new Ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zt(Te,et){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(Te,et){var zt;const Dt=yield ln(Te),kn=Cn(et),Ee={method:"POST",headers:Dt,body:JSON.stringify(kn)};let tt;try{tt=yield(yield fetch(Qt(Te.appConfig),Ee)).json()}catch(yt){throw It.create("token-subscribe-failed",{errorInfo:null===(zt=yt)||void 0===zt?void 0:zt.toString()})}if(tt.error)throw It.create("token-subscribe-failed",{errorInfo:tt.error.message});if(!tt.token)throw It.create("token-subscribe-no-token");return tt.token})).apply(this,arguments)}function $t(Te,et){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(Te,et){var zt;const Dt=yield ln(Te),kn=Cn(et.subscriptionOptions),Ee={method:"PATCH",headers:Dt,body:JSON.stringify(kn)};let tt;try{tt=yield(yield fetch(`${Qt(Te.appConfig)}/${et.token}`,Ee)).json()}catch(yt){throw It.create("token-update-failed",{errorInfo:null===(zt=yt)||void 0===zt?void 0:zt.toString()})}if(tt.error)throw It.create("token-update-failed",{errorInfo:tt.error.message});if(!tt.token)throw It.create("token-update-no-token");return tt.token})).apply(this,arguments)}function dt(Te,et){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(Te,et){var zt;const kn={method:"DELETE",headers:yield ln(Te)};try{const tt=yield(yield fetch(`${Qt(Te.appConfig)}/${et}`,kn)).json();if(tt.error)throw It.create("token-unsubscribe-failed",{errorInfo:tt.error.message})}catch(Ee){throw It.create("token-unsubscribe-failed",{errorInfo:null===(zt=Ee)||void 0===zt?void 0:zt.toString()})}})).apply(this,arguments)}function Qt({projectId:Te}){return`https://fcmregistrations.googleapis.com/v1/projects/${Te}/registrations`}function ln(Te){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,s.Z)(function*({appConfig:Te,installations:et}){const zt=yield et.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Te.apiKey,"x-goog-firebase-installations-auth":`FIS ${zt}`})})).apply(this,arguments)}function Cn({p256dh:Te,auth:et,endpoint:zt,vapidKey:Dt}){const kn={web:{endpoint:zt,auth:et,p256dh:Te}};return Dt!==fe&&(kn.web.applicationPubKey=Dt),kn}const ai=6048e5;function vn(Te){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(Te){const et=yield Rn(Te.swRegistration,Te.vapidKey),zt={vapidKey:Te.vapidKey,swScope:Te.swRegistration.scope,endpoint:et.endpoint,auth:Be(et.getKey("auth")),p256dh:Be(et.getKey("p256dh"))},Dt=yield Ue(Te.firebaseDependencies);if(Dt){if($n(Dt.subscriptionOptions,zt))return Date.now()>=Dt.createTime+ai?Fe(Te,{token:Dt.token,createTime:Date.now(),subscriptionOptions:zt}):Dt.token;try{yield dt(Te.firebaseDependencies,Dt.token)}catch(kn){console.warn(kn)}return Et(Te.firebaseDependencies,zt)}return Et(Te.firebaseDependencies,zt)})).apply(this,arguments)}function wi(Te){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(Te){const et=yield Ue(Te.firebaseDependencies);et&&(yield dt(Te.firebaseDependencies,et.token),yield Kt(Te.firebaseDependencies));const zt=yield Te.swRegistration.pushManager.getSubscription();return!zt||zt.unsubscribe()})).apply(this,arguments)}function Fe(Te,et){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(Te,et){try{const zt=yield $t(Te.firebaseDependencies,et),Dt=Object.assign(Object.assign({},et),{token:zt,createTime:Date.now()});return yield gt(Te.firebaseDependencies,Dt),zt}catch(zt){throw yield wi(Te),zt}})).apply(this,arguments)}function Et(Te,et){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(Te,et){const Dt={token:yield Zt(Te,et),createTime:Date.now(),subscriptionOptions:et};return yield gt(Te,Dt),Dt.token})).apply(this,arguments)}function Rn(Te,et){return xn.apply(this,arguments)}function xn(){return(xn=(0,s.Z)(function*(Te,et){return(yield Te.pushManager.getSubscription())||Te.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ne(et)})})).apply(this,arguments)}function $n(Te,et){return et.vapidKey===Te.vapidKey&&et.endpoint===Te.endpoint&&et.auth===Te.auth&&et.p256dh===Te.p256dh}function Xn(Te){const et={from:Te.from,collapseKey:Te.collapse_key,messageId:Te.fcmMessageId};return function Bn(Te,et){if(!et.notification)return;Te.notification={};const zt=et.notification.title;zt&&(Te.notification.title=zt);const Dt=et.notification.body;Dt&&(Te.notification.body=Dt);const kn=et.notification.image;kn&&(Te.notification.image=kn)}(et,Te),function Ft(Te,et){!et.data||(Te.data=et.data)}(et,Te),function Rt(Te,et){var zt,Dt,kn,Ee,tt;if(!(et.fcmOptions||null!==(zt=et.notification)&&void 0!==zt&&zt.click_action))return;Te.fcmOptions={};const yt=null!==(kn=null===(Dt=et.fcmOptions)||void 0===Dt?void 0:Dt.link)&&void 0!==kn?kn:null===(Ee=et.notification)||void 0===Ee?void 0:Ee.click_action;yt&&(Te.fcmOptions.link=yt);const rn=null===(tt=et.fcmOptions)||void 0===tt?void 0:tt.analytics_label;rn&&(Te.fcmOptions.analyticsLabel=rn)}(et,Te),et}function ei(Te){return"object"==typeof Te&&!!Te&&ne in Te}function Bi(Te,et){const zt=[];for(let Dt=0;Dt<Te.length;Dt++)zt.push(Te.charAt(Dt)),Dt<et.length&&zt.push(et.charAt(Dt));return zt.join("")}function An(Te){return It.create("missing-app-config-values",{valueName:Te})}Bi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hi{constructor(et,zt,Dt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const kn=function yi(Te){if(!Te||!Te.options)throw An("App Configuration Object");if(!Te.name)throw An("App Name");const et=["projectId","apiKey","appId","messagingSenderId"],{options:zt}=Te;for(const Dt of et)if(!zt[Dt])throw An(Dt);return{appName:Te.name,projectId:zt.projectId,apiKey:zt.apiKey,appId:zt.appId,senderId:zt.messagingSenderId}}(et);this.firebaseDependencies={app:et,appConfig:kn,installations:zt,analyticsProvider:Dt}}_delete(){return Promise.resolve()}}function Qi(Te){return In.apply(this,arguments)}function In(){return(In=(0,s.Z)(function*(Te){var et;try{Te.swRegistration=yield navigator.serviceWorker.register(ve,{scope:Se}),Te.swRegistration.update().catch(()=>{})}catch(zt){throw It.create("failed-service-worker-registration",{browserErrorMessage:null===(et=zt)||void 0===et?void 0:et.message})}})).apply(this,arguments)}function Zi(Te,et){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(Te,et){if(!et&&!Te.swRegistration&&(yield Qi(Te)),et||!Te.swRegistration){if(!(et instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");Te.swRegistration=et}})).apply(this,arguments)}function G(Te,et){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(Te,et){et?Te.vapidKey=et:Te.vapidKey||(Te.vapidKey=fe)})).apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(Te,et){if(!navigator)throw It.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw It.create("permission-blocked");return yield G(Te,et?.vapidKey),yield Zi(Te,et?.serviceWorkerRegistration),vn(Te)})).apply(this,arguments)}function de(Te,et,zt){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(Te,et,zt){const Dt=bt(et);(yield Te.firebaseDependencies.analyticsProvider.get()).logEvent(Dt,{message_id:zt[ne],message_name:zt[ce],message_time:zt[we],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bt(Te){switch(Te){case ut.NOTIFICATION_CLICKED:return"notification_open";case ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mn(){return(mn=(0,s.Z)(function*(Te,et){const zt=et.data;if(!zt.isFirebaseMessaging)return;Te.onMessageHandler&&zt.messageType===ut.PUSH_RECEIVED&&("function"==typeof Te.onMessageHandler?Te.onMessageHandler(Xn(zt)):Te.onMessageHandler.next(Xn(zt)));const Dt=zt.data;ei(Dt)&&"1"===Dt[Oe]&&(yield de(Te,zt.messageType,Dt))})).apply(this,arguments)}const Un="@firebase/messaging",ae=Te=>{const et=new hi(Te.getProvider("app").getImmediate(),Te.getProvider("installations-internal").getImmediate(),Te.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",zt=>function Gt(Te,et){return mn.apply(this,arguments)}(et,zt)),et},oe=Te=>{const et=Te.getProvider("messaging").getImmediate();return{getToken:Dt=>function ee(Te,et){return Q.apply(this,arguments)}(et,Dt)}};function De(){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(){try{yield(0,Ve.eu)()}catch{return!1}return typeof window<"u"&&(0,Ve.hl)()&&(0,Ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function cn(Te=(0,Me.getApp)()){return De().then(et=>{if(!et)throw It.create("unsupported-browser")},et=>{throw It.create("indexed-db-unsupported")}),(0,Me._getProvider)((0,Ve.m9)(Te),"messaging").getImmediate()}!function ue(){(0,Me._registerComponent)(new Y.wA("messaging",ae,"PUBLIC")),(0,Me._registerComponent)(new Y.wA("messaging-internal",oe,"PRIVATE")),(0,Me.registerVersion)(Un,"0.9.16"),(0,Me.registerVersion)(Un,"0.9.16","esm2017")}()},3226:(an,Qe,q)=>{"use strict";q.d(Qe,{sN:()=>St,Gb:()=>En});var s=q(5861),V=q(9681),Y=q(2090),_e=q(4859),Ve=q(1877);q(2833);const ve="@firebase/remote-config",re="remote-config",ce=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function St(nt=(0,V.getApp)()){return nt=(0,Y.m9)(nt),(0,V._getProvider)(nt,re).getImmediate()}class gt{constructor(Fe,mt,Et,Ut){this.client=Fe,this.storage=mt,this.storageCache=Et,this.logger=Ut}isCachedDataFresh(Fe,mt){if(!mt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Et=Date.now()-mt,Ut=Et<=Fe;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Et}. Cache max age millis (minimumFetchIntervalMillis setting): ${Fe}. Is cache hit: ${Ut}.`),Ut}fetch(Fe){var mt=this;return(0,s.Z)(function*(){const[Et,Ut]=yield Promise.all([mt.storage.getLastSuccessfulFetchTimestampMillis(),mt.storage.getLastSuccessfulFetchResponse()]);if(Ut&&mt.isCachedDataFresh(Fe.cacheMaxAgeMillis,Et))return Ut;Fe.eTag=Ut&&Ut.eTag;const Rn=yield mt.client.fetch(Fe),xn=[mt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Rn.status&&xn.push(mt.storage.setLastSuccessfulFetchResponse(Rn)),yield Promise.all(xn),Rn})()}}function ct(nt=navigator){return nt.languages&&nt.languages[0]||nt.language}class Kt{constructor(Fe,mt,Et,Ut,Rn,xn){this.firebaseInstallations=Fe,this.sdkVersion=mt,this.namespace=Et,this.projectId=Ut,this.apiKey=Rn,this.appId=xn}fetch(Fe){var mt=this;return(0,s.Z)(function*(){var Et,Ut,Rn;const[xn,$n]=yield Promise.all([mt.firebaseInstallations.getId(),mt.firebaseInstallations.getToken()]),Bn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${mt.projectId}/namespaces/${mt.namespace}:fetch?key=${mt.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Fe.eTag||"*"},Rt={sdk_version:mt.sdkVersion,app_instance_id:xn,app_instance_id_token:$n,app_id:mt.appId,language_code:ct()},ei={method:"POST",headers:Ft,body:JSON.stringify(Rt)},Bi=fetch(Bn,ei),yi=new Promise((me,G)=>{Fe.signal.addEventListener(()=>{const K=new Error("The operation was aborted.");K.name="AbortError",G(K)})});let An;try{yield Promise.race([Bi,yi]),An=yield Bi}catch(me){let G="fetch-client-network";throw"AbortError"===(null===(Et=me)||void 0===Et?void 0:Et.name)&&(G="fetch-timeout"),ce.create(G,{originalErrorMessage:null===(Ut=me)||void 0===Ut?void 0:Ut.message})}let hi=An.status;const Qi=An.headers.get("ETag")||void 0;let In,Zi;if(200===An.status){let me;try{me=yield An.json()}catch(G){throw ce.create("fetch-client-parse",{originalErrorMessage:null===(Rn=G)||void 0===Rn?void 0:Rn.message})}In=me.entries,Zi=me.state}if("INSTANCE_STATE_UNSPECIFIED"===Zi?hi=500:"NO_CHANGE"===Zi?hi=304:("NO_TEMPLATE"===Zi||"EMPTY_CONFIG"===Zi)&&(In={}),304!==hi&&200!==hi)throw ce.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:Qi,config:In}})()}}class Tt{constructor(Fe,mt){this.client=Fe,this.storage=mt}fetch(Fe){var mt=this;return(0,s.Z)(function*(){const Et=(yield mt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return mt.attemptFetch(Fe,Et)})()}attemptFetch(Fe,{throttleEndTimeMillis:mt,backoffCount:Et}){var Ut=this;return(0,s.Z)(function*(){yield function pn(nt,Fe){return new Promise((mt,Et)=>{const Ut=Math.max(Fe-Date.now(),0),Rn=setTimeout(mt,Ut);nt.addEventListener(()=>{clearTimeout(Rn),Et(ce.create("fetch-throttle",{throttleEndTimeMillis:Fe}))})})}(Fe.signal,mt);try{const Rn=yield Ut.client.fetch(Fe);return yield Ut.storage.deleteThrottleMetadata(),Rn}catch(Rn){if(!function en(nt){if(!(nt instanceof Y.ZR&&nt.customData))return!1;const Fe=Number(nt.customData.httpStatus);return 429===Fe||500===Fe||503===Fe||504===Fe}(Rn))throw Rn;const xn={throttleEndTimeMillis:Date.now()+(0,Y.$s)(Et),backoffCount:Et+1};return yield Ut.storage.setThrottleMetadata(xn),Ut.attemptFetch(Fe,xn)}})()}}class Vt{constructor(Fe,mt,Et,Ut,Rn){this.app=Fe,this._client=mt,this._storageCache=Et,this._storage=Ut,this._logger=Rn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $t(nt,Fe){var mt;const Et=nt.target.error||void 0;return ce.create(Fe,{originalErrorMessage:Et&&(null===(mt=Et)||void 0===mt?void 0:mt.message)})}const Wt="app_namespace_store";class ln{constructor(Fe,mt,Et,Ut=function Qt(){return new Promise((nt,Fe)=>{var mt;try{const Et=indexedDB.open("firebase_remote_config",1);Et.onerror=Ut=>{Fe($t(Ut,"storage-open"))},Et.onsuccess=Ut=>{nt(Ut.target.result)},Et.onupgradeneeded=Ut=>{0===Ut.oldVersion&&Ut.target.result.createObjectStore(Wt,{keyPath:"compositeKey"})}}catch(Et){Fe(ce.create("storage-open",{originalErrorMessage:null===(mt=Et)||void 0===mt?void 0:mt.message}))}})}()){this.appId=Fe,this.appName=mt,this.namespace=Et,this.openDbPromise=Ut}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Fe){return this.set("last_fetch_status",Fe)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Fe){return this.set("last_successful_fetch_timestamp_millis",Fe)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Fe){return this.set("last_successful_fetch_response",Fe)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Fe){return this.set("active_config",Fe)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Fe){return this.set("active_config_etag",Fe)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Fe){return this.set("throttle_metadata",Fe)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Fe){var mt=this;return(0,s.Z)(function*(){const Et=yield mt.openDbPromise;return new Promise((Ut,Rn)=>{var xn;const Xn=Et.transaction([Wt],"readonly").objectStore(Wt),Bn=mt.createCompositeKey(Fe);try{const Ft=Xn.get(Bn);Ft.onerror=Rt=>{Rn($t(Rt,"storage-get"))},Ft.onsuccess=Rt=>{const ei=Rt.target.result;Ut(ei?ei.value:void 0)}}catch(Ft){Rn(ce.create("storage-get",{originalErrorMessage:null===(xn=Ft)||void 0===xn?void 0:xn.message}))}})})()}set(Fe,mt){var Et=this;return(0,s.Z)(function*(){const Ut=yield Et.openDbPromise;return new Promise((Rn,xn)=>{var $n;const Bn=Ut.transaction([Wt],"readwrite").objectStore(Wt),Ft=Et.createCompositeKey(Fe);try{const Rt=Bn.put({compositeKey:Ft,value:mt});Rt.onerror=ei=>{xn($t(ei,"storage-set"))},Rt.onsuccess=()=>{Rn()}}catch(Rt){xn(ce.create("storage-set",{originalErrorMessage:null===($n=Rt)||void 0===$n?void 0:$n.message}))}})})()}delete(Fe){var mt=this;return(0,s.Z)(function*(){const Et=yield mt.openDbPromise;return new Promise((Ut,Rn)=>{var xn;const Xn=Et.transaction([Wt],"readwrite").objectStore(Wt),Bn=mt.createCompositeKey(Fe);try{const Ft=Xn.delete(Bn);Ft.onerror=Rt=>{Rn($t(Rt,"storage-delete"))},Ft.onsuccess=()=>{Ut()}}catch(Ft){Rn(ce.create("storage-delete",{originalErrorMessage:null===(xn=Ft)||void 0===xn?void 0:xn.message}))}})})()}createCompositeKey(Fe){return[this.appId,this.appName,this.namespace,Fe].join()}}class Jt{constructor(Fe){this.storage=Fe}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Fe=this;return(0,s.Z)(function*(){const mt=Fe.storage.getLastFetchStatus(),Et=Fe.storage.getLastSuccessfulFetchTimestampMillis(),Ut=Fe.storage.getActiveConfig(),Rn=yield mt;Rn&&(Fe.lastFetchStatus=Rn);const xn=yield Et;xn&&(Fe.lastSuccessfulFetchTimestampMillis=xn);const $n=yield Ut;$n&&(Fe.activeConfig=$n)})()}setLastFetchStatus(Fe){return this.lastFetchStatus=Fe,this.storage.setLastFetchStatus(Fe)}setLastSuccessfulFetchTimestampMillis(Fe){return this.lastSuccessfulFetchTimestampMillis=Fe,this.storage.setLastSuccessfulFetchTimestampMillis(Fe)}setActiveConfig(Fe){return this.activeConfig=Fe,this.storage.setActiveConfig(Fe)}}function En(){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}!function Cn(){(0,V._registerComponent)(new _e.wA(re,function nt(Fe,{instanceIdentifier:mt}){const Et=Fe.getProvider("app").getImmediate(),Ut=Fe.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ce.create("registration-window");if(!(0,Y.hl)())throw ce.create("indexed-db-unavailable");const{projectId:Rn,apiKey:xn,appId:$n}=Et.options;if(!Rn)throw ce.create("registration-project-id");if(!xn)throw ce.create("registration-api-key");if(!$n)throw ce.create("registration-app-id");const Xn=new ln($n,Et.name,mt=mt||"firebase"),Bn=new Jt(Xn),Ft=new Ve.Yd(ve);Ft.logLevel=Ve.in.ERROR;const Rt=new Kt(Ut,V.SDK_VERSION,mt,Rn,xn,$n),ei=new Tt(Rt,Xn),Bi=new gt(ei,Xn,Bn,Ft),yi=new Vt(Et,Bi,Bn,Xn,Ft);return function He(nt){const Fe=(0,Y.m9)(nt);Fe._initializePromise||(Fe._initializePromise=Fe._storageCache.loadFromStorage().then(()=>{Fe._isInitializationComplete=!0}))}(yi),yi},"PUBLIC").setMultipleInstances(!0)),(0,V.registerVersion)(ve,"0.3.11"),(0,V.registerVersion)(ve,"0.3.11","esm2017")}()},8036:(an,Qe,q)=>{"use strict";q.d(Qe,{Z:()=>Tt});var Ve,He,s=q(655),V=q(3237),Y=q(1716),_e=q(9474),Me=((Ve={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ve["bad-app-name"]="Illegal App name: '{$appName}",Ve["duplicate-app"]="Firebase App named '{$appName}' already exists",Ve["app-deleted"]="Firebase App named '{$appName}' already deleted",Ve["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ve["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ve),ve=new V.LL("app","Firebase",Me),Se="@firebase/app",$e="[DEFAULT]",Xe=((He={})[Se]="fire-core",He["@firebase/analytics"]="fire-analytics",He["@firebase/app-check"]="fire-app-check",He["@firebase/auth"]="fire-auth",He["@firebase/database"]="fire-rtdb",He["@firebase/functions"]="fire-fn",He["@firebase/installations"]="fire-iid",He["@firebase/messaging"]="fire-fcm",He["@firebase/performance"]="fire-perf",He["@firebase/remote-config"]="fire-rc",He["@firebase/storage"]="fire-gcs",He["@firebase/firestore"]="fire-fst",He["fire-js"]="fire-js",He["firebase-wrapper"]="fire-js-all",He),pe=new _e.Yd("@firebase/app"),Ie=function(){function It(Zt,Vt,$t){var Wt=this;this.firebase_=$t,this.isDeleted_=!1,this.name_=Vt.name,this.automaticDataCollectionEnabled_=Vt.automaticDataCollectionEnabled||!1,this.options_=(0,V.p$)(Zt),this.container=new Y.H0(Vt.name),this._addComponent(new Y.wA("app",function(){return Wt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(dt){return Wt._addComponent(dt)})}return Object.defineProperty(It.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Zt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Zt},enumerable:!1,configurable:!0}),Object.defineProperty(It.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(It.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),It.prototype.delete=function(){var Zt=this;return new Promise(function(Vt){Zt.checkDestroyed_(),Vt()}).then(function(){return Zt.firebase_.INTERNAL.removeApp(Zt.name_),Promise.all(Zt.container.getProviders().map(function(Vt){return Vt.delete()}))}).then(function(){Zt.isDeleted_=!0})},It.prototype._getService=function(Zt,Vt){var $t;void 0===Vt&&(Vt=$e),this.checkDestroyed_();var Wt=this.container.getProvider(Zt);return!Wt.isInitialized()&&"EXPLICIT"===(null===($t=Wt.getComponent())||void 0===$t?void 0:$t.instantiationMode)&&Wt.initialize(),Wt.getImmediate({identifier:Vt})},It.prototype._removeServiceInstance=function(Zt,Vt){void 0===Vt&&(Vt=$e),this.container.getProvider(Zt).clearInstance(Vt)},It.prototype._addComponent=function(Zt){try{this.container.addComponent(Zt)}catch(Vt){pe.debug("Component "+Zt.name+" failed to register with FirebaseApp "+this.name,Vt)}},It.prototype._addOrOverwriteComponent=function(Zt){this.container.addOrOverwriteComponent(Zt)},It.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},It.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ve.create("app-deleted",{appName:this.name_})},It}();Ie.prototype.name&&Ie.prototype.options||Ie.prototype.delete||console.log("dc");var Ue=function Ce(){var It=function be(It){var Zt={},Vt=new Map,$t={__esModule:!0,initializeApp:function nn(vn,En){void 0===En&&(En={}),("object"!=typeof En||null===En)&&(En={name:En});var nt=En;void 0===nt.name&&(nt.name=$e);var Fe=nt.name;if("string"!=typeof Fe||!Fe)throw ve.create("bad-app-name",{appName:String(Fe)});if((0,V.r3)(Zt,Fe))throw ve.create("duplicate-app",{appName:Fe});var mt=new It(vn,nt,$t);return Zt[Fe]=mt,mt},app:dt,registerVersion:function Jt(vn,En,wi){var nt,Fe=null!==(nt=Xe[vn])&&void 0!==nt?nt:vn;wi&&(Fe+="-"+wi);var mt=Fe.match(/\s|\//),Et=En.match(/\s|\//);if(mt||Et){var Ut=['Unable to register library "'+Fe+'" with version "'+En+'":'];return mt&&Ut.push('library name "'+Fe+'" contains illegal characters (whitespace or "/")'),mt&&Et&&Ut.push("and"),Et&&Ut.push('version name "'+En+'" contains illegal characters (whitespace or "/")'),void pe.warn(Ut.join(" "))}ln(new Y.wA(Fe+"-version",function(){return{library:Fe,version:En}},"VERSION"))},setLogLevel:_e.Ub,onLog:function Cn(vn,En){if(null!==vn&&"function"!=typeof vn)throw ve.create("invalid-log-argument");(0,_e.Am)(vn,En)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:ln,removeApp:function Wt(vn){delete Zt[vn]},components:Vt,useAsService:function ai(vn,En){return"serverAuth"===En?null:En}}};function dt(vn){if(!(0,V.r3)(Zt,vn=vn||$e))throw ve.create("no-app",{appName:vn});return Zt[vn]}function ln(vn){var En=vn.name;if(Vt.has(En))return pe.debug("There were multiple attempts to register component "+En+"."),"PUBLIC"===vn.type?$t[En]:null;if(Vt.set(En,vn),"PUBLIC"===vn.type){var wi=function(Et){if(void 0===Et&&(Et=dt()),"function"!=typeof Et[En])throw ve.create("invalid-app-argument",{appName:En});return Et[En]()};void 0!==vn.serviceProps&&(0,V.ZB)(wi,vn.serviceProps),$t[En]=wi,It.prototype[En]=function(){for(var Et=[],Ut=0;Ut<arguments.length;Ut++)Et[Ut]=arguments[Ut];return this._getService.bind(this,En).apply(this,vn.multipleInstances?Et:[])}}for(var nt=0,Fe=Object.keys(Zt);nt<Fe.length;nt++)Zt[Fe[nt]]._addComponent(vn);return"PUBLIC"===vn.type?$t[En]:null}return $t.default=$t,Object.defineProperty($t,"apps",{get:function Qt(){return Object.keys(Zt).map(function(vn){return Zt[vn]})}}),dt.App=It,$t}(Ie);return It.INTERNAL=(0,s.pi)((0,s.pi)({},It.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Zt(Vt){(0,V.ZB)(It,Vt)},createSubscribe:V.ne,ErrorFactory:V.LL,deepExtend:V.ZB}),It}(),Pe=function(){function It(Zt){this.container=Zt}return It.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Vt){if(function gt(It){return"VERSION"===It.getComponent()?.type}(Vt)){var $t=Vt.getImmediate();return $t.library+"/"+$t.version}return null}).filter(function(Vt){return Vt}).join(" ")},It}();if((0,V.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Kt=self.firebase.SDK_VERSION;Kt&&Kt.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pn=Ue.initializeApp;Ue.initializeApp=function(){for(var It=[],Zt=0;Zt<arguments.length;Zt++)It[Zt]=arguments[Zt];return(0,V.UG)()&&pe.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),pn.apply(void 0,It)};var en=Ue;!function ct(It,Zt){It.INTERNAL.registerComponent(new Y.wA("platform-logger",function(Vt){return new Pe(Vt)},"PRIVATE")),It.registerVersion(Se,"0.6.30",Zt),It.registerVersion("fire-js","")}(en);const Tt=en},1716:(an,Qe,q)=>{"use strict";q.d(Qe,{H0:()=>Se,wA:()=>Y});var s=q(655),V=q(3237),Y=function(){function fe(re,ne,ce){this.name=re,this.instanceFactory=ne,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return fe.prototype.setInstantiationMode=function(re){return this.instantiationMode=re,this},fe.prototype.setMultipleInstances=function(re){return this.multipleInstances=re,this},fe.prototype.setServiceProps=function(re){return this.serviceProps=re,this},fe.prototype.setInstanceCreatedCallback=function(re){return this.onInstanceCreated=re,this},fe}(),_e="[DEFAULT]",Ve=function(){function fe(re,ne){this.name=re,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return fe.prototype.get=function(re){var ne=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ne)){var ce=new V.BH;if(this.instancesDeferred.set(ne,ce),this.isInitialized(ne)||this.shouldAutoInitialize())try{var we=this.getOrInitializeService({instanceIdentifier:ne});we&&ce.resolve(we)}catch{}}return this.instancesDeferred.get(ne).promise},fe.prototype.getImmediate=function(re){var ne,ce=this.normalizeInstanceIdentifier(re?.identifier),we=null!==(ne=re?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(we)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Oe){if(we)return null;throw Oe}},fe.prototype.getComponent=function(){return this.component},fe.prototype.setComponent=function(re){var ne,ce;if(re.name!==this.name)throw Error("Mismatching Component "+re.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=re,this.shouldAutoInitialize()){if(function ve(fe){return"EAGER"===fe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}try{for(var we=(0,s.XA)(this.instancesDeferred.entries()),Oe=we.next();!Oe.done;Oe=we.next()){var je=(0,s.CR)(Oe.value,2),Be=je[1],Ne=this.normalizeInstanceIdentifier(je[0]);try{var St=this.getOrInitializeService({instanceIdentifier:Ne});Be.resolve(St)}catch{}}}catch(pt){ne={error:pt}}finally{try{Oe&&!Oe.done&&(ce=we.return)&&ce.call(we)}finally{if(ne)throw ne.error}}}},fe.prototype.clearInstance=function(re){void 0===re&&(re=_e),this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)},fe.prototype.delete=function(){return(0,s.mG)(this,void 0,void 0,function(){var re;return(0,s.Jh)(this,function(ne){switch(ne.label){case 0:return re=Array.from(this.instances.values()),[4,Promise.all((0,s.ev)((0,s.ev)([],(0,s.CR)(re.filter(function(ce){return"INTERNAL"in ce}).map(function(ce){return ce.INTERNAL.delete()}))),(0,s.CR)(re.filter(function(ce){return"_delete"in ce}).map(function(ce){return ce._delete()}))))];case 1:return ne.sent(),[2]}})})},fe.prototype.isComponentSet=function(){return null!=this.component},fe.prototype.isInitialized=function(re){return void 0===re&&(re=_e),this.instances.has(re)},fe.prototype.getOptions=function(re){return void 0===re&&(re=_e),this.instancesOptions.get(re)||{}},fe.prototype.initialize=function(re){var ne,ce;void 0===re&&(re={});var we=re.options,Oe=void 0===we?{}:we,je=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(je))throw Error(this.name+"("+je+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ut=this.getOrInitializeService({instanceIdentifier:je,options:Oe});try{for(var Be=(0,s.XA)(this.instancesDeferred.entries()),Ne=Be.next();!Ne.done;Ne=Be.next()){var St=(0,s.CR)(Ne.value,2),Ke=St[1];je===this.normalizeInstanceIdentifier(St[0])&&Ke.resolve(ut)}}catch($e){ne={error:$e}}finally{try{Ne&&!Ne.done&&(ce=Be.return)&&ce.call(Be)}finally{if(ne)throw ne.error}}return ut},fe.prototype.onInit=function(re,ne){var ce,we=this.normalizeInstanceIdentifier(ne),Oe=null!==(ce=this.onInitCallbacks.get(we))&&void 0!==ce?ce:new Set;Oe.add(re),this.onInitCallbacks.set(we,Oe);var je=this.instances.get(we);return je&&re(je,we),function(){Oe.delete(re)}},fe.prototype.invokeOnInitCallbacks=function(re,ne){var ce,we,Oe=this.onInitCallbacks.get(ne);if(Oe)try{for(var je=(0,s.XA)(Oe),ut=je.next();!ut.done;ut=je.next()){var Be=ut.value;try{Be(re,ne)}catch{}}}catch(Ne){ce={error:Ne}}finally{try{ut&&!ut.done&&(we=je.return)&&we.call(je)}finally{if(ce)throw ce.error}}},fe.prototype.getOrInitializeService=function(re){var ne=re.instanceIdentifier,ce=re.options,we=void 0===ce?{}:ce,Oe=this.instances.get(ne);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:Me(ne),options:we}),this.instances.set(ne,Oe),this.instancesOptions.set(ne,we),this.invokeOnInitCallbacks(Oe,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Oe)}catch{}return Oe||null},fe.prototype.normalizeInstanceIdentifier=function(re){return void 0===re&&(re=_e),this.component?this.component.multipleInstances?re:_e:re},fe.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},fe}();function Me(fe){return fe===_e?void 0:fe}var Se=function(){function fe(re){this.name=re,this.providers=new Map}return fe.prototype.addComponent=function(re){var ne=this.getProvider(re.name);if(ne.isComponentSet())throw new Error("Component "+re.name+" has already been registered with "+this.name);ne.setComponent(re)},fe.prototype.addOrOverwriteComponent=function(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)},fe.prototype.getProvider=function(re){if(this.providers.has(re))return this.providers.get(re);var ne=new Ve(re,this);return this.providers.set(re,ne),ne},fe.prototype.getProviders=function(){return Array.from(this.providers.values())},fe}()},9474:(an,Qe,q)=>{"use strict";function s(){for(var ce=0,we=0,Oe=arguments.length;we<Oe;we++)ce+=arguments[we].length;var je=Array(ce),ut=0;for(we=0;we<Oe;we++)for(var Be=arguments[we],Ne=0,St=Be.length;Ne<St;Ne++,ut++)je[ut]=Be[Ne];return je}q.d(Qe,{Am:()=>ne,Ub:()=>re,Yd:()=>fe,in:()=>_e});var V,Y=[],_e=(()=>{return(ce=_e||(_e={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",_e;var ce})(),Ve={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},Me=_e.INFO,ve=((V={})[_e.DEBUG]="log",V[_e.VERBOSE]="log",V[_e.INFO]="info",V[_e.WARN]="warn",V[_e.ERROR]="error",V),Se=function(ce,we){for(var Oe=[],je=2;je<arguments.length;je++)Oe[je-2]=arguments[je];if(!(we<ce.logLevel)){var ut=(new Date).toISOString(),Be=ve[we];if(!Be)throw new Error("Attempted to log a message with an invalid logType (value: "+we+")");console[Be].apply(console,s(["["+ut+"]  "+ce.name+":"],Oe))}},fe=function(){function ce(we){this.name=we,this._logLevel=Me,this._logHandler=Se,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(ce.prototype,"logLevel",{get:function(){return this._logLevel},set:function(we){if(!(we in _e))throw new TypeError('Invalid value "'+we+'" assigned to `logLevel`');this._logLevel=we},enumerable:!1,configurable:!0}),ce.prototype.setLogLevel=function(we){this._logLevel="string"==typeof we?Ve[we]:we},Object.defineProperty(ce.prototype,"logHandler",{get:function(){return this._logHandler},set:function(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(we){this._userLogHandler=we},enumerable:!1,configurable:!0}),ce.prototype.debug=function(){for(var we=[],Oe=0;Oe<arguments.length;Oe++)we[Oe]=arguments[Oe];this._userLogHandler&&this._userLogHandler.apply(this,s([this,_e.DEBUG],we)),this._logHandler.apply(this,s([this,_e.DEBUG],we))},ce.prototype.log=function(){for(var we=[],Oe=0;Oe<arguments.length;Oe++)we[Oe]=arguments[Oe];this._userLogHandler&&this._userLogHandler.apply(this,s([this,_e.VERBOSE],we)),this._logHandler.apply(this,s([this,_e.VERBOSE],we))},ce.prototype.info=function(){for(var we=[],Oe=0;Oe<arguments.length;Oe++)we[Oe]=arguments[Oe];this._userLogHandler&&this._userLogHandler.apply(this,s([this,_e.INFO],we)),this._logHandler.apply(this,s([this,_e.INFO],we))},ce.prototype.warn=function(){for(var we=[],Oe=0;Oe<arguments.length;Oe++)we[Oe]=arguments[Oe];this._userLogHandler&&this._userLogHandler.apply(this,s([this,_e.WARN],we)),this._logHandler.apply(this,s([this,_e.WARN],we))},ce.prototype.error=function(){for(var we=[],Oe=0;Oe<arguments.length;Oe++)we[Oe]=arguments[Oe];this._userLogHandler&&this._userLogHandler.apply(this,s([this,_e.ERROR],we)),this._logHandler.apply(this,s([this,_e.ERROR],we))},ce}();function re(ce){Y.forEach(function(we){we.setLogLevel(ce)})}function ne(ce,we){for(var Oe=function(Ne){var St=null;we&&we.level&&(St=Ve[we.level]),Ne.userLogHandler=null===ce?null:function(pt,Ke){for(var He=[],$e=2;$e<arguments.length;$e++)He[$e-2]=arguments[$e];var Xe=He.map(function(pe){if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(function(pe){return pe}).join(" ");Ke>=(St??pt.logLevel)&&ce({level:_e[Ke].toLowerCase(),message:Xe,args:He,type:pt.name})}},je=0,ut=Y;je<ut.length;je++)Oe(ut[je])}},3237:(an,Qe,q)=>{"use strict";q.d(Qe,{BH:()=>Oe,G6:()=>Ie,LL:()=>ct,Mn:()=>Xe,Sg:()=>je,UG:()=>Ne,ZB:()=>ce,b$:()=>Ke,d:()=>He,jU:()=>St,m9:()=>Zi,ne:()=>nt,p$:()=>ne,r3:()=>dt,ru:()=>pt,uI:()=>Be,w1:()=>$e,z$:()=>ut});var s=q(655),Ve=function(me){for(var G=[],K=0,ee=0;ee<me.length;ee++){var Q=me.charCodeAt(ee);Q<128?G[K++]=Q:Q<2048?(G[K++]=Q>>6|192,G[K++]=63&Q|128):55296==(64512&Q)&&ee+1<me.length&&56320==(64512&me.charCodeAt(ee+1))?(Q=65536+((1023&Q)<<10)+(1023&me.charCodeAt(++ee)),G[K++]=Q>>18|240,G[K++]=Q>>12&63|128,G[K++]=Q>>6&63|128,G[K++]=63&Q|128):(G[K++]=Q>>12|224,G[K++]=Q>>6&63|128,G[K++]=63&Q|128)}return G},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(me,G){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var K=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[],Q=0;Q<me.length;Q+=3){var de=me[Q],qe=Q+1<me.length,bt=qe?me[Q+1]:0,Gt=Q+2<me.length,mn=Gt?me[Q+2]:0,ae=(15&bt)<<2|mn>>6,oe=63&mn;Gt||(oe=64,qe||(ae=64)),ee.push(K[de>>2],K[(3&de)<<4|bt>>4],K[ae],K[oe])}return ee.join("")},encodeString:function(me,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(me):this.encodeByteArray(Ve(me),G)},decodeString:function(me,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(me):function(me){for(var G=[],K=0,ee=0;K<me.length;){var Q=me[K++];if(Q<128)G[ee++]=String.fromCharCode(Q);else if(Q>191&&Q<224){var de=me[K++];G[ee++]=String.fromCharCode((31&Q)<<6|63&de)}else if(Q>239&&Q<365){var Gt=((7&Q)<<18|(63&(de=me[K++]))<<12|(63&(qe=me[K++]))<<6|63&me[K++])-65536;G[ee++]=String.fromCharCode(55296+(Gt>>10)),G[ee++]=String.fromCharCode(56320+(1023&Gt))}else{de=me[K++];var qe=me[K++];G[ee++]=String.fromCharCode((15&Q)<<12|(63&de)<<6|63&qe)}}return G.join("")}(this.decodeStringToByteArray(me,G))},decodeStringToByteArray:function(me,G){this.init_();for(var K=G?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[],Q=0;Q<me.length;){var de=K[me.charAt(Q++)],bt=Q<me.length?K[me.charAt(Q)]:0,mn=++Q<me.length?K[me.charAt(Q)]:64,Re=++Q<me.length?K[me.charAt(Q)]:64;if(++Q,null==de||null==bt||null==mn||null==Re)throw Error();ee.push(de<<2|bt>>4),64!==mn&&(ee.push(bt<<4&240|mn>>2),64!==Re&&ee.push(mn<<6&192|Re))}return ee},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}},fe=function(me){return function(me){var G=Ve(me);return ve.encodeByteArray(G,!0)}(me).replace(/\./g,"")};function ne(me){return ce(void 0,me)}function ce(me,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===me&&(me={});break;case Array:me=[];break;default:return G}for(var ee in G)!G.hasOwnProperty(ee)||!we(ee)||(me[ee]=ce(me[ee],G[ee]));return me}function we(me){return"__proto__"!==me}var Oe=function(){function me(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(K,ee){G.resolve=K,G.reject=ee})}return me.prototype.wrapCallback=function(G){var K=this;return function(ee,Q){ee?K.reject(ee):K.resolve(Q),"function"==typeof G&&(K.promise.catch(function(){}),1===G.length?G(ee):G(ee,Q))}},me}();function je(me,G){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ee=G||"demo-project",Q=me.iat||0,de=me.sub||me.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var qe=(0,s.pi)({iss:"https://securetoken.google.com/"+ee,aud:ee,iat:Q,exp:Q+3600,auth_time:Q,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},me);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(qe)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function pt(){var me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function He(){return ut().indexOf("Electron/")>=0}function $e(){var me=ut();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function Xe(){return ut().indexOf("MSAppHost/")>=0}function Ie(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var gt=function(me){function G(K,ee,Q){var de=me.call(this,ee)||this;return de.code=K,de.customData=Q,de.name="FirebaseError",Object.setPrototypeOf(de,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(de,ct.prototype.create),de}return(0,s.ZT)(G,me),G}(Error),ct=function(){function me(G,K,ee){this.service=G,this.serviceName=K,this.errors=ee}return me.prototype.create=function(G){for(var K=[],ee=1;ee<arguments.length;ee++)K[ee-1]=arguments[ee];var Q=K[0]||{},de=this.service+"/"+G,qe=this.errors[G],bt=qe?Kt(qe,Q):"Error",Gt=this.serviceName+": "+bt+" ("+de+").",mn=new gt(de,Gt,Q);return mn},me}();function Kt(me,G){return me.replace(pn,function(K,ee){var Q=G[ee];return null!=Q?String(Q):"<"+ee+"?>"})}var pn=/\{\$([^}]+)}/g;function dt(me,G){return Object.prototype.hasOwnProperty.call(me,G)}function nt(me,G){var K=new Fe(me,G);return K.subscribe.bind(K)}!function(){function me(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}me.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},me.prototype.compress_=function(G,K){K||(K=0);var ee=this.W_;if("string"==typeof G)for(var Q=0;Q<16;Q++)ee[Q]=G.charCodeAt(K)<<24|G.charCodeAt(K+1)<<16|G.charCodeAt(K+2)<<8|G.charCodeAt(K+3),K+=4;else for(Q=0;Q<16;Q++)ee[Q]=G[K]<<24|G[K+1]<<16|G[K+2]<<8|G[K+3],K+=4;for(Q=16;Q<80;Q++)ee[Q]=4294967295&((de=ee[Q-3]^ee[Q-8]^ee[Q-14]^ee[Q-16])<<1|de>>>31);var Re,ae,qe=this.chain_[0],bt=this.chain_[1],Gt=this.chain_[2],mn=this.chain_[3],Un=this.chain_[4];for(Q=0;Q<80;Q++){Q<40?Q<20?(Re=mn^bt&(Gt^mn),ae=1518500249):(Re=bt^Gt^mn,ae=1859775393):Q<60?(Re=bt&Gt|mn&(bt|Gt),ae=2400959708):(Re=bt^Gt^mn,ae=3395469782);var de=(qe<<5|qe>>>27)+Re+Un+ae+ee[Q]&4294967295;Un=mn,mn=Gt,Gt=4294967295&(bt<<30|bt>>>2),bt=qe,qe=de}this.chain_[0]=this.chain_[0]+qe&4294967295,this.chain_[1]=this.chain_[1]+bt&4294967295,this.chain_[2]=this.chain_[2]+Gt&4294967295,this.chain_[3]=this.chain_[3]+mn&4294967295,this.chain_[4]=this.chain_[4]+Un&4294967295},me.prototype.update=function(G,K){if(null!=G){void 0===K&&(K=G.length);for(var ee=K-this.blockSize,Q=0,de=this.buf_,qe=this.inbuf_;Q<K;){if(0===qe)for(;Q<=ee;)this.compress_(G,Q),Q+=this.blockSize;if("string"==typeof G){for(;Q<K;)if(de[qe]=G.charCodeAt(Q),++Q,++qe===this.blockSize){this.compress_(de),qe=0;break}}else for(;Q<K;)if(de[qe]=G[Q],++Q,++qe===this.blockSize){this.compress_(de),qe=0;break}}this.inbuf_=qe,this.total_+=K}},me.prototype.digest=function(){var G=[],K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&K,K/=256;this.compress_(this.buf_);var Q=0;for(ee=0;ee<5;ee++)for(var de=24;de>=0;de-=8)G[Q]=this.chain_[ee]>>de&255,++Q;return G}}();var Fe=function(){function me(G,K){var ee=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(function(){G(ee)}).catch(function(Q){ee.error(Q)})}return me.prototype.next=function(G){this.forEachObserver(function(K){K.next(G)})},me.prototype.error=function(G){this.forEachObserver(function(K){K.error(G)}),this.close(G)},me.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},me.prototype.subscribe=function(G,K,ee){var de,Q=this;if(void 0===G&&void 0===K&&void 0===ee)throw new Error("Missing Observer.");de=function Et(me,G){if("object"!=typeof me||null===me)return!1;for(var K=0,ee=G;K<ee.length;K++){var Q=ee[K];if(Q in me&&"function"==typeof me[Q])return!0}return!1}(G,["next","error","complete"])?G:{next:G,error:K,complete:ee},void 0===de.next&&(de.next=Ut),void 0===de.error&&(de.error=Ut),void 0===de.complete&&(de.complete=Ut);var qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Q.finalError?de.error(Q.finalError):de.complete()}catch{}}),this.observers.push(de),qe},me.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},me.prototype.forEachObserver=function(G){if(!this.finalized)for(var K=0;K<this.observers.length;K++)this.sendOne(K,G)},me.prototype.sendOne=function(G,K){var ee=this;this.task.then(function(){if(void 0!==ee.observers&&void 0!==ee.observers[G])try{K(ee.observers[G])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})},me.prototype.close=function(G){var K=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){K.observers=void 0,K.onNoObservers=void 0}))},me}();function Ut(){}function Zi(me){return me&&me._delegate?me._delegate:me}},2707:(an,Qe,q)=>{"use strict";q.r(Qe),q.d(Qe,{default:()=>s.Z});var s=q(8036),Y="8.10.1";s.Z.registerVersion("firebase",Y,"app"),s.Z.SDK_VERSION=Y},8739:(an,Qe,q)=>{"use strict";q.r(Qe);var s=q(8036),V=q(655),Y=q(3237),_e=q(9474),Ve=function(d,u){return(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(f[w]=y[w])})(d,u)};function ve(d){var u="function"==typeof Symbol&&Symbol.iterator,f=u&&d[u],y=0;if(f)return f.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&y>=d.length&&(d=void 0),{value:d&&d[y++],done:!d}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}var fe,Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re=re||{},ne=Se||self;function ce(){}function we(d){var u=typeof d;return"array"==(u="object"!=u?u:d?Array.isArray(d)?"array":u:"null")||"object"==u&&"number"==typeof d.length}function Oe(d){var u=typeof d;return"object"==u&&null!=d||"function"==u}var ut="closure_uid_"+(1e9*Math.random()>>>0),Be=0;function Ne(d,u,f){return d.call.apply(d.bind,arguments)}function St(d,u,f){if(!d)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var w=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(w,y),d.apply(u,w)}}return function(){return d.apply(u,arguments)}}function pt(d,u,f){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ne:St).apply(null,arguments)}function Ke(d,u){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),d.apply(this,y)}}function He(d,u){function f(){}f.prototype=u.prototype,d.Z=u.prototype,d.prototype=new f,d.prototype.constructor=d,d.Vb=function(y,w,E){for(var M=Array(arguments.length-2),P=2;P<arguments.length;P++)M[P-2]=arguments[P];return u.prototype[w].apply(y,M)}}function $e(){this.s=this.s,this.o=this.o}var pe={};$e.prototype.s=!1,$e.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var d=function je(d){return Object.prototype.hasOwnProperty.call(d,ut)&&d[ut]||(d[ut]=++Be)}(this);delete pe[d]}},$e.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ie=Array.prototype.indexOf?function(d,u){return Array.prototype.indexOf.call(d,u,void 0)}:function(d,u){if("string"==typeof d)return"string"!=typeof u||1!=u.length?-1:d.indexOf(u,0);for(var f=0;f<d.length;f++)if(f in d&&d[f]===u)return f;return-1},Ae=Array.prototype.forEach?function(d,u,f){Array.prototype.forEach.call(d,u,f)}:function(d,u,f){for(var y=d.length,w="string"==typeof d?d.split(""):d,E=0;E<y;E++)E in w&&u.call(f,w[E],E,d)};function Ce(d){return Array.prototype.concat.apply([],arguments)}function Ue(d){var u=d.length;if(0<u){for(var f=Array(u),y=0;y<u;y++)f[y]=d[y];return f}return[]}function Pe(d){return/^[\s\xa0]*$/.test(d)}var pn,gt=String.prototype.trim?function(d){return d.trim()}:function(d){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(d)[1]};function ct(d,u){return-1!=d.indexOf(u)}function Kt(d,u){return d<u?-1:d>u?1:0}e:{var en=ne.navigator;if(en){var Tt=en.userAgent;if(Tt){pn=Tt;break e}}pn=""}function It(d,u,f){for(var y in d)u.call(f,d[y],y,d)}function Zt(d){var u={};for(var f in d)u[f]=d[f];return u}var Vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(d,u){for(var f,y,w=1;w<arguments.length;w++){for(f in y=arguments[w])d[f]=y[f];for(var E=0;E<Vt.length;E++)f=Vt[E],Object.prototype.hasOwnProperty.call(y,f)&&(d[f]=y[f])}}function Wt(d){return Wt[" "](d),d}Wt[" "]=ce;var En,d,nn=ct(pn,"Opera"),Qt=ct(pn,"Trident")||ct(pn,"MSIE"),ln=ct(pn,"Edge"),Jt=ln||Qt,Cn=ct(pn,"Gecko")&&!(ct(pn.toLowerCase(),"webkit")&&!ct(pn,"Edge"))&&!(ct(pn,"Trident")||ct(pn,"MSIE"))&&!ct(pn,"Edge"),ai=ct(pn.toLowerCase(),"webkit")&&!ct(pn,"Edge");function vn(){var d=ne.document;return d?d.documentMode:void 0}e:{var wi="",nt=(d=pn,Cn?/rv:([^\);]+)(\)|;)/.exec(d):ln?/Edge\/([\d\.]+)/.exec(d):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(d):ai?/WebKit\/(\S+)/.exec(d):nn?/(?:Version)[ \/]?(\S+)/.exec(d):void 0);if(nt&&(wi=nt?nt[1]:""),Qt){var Fe=vn();if(null!=Fe&&Fe>parseFloat(wi)){En=String(Fe);break e}}En=wi}var mt={};var xn=ne.document&&Qt&&(vn()||parseInt(En,10))||void 0,$n=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var d=!1,u=Object.defineProperty({},"passive",{get:function(){d=!0}});try{ne.addEventListener("test",ce,u),ne.removeEventListener("test",ce,u)}catch{}return d}();function Xn(d,u){this.type=d,this.g=this.target=u,this.defaultPrevented=!1}function Bn(d,u){if(Xn.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var f=this.type=d.type,y=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=u,u=d.relatedTarget){if(Cn){e:{try{Wt(u.nodeName);var w=!0;break e}catch{}w=!1}w||(u=null)}}else"mouseover"==f?u=d.fromElement:"mouseout"==f&&(u=d.toElement);this.relatedTarget=u,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType="string"==typeof d.pointerType?d.pointerType:Ft[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Bn.Z.h.call(this)}}Xn.prototype.h=function(){this.defaultPrevented=!0},He(Bn,Xn);var Ft={2:"touch",3:"pen",4:"mouse"};Bn.prototype.h=function(){Bn.Z.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),ei=0;function Bi(d,u,f,y,w){this.listener=d,this.proxy=null,this.src=u,this.type=f,this.capture=!!y,this.ia=w,this.key=++ei,this.ca=this.fa=!1}function yi(d){d.ca=!0,d.listener=null,d.proxy=null,d.src=null,d.ia=null}function An(d){this.src=d,this.g={},this.h=0}function hi(d,u){var f=u.type;if(f in d.g){var E,y=d.g[f],w=Ie(y,u);(E=0<=w)&&Array.prototype.splice.call(y,w,1),E&&(yi(u),0==d.g[f].length&&(delete d.g[f],d.h--))}}function Qi(d,u,f,y){for(var w=0;w<d.length;++w){var E=d[w];if(!E.ca&&E.listener==u&&E.capture==!!f&&E.ia==y)return w}return-1}An.prototype.add=function(d,u,f,y,w){var E=d.toString();(d=this.g[E])||(d=this.g[E]=[],this.h++);var M=Qi(d,u,y,w);return-1<M?(u=d[M],f||(u.fa=!1)):((u=new Bi(u,this.src,E,!!y,w)).fa=f,d.push(u)),u};var In="closure_lm_"+(1e6*Math.random()|0),Zi={};function me(d,u,f,y,w){if(y&&y.once)return ee(d,u,f,y,w);if(Array.isArray(u)){for(var E=0;E<u.length;E++)me(d,u[E],f,y,w);return null}return f=Un(f),d&&d[Rt]?d.N(u,f,Oe(y)?!!y.capture:!!y,w):G(d,u,f,!1,y,w)}function G(d,u,f,y,w,E){if(!u)throw Error("Invalid event type");var M=Oe(w)?!!w.capture:!!w,P=Gt(d);if(P||(d[In]=P=new An(d)),(f=P.add(u,f,y,M,E)).proxy)return f;if(y=function K(){var u=bt;return function d(f){return u.call(d.src,d.listener,f)}}(),f.proxy=y,y.src=d,y.listener=f,d.addEventListener)$n||(w=M),void 0===w&&(w=!1),d.addEventListener(u.toString(),y,w);else if(d.attachEvent)d.attachEvent(qe(u.toString()),y);else{if(!d.addListener||!d.removeListener)throw Error("addEventListener and attachEvent are unavailable.");d.addListener(y)}return f}function ee(d,u,f,y,w){if(Array.isArray(u)){for(var E=0;E<u.length;E++)ee(d,u[E],f,y,w);return null}return f=Un(f),d&&d[Rt]?d.O(u,f,Oe(y)?!!y.capture:!!y,w):G(d,u,f,!0,y,w)}function Q(d,u,f,y,w){if(Array.isArray(u))for(var E=0;E<u.length;E++)Q(d,u[E],f,y,w);else y=Oe(y)?!!y.capture:!!y,f=Un(f),d&&d[Rt]?(d=d.i,(u=String(u).toString())in d.g&&-1<(f=Qi(E=d.g[u],f,y,w))&&(yi(E[f]),Array.prototype.splice.call(E,f,1),0==E.length&&(delete d.g[u],d.h--))):d&&(d=Gt(d))&&(u=d.g[u.toString()],d=-1,u&&(d=Qi(u,f,y,w)),(f=-1<d?u[d]:null)&&de(f))}function de(d){if("number"!=typeof d&&d&&!d.ca){var u=d.src;if(u&&u[Rt])hi(u.i,d);else{var f=d.type,y=d.proxy;u.removeEventListener?u.removeEventListener(f,y,d.capture):u.detachEvent?u.detachEvent(qe(f),y):u.addListener&&u.removeListener&&u.removeListener(y),(f=Gt(u))?(hi(f,d),0==f.h&&(f.src=null,u[In]=null)):yi(d)}}}function qe(d){return d in Zi?Zi[d]:Zi[d]="on"+d}function bt(d,u){if(d.ca)d=!0;else{u=new Bn(u,this);var f=d.listener,y=d.ia||d.src;d.fa&&de(d),d=f.call(y,u)}return d}function Gt(d){return(d=d[In])instanceof An?d:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Un(d){return"function"==typeof d?d:(d[mn]||(d[mn]=function(u){return d.handleEvent(u)}),d[mn])}function Re(){$e.call(this),this.i=new An(this),this.P=this,this.I=null}function ae(d,u){var f,y=d.I;if(y)for(f=[];y;y=y.I)f.push(y);if(d=d.P,y=u.type||u,"string"==typeof u)u=new Xn(u,d);else if(u instanceof Xn)u.target=u.target||d;else{var w=u;$t(u=new Xn(y,d),w)}if(w=!0,f)for(var E=f.length-1;0<=E;E--){var M=u.g=f[E];w=oe(M,y,!0,u)&&w}if(w=oe(M=u.g=d,y,!0,u)&&w,w=oe(M,y,!1,u)&&w,f)for(E=0;E<f.length;E++)w=oe(M=u.g=f[E],y,!1,u)&&w}function oe(d,u,f,y){if(!(u=d.i.g[String(u)]))return!0;u=u.concat();for(var w=!0,E=0;E<u.length;++E){var M=u[E];if(M&&!M.ca&&M.capture==f){var P=M.listener,H=M.ia||M.src;M.fa&&hi(d.i,M),w=!1!==P.call(H,y)&&w}}return w&&!y.defaultPrevented}He(Re,$e),Re.prototype[Rt]=!0,Re.prototype.removeEventListener=function(d,u,f,y){Q(this,d,u,f,y)},Re.prototype.M=function(){if(Re.Z.M.call(this),this.i){var u,d=this.i;for(u in d.g){for(var f=d.g[u],y=0;y<f.length;y++)yi(f[y]);delete d.g[u],d.h--}}this.I=null},Re.prototype.N=function(d,u,f,y){return this.i.add(String(d),u,!1,f,y)},Re.prototype.O=function(d,u,f,y){return this.i.add(String(d),u,!0,f,y)};var ue=ne.JSON.stringify;function De(){var d=Di,u=null;return d.g&&(u=d.g,d.g=d.g.next,d.g||(d.h=null),u.next=null),u}var oi,lt=function(){function d(){this.h=this.g=null}return d.prototype.add=function(u,f){var y=Pt.get();y.set(u,f),this.h?this.h.next=y:this.g=y,this.h=y},d}(),Pt=new(function(){function d(u,f){this.i=u,this.j=f,this.h=0,this.g=null}return d.prototype.get=function(){var u;return 0<this.h?(this.h--,this.g=(u=this.g).next,u.next=null):u=this.i(),u},d}())(function(){return new rt},function(d){return d.reset()}),rt=function(){function d(){this.next=this.g=this.h=null}return d.prototype.set=function(u,f){this.h=u,this.g=f,this.next=null},d.prototype.reset=function(){this.next=this.g=this.h=null},d}();function kt(d){ne.setTimeout(function(){throw d},0)}function cn(d,u){oi||function Hi(){var d=ne.Promise.resolve(void 0);oi=function(){d.then(Te)}}(),Tn||(oi(),Tn=!0),Di.add(d,u)}var Tn=!1,Di=new lt;function Te(){for(var d;d=De();){try{d.h.call(d.g)}catch(f){kt(f)}var u=Pt;u.j(d),100>u.h&&(u.h++,d.next=u.g,u.g=d)}Tn=!1}function et(d,u){Re.call(this),this.h=d||1,this.g=u||ne,this.j=pt(this.kb,this),this.l=Date.now()}function zt(d){d.da=!1,d.S&&(d.g.clearTimeout(d.S),d.S=null)}function Dt(d,u,f){if("function"==typeof d)f&&(d=pt(d,f));else{if(!d||"function"!=typeof d.handleEvent)throw Error("Invalid listener argument");d=pt(d.handleEvent,d)}return 2147483647<Number(u)?-1:ne.setTimeout(d,u||0)}function kn(d){d.g=Dt(function(){d.g=null,d.i&&(d.i=!1,kn(d))},d.j);var u=d.h;d.h=null,d.m.apply(null,u)}He(et,Re),(fe=et.prototype).da=!1,fe.S=null,fe.kb=function(){if(this.da){var d=Date.now()-this.l;0<d&&d<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-d):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ae(this,"tick"),this.da&&(zt(this),this.start()))}},fe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.M=function(){et.Z.M.call(this),zt(this),delete this.g};var Ee=function(d){function u(f,y){var w=d.call(this)||this;return w.m=f,w.j=y,w.h=null,w.i=!1,w.g=null,w}return function Me(d,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function f(){this.constructor=d}Ve(d,u),d.prototype=null===u?Object.create(u):(f.prototype=u.prototype,new f)}(u,d),u.prototype.l=function(f){this.h=arguments,this.g?this.i=!0:kn(this)},u.prototype.M=function(){d.prototype.M.call(this),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},u}($e);function tt(d){$e.call(this),this.h=d,this.g={}}He(tt,$e);var yt=[];function rn(d,u,f,y){Array.isArray(f)||(f&&(yt[0]=f.toString()),f=yt);for(var w=0;w<f.length;w++){var E=me(u,f[w],y||d.handleEvent,!1,d.h||d);if(!E)break;d.g[E.key]=E}}function xi(d){It(d.g,function(u,f){this.g.hasOwnProperty(f)&&de(u)},d),d.g={}}function li(){this.g=!0}function Po(d,u,f,y){d.info(function(){return"XMLHTTP TEXT ("+u+"): "+function wr(d,u){if(!d.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f)for(d=0;d<f.length;d++)if(Array.isArray(f[d])){var y=f[d];if(!(2>y.length)){var w=y[1];if(Array.isArray(w)&&!(1>w.length)){var E=w[0];if("noop"!=E&&"stop"!=E&&"close"!=E)for(var M=1;M<w.length;M++)w[M]=""}}}return ue(f)}catch{return u}}(d,f)+(y?" "+y:"")})}tt.prototype.M=function(){tt.Z.M.call(this),xi(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},li.prototype.Aa=function(){this.g=!1},li.prototype.info=function(){};var Mc={},Ul=null;function Ac(){return Ul=Ul||new Re}function jl(d){Xn.call(this,Mc.Ma,d)}function Ui(d){var u=Ac();ae(u,new jl(u,d))}function ea(d,u){Xn.call(this,Mc.STAT_EVENT,d),this.stat=u}function ji(d){var u=Ac();ae(u,new ea(u,d))}function zi(d,u){Xn.call(this,Mc.Na,d),this.size=u}function ro(d,u){if("function"!=typeof d)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){d()},u)}Mc.Ma="serverreachability",He(jl,Xn),Mc.STAT_EVENT="statevent",He(ea,Xn),Mc.Na="timingevent",He(zi,Xn);var yo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ou={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vo(){}function $o(){}vo.prototype.h=null;var Rr,_f={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ld(){Xn.call(this,"d")}function sg(){Xn.call(this,"c")}function lr(){}function ta(d,u,f,y){this.l=d,this.j=u,this.m=f,this.X=y||1,this.V=new tt(this),this.P=mw,this.W=new et(d=Jt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}He(Ld,Xn),He(sg,Xn),He(lr,vo),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},Rr=new lr;var mw=45e3,na={},ag={};function yf(d,u,f){d.K=1,d.v=Oc(Vs(u)),d.s=f,d.U=!0,bv(d,null)}function bv(d,u){d.F=Date.now(),vf(d),d.A=Vs(d.v);var f=d.A,y=d.X;Array.isArray(y)||(y=[String(y)]),ol(f.h,"t",y),d.C=0,f=d.l.H,d.h=new Ts,d.g=Pf(d.l,f?u:null,!d.s),0<d.O&&(d.L=new Ee(pt(d.Ia,d,d.g),d.O)),rn(d.V,d.g,"readystatechange",d.gb),u=d.H?Zt(d.H):{},d.s?(d.u||(d.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.s,u)):(d.u="GET",d.g.ea(d.A,d.u,null,u)),Ui(1),function Mn(d,u,f,y,w,E){d.info(function(){if(d.g)if(E)for(var M="",P=E.split("&"),H=0;H<P.length;H++){var z=P[H].split("=");if(1<z.length){var ie=z[0];z=z[1];var ge=ie.split("_");M=2<=ge.length&&"type"==ge[1]?M+(ie+"=")+z+"&":M+(ie+"=redacted&")}}else M=null;else M=E;return"XMLHTTP REQ ("+y+") [attempt "+w+"]: "+u+"\n"+f+"\n"+M})}(d.j,d.u,d.A,d.m,d.X,d.s)}function lg(d){return!!d.g&&"GET"==d.u&&2!=d.K&&d.l.Ba}function wv(d,u,f){for(var w,y=!0;!d.I&&d.C<f.length;){if((w=Ym(d,f))==ag){4==u&&(d.o=4,ji(14),y=!1),Po(d.j,d.m,null,"[Incomplete Response]");break}if(w==na){d.o=4,ji(15),Po(d.j,d.m,f,"[Invalid Chunk]"),y=!1;break}Po(d.j,d.m,w,null),Km(d,w)}lg(d)&&w!=ag&&w!=na&&(d.h.g="",d.C=0),4!=u||0!=f.length||d.h.h||(d.o=1,ji(16),y=!1),d.i=d.i&&y,y?0<f.length&&!d.aa&&(d.aa=!0,(u=d.l).g==d&&u.$&&!u.L&&(u.h.info("Great, no buffering proxy detected. Bytes received: "+f.length),To(u),u.L=!0,ji(11))):(Po(d.j,d.m,f,"[Invalid Chunked Response]"),il(d),Fs(d))}function Ym(d,u){var f=d.C,y=u.indexOf("\n",f);return-1==y?ag:(f=Number(u.substring(f,y)),isNaN(f)?na:(y+=1)+f>u.length?ag:(u=u.substr(y,f),d.C=y+f,u))}function vf(d){d.Y=Date.now()+d.P,Cv(d,d.P)}function Cv(d,u){if(null!=d.B)throw Error("WatchDog timer not null");d.B=ro(pt(d.eb,d),u)}function Vd(d){d.B&&(ne.clearTimeout(d.B),d.B=null)}function Fs(d){0==d.l.G||d.I||Dv(d.l,d)}function il(d){Vd(d);var u=d.L;u&&"function"==typeof u.na&&u.na(),d.L=null,zt(d.W),xi(d.V),d.g&&(u=d.g,d.g=null,u.abort(),u.na())}function Km(d,u){try{var f=d.l;if(0!=f.G&&(f.g==d||Ef(f.i,d)))if(f.I=d.N,!d.J&&Ef(f.i,d)&&3==f.G){try{var y=f.Ca.g.parse(u)}catch{y=null}if(Array.isArray(y)&&3==y.length){var w=y;if(0==w[0]){e:if(!f.u){if(f.g){if(!(f.g.F+3e3<d.F))break e;Zd(f),Bu(f)}oo(f),ji(18)}}else f.ta=w[1],0<f.ta-f.U&&37500>w[2]&&f.N&&0==f.A&&!f.v&&(f.v=ro(pt(f.ab,f),6e3));if(1>=hg(f.i)&&f.ka){try{f.ka()}catch{}f.ka=void 0}}else cl(f,11)}else if((d.J||f.g==d)&&Zd(f),!Pe(u))for(w=f.Ca.g.parse(u),u=0;u<w.length;u++){var E=w[u];if(f.U=E[0],E=E[1],2==f.G)if("c"==E[0]){f.J=E[1],f.la=E[2];var M=E[3];null!=M&&(f.ma=M,f.h.info("VER="+f.ma));var P=E[4];null!=P&&(f.za=P,f.h.info("SVER="+f.za));var H=E[5];null!=H&&"number"==typeof H&&0<H&&(f.K=y=1.5*H,f.h.info("backChannelRequestTimeoutMs_="+y)),y=f;var z=d.g;if(z){var ie=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var ge=y.i;!ge.g&&(ct(ie,"spdy")||ct(ie,"quic")||ct(ie,"h2"))&&(ge.j=ge.l,ge.g=new Set,ge.h&&($l(ge,ge.h),ge.h=null))}if(y.D){var ye=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(y.sa=ye,Ci(y.F,y.D,ye))}}f.G=3,f.j&&f.j.xa(),f.$&&(f.O=Date.now()-d.F,f.h.info("Handshake RTT: "+f.O+"ms"));var Ye=d;if((y=f).oa=Iv(y,y.H?y.la:null,y.W),Ye.J){Ud(y.i,Ye);var Ge=Ye,at=y.K;at&&Ge.setTimeout(at),Ge.B&&(Vd(Ge),vf(Ge)),y.g=Ye}else qd(y);0<f.l.length&&Gd(f)}else"stop"!=E[0]&&"close"!=E[0]||cl(f,7);else 3==f.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?cl(f,7):zd(f):"noop"!=E[0]&&f.j&&f.j.wa(E),f.A=0)}Ui(4)}catch{}}function Tv(d,u){if(d.forEach&&"function"==typeof d.forEach)d.forEach(u,void 0);else if(we(d)||"string"==typeof d)Ae(d,u,void 0);else{if(d.T&&"function"==typeof d.T)var f=d.T();else if(d.R&&"function"==typeof d.R)f=void 0;else if(we(d)||"string"==typeof d){f=[];for(var y=d.length,w=0;w<y;w++)f.push(w)}else for(w in f=[],y=0,d)f[y++]=w;y=function bf(d){if(d.R&&"function"==typeof d.R)return d.R();if("string"==typeof d)return d.split("");if(we(d)){for(var u=[],f=d.length,y=0;y<f;y++)u.push(d[y]);return u}for(y in u=[],f=0,d)u[f++]=d[y];return u}(d),w=y.length;for(var E=0;E<w;E++)u.call(void 0,y[E],f&&f[E],d)}}function as(d,u){this.h={},this.g=[],this.i=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var y=0;y<f;y+=2)this.set(arguments[y],arguments[y+1])}else if(d)if(d instanceof as)for(f=d.T(),y=0;y<f.length;y++)this.set(f[y],d.get(f[y]));else for(y in d)this.set(y,d[y])}function Ls(d){if(d.i!=d.g.length){for(var u=0,f=0;u<d.g.length;){var y=d.g[u];ls(d.h,y)&&(d.g[f++]=y),u++}d.g.length=f}if(d.i!=d.g.length){var w={};for(f=u=0;u<d.g.length;)ls(w,y=d.g[u])||(d.g[f++]=y,w[y]=1),u++;d.g.length=f}}function ls(d,u){return Object.prototype.hasOwnProperty.call(d,u)}(fe=ta.prototype).setTimeout=function(d){this.P=d},fe.gb=function(d){d=d.target;var u=this.L;u&&3==ll(d)?u.l():this.Ia(d)},fe.Ia=function(d){try{if(d==this.g)e:{var u=ll(this.g),f=this.g.Da(),y=this.g.ba();if(!(3>u)&&(3!=u||Jt||this.g&&(this.h.h||this.g.ga()||Mf(this.g)))){this.I||4!=u||7==f||Ui(8==f||0>=y?3:2),Vd(this);var w=this.g.ba();this.N=w;t:if(lg(this)){var E=Mf(this.g);d="";var M=E.length,P=4==ll(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){il(this),Fs(this);var H="";break t}this.h.i=new ne.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,d+=this.h.i.decode(E[f],{stream:P&&f==M-1});E.splice(0,M),this.h.g+=d,this.C=0,H=this.h.g}else H=this.g.ga();if(this.i=200==w,function Or(d,u,f,y,w,E,M){d.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+w+"]: "+u+"\n"+f+"\n"+E+" "+M})}(this.j,this.u,this.A,this.m,this.X,u,w),this.i){if(this.$&&!this.J){t:{if(this.g){var z,ie=this.g;if((z=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pe(z)){var ge=z;break t}}ge=null}if(!(w=ge)){this.i=!1,this.o=3,ji(12),il(this),Fs(this);break e}Po(this.j,this.m,w,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Km(this,w)}this.U?(wv(this,u,H),Jt&&this.i&&3==u&&(rn(this.V,this.W,"tick",this.fb),this.W.start())):(Po(this.j,this.m,H,null),Km(this,H)),4==u&&il(this),this.i&&!this.I&&(4==u?Dv(this.l,this):(this.i=!1,vf(this)))}else 400==w&&0<H.indexOf("Unknown SID")?(this.o=3,ji(12)):(this.o=0,ji(13)),il(this),Fs(this)}}}catch{}},fe.fb=function(){if(this.g){var d=ll(this.g),u=this.g.ga();this.C<u.length&&(Vd(this),wv(this,d,u),this.i&&4!=d&&vf(this))}},fe.cancel=function(){this.I=!0,il(this)},fe.eb=function(){this.B=null;var d=Date.now();0<=d-this.Y?(function ui(d,u){d.info(function(){return"TIMEOUT: "+u})}(this.j,this.A),2!=this.K&&(Ui(3),ji(17)),il(this),this.o=2,Fs(this)):Cv(this,this.Y-d)},(fe=as.prototype).R=function(){Ls(this);for(var d=[],u=0;u<this.g.length;u++)d.push(this.h[this.g[u]]);return d},fe.T=function(){return Ls(this),this.g.concat()},fe.get=function(d,u){return ls(this.h,d)?this.h[d]:u},fe.set=function(d,u){ls(this.h,d)||(this.i++,this.g.push(d)),this.h[d]=u},fe.forEach=function(d,u){for(var f=this.T(),y=0;y<f.length;y++){var w=f[y],E=this.get(w);d.call(u,E,w,this)}};var kc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rl(d,u){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,d instanceof rl){this.g=void 0!==u?u:d.g,Bd(this,d.j),this.s=d.s,zl(this,d.i),qn(this,d.m),this.l=d.l,u=d.h;var f=new Gl;f.i=u.i,u.g&&(f.g=new as(u.g),f.h=u.h),Ru(this,f),this.o=d.o}else d&&(f=String(d).match(kc))?(this.g=!!u,Bd(this,f[1]||"",!0),this.s=Rc(f[2]||""),zl(this,f[3]||"",!0),qn(this,f[4]),this.l=Rc(f[5]||"",!0),Ru(this,f[6]||"",!0),this.o=Rc(f[7]||"")):(this.g=!!u,this.h=new Gl(null,this.g))}function Vs(d){return new rl(d)}function Bd(d,u,f){d.j=f?Rc(u,!0):u,d.j&&(d.j=d.j.replace(/:$/,""))}function zl(d,u,f){d.i=f?Rc(u,!0):u}function qn(d,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);d.m=u}else d.m=null}function Ru(d,u,f){u instanceof Gl?(d.h=u,function Bs(d,u){u&&!d.j&&(No(d),d.i=null,d.g.forEach(function(f,y){var w=y.toLowerCase();y!=w&&(wo(this,y),ol(this,w,f))},d)),d.j=u}(d.h,d.g)):(f||(u=ug(u,Es)),d.h=new Gl(u,d.g))}function Ci(d,u,f){d.h.set(u,f)}function Oc(d){return Ci(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Rc(d,u){return d?u?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ug(d,u,f){return"string"==typeof d?(d=encodeURI(d).replace(u,Pr),f&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pr(d){return"%"+((d=d.charCodeAt(0))>>4&15).toString(16)+(15&d).toString(16)}rl.prototype.toString=function(){var d=[],u=this.j;u&&d.push(ug(u,wf,!0),":");var f=this.i;return(f||"file"==u)&&(d.push("//"),(u=this.s)&&d.push(ug(u,wf,!0),"@"),d.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(f=this.m)&&d.push(":",String(f))),(f=this.l)&&(this.i&&"/"!=f.charAt(0)&&d.push("/"),d.push(ug(f,"/"==f.charAt(0)?Hd:xv,!0))),(f=this.h.toString())&&d.push("?",f),(f=this.o)&&d.push("#",ug(f,dg)),d.join("")};var wf=/[#\/\?@]/g,xv=/[#\?:]/g,Hd=/[#\?]/g,Es=/[#\?@]/g,dg=/#/g;function Gl(d,u){this.h=this.g=null,this.i=d||null,this.j=!!u}function No(d){d.g||(d.g=new as,d.h=0,d.i&&function Ev(d,u){if(d){d=d.split("&");for(var f=0;f<d.length;f++){var y=d[f].indexOf("="),w=null;if(0<=y){var E=d[f].substring(0,y);w=d[f].substring(y+1)}else E=d[f];u(E,w?decodeURIComponent(w.replace(/\+/g," ")):"")}}}(d.i,function(u,f){d.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function wo(d,u){No(d),u=ql(d,u),ls(d.g.h,u)&&(d.i=null,d.h-=d.g.get(u).length,ls((d=d.g).h,u)&&(delete d.h[u],d.i--,d.g.length>2*d.i&&Ls(d)))}function Pc(d,u){return No(d),u=ql(d,u),ls(d.g.h,u)}function ol(d,u,f){wo(d,u),0<f.length&&(d.i=null,d.g.set(ql(d,u),Ue(f)),d.h+=f.length)}function ql(d,u){return u=String(u),d.j&&(u=u.toLowerCase()),u}(fe=Gl.prototype).add=function(d,u){No(this),this.i=null,d=ql(this,d);var f=this.g.get(d);return f||this.g.set(d,f=[]),f.push(u),this.h+=1,this},fe.forEach=function(d,u){No(this),this.g.forEach(function(f,y){Ae(f,function(w){d.call(u,w,y,this)},this)},this)},fe.T=function(){No(this);for(var d=this.g.R(),u=this.g.T(),f=[],y=0;y<u.length;y++)for(var w=d[y],E=0;E<w.length;E++)f.push(u[y]);return f},fe.R=function(d){No(this);var u=[];if("string"==typeof d)Pc(this,d)&&(u=Ce(u,this.g.get(ql(this,d))));else{d=this.g.R();for(var f=0;f<d.length;f++)u=Ce(u,d[f])}return u},fe.set=function(d,u){return No(this),this.i=null,Pc(this,d=ql(this,d))&&(this.h-=this.g.get(d).length),this.g.set(d,[u]),this.h+=1,this},fe.get=function(d,u){return d&&0<(d=this.R(d)).length?String(d[0]):u},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var d=[],u=this.g.T(),f=0;f<u.length;f++){var y=u[f],w=encodeURIComponent(String(y));y=this.R(y);for(var E=0;E<y.length;E++){var M=w;""!==y[E]&&(M+="="+encodeURIComponent(String(y[E]))),d.push(M)}}return this.i=d.join("&")};var Cf=function d(u,f){this.h=u,this.g=f};function Zl(d){this.l=d||ti,d=ne.PerformanceNavigationTiming?0<(d=ne.performance.getEntriesByType("navigation")).length&&("hq"==d[0].nextHopProtocol||"h2"==d[0].nextHopProtocol):!!(ne.g&&ne.g.Ea&&ne.g.Ea()&&ne.g.Ea().Zb),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ti=10;function Tf(d){return!!d.h||!!d.g&&d.g.size>=d.j}function hg(d){return d.h?1:d.g?d.g.size:0}function Ef(d,u){return d.h?d.h==u:!!d.g&&d.g.has(u)}function $l(d,u){d.g?d.g.add(u):d.h=u}function Ud(d,u){d.h&&d.h==u?d.h=null:d.g&&d.g.has(u)&&d.g.delete(u)}function Pu(d){var u,f;if(null!=d.h)return d.i.concat(d.h.D);if(null!=d.g&&0!==d.g.size){var y=d.i;try{for(var w=ve(d.g.values()),E=w.next();!E.done;E=w.next())y=y.concat(E.value.D)}catch(P){u={error:P}}finally{try{E&&!E.done&&(f=w.return)&&f.call(w)}finally{if(u)throw u.error}}return y}return Ue(d.i)}function xf(){}function Nc(){this.g=new xf}function xt(d,u,f){var y=f||"";try{Tv(d,function(w,E){var M=w;Oe(w)&&(M=ue(w)),u.push(y+E+"="+encodeURIComponent(M))})}catch(w){throw u.push(y+"type="+encodeURIComponent("_badmap")),w}}function Oa(d,u,f,y,w){try{u.onload=null,u.onerror=null,u.onabort=null,u.ontimeout=null,w(y)}catch{}}function Fc(d){this.l=d.$b||null,this.j=d.ib||!1}function rr(d,u){Re.call(this),this.D=d,this.u=u,this.m=void 0,this.readyState=Sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zl.prototype.cancel=function(){var d,u;if(this.i=Pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var f=ve(this.g.values()),y=f.next();!y.done;y=f.next())y.value.cancel()}catch(E){d={error:E}}finally{try{y&&!y.done&&(u=f.return)&&u.call(f)}finally{if(d)throw d.error}}this.g.clear()}},xf.prototype.stringify=function(d){return ne.JSON.stringify(d,void 0)},xf.prototype.parse=function(d){return ne.JSON.parse(d,void 0)},He(Fc,vo),Fc.prototype.g=function(){return new rr(this.l,this.j)},Fc.prototype.i=function(d){return function(){return d}}({}),He(rr,Re);var Sf=0;function Wl(d){d.j.read().then(d.Sa.bind(d)).catch(d.ha.bind(d))}function cs(d){d.readyState=4,d.l=null,d.j=null,d.A=null,sl(d)}function sl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}(fe=rr.prototype).open=function(d,u){if(this.readyState!=Sf)throw this.abort(),Error("Error reopening a connection");this.C=d,this.B=u,this.readyState=1,sl(this)},fe.send=function(d){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var u={headers:this.v,method:this.C,credentials:this.m,cache:void 0};d&&(u.body=d),(this.D||ne).fetch(new Request(this.B,u)).then(this.Va.bind(this),this.ha.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cs(this)),this.readyState=Sf},fe.Va=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if("arraybuffer"===this.responseType)d.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wl(this)}else d.text().then(this.Ua.bind(this),this.ha.bind(this))},fe.Sa=function(d){if(this.g){if(this.u&&d.value)this.response.push(d.value);else if(!this.u){var u=d.value?d.value:new Uint8Array(0);(u=this.A.decode(u,{stream:!d.done}))&&(this.response=this.responseText+=u)}d.done?cs(this):sl(this),3==this.readyState&&Wl(this)}},fe.Ua=function(d){this.g&&(this.response=this.responseText=d,cs(this))},fe.Ta=function(d){this.g&&(this.response=d,cs(this))},fe.ha=function(){this.g&&cs(this)},fe.setRequestHeader=function(d,u){this.v.append(d,u)},fe.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";for(var d=[],u=this.h.entries(),f=u.next();!f.done;)d.push((f=f.value)[0]+": "+f[1]),f=u.next();return d.join("\r\n")},Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(d){this.m=d?"include":"same-origin"}});var Lc=ne.JSON.parse;function Cr(d){Re.call(this),this.headers=new as,this.u=d||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sv,this.K=this.L=!1}He(Cr,Re);var Sv="",jd=/^https?$/i,Nu=["POST","PUT"];function Ra(d){return"content-type"==d.toLowerCase()}function Df(d,u){d.h=!1,d.g&&(d.l=!0,d.g.abort(),d.l=!1),d.j=u,d.m=5,al(d),If(d)}function al(d){d.D||(d.D=!0,ae(d,"complete"),ae(d,"error"))}function Pa(d){if(d.h&&typeof re<"u"&&(!d.C[1]||4!=ll(d)||2!=d.ba()))if(d.v&&4==ll(d))Dt(d.Fa,0,d);else if(ae(d,"readystatechange"),4==ll(d)){d.h=!1;try{var y,u=d.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}if(!(y=f)){var w;if(w=0===u){var E=String(d.H).match(kc)[1]||null;if(!E&&ne.self&&ne.self.location){var M=ne.self.location.protocol;E=M.substr(0,M.length-1)}w=!jd.test(E?E.toLowerCase():"")}y=w}if(y)ae(d,"complete"),ae(d,"success");else{d.m=6;try{var P=2<ll(d)?d.g.statusText:""}catch{P=""}d.j=P+" ["+d.ba()+"]",al(d)}}finally{If(d)}}}function If(d,u){if(d.g){Fu(d);var f=d.g,y=d.C[0]?ce:null;d.g=null,d.C=null,u||ae(d,"ready");try{f.onreadystatechange=y}catch{}}}function Fu(d){d.g&&d.K&&(d.g.ontimeout=null),d.A&&(ne.clearTimeout(d.A),d.A=null)}function ll(d){return d.g?d.g.readyState:0}function Mf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.J){case Sv:case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(d,u,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=function Af(d){var u="";return It(d,function(f,y){u+=y,u+=":",u+=f,u+="\r\n"}),u}(f),"string"==typeof d?null!=f&&encodeURIComponent(String(f)):Ci(d,u,f))}function Lu(d,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[d]||u}function Vu(d){this.za=0,this.l=[],this.h=new li,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lu("failFast",!1,d),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lu("baseRetryDelayMs",5e3,d),this.$a=Lu("retryDelaySeedMs",1e4,d),this.Ya=Lu("forwardChannelMaxRetries",2,d),this.ra=Lu("forwardChannelRequestTimeoutMs",2e4,d),this.qa=d&&d.xmlHttpFactory||void 0,this.Ba=d&&d.Yb||!1,this.K=void 0,this.H=d&&d.supportsCrossDomainXhr||!1,this.J="",this.i=new Zl(d&&d.concurrentRequestLimit),this.Ca=new Nc,this.ja=d&&d.fastHandshake||!1,this.Ra=d&&d.Wb||!1,d&&d.Aa&&this.h.Aa(),d&&d.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&d&&d.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!d||!1!==d.Xb}function zd(d){if(fg(d),3==d.G){var u=d.V++,f=Vs(d.F);Ci(f,"SID",d.J),Ci(f,"RID",u),Ci(f,"TYPE","terminate"),Bc(d,f),(u=new ta(d,d.h,u,void 0)).K=2,u.v=Oc(Vs(f)),f=!1,ne.navigator&&ne.navigator.sendBeacon&&(f=ne.navigator.sendBeacon(u.v.toString(),"")),!f&&ne.Image&&((new Image).src=u.v,f=!0),f||(u.g=Pf(u.l,null),u.g.ea(u.v)),u.F=Date.now(),vf(u)}Jm(d)}function Bu(d){d.g&&(To(d),d.g.cancel(),d.g=null)}function fg(d){Bu(d),d.u&&(ne.clearTimeout(d.u),d.u=null),Zd(d),d.i.cancel(),d.m&&("number"==typeof d.m&&ne.clearTimeout(d.m),d.m=null)}function Hu(d,u){d.l.push(new Cf(d.Za++,u)),3==d.G&&Gd(d)}function Gd(d){Tf(d.i)||d.m||(d.m=!0,cn(d.Ha,d),d.C=0)}function Of(d,u){var f;f=u?u.m:d.V++;var y=Vs(d.F);Ci(y,"SID",d.J),Ci(y,"RID",f),Ci(y,"AID",d.U),Bc(d,y),d.o&&d.s&&Vc(y,d.o,d.s),f=new ta(d,d.h,f,d.C+1),null===d.o&&(f.H=d.s),u&&(d.l=u.D.concat(d.l)),u=Rf(d,f,1e3),f.setTimeout(Math.round(.5*d.ra)+Math.round(.5*d.ra*Math.random())),$l(d.i,f),yf(f,y,u)}function Bc(d,u){d.j&&Tv({},function(f,y){Ci(u,y,f)})}function Rf(d,u,f){f=Math.min(d.l.length,f);var y=d.j?pt(d.j.Oa,d.j,d):null;e:for(var w=d.l,E=-1;;){var M=["count="+f];-1==E?0<f?M.push("ofs="+(E=w[0].h)):E=0:M.push("ofs="+E);for(var P=!0,H=0;H<f;H++){var z=w[H].h,ie=w[H].g;if(0>(z-=E))E=Math.max(0,w[H].h-100),P=!1;else try{xt(ie,M,"req"+z+"_")}catch{y&&y(ie)}}if(P){y=M.join("&");break e}}return d=d.l.splice(0,f),u.D=d,y}function qd(d){d.g||d.u||(d.Y=1,cn(d.Ga,d),d.A=0)}function oo(d){return!(d.g||d.u||3<=d.A||(d.Y++,d.u=ro(pt(d.Ga,d),pg(d,d.A)),d.A++,0))}function To(d){null!=d.B&&(ne.clearTimeout(d.B),d.B=null)}function pr(d){d.g=new ta(d,d.h,"rpc",d.Y),null===d.o&&(d.g.H=d.s),d.g.O=0;var u=Vs(d.oa);Ci(u,"RID","rpc"),Ci(u,"SID",d.J),Ci(u,"CI",d.N?"0":"1"),Ci(u,"AID",d.U),Bc(d,u),Ci(u,"TYPE","xmlhttp"),d.o&&d.s&&Vc(u,d.o,d.s),d.K&&d.g.setTimeout(d.K);var f=d.g;d=d.la,f.K=1,f.v=Oc(Vs(u)),f.s=null,f.U=!0,bv(f,d)}function Zd(d){null!=d.v&&(ne.clearTimeout(d.v),d.v=null)}function Dv(d,u){var f=null;if(d.g==u){Zd(d),To(d),d.g=null;var y=2}else{if(!Ef(d.i,u))return;f=u.D,Ud(d.i,u),y=1}if(d.I=u.N,0!=d.G)if(u.i)if(1==y){f=u.s?u.s.length:0,u=Date.now()-u.F;var w=d.C;ae(y=Ac(),new zi(y,f,u,w)),Gd(d)}else qd(d);else if(3==(w=u.o)||0==w&&0<d.I||!(1==y&&function kf(d,u){return!(hg(d.i)>=d.i.j-(d.m?1:0)||(d.m?(d.l=u.D.concat(d.l),0):1==d.G||2==d.G||d.C>=(d.Xa?0:d.Ya)||(d.m=ro(pt(d.Ha,d,u),pg(d,d.C)),d.C++,0)))}(d,u)||2==y&&oo(d)))switch(f&&0<f.length&&(u=d.i,u.i=u.i.concat(f)),w){case 1:cl(d,5);break;case 4:cl(d,10);break;case 3:cl(d,6);break;default:cl(d,2)}}function pg(d,u){var f=d.Pa+Math.floor(Math.random()*d.$a);return d.j||(f*=2),f*u}function cl(d,u){if(d.h.info("Error code "+u),2==u){var f=null;d.j&&(f=null);var y=pt(d.jb,d);f||(f=new rl("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Bd(f,"https"),Oc(f)),function pi(d,u){var f=new li;if(ne.Image){var y=new Image;y.onload=Ke(Oa,f,y,"TestLoadImage: loaded",!0,u),y.onerror=Ke(Oa,f,y,"TestLoadImage: error",!1,u),y.onabort=Ke(Oa,f,y,"TestLoadImage: abort",!1,u),y.ontimeout=Ke(Oa,f,y,"TestLoadImage: timeout",!1,u),ne.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=d}else u(!1)}(f.toString(),y)}else ji(2);d.G=0,d.j&&d.j.va(u),Jm(d),fg(d)}function Jm(d){d.G=0,d.I=-1,d.j&&((0!=Pu(d.i).length||0!=d.l.length)&&(d.i.i.length=0,Ue(d.l),d.l.length=0),d.j.ua())}function Iv(d,u,f){var y=function cg(d){return d instanceof rl?Vs(d):new rl(d,void 0)}(f);if(""!=y.i)u&&zl(y,u+"."+y.i),qn(y,y.m);else{var w=ne.location;y=function bo(d,u,f,y){var w=new rl(null,void 0);return d&&Bd(w,d),u&&zl(w,u),f&&qn(w,f),y&&(w.l=y),w}(w.protocol,u?u+"."+w.hostname:w.hostname,+w.port,f)}return d.aa&&It(d.aa,function(E,M){Ci(y,M,E)}),f=d.sa,(u=d.D)&&f&&Ci(y,u,f),Ci(y,"VER",d.ma),Bc(d,y),y}function Pf(d,u,f){if(u&&!d.H)throw Error("Can't create secondary domain capable XhrIo object.");return(u=new Cr(f&&d.Ba&&!d.qa?new Fc({ib:!0}):d.qa)).L=d.H,u}function gg(){}function Yl(){if(Qt&&!(10<=Number(xn)))throw Error("Environmental error: no available transport.")}function Nr(d,u){Re.call(this),this.g=new Vu(u),this.l=d,this.h=u&&u.messageUrlParams||null,d=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.s=d,d=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(d?d["X-WebChannel-Content-Type"]=u.messageContentType:d={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.ya&&(d?d["X-WebChannel-Client-Profile"]=u.ya:d={"X-WebChannel-Client-Profile":u.ya}),this.g.P=d,(d=u&&u.httpHeadersOverwriteParam)&&!Pe(d)&&(this.g.o=d),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Pe(u)&&(this.g.D=u,null!==(d=this.h)&&u in d&&u in(d=this.h)&&delete d[u]),this.j=new us(this)}function Qm(d){Ld.call(this);var u=d.__sm__;if(u){e:{for(var f in u){d=f;break e}d=void 0}(this.i=d)&&(d=this.i,u=null!==u&&d in u?u[d]:void 0),this.data=u}else this.data=d}function Mv(){sg.call(this),this.status=1}function us(d){this.g=d}(fe=Cr.prototype).ea=function(d,u,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+d);u=u?u.toUpperCase():"GET",this.H=d,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rr.g(),this.C=function Ns(d){return d.h||(d.h=d.i())}(this.u?this.u:Rr),this.g.onreadystatechange=pt(this.Fa,this);try{this.F=!0,this.g.open(u,String(d),!0),this.F=!1}catch(E){return void Df(this,E)}d=f||"";var w=new as(this.headers);y&&Tv(y,function(E,M){w.set(M,E)}),y=function be(d){e:{for(var u=Ra,f=d.length,y="string"==typeof d?d.split(""):d,w=0;w<f;w++)if(w in y&&u.call(void 0,y[w],w,d)){u=w;break e}u=-1}return 0>u?null:"string"==typeof d?d.charAt(u):d[u]}(w.T()),f=ne.FormData&&d instanceof ne.FormData,!(0<=Ie(Nu,u))||y||f||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(E,M){this.g.setRequestHeader(M,E)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fu(this),0<this.B&&((this.K=function Co(d){return Qt&&function Et(){return function dt(d){var u=mt;return Object.prototype.hasOwnProperty.call(u,9)?u[9]:u[9]=d(9)}(function(){for(var d=0,u=gt(String(En)).split("."),f=gt("9").split("."),y=Math.max(u.length,f.length),w=0;0==d&&w<y;w++){var E=u[w]||"",M=f[w]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],M=/(\d*)(\D*)(.*)/.exec(M)||["","","",""],0==E[0].length&&0==M[0].length)break;d=Kt(0==E[1].length?0:parseInt(E[1],10),0==M[1].length?0:parseInt(M[1],10))||Kt(0==E[2].length,0==M[2].length)||Kt(E[2],M[2]),E=E[3],M=M[3]}while(0==d)}return 0<=d})}()&&"number"==typeof d.timeout&&void 0!==d.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.pa,this)):this.A=Dt(this.pa,this.B,this)),this.v=!0,this.g.send(d),this.v=!1}catch(E){Df(this,E)}},fe.pa=function(){typeof re<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ae(this,"timeout"),this.abort(8))},fe.abort=function(d){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=d||7,ae(this,"complete"),ae(this,"abort"),If(this))},fe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),If(this,!0)),Cr.Z.M.call(this)},fe.Fa=function(){this.s||(this.F||this.v||this.l?Pa(this):this.cb())},fe.cb=function(){Pa(this)},fe.ba=function(){try{return 2<ll(this)?this.g.status:-1}catch{return-1}},fe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},fe.Qa=function(d){if(this.g){var u=this.g.responseText;return d&&0==u.indexOf(d)&&(u=u.substring(d.length)),Lc(u)}},fe.Da=function(){return this.m},fe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=Vu.prototype).ma=8,fe.G=1,fe.hb=function(d){try{this.h.info("Origin Trials invoked: "+d)}catch{}},fe.Ha=function(d){if(this.m)if(this.m=null,1==this.G){if(!d){this.V=Math.floor(1e5*Math.random()),d=this.V++;var u=new ta(this,this.h,d,void 0),f=this.s;if(this.P&&(f?$t(f=Zt(f),this.P):f=this.P),null===this.o&&(u.H=f),this.ja)e:{for(var y=0,w=0;w<this.l.length;w++){var E=this.l[w];if(void 0===(E="__data__"in E.g&&"string"==typeof(E=E.g.__data__)?E.length:void 0))break;if(4096<(y+=E)){y=w;break e}if(4096===y||w===this.l.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Rf(this,u,y),Ci(w=Vs(this.F),"RID",d),Ci(w,"CVER",22),this.D&&Ci(w,"X-HTTP-Session-Id",this.D),Bc(this,w),this.o&&f&&Vc(w,this.o,f),$l(this.i,u),this.Ra&&Ci(w,"TYPE","init"),this.ja?(Ci(w,"$req",y),Ci(w,"SID","null"),u.$=!0,yf(u,w,null)):yf(u,w,y),this.G=2}}else 3==this.G&&(d?Of(this,d):0==this.l.length||Tf(this.i)||Of(this))},fe.Ga=function(){if(this.u=null,pr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var d=2*this.O;this.h.info("BP detection timer enabled: "+d),this.B=ro(pt(this.bb,this),d)}},fe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ji(10),Bu(this),pr(this))},fe.ab=function(){null!=this.v&&(this.v=null,Bu(this),oo(this),ji(19))},fe.jb=function(d){d?(this.h.info("Successfully pinged google.com"),ji(2)):(this.h.info("Failed to ping google.com"),ji(1))},(fe=gg.prototype).xa=function(){},fe.wa=function(){},fe.va=function(){},fe.ua=function(){},fe.Oa=function(){},Yl.prototype.g=function(d,u){return new Nr(d,u)},He(Nr,Re),Nr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var d=this.g,u=this.l,f=this.h||void 0;d.Wa&&(d.h.info("Origin Trials enabled."),cn(pt(d.hb,d,u))),ji(0),d.W=u,d.aa=f||{},d.N=d.X,d.F=Iv(d,null,d.W),Gd(d)},Nr.prototype.close=function(){zd(this.g)},Nr.prototype.u=function(d){if("string"==typeof d){var u={};u.__data__=d,Hu(this.g,u)}else this.v?((u={}).__data__=ue(d),Hu(this.g,u)):Hu(this.g,d)},Nr.prototype.M=function(){this.g.j=null,delete this.j,zd(this.g),delete this.g,Nr.Z.M.call(this)},He(Qm,Ld),He(Mv,sg),He(us,gg),us.prototype.xa=function(){ae(this.g,"a")},us.prototype.wa=function(d){ae(this.g,new Qm(d))},us.prototype.va=function(d){ae(this.g,new Mv(d))},us.prototype.ua=function(){ae(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,Nr.prototype.send=Nr.prototype.u,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,Ou.COMPLETE="complete",$o.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",Re.prototype.listen=Re.prototype.N,Cr.prototype.listenOnce=Cr.prototype.O,Cr.prototype.getLastError=Cr.prototype.La,Cr.prototype.getLastErrorCode=Cr.prototype.Da,Cr.prototype.getStatus=Cr.prototype.ba,Cr.prototype.getResponseJson=Cr.prototype.Qa,Cr.prototype.getResponseText=Cr.prototype.ga,Cr.prototype.send=Cr.prototype.ea;var $d=yo,Wd=Ou,Nf=Mc,Xm_PROXY=10,Xm_NOPROXY=11,Av=Fc,Yd=$o,e_=Cr,ds=function(){function d(u,f){var y=this;this.previousValue=u,f&&(f.sequenceNumberHandler=function(w){return y.t(w)},this.i=function(w){return f.writeSequenceNumber(w)})}return d.prototype.t=function(u){return this.previousValue=Math.max(u,this.previousValue),this.previousValue},d.prototype.next=function(){var u=++this.previousValue;return this.i&&this.i(u),u},d}();ds.o=-1;var it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ot=function(d){function u(f,y){var w=this;return(w=d.call(this,y)||this).code=f,w.message=y,w.name="FirebaseError",w.toString=function(){return w.name+": [code="+w.code+"]: "+w.message},w}return(0,V.ZT)(u,d),u}(Error),ia=new _e.Yd("@firebase/firestore");function Uu(){return ia.logLevel}function Yt(d){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];if(ia.logLevel<=_e.in.DEBUG){var y=u.map(Uc);ia.debug.apply(ia,(0,V.ev)(["Firestore (8.10.1): "+d],y))}}function Xi(d){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];if(ia.logLevel<=_e.in.ERROR){var y=u.map(Uc);ia.error.apply(ia,(0,V.ev)(["Firestore (8.10.1): "+d],y))}}function dl(d){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];if(ia.logLevel<=_e.in.WARN){var y=u.map(Uc);ia.warn.apply(ia,(0,V.ev)(["Firestore (8.10.1): "+d],y))}}function Uc(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Nn(d){void 0===d&&(d="Unexpected state");var u="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+d;throw Xi(u),new Error(u)}function Fn(d,u){d||Nn()}function W(d,u){return d}function Wn(d){var u=typeof self<"u"&&(self.crypto||self.msCrypto),f=new Uint8Array(d);if(u&&"function"==typeof u.getRandomValues)u.getRandomValues(f);else for(var y=0;y<d;y++)f[y]=Math.floor(256*Math.random());return f}var gr=function(){function d(){}return d.u=function(){for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",f=Math.floor(256/u.length)*u.length,y="";y.length<20;)for(var w=Wn(40),E=0;E<w.length;++E)y.length<20&&w[E]<f&&(y+=u.charAt(w[E]%u.length));return y},d}();function Zn(d,u){return d<u?-1:d>u?1:0}function wt(d,u,f){return d.length===u.length&&d.every(function(y,w){return f(y,u[w])})}function Tr(d){return d+"\0"}var $i=function(){function d(u,f){if(this.seconds=u,this.nanoseconds=f,f<0)throw new Ot(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+f);if(f>=1e9)throw new Ot(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+f);if(u<-62135596800)throw new Ot(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+u);if(u>=253402300800)throw new Ot(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+u)}return d.now=function(){return d.fromMillis(Date.now())},d.fromDate=function(u){return d.fromMillis(u.getTime())},d.fromMillis=function(u){var f=Math.floor(u/1e3);return new d(f,Math.floor(1e6*(u-1e3*f)))},d.prototype.toDate=function(){return new Date(this.toMillis())},d.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},d.prototype._compareTo=function(u){return this.seconds===u.seconds?Zn(this.nanoseconds,u.nanoseconds):Zn(this.seconds,u.seconds)},d.prototype.isEqual=function(u){return u.seconds===this.seconds&&u.nanoseconds===this.nanoseconds},d.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},d.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},d.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},d}(),zn=function(){function d(u){this.timestamp=u}return d.fromTimestamp=function(u){return new d(u)},d.min=function(){return new d(new $i(0,0))},d.prototype.compareTo=function(u){return this.timestamp._compareTo(u.timestamp)},d.prototype.isEqual=function(u){return this.timestamp.isEqual(u.timestamp)},d.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},d.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},d.prototype.toTimestamp=function(){return this.timestamp},d}();function Kd(d){var u=0;for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&u++;return u}function jc(d,u){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&u(f,d[f])}function Kl(d){for(var u in d)if(Object.prototype.hasOwnProperty.call(d,u))return!1;return!0}var Lf=function(){function d(u,f,y){void 0===f?f=0:f>u.length&&Nn(),void 0===y?y=u.length-f:y>u.length-f&&Nn(),this.segments=u,this.offset=f,this.len=y}return Object.defineProperty(d.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),d.prototype.isEqual=function(u){return 0===d.comparator(this,u)},d.prototype.child=function(u){var f=this.segments.slice(this.offset,this.limit());return u instanceof d?u.forEach(function(y){f.push(y)}):f.push(u),this.construct(f)},d.prototype.limit=function(){return this.offset+this.length},d.prototype.popFirst=function(u){return this.construct(this.segments,this.offset+(u=void 0===u?1:u),this.length-u)},d.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},d.prototype.firstSegment=function(){return this.segments[this.offset]},d.prototype.lastSegment=function(){return this.get(this.length-1)},d.prototype.get=function(u){return this.segments[this.offset+u]},d.prototype.isEmpty=function(){return 0===this.length},d.prototype.isPrefixOf=function(u){if(u.length<this.length)return!1;for(var f=0;f<this.length;f++)if(this.get(f)!==u.get(f))return!1;return!0},d.prototype.isImmediateParentOf=function(u){if(this.length+1!==u.length)return!1;for(var f=0;f<this.length;f++)if(this.get(f)!==u.get(f))return!1;return!0},d.prototype.forEach=function(u){for(var f=this.offset,y=this.limit();f<y;f++)u(this.segments[f])},d.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},d.comparator=function(u,f){for(var y=Math.min(u.length,f.length),w=0;w<y;w++){var E=u.get(w),M=f.get(w);if(E<M)return-1;if(E>M)return 1}return u.length<f.length?-1:u.length>f.length?1:0},d}(),gi=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u.prototype.construct=function(f,y,w){return new u(f,y,w)},u.prototype.canonicalString=function(){return this.toArray().join("/")},u.prototype.toString=function(){return this.canonicalString()},u.fromString=function(){for(var f=[],y=0;y<arguments.length;y++)f[y]=arguments[y];for(var w=[],E=0,M=f;E<M.length;E++){var P=M[E];if(P.indexOf("//")>=0)throw new Ot(it.INVALID_ARGUMENT,"Invalid segment ("+P+"). Paths must not contain // in them.");w.push.apply(w,P.split("/").filter(function(H){return H.length>0}))}return new u(w)},u.emptyPath=function(){return new u([])},u}(Lf),Jd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ra=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u.prototype.construct=function(f,y,w){return new u(f,y,w)},u.isValidIdentifier=function(f){return Jd.test(f)},u.prototype.canonicalString=function(){return this.toArray().map(function(f){return f=f.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),u.isValidIdentifier(f)||(f="`"+f+"`"),f}).join(".")},u.prototype.toString=function(){return this.canonicalString()},u.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},u.keyField=function(){return new u(["__name__"])},u.fromServerFormat=function(f){for(var y=[],w="",E=0,M=function(){if(0===w.length)throw new Ot(it.INVALID_ARGUMENT,"Invalid field path ("+f+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");y.push(w),w=""},P=!1;E<f.length;){var H=f[E];if("\\"===H){if(E+1===f.length)throw new Ot(it.INVALID_ARGUMENT,"Path has trailing escape character: "+f);var z=f[E+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new Ot(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+f);w+=z,E+=2}else"`"===H?(P=!P,E++):"."!==H||P?(w+=H,E++):(M(),E++)}if(M(),P)throw new Ot(it.INVALID_ARGUMENT,"Unterminated ` in path: "+f);return new u(y)},u.emptyPath=function(){return new u([])},u}(Lf),oa=function(){function d(u){this.fields=u,u.sort(ra.comparator)}return d.prototype.covers=function(u){for(var f=0,y=this.fields;f<y.length;f++)if(y[f].isPrefixOf(u))return!0;return!1},d.prototype.isEqual=function(u){return wt(this.fields,u.fields,function(f,y){return f.isEqual(y)})},d}(),Yr=function(){function d(u){this.binaryString=u}return d.fromBase64String=function(u){return new d(atob(u))},d.fromUint8Array=function(u){return new d(function(f){for(var y="",w=0;w<f.length;++w)y+=String.fromCharCode(f[w]);return y}(u))},d.prototype.toBase64=function(){return btoa(this.binaryString)},d.prototype.toUint8Array=function(){return function(u){for(var f=new Uint8Array(u.length),y=0;y<u.length;y++)f[y]=u.charCodeAt(y);return f}(this.binaryString)},d.prototype.approximateByteSize=function(){return 2*this.binaryString.length},d.prototype.compareTo=function(u){return Zn(this.binaryString,u.binaryString)},d.prototype.isEqual=function(u){return this.binaryString===u.binaryString},d}();Yr.EMPTY_BYTE_STRING=new Yr("");var n_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jl(d){if(Fn(!!d),"string"==typeof d){var u=0,f=n_.exec(d);if(Fn(!!f),f[1]){var y=f[1];y=(y+"000000000").substr(0,9),u=Number(y)}var w=new Date(d);return{seconds:Math.floor(w.getTime()/1e3),nanos:u}}return{seconds:mr(d.seconds),nanos:mr(d.nanos)}}function mr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function sa(d){return"string"==typeof d?Yr.fromBase64String(d):Yr.fromUint8Array(d)}function i_(d){var u,f;return"server_timestamp"===(null===(f=((null===(u=d?.mapValue)||void 0===u?void 0:u.fields)||{}).__type__)||void 0===f?void 0:f.stringValue)}function r_(d){var u=d.mapValue.fields.__previous_value__;return i_(u)?r_(u):u}function st(d){var u=Jl(d.mapValue.fields.__local_write_time__.timestampValue);return new $i(u.seconds,u.nanos)}function hl(d){return null==d}function Qd(d){return 0===d&&1/d==-1/0}function Vf(d){return"number"==typeof d&&Number.isInteger(d)&&!Qd(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}var on=function(){function d(u){this.path=u}return d.fromPath=function(u){return new d(gi.fromString(u))},d.fromName=function(u){return new d(gi.fromString(u).popFirst(5))},d.prototype.hasCollectionId=function(u){return this.path.length>=2&&this.path.get(this.path.length-2)===u},d.prototype.isEqual=function(u){return null!==u&&0===gi.comparator(this.path,u.path)},d.prototype.toString=function(){return this.path.toString()},d.comparator=function(u,f){return gi.comparator(u.path,f.path)},d.isDocumentKey=function(u){return u.length%2==0},d.fromSegments=function(u){return new d(new gi(u.slice()))},d}();function cr(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?i_(d)?4:10:Nn()}function so(d,u){var w,f=cr(d);if(f!==cr(u))return!1;switch(f){case 0:return!0;case 1:return d.booleanValue===u.booleanValue;case 4:return st(d).isEqual(st(u));case 3:return function(y,w){if("string"==typeof y.timestampValue&&"string"==typeof w.timestampValue&&y.timestampValue.length===w.timestampValue.length)return y.timestampValue===w.timestampValue;var E=Jl(y.timestampValue),M=Jl(w.timestampValue);return E.seconds===M.seconds&&E.nanos===M.nanos}(d,u);case 5:return d.stringValue===u.stringValue;case 6:return w=u,sa(d.bytesValue).isEqual(sa(w.bytesValue));case 7:return d.referenceValue===u.referenceValue;case 8:return function(y,w){return mr(y.geoPointValue.latitude)===mr(w.geoPointValue.latitude)&&mr(y.geoPointValue.longitude)===mr(w.geoPointValue.longitude)}(d,u);case 2:return function(y,w){if("integerValue"in y&&"integerValue"in w)return mr(y.integerValue)===mr(w.integerValue);if("doubleValue"in y&&"doubleValue"in w){var E=mr(y.doubleValue),M=mr(w.doubleValue);return E===M?Qd(E)===Qd(M):isNaN(E)&&isNaN(M)}return!1}(d,u);case 9:return wt(d.arrayValue.values||[],u.arrayValue.values||[],so);case 10:return function(y,w){var E=y.mapValue.fields||{},M=w.mapValue.fields||{};if(Kd(E)!==Kd(M))return!1;for(var P in E)if(E.hasOwnProperty(P)&&(void 0===M[P]||!so(E[P],M[P])))return!1;return!0}(d,u);default:return Nn()}}function fl(d,u){return void 0!==(d.values||[]).find(function(f){return so(f,u)})}function pl(d,u){var w,E,M,P,f=cr(d),y=cr(u);if(f!==y)return Zn(f,y);switch(f){case 0:return 0;case 1:return Zn(d.booleanValue,u.booleanValue);case 2:return E=u,(M=mr((w=d).integerValue||w.doubleValue))<(P=mr(E.integerValue||E.doubleValue))?-1:M>P?1:M===P?0:isNaN(M)?isNaN(P)?0:-1:1;case 3:return zc(d.timestampValue,u.timestampValue);case 4:return zc(st(d),st(u));case 5:return Zn(d.stringValue,u.stringValue);case 6:return function(w,E){var M=sa(w),P=sa(E);return M.compareTo(P)}(d.bytesValue,u.bytesValue);case 7:return function(w,E){for(var M=w.split("/"),P=E.split("/"),H=0;H<M.length&&H<P.length;H++){var z=Zn(M[H],P[H]);if(0!==z)return z}return Zn(M.length,P.length)}(d.referenceValue,u.referenceValue);case 8:return function(w,E){var M=Zn(mr(w.latitude),mr(E.latitude));return 0!==M?M:Zn(mr(w.longitude),mr(E.longitude))}(d.geoPointValue,u.geoPointValue);case 9:return function(w,E){for(var M=w.values||[],P=E.values||[],H=0;H<M.length&&H<P.length;++H){var z=pl(M[H],P[H]);if(z)return z}return Zn(M.length,P.length)}(d.arrayValue,u.arrayValue);case 10:return function(w,E){var M=w.fields||{},P=Object.keys(M),H=E.fields||{},z=Object.keys(H);P.sort(),z.sort();for(var ie=0;ie<P.length&&ie<z.length;++ie){var ge=Zn(P[ie],z[ie]);if(0!==ge)return ge;var ye=pl(M[P[ie]],H[z[ie]]);if(0!==ye)return ye}return Zn(P.length,z.length)}(d.mapValue,u.mapValue);default:throw Nn()}}function zc(d,u){if("string"==typeof d&&"string"==typeof u&&d.length===u.length)return Zn(d,u);var f=Jl(d),y=Jl(u),w=Zn(f.seconds,y.seconds);return 0!==w?w:Zn(f.nanos,y.nanos)}function o_(d){return Gc(d)}function Gc(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?"time("+(w=Jl(d.timestampValue)).seconds+","+w.nanos+")":"stringValue"in d?d.stringValue:"bytesValue"in d?sa(d.bytesValue).toBase64():"referenceValue"in d?on.fromName(d.referenceValue).toString():"geoPointValue"in d?"geo("+(u=d.geoPointValue).latitude+","+u.longitude+")":"arrayValue"in d?function(y){for(var w="[",E=!0,M=0,P=y.values||[];M<P.length;M++)E?E=!1:w+=",",w+=Gc(P[M]);return w+"]"}(d.arrayValue):"mapValue"in d?function(y){for(var w="{",E=!0,M=0,P=Object.keys(y.fields||{}).sort();M<P.length;M++){var H=P[M];E?E=!1:w+=",",w+=H+":"+Gc(y.fields[H])}return w+"}"}(d.mapValue):Nn();var w,u}function Gi(d,u){return{referenceValue:"projects/"+d.projectId+"/databases/"+d.database+"/documents/"+u.path.canonicalString()}}function s_(d){return!!d&&"integerValue"in d}function a_(d){return!!d&&"arrayValue"in d}function mg(d){return!!d&&"nullValue"in d}function Wo(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function ju(d){return!!d&&"mapValue"in d}function Xd(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){var u={mapValue:{fields:{}}};return jc(d.mapValue.fields,function(w,E){return u.mapValue.fields[w]=Xd(E)}),u}if(d.arrayValue){for(var f={arrayValue:{values:[]}},y=0;y<(d.arrayValue.values||[]).length;++y)f.arrayValue.values[y]=Xd(d.arrayValue.values[y]);return f}return Object.assign({},d)}var hs=function(){function d(u){this.value=u}return d.empty=function(){return new d({mapValue:{}})},d.prototype.field=function(u){if(u.isEmpty())return this.value;for(var f=this.value,y=0;y<u.length-1;++y)if(!ju(f=(f.mapValue.fields||{})[u.get(y)]))return null;return(f=(f.mapValue.fields||{})[u.lastSegment()])||null},d.prototype.set=function(u,f){this.getFieldsMap(u.popLast())[u.lastSegment()]=Xd(f)},d.prototype.setAll=function(u){var f=this,y=ra.emptyPath(),w={},E=[];u.forEach(function(P,H){if(!y.isImmediateParentOf(H)){var z=f.getFieldsMap(y);f.applyChanges(z,w,E),w={},E=[],y=H.popLast()}P?w[H.lastSegment()]=Xd(P):E.push(H.lastSegment())});var M=this.getFieldsMap(y);this.applyChanges(M,w,E)},d.prototype.delete=function(u){var f=this.field(u.popLast());ju(f)&&f.mapValue.fields&&delete f.mapValue.fields[u.lastSegment()]},d.prototype.isEqual=function(u){return so(this.value,u.value)},d.prototype.getFieldsMap=function(u){var f=this.value;f.mapValue.fields||(f.mapValue={fields:{}});for(var y=0;y<u.length;++y){var w=f.mapValue.fields[u.get(y)];ju(w)&&w.mapValue.fields||(w={mapValue:{fields:{}}},f.mapValue.fields[u.get(y)]=w),f=w}return f.mapValue.fields},d.prototype.applyChanges=function(u,f,y){jc(f,function(P,H){return u[P]=H});for(var w=0,E=y;w<E.length;w++)delete u[E[w]]},d.prototype.clone=function(){return new d(Xd(this.value))},d}();function gl(d){var u=[];return jc(d.fields,function(f,y){var w=new ra([f]);if(ju(y)){var E=gl(y.mapValue).fields;if(0===E.length)u.push(w);else for(var M=0,P=E;M<P.length;M++)u.push(w.child(P[M]))}else u.push(w)}),new oa(u)}var Kr=function(){function d(u,f,y,w,E){this.key=u,this.documentType=f,this.version=y,this.data=w,this.documentState=E}return d.newInvalidDocument=function(u){return new d(u,0,zn.min(),hs.empty(),0)},d.newFoundDocument=function(u,f,y){return new d(u,1,f,y,0)},d.newNoDocument=function(u,f){return new d(u,2,f,hs.empty(),0)},d.newUnknownDocument=function(u,f){return new d(u,3,f,hs.empty(),2)},d.prototype.convertToFoundDocument=function(u,f){return this.version=u,this.documentType=1,this.data=f,this.documentState=0,this},d.prototype.convertToNoDocument=function(u){return this.version=u,this.documentType=2,this.data=hs.empty(),this.documentState=0,this},d.prototype.convertToUnknownDocument=function(u){return this.version=u,this.documentType=3,this.data=hs.empty(),this.documentState=2,this},d.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},d.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(d.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),d.prototype.isValidDocument=function(){return 0!==this.documentType},d.prototype.isFoundDocument=function(){return 1===this.documentType},d.prototype.isNoDocument=function(){return 2===this.documentType},d.prototype.isUnknownDocument=function(){return 3===this.documentType},d.prototype.isEqual=function(u){return u instanceof d&&this.key.isEqual(u.key)&&this.version.isEqual(u.version)&&this.documentType===u.documentType&&this.documentState===u.documentState&&this.data.isEqual(u.data)},d.prototype.clone=function(){return new d(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},d.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},d}(),l_=function(d,u,f,y,w,E,M){void 0===u&&(u=null),void 0===f&&(f=[]),void 0===y&&(y=[]),void 0===w&&(w=null),void 0===E&&(E=null),void 0===M&&(M=null),this.path=d,this.collectionGroup=u,this.orderBy=f,this.filters=y,this.limit=w,this.startAt=E,this.endAt=M,this.h=null};function Hr(d,u,f,y,w,E,M){return void 0===u&&(u=null),void 0===f&&(f=[]),void 0===y&&(y=[]),void 0===w&&(w=null),void 0===E&&(E=null),void 0===M&&(M=null),new l_(d,u,f,y,w,E,M)}function qc(d){var u=W(d);if(null===u.h){var f=u.path.canonicalString();null!==u.collectionGroup&&(f+="|cg:"+u.collectionGroup),f+="|f:",f+=u.filters.map(function(y){return(w=y).field.canonicalString()+w.op.toString()+o_(w.value);var w}).join(","),f+="|ob:",f+=u.orderBy.map(function(y){return(w=y).field.canonicalString()+w.dir;var w}).join(","),hl(u.limit)||(f+="|l:",f+=u.limit),u.startAt&&(f+="|lb:",f+=aa(u.startAt)),u.endAt&&(f+="|ub:",f+=aa(u.endAt)),u.h=f}return u.h}function Na(d,u){if(d.limit!==u.limit||d.orderBy.length!==u.orderBy.length)return!1;for(var f=0;f<d.orderBy.length;f++)if(!Ko(d.orderBy[f],u.orderBy[f]))return!1;if(d.filters.length!==u.filters.length)return!1;for(var y=0;y<d.filters.length;y++)if((w=d.filters[y]).op!==(E=u.filters[y]).op||!w.field.isEqual(E.field)||!so(w.value,E.value))return!1;var w,E;return d.collectionGroup===u.collectionGroup&&!!d.path.isEqual(u.path)&&!!la(d.startAt,u.startAt)&&la(d.endAt,u.endAt)}function _g(d){return on.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}var Yo=function(d){function u(f,y,w){var E=this;return(E=d.call(this)||this).field=f,E.op=y,E.value=w,E}return(0,V.ZT)(u,d),u.create=function(f,y,w){return f.isKeyField()?"in"===y||"not-in"===y?this.l(f,y,w):new Eo(f,y,w):"array-contains"===y?new Xl(f,w):"in"===y?new Bf(f,w):"not-in"===y?new kv(f,w):"array-contains-any"===y?new yg(f,w):new u(f,y,w)},u.l=function(f,y,w){return"in"===y?new Hs(f,w):new eh(f,w)},u.prototype.matches=function(f){var y=f.data.field(this.field);return"!="===this.op?null!==y&&this.m(pl(y,this.value)):null!==y&&cr(this.value)===cr(y)&&this.m(pl(y,this.value))},u.prototype.m=function(f){switch(this.op){case"<":return f<0;case"<=":return f<=0;case"==":return 0===f;case"!=":return 0!==f;case">":return f>0;case">=":return f>=0;default:return Nn()}},u.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},u}(function(){}),Eo=function(d){function u(f,y,w){var E=this;return(E=d.call(this,f,y,w)||this).key=on.fromName(w.referenceValue),E}return(0,V.ZT)(u,d),u.prototype.matches=function(f){var y=on.comparator(f.key,this.key);return this.m(y)},u}(Yo),Hs=function(d){function u(f,y){var w=this;return(w=d.call(this,f,"in",y)||this).keys=Ql(0,y),w}return(0,V.ZT)(u,d),u.prototype.matches=function(f){return this.keys.some(function(y){return y.isEqual(f.key)})},u}(Yo),eh=function(d){function u(f,y){var w=this;return(w=d.call(this,f,"not-in",y)||this).keys=Ql(0,y),w}return(0,V.ZT)(u,d),u.prototype.matches=function(f){return!this.keys.some(function(y){return y.isEqual(f.key)})},u}(Yo);function Ql(d,u){var f;return((null===(f=u.arrayValue)||void 0===f?void 0:f.values)||[]).map(function(y){return on.fromName(y.referenceValue)})}var Xl=function(d){function u(f,y){return d.call(this,f,"array-contains",y)||this}return(0,V.ZT)(u,d),u.prototype.matches=function(f){var y=f.data.field(this.field);return a_(y)&&fl(y.arrayValue,this.value)},u}(Yo),Bf=function(d){function u(f,y){return d.call(this,f,"in",y)||this}return(0,V.ZT)(u,d),u.prototype.matches=function(f){var y=f.data.field(this.field);return null!==y&&fl(this.value.arrayValue,y)},u}(Yo),kv=function(d){function u(f,y){return d.call(this,f,"not-in",y)||this}return(0,V.ZT)(u,d),u.prototype.matches=function(f){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var y=f.data.field(this.field);return null!==y&&!fl(this.value.arrayValue,y)},u}(Yo),yg=function(d){function u(f,y){return d.call(this,f,"array-contains-any",y)||this}return(0,V.ZT)(u,d),u.prototype.matches=function(f){var y=this,w=f.data.field(this.field);return!(!a_(w)||!w.arrayValue.values)&&w.arrayValue.values.some(function(E){return fl(y.value.arrayValue,E)})},u}(Yo),th=function(d,u){this.position=d,this.before=u};function aa(d){return(d.before?"b":"a")+":"+d.position.map(function(u){return o_(u)}).join(",")}var Fa=function(d,u){void 0===u&&(u="asc"),this.field=d,this.dir=u};function Ko(d,u){return d.dir===u.dir&&d.field.isEqual(u.field)}function nh(d,u,f){for(var y=0,w=0;w<d.position.length;w++){var E=u[w],M=d.position[w];if(y=E.field.isKeyField()?on.comparator(on.fromName(M.referenceValue),f.key):pl(M,f.data.field(E.field)),"desc"===E.dir&&(y*=-1),0!==y)break}return d.before?y<=0:y<0}function la(d,u){if(null===d)return null===u;if(null===u||d.before!==u.before||d.position.length!==u.position.length)return!1;for(var f=0;f<d.position.length;f++)if(!so(d.position[f],u.position[f]))return!1;return!0}var La=function(d,u,f,y,w,E,M,P){void 0===u&&(u=null),void 0===f&&(f=[]),void 0===y&&(y=[]),void 0===w&&(w=null),void 0===E&&(E="F"),void 0===M&&(M=null),void 0===P&&(P=null),this.path=d,this.collectionGroup=u,this.explicitOrderBy=f,this.filters=y,this.limit=w,this.limitType=E,this.startAt=M,this.endAt=P,this.p=null,this.T=null};function zu(d,u,f,y,w,E,M,P){return new La(d,u,f,y,w,E,M,P)}function Zc(d){return new La(d)}function Hf(d){return!hl(d.limit)&&"F"===d.limitType}function ec(d){return!hl(d.limit)&&"L"===d.limitType}function Uf(d){return d.explicitOrderBy.length>0?d.explicitOrderBy[0].field:null}function Gu(d){for(var u=0,f=d.filters;u<f.length;u++){var y=f[u];if(y.g())return y.field}return null}function ih(d){return null!==d.collectionGroup}function Va(d){var u=W(d);if(null===u.p){u.p=[];var f=Gu(u),y=Uf(u);if(null!==f&&null===y)f.isKeyField()||u.p.push(new Fa(f)),u.p.push(new Fa(ra.keyField(),"asc"));else{for(var w=!1,E=0,M=u.explicitOrderBy;E<M.length;E++){var P=M[E];u.p.push(P),P.field.isKeyField()&&(w=!0)}if(!w){var H=u.explicitOrderBy.length>0?u.explicitOrderBy[u.explicitOrderBy.length-1].dir:"asc";u.p.push(new Fa(ra.keyField(),H))}}}return u.p}function xo(d){var u=W(d);if(!u.T)if("F"===u.limitType)u.T=Hr(u.path,u.collectionGroup,Va(u),u.filters,u.limit,u.startAt,u.endAt);else{for(var f=[],y=0,w=Va(u);y<w.length;y++){var E=w[y];f.push(new Fa(E.field,"desc"===E.dir?"asc":"desc"))}var P=u.endAt?new th(u.endAt.position,!u.endAt.before):null,H=u.startAt?new th(u.startAt.position,!u.startAt.before):null;u.T=Hr(u.path,u.collectionGroup,f,u.filters,u.limit,P,H)}return u.T}function Ov(d,u,f){return new La(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),u,f,d.startAt,d.endAt)}function Fo(d,u){return Na(xo(d),xo(u))&&d.limitType===u.limitType}function qu(d){return qc(xo(d))+"|lt:"+d.limitType}function tc(d){return"Query(target="+(f=(u=xo(d)).path.canonicalString(),null!==u.collectionGroup&&(f+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(f+=", filters: ["+u.filters.map(function(y){return(w=y).field.canonicalString()+" "+w.op+" "+o_(w.value);var w}).join(", ")+"]"),hl(u.limit)||(f+=", limit: "+u.limit),u.orderBy.length>0&&(f+=", orderBy: ["+u.orderBy.map(function(y){return(w=y).field.canonicalString()+" ("+w.dir+")";var w}).join(", ")+"]"),u.startAt&&(f+=", startAt: "+aa(u.startAt)),u.endAt&&(f+=", endAt: "+aa(u.endAt)),"Target("+f+"); limitType=")+d.limitType+")";var u,f}function ml(d,u){return u.isFoundDocument()&&(w=(y=u).key.path,null!==(f=d).collectionGroup?y.key.hasCollectionId(f.collectionGroup)&&f.path.isPrefixOf(w):on.isDocumentKey(f.path)?f.path.isEqual(w):f.path.isImmediateParentOf(w))&&function(f,y){for(var w=0,E=f.explicitOrderBy;w<E.length;w++){var M=E[w];if(!M.field.isKeyField()&&null===y.data.field(M.field))return!1}return!0}(d,u)&&function(f,y){for(var w=0,E=f.filters;w<E.length;w++)if(!E[w].matches(y))return!1;return!0}(d,u)&&function(f,y){return!(f.startAt&&!nh(f.startAt,Va(f),y)||f.endAt&&nh(f.endAt,Va(f),y))}(d,u);var f,y,w}function rh(d){return function(u,f){for(var y=!1,w=0,E=Va(d);w<E.length;w++){var M=E[w],P=vg(M,u,f);if(0!==P)return P;y=y||M.field.isKeyField()}return 0}}function vg(d,u,f){var w,M,P,H,y=d.field.isKeyField()?on.comparator(u.key,f.key):(M=f,P=u.data.field(w=d.field),H=M.data.field(w),null!==P&&null!==H?pl(P,H):Nn());switch(d.dir){case"asc":return y;case"desc":return-1*y;default:return Nn()}}function jf(d,u){if(d.I){if(isNaN(u))return{doubleValue:"NaN"};if(u===1/0)return{doubleValue:"Infinity"};if(u===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(u)?"-0":u}}function Ba(d){return{integerValue:""+d}}function nc(d,u){return Vf(u)?Ba(u):jf(d,u)}var oh=function(){this._=void 0};function Ur(d,u,f){return d instanceof ic?(E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(y=f).seconds,nanos:y.nanoseconds}}}},(w=u)&&(E.fields.__previous_value__=w),{mapValue:E}):d instanceof ca?zf(d,u):d instanceof $c?u_(d,u):function(y,w){var E=sh(y,w),M=Wc(E)+Wc(y.A);return s_(E)&&s_(y.A)?Ba(M):jf(y.R,M)}(d,u);var y,w,E}function c_(d,u,f){return d instanceof ca?zf(d,u):d instanceof $c?u_(d,u):f}function sh(d,u){return d instanceof xs?s_(f=u)||(y=f)&&"doubleValue"in y?u:{integerValue:0}:null;var y,f}var ic=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u}(oh),ca=function(d){function u(f){var y=this;return(y=d.call(this)||this).elements=f,y}return(0,V.ZT)(u,d),u}(oh);function zf(d,u){for(var f=Zu(u),y=function(M){f.some(function(P){return so(P,M)})||f.push(M)},w=0,E=d.elements;w<E.length;w++)y(E[w]);return{arrayValue:{values:f}}}var $c=function(d){function u(f){var y=this;return(y=d.call(this)||this).elements=f,y}return(0,V.ZT)(u,d),u}(oh);function u_(d,u){for(var f=Zu(u),y=function(M){f=f.filter(function(P){return!so(P,M)})},w=0,E=d.elements;w<E.length;w++)y(E[w]);return{arrayValue:{values:f}}}var xs=function(d){function u(f,y){var w=this;return(w=d.call(this)||this).R=f,w.A=y,w}return(0,V.ZT)(u,d),u}(oh);function Wc(d){return mr(d.integerValue||d.doubleValue)}function Zu(d){return a_(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}var Ss=function(d,u){this.field=d,this.transform=u},bg=function(d,u){this.version=d,this.transformResults=u},ao=function(){function d(u,f){this.updateTime=u,this.exists=f}return d.none=function(){return new d},d.exists=function(u){return new d(void 0,u)},d.updateTime=function(u){return new d(u)},Object.defineProperty(d.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),d.prototype.isEqual=function(u){return this.exists===u.exists&&(this.updateTime?!!u.updateTime&&this.updateTime.isEqual(u.updateTime):!u.updateTime)},d}();function Ha(d,u){return void 0!==d.updateTime?u.isFoundDocument()&&u.version.isEqual(d.updateTime):void 0===d.exists||d.exists===u.isFoundDocument()}var rc=function(){};function Gf(d,u,f){var y,w,E,M,P;d instanceof Yc?(w=u,E=f,M=(y=d).value.clone(),P=qf(y.fieldTransforms,w,E.transformResults),M.setAll(P),w.convertToFoundDocument(E.version,M).setHasCommittedMutations()):d instanceof Wu?function(y,w,E){if(Ha(y.precondition,w)){var M=qf(y.fieldTransforms,w,E.transformResults),P=w.data;P.setAll(d_(y)),P.setAll(M),w.convertToFoundDocument(E.version,P).setHasCommittedMutations()}else w.convertToUnknownDocument(E.version)}(d,u,f):function(y,w,E){w.convertToNoDocument(E.version).setHasCommittedMutations()}(0,u,f)}function ah(d,u,f){var w;d instanceof Yc?function(y,w,E){if(Ha(y.precondition,w)){var M=y.value.clone(),P=h_(y.fieldTransforms,E,w);M.setAll(P),w.convertToFoundDocument($u(w),M).setHasLocalMutations()}}(d,u,f):d instanceof Wu?function(y,w,E){if(Ha(y.precondition,w)){var M=h_(y.fieldTransforms,E,w),P=w.data;P.setAll(d_(y)),P.setAll(M),w.convertToFoundDocument($u(w),P).setHasLocalMutations()}}(d,u,f):Ha(d.precondition,w=u)&&w.convertToNoDocument(zn.min())}function wg(d,u){for(var f=null,y=0,w=d.fieldTransforms;y<w.length;y++){var E=w[y],M=u.data.field(E.field),P=sh(E.transform,M||null);null!=P&&(null==f&&(f=hs.empty()),f.set(E.field,P))}return f||null}function oc(d,u){return d.type===u.type&&!!d.key.isEqual(u.key)&&!!d.precondition.isEqual(u.precondition)&&(y=u.fieldTransforms,!!(void 0===(f=d.fieldTransforms)&&void 0===y||f&&y&&wt(f,y,function(w,E){return(M=w).field.isEqual((P=E).field)&&(z=P.transform,(H=M.transform)instanceof ca&&z instanceof ca||H instanceof $c&&z instanceof $c?wt(H.elements,z.elements,so):H instanceof xs&&z instanceof xs?so(H.A,z.A):H instanceof ic&&z instanceof ic);var M,P,H,z})))&&(0===d.type?d.value.isEqual(u.value):1!==d.type||d.data.isEqual(u.data)&&d.fieldMask.isEqual(u.fieldMask));var f,y}function $u(d){return d.isFoundDocument()?d.version:zn.min()}var Yc=function(d){function u(f,y,w,E){void 0===E&&(E=[]);var M=this;return(M=d.call(this)||this).key=f,M.value=y,M.precondition=w,M.fieldTransforms=E,M.type=0,M}return(0,V.ZT)(u,d),u}(rc),Wu=function(d){function u(f,y,w,E,M){void 0===M&&(M=[]);var P=this;return(P=d.call(this)||this).key=f,P.data=y,P.fieldMask=w,P.precondition=E,P.fieldTransforms=M,P.type=1,P}return(0,V.ZT)(u,d),u}(rc);function d_(d){var u=new Map;return d.fieldMask.fields.forEach(function(f){if(!f.isEmpty()){var y=d.data.field(f);u.set(f,y)}}),u}function qf(d,u,f){var y=new Map;Fn(d.length===f.length);for(var w=0;w<f.length;w++){var E=d[w],M=E.transform,P=u.data.field(E.field);y.set(E.field,c_(M,P,f[w]))}return y}function h_(d,u,f){for(var y=new Map,w=0,E=d;w<E.length;w++){var M=E[w],P=M.transform,H=f.data.field(M.field);y.set(M.field,Ur(P,H,u))}return y}var jr,Ti,Yu=function(d){function u(f,y){var w=this;return(w=d.call(this)||this).key=f,w.precondition=y,w.type=2,w.fieldTransforms=[],w}return(0,V.ZT)(u,d),u}(rc),Kc=function(d){function u(f,y){var w=this;return(w=d.call(this)||this).key=f,w.precondition=y,w.type=3,w.fieldTransforms=[],w}return(0,V.ZT)(u,d),u}(rc),Jc=function(d){this.count=d};function ua(d){switch(d){case it.OK:return Nn();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Nn()}}function f_(d){if(void 0===d)return Xi("GRPC error has no .code"),it.UNKNOWN;switch(d){case jr.OK:return it.OK;case jr.CANCELLED:return it.CANCELLED;case jr.UNKNOWN:return it.UNKNOWN;case jr.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case jr.INTERNAL:return it.INTERNAL;case jr.UNAVAILABLE:return it.UNAVAILABLE;case jr.UNAUTHENTICATED:return it.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case jr.NOT_FOUND:return it.NOT_FOUND;case jr.ALREADY_EXISTS:return it.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return it.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case jr.ABORTED:return it.ABORTED;case jr.OUT_OF_RANGE:return it.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return it.UNIMPLEMENTED;case jr.DATA_LOSS:return it.DATA_LOSS;default:return Nn()}}(Ti=jr||(jr={}))[Ti.OK=0]="OK",Ti[Ti.CANCELLED=1]="CANCELLED",Ti[Ti.UNKNOWN=2]="UNKNOWN",Ti[Ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ti[Ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ti[Ti.NOT_FOUND=5]="NOT_FOUND",Ti[Ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ti[Ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ti[Ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ti[Ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ti[Ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ti[Ti.ABORTED=10]="ABORTED",Ti[Ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ti[Ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ti[Ti.INTERNAL=13]="INTERNAL",Ti[Ti.UNAVAILABLE=14]="UNAVAILABLE",Ti[Ti.DATA_LOSS=15]="DATA_LOSS";var So=function(){function d(u,f){this.comparator=u,this.root=f||Qc.EMPTY}return d.prototype.insert=function(u,f){return new d(this.comparator,this.root.insert(u,f,this.comparator).copy(null,null,Qc.BLACK,null,null))},d.prototype.remove=function(u){return new d(this.comparator,this.root.remove(u,this.comparator).copy(null,null,Qc.BLACK,null,null))},d.prototype.get=function(u){for(var f=this.root;!f.isEmpty();){var y=this.comparator(u,f.key);if(0===y)return f.value;y<0?f=f.left:y>0&&(f=f.right)}return null},d.prototype.indexOf=function(u){for(var f=0,y=this.root;!y.isEmpty();){var w=this.comparator(u,y.key);if(0===w)return f+y.left.size;w<0?y=y.left:(f+=y.left.size+1,y=y.right)}return-1},d.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(d.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),d.prototype.minKey=function(){return this.root.minKey()},d.prototype.maxKey=function(){return this.root.maxKey()},d.prototype.inorderTraversal=function(u){return this.root.inorderTraversal(u)},d.prototype.forEach=function(u){this.inorderTraversal(function(f,y){return u(f,y),!1})},d.prototype.toString=function(){var u=[];return this.inorderTraversal(function(f,y){return u.push(f+":"+y),!1}),"{"+u.join(", ")+"}"},d.prototype.reverseTraversal=function(u){return this.root.reverseTraversal(u)},d.prototype.getIterator=function(){return new Zf(this.root,null,this.comparator,!1)},d.prototype.getIteratorFrom=function(u){return new Zf(this.root,u,this.comparator,!1)},d.prototype.getReverseIterator=function(){return new Zf(this.root,null,this.comparator,!0)},d.prototype.getReverseIteratorFrom=function(u){return new Zf(this.root,u,this.comparator,!0)},d}(),Zf=function(){function d(u,f,y,w){this.isReverse=w,this.nodeStack=[];for(var E=1;!u.isEmpty();)if(E=f?y(u.key,f):1,w&&(E*=-1),E<0)u=this.isReverse?u.left:u.right;else{if(0===E){this.nodeStack.push(u);break}this.nodeStack.push(u),u=this.isReverse?u.right:u.left}}return d.prototype.getNext=function(){var u=this.nodeStack.pop(),f={key:u.key,value:u.value};if(this.isReverse)for(u=u.left;!u.isEmpty();)this.nodeStack.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack.push(u),u=u.left;return f},d.prototype.hasNext=function(){return this.nodeStack.length>0},d.prototype.peek=function(){if(0===this.nodeStack.length)return null;var u=this.nodeStack[this.nodeStack.length-1];return{key:u.key,value:u.value}},d}(),Qc=function(){function d(u,f,y,w,E){this.key=u,this.value=f,this.color=y??d.RED,this.left=w??d.EMPTY,this.right=E??d.EMPTY,this.size=this.left.size+1+this.right.size}return d.prototype.copy=function(u,f,y,w,E){return new d(u??this.key,f??this.value,y??this.color,w??this.left,E??this.right)},d.prototype.isEmpty=function(){return!1},d.prototype.inorderTraversal=function(u){return this.left.inorderTraversal(u)||u(this.key,this.value)||this.right.inorderTraversal(u)},d.prototype.reverseTraversal=function(u){return this.right.reverseTraversal(u)||u(this.key,this.value)||this.left.reverseTraversal(u)},d.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},d.prototype.minKey=function(){return this.min().key},d.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},d.prototype.insert=function(u,f,y){var w=this,E=y(u,w.key);return(w=E<0?w.copy(null,null,null,w.left.insert(u,f,y),null):0===E?w.copy(null,f,null,null,null):w.copy(null,null,null,null,w.right.insert(u,f,y))).fixUp()},d.prototype.removeMin=function(){if(this.left.isEmpty())return d.EMPTY;var u=this;return u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),(u=u.copy(null,null,null,u.left.removeMin(),null)).fixUp()},d.prototype.remove=function(u,f){var y,w=this;if(f(u,w.key)<0)w.left.isEmpty()||w.left.isRed()||w.left.left.isRed()||(w=w.moveRedLeft()),w=w.copy(null,null,null,w.left.remove(u,f),null);else{if(w.left.isRed()&&(w=w.rotateRight()),w.right.isEmpty()||w.right.isRed()||w.right.left.isRed()||(w=w.moveRedRight()),0===f(u,w.key)){if(w.right.isEmpty())return d.EMPTY;y=w.right.min(),w=w.copy(y.key,y.value,null,null,w.right.removeMin())}w=w.copy(null,null,null,null,w.right.remove(u,f))}return w.fixUp()},d.prototype.isRed=function(){return this.color},d.prototype.fixUp=function(){var u=this;return u.right.isRed()&&!u.left.isRed()&&(u=u.rotateLeft()),u.left.isRed()&&u.left.left.isRed()&&(u=u.rotateRight()),u.left.isRed()&&u.right.isRed()&&(u=u.colorFlip()),u},d.prototype.moveRedLeft=function(){var u=this.colorFlip();return u.right.left.isRed()&&(u=(u=(u=u.copy(null,null,null,null,u.right.rotateRight())).rotateLeft()).colorFlip()),u},d.prototype.moveRedRight=function(){var u=this.colorFlip();return u.left.left.isRed()&&(u=(u=u.rotateRight()).colorFlip()),u},d.prototype.rotateLeft=function(){var u=this.copy(null,null,d.RED,null,this.right.left);return this.right.copy(null,null,this.color,u,null)},d.prototype.rotateRight=function(){var u=this.copy(null,null,d.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,u)},d.prototype.colorFlip=function(){var u=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,u,f)},d.prototype.checkMaxDepth=function(){var u=this.check();return Math.pow(2,u)<=this.size+1},d.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nn();var u=this.left.check();if(u!==this.right.check())throw Nn();return u+(this.isRed()?0:1)},d}();Qc.EMPTY=null,Qc.RED=!0,Qc.BLACK=!1,Qc.EMPTY=new(function(){function d(){this.size=0}return Object.defineProperty(d.prototype,"key",{get:function(){throw Nn()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){throw Nn()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"color",{get:function(){throw Nn()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"left",{get:function(){throw Nn()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"right",{get:function(){throw Nn()},enumerable:!1,configurable:!0}),d.prototype.copy=function(u,f,y,w,E){return this},d.prototype.insert=function(u,f,y){return new Qc(u,f)},d.prototype.remove=function(u,f){return this},d.prototype.isEmpty=function(){return!0},d.prototype.inorderTraversal=function(u){return!1},d.prototype.reverseTraversal=function(u){return!1},d.prototype.minKey=function(){return null},d.prototype.maxKey=function(){return null},d.prototype.isRed=function(){return!1},d.prototype.checkMaxDepth=function(){return!0},d.prototype.check=function(){return 0},d}());var zr=function(){function d(u){this.comparator=u,this.data=new So(this.comparator)}return d.prototype.has=function(u){return null!==this.data.get(u)},d.prototype.first=function(){return this.data.minKey()},d.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(d.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),d.prototype.indexOf=function(u){return this.data.indexOf(u)},d.prototype.forEach=function(u){this.data.inorderTraversal(function(f,y){return u(f),!1})},d.prototype.forEachInRange=function(u,f){for(var y=this.data.getIteratorFrom(u[0]);y.hasNext();){var w=y.getNext();if(this.comparator(w.key,u[1])>=0)return;f(w.key)}},d.prototype.forEachWhile=function(u,f){var y;for(y=void 0!==f?this.data.getIteratorFrom(f):this.data.getIterator();y.hasNext();)if(!u(y.getNext().key))return},d.prototype.firstAfterOrEqual=function(u){var f=this.data.getIteratorFrom(u);return f.hasNext()?f.getNext().key:null},d.prototype.getIterator=function(){return new p_(this.data.getIterator())},d.prototype.getIteratorFrom=function(u){return new p_(this.data.getIteratorFrom(u))},d.prototype.add=function(u){return this.copy(this.data.remove(u).insert(u,!0))},d.prototype.delete=function(u){return this.has(u)?this.copy(this.data.remove(u)):this},d.prototype.isEmpty=function(){return this.data.isEmpty()},d.prototype.unionWith=function(u){var f=this;return f.size<u.size&&(f=u,u=this),u.forEach(function(y){f=f.add(y)}),f},d.prototype.isEqual=function(u){if(!(u instanceof d)||this.size!==u.size)return!1;for(var f=this.data.getIterator(),y=u.data.getIterator();f.hasNext();){var w=f.getNext().key,E=y.getNext().key;if(0!==this.comparator(w,E))return!1}return!0},d.prototype.toArray=function(){var u=[];return this.forEach(function(f){u.push(f)}),u},d.prototype.toString=function(){var u=[];return this.forEach(function(f){return u.push(f)}),"SortedSet("+u.toString()+")"},d.prototype.copy=function(u){var f=new d(this.comparator);return f.data=u,f},d}(),p_=function(){function d(u){this.iter=u}return d.prototype.getNext=function(){return this.iter.getNext().key},d.prototype.hasNext=function(){return this.iter.hasNext()},d}(),g_=new So(on.comparator);function Lo(){return g_}var m_=new So(on.comparator);function sc(){return m_}var _w=new So(on.comparator);function Rv(){return _w}var cT=new zr(on.comparator);function ki(){for(var d=[],u=0;u<arguments.length;u++)d[u]=arguments[u];for(var f=cT,y=0,w=d;y<w.length;y++){var E=w[y];f=f.add(E)}return f}var __=new zr(Zn);function qi(){return __}var $f=function(){function d(u,f,y,w,E){this.snapshotVersion=u,this.targetChanges=f,this.targetMismatches=y,this.documentUpdates=w,this.resolvedLimboDocuments=E}return d.createSynthesizedRemoteEventForCurrentChange=function(u,f){var y=new Map;return y.set(u,lh.createSynthesizedTargetChangeForCurrentChange(u,f)),new d(zn.min(),y,qi(),Lo(),ki())},d}(),lh=function(){function d(u,f,y,w,E){this.resumeToken=u,this.current=f,this.addedDocuments=y,this.modifiedDocuments=w,this.removedDocuments=E}return d.createSynthesizedTargetChangeForCurrentChange=function(u,f){return new d(Yr.EMPTY_BYTE_STRING,f,ki(),ki(),ki())},d}(),da=function(d,u,f,y){this.v=d,this.removedTargetIds=u,this.key=f,this.P=y},Cg=function(d,u){this.targetId=d,this.V=u},Xc=function(d,u,f,y){void 0===f&&(f=Yr.EMPTY_BYTE_STRING),void 0===y&&(y=null),this.state=d,this.targetIds=u,this.resumeToken=f,this.cause=y},Ku=function(){function d(){this.S=0,this.D=Us(),this.C=Yr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(d.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),d.prototype.O=function(u){u.approximateByteSize()>0&&(this.k=!0,this.C=u)},d.prototype.M=function(){var u=ki(),f=ki(),y=ki();return this.D.forEach(function(w,E){switch(E){case 0:u=u.add(w);break;case 2:f=f.add(w);break;case 1:y=y.add(w);break;default:Nn()}}),new lh(this.C,this.N,u,f,y)},d.prototype.L=function(){this.k=!1,this.D=Us()},d.prototype.B=function(u,f){this.k=!0,this.D=this.D.insert(u,f)},d.prototype.q=function(u){this.k=!0,this.D=this.D.remove(u)},d.prototype.U=function(){this.S+=1},d.prototype.K=function(){this.S-=1},d.prototype.j=function(){this.k=!0,this.N=!0},d}(),Pv=function(){function d(u){this.W=u,this.G=new Map,this.H=Lo(),this.J=Wf(),this.Y=new zr(Zn)}return d.prototype.X=function(u){for(var f=0,y=u.v;f<y.length;f++){var w=y[f];u.P&&u.P.isFoundDocument()?this.Z(w,u.P):this.tt(w,u.key,u.P)}for(var E=0,M=u.removedTargetIds;E<M.length;E++)this.tt(w=M[E],u.key,u.P)},d.prototype.et=function(u){var f=this;this.forEachTarget(u,function(y){var w=f.nt(y);switch(u.state){case 0:f.st(y)&&w.O(u.resumeToken);break;case 1:w.K(),w.F||w.L(),w.O(u.resumeToken);break;case 2:w.K(),w.F||f.removeTarget(y);break;case 3:f.st(y)&&(w.j(),w.O(u.resumeToken));break;case 4:f.st(y)&&(f.it(y),w.O(u.resumeToken));break;default:Nn()}})},d.prototype.forEachTarget=function(u,f){var y=this;u.targetIds.length>0?u.targetIds.forEach(f):this.G.forEach(function(w,E){y.st(E)&&f(E)})},d.prototype.rt=function(u){var f=u.targetId,y=u.V.count,w=this.ot(f);if(w){var E=w.target;if(_g(E))if(0===y){var M=new on(E.path);this.tt(f,M,Kr.newNoDocument(M,zn.min()))}else Fn(1===y);else this.ct(f)!==y&&(this.it(f),this.Y=this.Y.add(f))}},d.prototype.ut=function(u){var f=this,y=new Map;this.G.forEach(function(M,P){var H=f.ot(P);if(H){if(M.current&&_g(H.target)){var z=new on(H.target.path);null!==f.H.get(z)||f.at(P,z)||f.tt(P,z,Kr.newNoDocument(z,u))}M.$&&(y.set(P,M.M()),M.L())}});var w=ki();this.J.forEach(function(M,P){var H=!0;P.forEachWhile(function(z){var ie=f.ot(z);return!ie||2===ie.purpose||(H=!1,!1)}),H&&(w=w.add(M))});var E=new $f(u,y,this.Y,this.H,w);return this.H=Lo(),this.J=Wf(),this.Y=new zr(Zn),E},d.prototype.Z=function(u,f){if(this.st(u)){var y=this.at(u,f.key)?2:0;this.nt(u).B(f.key,y),this.H=this.H.insert(f.key,f),this.J=this.J.insert(f.key,this.ht(f.key).add(u))}},d.prototype.tt=function(u,f,y){if(this.st(u)){var w=this.nt(u);this.at(u,f)?w.B(f,1):w.q(f),this.J=this.J.insert(f,this.ht(f).delete(u)),y&&(this.H=this.H.insert(f,y))}},d.prototype.removeTarget=function(u){this.G.delete(u)},d.prototype.ct=function(u){var f=this.nt(u).M();return this.W.getRemoteKeysForTarget(u).size+f.addedDocuments.size-f.removedDocuments.size},d.prototype.U=function(u){this.nt(u).U()},d.prototype.nt=function(u){var f=this.G.get(u);return f||(f=new Ku,this.G.set(u,f)),f},d.prototype.ht=function(u){var f=this.J.get(u);return f||(f=new zr(Zn),this.J=this.J.insert(u,f)),f},d.prototype.st=function(u){var f=null!==this.ot(u);return f||Yt("WatchChangeAggregator","Detected inactive target",u),f},d.prototype.ot=function(u){var f=this.G.get(u);return f&&f.F?null:this.W.lt(u)},d.prototype.it=function(u){var f=this;this.G.set(u,new Ku),this.W.getRemoteKeysForTarget(u).forEach(function(y){f.tt(u,y,null)})},d.prototype.at=function(u,f){return this.W.getRemoteKeysForTarget(u).has(f)},d}();function Wf(){return new So(on.comparator)}function Us(){return new So(on.comparator)}var Ju={asc:"ASCENDING",desc:"DESCENDING"},y_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v_=function(d,u){this.databaseId=d,this.I=u};function ch(d,u){return d.I?new Date(1e3*u.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+u.nanoseconds).slice(-9)+"Z":{seconds:""+u.seconds,nanos:u.nanoseconds}}function b_(d,u){return d.I?u.toBase64():u.toUint8Array()}function Nv(d,u){return ch(d,u.toTimestamp())}function lo(d){return Fn(!!d),zn.fromTimestamp((f=Jl(d),new $i(f.seconds,f.nanos)));var f}function R(d,u){return(f=d,new gi(["projects",f.projectId,"databases",f.database])).child("documents").child(u).canonicalString();var f}function S(d){var u=gi.fromString(d);return Fn(Sg(u)),u}function I(d,u){return R(d.databaseId,u.path)}function L(d,u){var f=S(u);if(f.get(1)!==d.databaseId.projectId)throw new Ot(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+f.get(1)+" vs "+d.databaseId.projectId);if(f.get(3)!==d.databaseId.database)throw new Ot(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+f.get(3)+" vs "+d.databaseId.database);return new on(vt(f))}function J(d,u){return R(d.databaseId,u)}function le(d){var u=S(d);return 4===u.length?gi.emptyPath():vt(u)}function ze(d){return new gi(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function vt(d){return Fn(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function hn(d,u,f){return{name:I(d,u),fields:f.value.mapValue.fields}}function bn(d,u,f){var y=L(d,u.name),w=lo(u.updateTime),E=new hs({mapValue:{fields:u.fields}}),M=Kr.newFoundDocument(y,w,E);return f&&M.setHasCommittedMutations(),f?M.setHasCommittedMutations():M}function ni(d,u){var f,w;if(u instanceof Yc)f={update:hn(d,u.key,u.value)};else if(u instanceof Yu)f={delete:I(d,u.key)};else if(u instanceof Wu)f={update:hn(d,u.key,u.data),updateMask:yw(u.fieldMask)};else{if(!(u instanceof Kc))return Nn();f={verify:I(d,u.key)}}return u.fieldTransforms.length>0&&(f.updateTransforms=u.fieldTransforms.map(function(y){return function(w,E){var M=E.transform;if(M instanceof ic)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof ca)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof $c)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof xs)return{fieldPath:E.field.canonicalString(),increment:M.A};throw Nn()}(0,y)})),u.precondition.isNone||(f.currentDocument=void 0!==(w=u.precondition).updateTime?{updateTime:Nv(d,w.updateTime)}:void 0!==w.exists?{exists:w.exists}:Nn()),f}function or(d,u){var z,f=u.currentDocument?void 0!==(z=u.currentDocument).updateTime?ao.updateTime(lo(z.updateTime)):void 0!==z.exists?ao.exists(z.exists):ao.none():ao.none(),y=u.updateTransforms?u.updateTransforms.map(function(z){return function(ie,ge){var ye=null;"setToServerValue"in ge?(Fn("REQUEST_TIME"===ge.setToServerValue),ye=new ic):"appendMissingElements"in ge?ye=new ca(ge.appendMissingElements.values||[]):"removeAllFromArray"in ge?ye=new $c(ge.removeAllFromArray.values||[]):"increment"in ge?ye=new xs(ie,ge.increment):Nn();var at=ra.fromServerFormat(ge.fieldPath);return new Ss(at,ye)}(d,z)}):[];if(u.update){var w=L(d,u.update.name),E=new hs({mapValue:{fields:u.update.fields}});if(u.updateMask){var M=function(z){return new oa((z.fieldPaths||[]).map(function(ge){return ra.fromServerFormat(ge)}))}(u.updateMask);return new Wu(w,E,M,f,y)}return new Yc(w,E,f,y)}if(u.delete){var P=L(d,u.delete);return new Yu(P,f)}if(u.verify){var H=L(d,u.verify);return new Kc(H,f)}return Nn()}function ha(d,u){return{documents:[J(d,u.path)]}}function _l(d,u){var f={structuredQuery:{}},y=u.path;null!==u.collectionGroup?(f.parent=J(d,y),f.structuredQuery.from=[{collectionId:u.collectionGroup,allDescendants:!0}]):(f.parent=J(d,y.popLast()),f.structuredQuery.from=[{collectionId:y.lastSegment()}]);var w=function(P){if(0!==P.length){var H=P.map(function(z){return function(ie){if("=="===ie.op){if(Wo(ie.value))return{unaryFilter:{field:uh(ie.field),op:"IS_NAN"}};if(mg(ie.value))return{unaryFilter:{field:uh(ie.field),op:"IS_NULL"}}}else if("!="===ie.op){if(Wo(ie.value))return{unaryFilter:{field:uh(ie.field),op:"IS_NOT_NAN"}};if(mg(ie.value))return{unaryFilter:{field:uh(ie.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(ie.field),op:Kf(ie.op),value:ie.value}}}(z)});return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}}(u.filters);w&&(f.structuredQuery.where=w);var E=function(P){if(0!==P.length)return P.map(function(H){return{field:uh((z=H).field),direction:Eg(z.dir)};var z})}(u.orderBy);E&&(f.structuredQuery.orderBy=E);var H,M=(H=u.limit,d.I||hl(H)?H:{value:H});return null!==M&&(f.structuredQuery.limit=M),u.startAt&&(f.structuredQuery.startAt=w_(u.startAt)),u.endAt&&(f.structuredQuery.endAt=w_(u.endAt)),f}function Tg(d){var u=le(d.parent),f=d.structuredQuery,y=f.from?f.from.length:0,w=null;if(y>0){Fn(1===y);var E=f.from[0];E.allDescendants?w=E.collectionId:u=u.child(E.collectionId)}var M=[];f.where&&(M=Fv(f.where));var P=[];f.orderBy&&(P=f.orderBy.map(function(ge){return new Fa(dh((ye=ge).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction));var ye}));var ge,ye,H=null;f.limit&&(H=hl(ye="object"==typeof(ge=f.limit)?ge.value:ge)?null:ye);var z=null;f.startAt&&(z=Yf(f.startAt));var ie=null;return f.endAt&&(ie=Yf(f.endAt)),zu(u,w,P,M,H,"F",z,ie)}function Fv(d){return d?void 0!==d.unaryFilter?[Lv(d)]:void 0!==d.fieldFilter?[xg(d)]:void 0!==d.compositeFilter?d.compositeFilter.filters.map(function(u){return Fv(u)}).reduce(function(u,f){return u.concat(f)}):Nn():[]}function w_(d){return{before:d.before,values:d.position}}function Yf(d){return new th(d.values||[],!!d.before)}function Eg(d){return Ju[d]}function Kf(d){return y_[d]}function uh(d){return{fieldPath:d.canonicalString()}}function dh(d){return ra.fromServerFormat(d.fieldPath)}function xg(d){return Yo.create(dh(d.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nn()}}(d.fieldFilter.op),d.fieldFilter.value)}function Lv(d){switch(d.unaryFilter.op){case"IS_NAN":var u=dh(d.unaryFilter.field);return Yo.create(u,"==",{doubleValue:NaN});case"IS_NULL":var f=dh(d.unaryFilter.field);return Yo.create(f,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var y=dh(d.unaryFilter.field);return Yo.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var w=dh(d.unaryFilter.field);return Yo.create(w,"!=",{nullValue:"NULL_VALUE"});default:return Nn()}}function yw(d){var u=[];return d.fields.forEach(function(f){return u.push(f.canonicalString())}),{fieldPaths:u}}function Sg(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}function Ua(d){for(var u="",f=0;f<d.length;f++)u.length>0&&(u=C_(u)),u=uT(d.get(f),u);return C_(u)}function uT(d,u){for(var f=u,y=d.length,w=0;w<y;w++){var E=d.charAt(w);switch(E){case"\0":f+="\x01\x10";break;case"\x01":f+="\x01\x11";break;default:f+=E}}return f}function C_(d){return d+"\x01\x01"}function eu(d){var u=d.length;if(Fn(u>=2),2===u)return Fn("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),gi.emptyPath();for(var f=u-2,y=[],w="",E=0;E<u;){var M=d.indexOf("\x01",E);switch((M<0||M>f)&&Nn(),d.charAt(M+1)){case"\x01":var P=d.substring(E,M),H=void 0;0===w.length?H=P:(H=w+=P,w=""),y.push(H);break;case"\x10":w+=d.substring(E,M),w+="\0";break;case"\x11":w+=d.substring(E,M+1);break;default:Nn()}E=M+2}return new gi(y)}var vw=function(d,u){this.seconds=d,this.nanoseconds=u},ja=function(d,u,f){this.ownerId=d,this.allowTabSynchronization=u,this.leaseTimestampMs=f};ja.store="owner",ja.key="owner";var sr=function(d,u,f){this.userId=d,this.lastAcknowledgedBatchId=u,this.lastStreamToken=f};sr.store="mutationQueues",sr.keyPath="userId";var Er=function(d,u,f,y,w){this.userId=d,this.batchId=u,this.localWriteTimeMs=f,this.baseMutations=y,this.mutations=w};Er.store="mutations",Er.keyPath="batchId",Er.userMutationsIndex="userMutationsIndex",Er.userMutationsKeyPath=["userId","batchId"];var Ds=function(){function d(){}return d.prefixForUser=function(u){return[u]},d.prefixForPath=function(u,f){return[u,Ua(f)]},d.key=function(u,f,y){return[u,Ua(f),y]},d}();Ds.store="documentMutations",Ds.PLACEHOLDER=new Ds;var bw=function(d,u){this.path=d,this.readTime=u},dT=function(d,u){this.path=d,this.version=u},Jr=function(d,u,f,y,w,E){this.unknownDocument=d,this.noDocument=u,this.document=f,this.hasCommittedMutations=y,this.readTime=w,this.parentPath=E};Jr.store="remoteDocuments",Jr.readTimeIndex="readTimeIndex",Jr.readTimeIndexPath="readTime",Jr.collectionReadTimeIndex="collectionReadTimeIndex",Jr.collectionReadTimeIndexPath=["parentPath","readTime"];var tu=function(d){this.byteSize=d};tu.store="remoteDocumentGlobal",tu.key="remoteDocumentGlobalKey";var fa=function(d,u,f,y,w,E,M){this.targetId=d,this.canonicalId=u,this.readTime=f,this.resumeToken=y,this.lastListenSequenceNumber=w,this.lastLimboFreeSnapshotVersion=E,this.query=M};fa.store="targets",fa.keyPath="targetId",fa.queryTargetsIndexName="queryTargetsIndex",fa.queryTargetsKeyPath=["canonicalId","targetId"];var fs=function(d,u,f){this.targetId=d,this.path=u,this.sequenceNumber=f};fs.store="targetDocuments",fs.keyPath=["targetId","path"],fs.documentTargetsIndex="documentTargetsIndex",fs.documentTargetsKeyPath=["path","targetId"];var za=function(d,u,f,y){this.highestTargetId=d,this.highestListenSequenceNumber=u,this.lastRemoteSnapshotVersion=f,this.targetCount=y};za.key="targetGlobalKey",za.store="targetGlobal";var Dg=function(d,u){this.collectionId=d,this.parent=u};Dg.store="collectionParents",Dg.keyPath=["collectionId","parent"];var hh=function(d,u,f,y){this.clientId=d,this.updateTimeMs=u,this.networkEnabled=f,this.inForeground=y};hh.store="clientMetadata",hh.keyPath="clientId";var nu=function(d,u,f){this.bundleId=d,this.createTime=u,this.version=f};nu.store="bundles",nu.keyPath="bundleId";var fh=function(d,u,f){this.name=d,this.readTime=u,this.bundledQuery=f};fh.store="namedQueries",fh.keyPath="name";var hT=(0,V.ev)((0,V.ev)([],(0,V.ev)((0,V.ev)([],(0,V.ev)((0,V.ev)([],(0,V.ev)((0,V.ev)([],[sr.store,Er.store,Ds.store,Jr.store,fa.store,ja.store,za.store,fs.store]),[hh.store])),[tu.store])),[Dg.store])),[nu.store,fh.store]),ww="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cw=function(){function d(){this.onCommittedListeners=[]}return d.prototype.addOnCommittedListener=function(u){this.onCommittedListeners.push(u)},d.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(u){return u()})},d}(),Is=function(){var d=this;this.promise=new Promise(function(u,f){d.resolve=u,d.reject=f})},jt=function(){function d(u){var f=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,u(function(y){f.isDone=!0,f.result=y,f.nextCallback&&f.nextCallback(y)},function(y){f.isDone=!0,f.error=y,f.catchCallback&&f.catchCallback(y)})}return d.prototype.catch=function(u){return this.next(void 0,u)},d.prototype.next=function(u,f){var y=this;return this.callbackAttached&&Nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(f,this.error):this.wrapSuccess(u,this.result):new d(function(w,E){y.nextCallback=function(M){y.wrapSuccess(u,M).next(w,E)},y.catchCallback=function(M){y.wrapFailure(f,M).next(w,E)}})},d.prototype.toPromise=function(){var u=this;return new Promise(function(f,y){u.next(f,y)})},d.prototype.wrapUserFunction=function(u){try{var f=u();return f instanceof d?f:d.resolve(f)}catch(y){return d.reject(y)}},d.prototype.wrapSuccess=function(u,f){return u?this.wrapUserFunction(function(){return u(f)}):d.resolve(f)},d.prototype.wrapFailure=function(u,f){return u?this.wrapUserFunction(function(){return u(f)}):d.reject(f)},d.resolve=function(u){return new d(function(f,y){f(u)})},d.reject=function(u){return new d(function(f,y){y(u)})},d.waitFor=function(u){return new d(function(f,y){var w=0,E=0,M=!1;u.forEach(function(P){++w,P.next(function(){++E,M&&E===w&&f()},function(H){return y(H)})}),M=!0,E===w&&f()})},d.or=function(u){for(var f=d.resolve(!1),y=function(M){f=f.next(function(P){return P?d.resolve(P):M()})},w=0,E=u;w<E.length;w++)y(E[w]);return f},d.forEach=function(u,f){var y=this,w=[];return u.forEach(function(E,M){w.push(f.call(y,E,M))}),this.waitFor(w)},d}(),Tw=function(){function d(u,f){var y=this;this.action=u,this.transaction=f,this.aborted=!1,this.ft=new Is,this.transaction.oncomplete=function(){y.ft.resolve()},this.transaction.onabort=function(){f.error?y.ft.reject(new _n(u,f.error)):y.ft.resolve()},this.transaction.onerror=function(w){var E=ph(w.target.error);y.ft.reject(new _n(u,E))}}return d.open=function(u,f,y,w){try{return new d(f,u.transaction(w,y))}catch(E){throw new _n(f,E)}},Object.defineProperty(d.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),d.prototype.abort=function(u){u&&this.ft.reject(u),this.aborted||(Yt("SimpleDb","Aborting transaction:",u?u.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},d.prototype.store=function(u){var f=this.transaction.objectStore(u);return new si(f)},d}(),Qu=function(){function d(u,f,y){this.name=u,this.version=f,this.wt=y,12.2===d._t((0,Y.z$)())&&Xi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return d.delete=function(u){return Yt("SimpleDb","Removing database:",u),vl(window.indexedDB.deleteDatabase(u)).toPromise()},d.yt=function(){if(typeof indexedDB>"u")return!1;if(d.gt())return!0;var u=(0,Y.z$)(),f=d._t(u),y=0<f&&f<10,w=d.Et(u),E=0<w&&w<4.5;return!(u.indexOf("MSIE ")>0||u.indexOf("Trident/")>0||u.indexOf("Edge/")>0||y||E)},d.gt=function(){var u;return typeof process<"u"&&"YES"===(null===(u=process.env)||void 0===u?void 0:u.Tt)},d.It=function(u,f){return u.store(f)},d._t=function(u){var f=u.match(/i(?:phone|pad|pod) os ([\d_]+)/i),y=f?f[1].split("_").slice(0,2).join("."):"-1";return Number(y)},d.Et=function(u){var f=u.match(/Android ([\d.]+)/i),y=f?f[1].split(".").slice(0,2).join("."):"-1";return Number(y)},d.prototype.At=function(u){return(0,V.mG)(this,void 0,void 0,function(){var f,y=this;return(0,V.Jh)(this,function(w){switch(w.label){case 0:return this.db?[3,2]:(Yt("SimpleDb","Opening database:",this.name),f=this,[4,new Promise(function(E,M){var P=indexedDB.open(y.name,y.version);P.onsuccess=function(H){E(H.target.result)},P.onblocked=function(){M(new _n(u,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},P.onerror=function(H){var z=H.target.error;M("VersionError"===z.name?new Ot(it.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _n(u,z))},P.onupgradeneeded=function(H){Yt("SimpleDb",'Database "'+y.name+'" requires upgrade from version:',H.oldVersion),y.wt.Rt(H.target.result,P.transaction,H.oldVersion,y.version).next(function(){Yt("SimpleDb","Database upgrade to version "+y.version+" complete")})}})]);case 1:f.db=w.sent(),w.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(E){return y.bt(E)}),this.db)]}})})},d.prototype.vt=function(u){this.bt=u,this.db&&(this.db.onversionchange=function(f){return u(f)})},d.prototype.runTransaction=function(u,f,y,w){return(0,V.mG)(this,void 0,void 0,function(){var E,M,P,H,z;return(0,V.Jh)(this,function(ie){switch(ie.label){case 0:E="readonly"===f,M=0,P=function(){var ge,ye,Ye,Ge,at;return(0,V.Jh)(this,function(Lt){switch(Lt.label){case 0:++M,Lt.label=1;case 1:return Lt.trys.push([1,4,,5]),[4,H.At(u)];case 2:return H.db=Lt.sent(),ge=Tw.open(H.db,u,E?"readonly":"readwrite",y),ye=w(ge).catch(function(Xt){return ge.abort(Xt),jt.reject(Xt)}).toPromise(),Ye={},ye.catch(function(){}),[4,ge.dt];case 3:return[2,(Ye.value=(Lt.sent(),ye),Ye)];case 4:return Yt("SimpleDb","Transaction failed with error:",(Ge=Lt.sent()).message,"Retrying:",at="FirebaseError"!==Ge.name&&M<3),H.close(),at?[3,5]:[2,{value:Promise.reject(Ge)}];case 5:return[2]}})},H=this,ie.label=1;case 1:return[5,P()];case 2:if("object"==typeof(z=ie.sent()))return[2,z.value];ie.label=3;case 3:return[3,1];case 4:return[2]}})})},d.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},d}(),Xu=function(){function d(u){this.Pt=u,this.Vt=!1,this.St=null}return Object.defineProperty(d.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cursor",{set:function(u){this.Pt=u},enumerable:!1,configurable:!0}),d.prototype.done=function(){this.Vt=!0},d.prototype.Ct=function(u){this.St=u},d.prototype.delete=function(){return vl(this.Pt.delete())},d}(),_n=function(d){function u(f,y){var w=this;return(w=d.call(this,it.UNAVAILABLE,"IndexedDB transaction '"+f+"' failed: "+y)||this).name="IndexedDbTransactionError",w}return(0,V.ZT)(u,d),u}(Ot);function yl(d){return"IndexedDbTransactionError"===d.name}var si=function(){function d(u){this.store=u}return d.prototype.put=function(u,f){var y;return void 0!==f?(Yt("SimpleDb","PUT",this.store.name,u,f),y=this.store.put(f,u)):(Yt("SimpleDb","PUT",this.store.name,"<auto-key>",u),y=this.store.put(u)),vl(y)},d.prototype.add=function(u){return Yt("SimpleDb","ADD",this.store.name,u,u),vl(this.store.add(u))},d.prototype.get=function(u){var f=this;return vl(this.store.get(u)).next(function(y){return void 0===y&&(y=null),Yt("SimpleDb","GET",f.store.name,u,y),y})},d.prototype.delete=function(u){return Yt("SimpleDb","DELETE",this.store.name,u),vl(this.store.delete(u))},d.prototype.count=function(){return Yt("SimpleDb","COUNT",this.store.name),vl(this.store.count())},d.prototype.Nt=function(u,f){var y=this.cursor(this.options(u,f)),w=[];return this.xt(y,function(E,M){w.push(M)}).next(function(){return w})},d.prototype.kt=function(u,f){Yt("SimpleDb","DELETE ALL",this.store.name);var y=this.options(u,f);y.Ft=!1;var w=this.cursor(y);return this.xt(w,function(E,M,P){return P.delete()})},d.prototype.$t=function(u,f){var y;f?y=u:(y={},f=u);var w=this.cursor(y);return this.xt(w,f)},d.prototype.Ot=function(u){var f=this.cursor({});return new jt(function(y,w){f.onerror=function(E){var M=ph(E.target.error);w(M)},f.onsuccess=function(E){var M=E.target.result;M?u(M.primaryKey,M.value).next(function(P){P?M.continue():y()}):y()}})},d.prototype.xt=function(u,f){var y=[];return new jt(function(w,E){u.onerror=function(M){E(M.target.error)},u.onsuccess=function(M){var P=M.target.result;if(P){var H=new Xu(P),z=f(P.primaryKey,P.value,H);if(z instanceof jt){var ie=z.catch(function(ge){return H.done(),jt.reject(ge)});y.push(ie)}H.isDone?w():null===H.Dt?P.continue():P.continue(H.Dt)}else w()}}).next(function(){return jt.waitFor(y)})},d.prototype.options=function(u,f){var y;return void 0!==u&&("string"==typeof u?y=u:f=u),{index:y,range:f}},d.prototype.cursor=function(u){var f="next";if(u.reverse&&(f="prev"),u.index){var y=this.store.index(u.index);return u.Ft?y.openKeyCursor(u.range,f):y.openCursor(u.range,f)}return this.store.openCursor(u.range,f)},d}();function vl(d){return new jt(function(u,f){d.onsuccess=function(y){u(y.target.result)},d.onerror=function(y){var w=ph(y.target.error);f(w)}})}var ac=!1;function ph(d){var u=Qu._t((0,Y.z$)());if(u>=12.2&&u<13){var f="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(f)>=0){var y=new Ot("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+f+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ac||(ac=!0,setTimeout(function(){throw y},0)),y}}return d}var T_=function(d){function u(f,y){var w=this;return(w=d.call(this)||this).Mt=f,w.currentSequenceNumber=y,w}return(0,V.ZT)(u,d),u}(Cw);function Do(d,u){var f=W(d);return Qu.It(f.Mt,u)}var Vv=function(){function d(u,f,y,w){this.batchId=u,this.localWriteTime=f,this.baseMutations=y,this.mutations=w}return d.prototype.applyToRemoteDocument=function(u,f){for(var y=f.mutationResults,w=0;w<this.mutations.length;w++){var E=this.mutations[w];E.key.isEqual(u.key)&&Gf(E,u,y[w])}},d.prototype.applyToLocalView=function(u){for(var f=0,y=this.baseMutations;f<y.length;f++)(M=y[f]).key.isEqual(u.key)&&ah(M,u,this.localWriteTime);for(var w=0,E=this.mutations;w<E.length;w++){var M;(M=E[w]).key.isEqual(u.key)&&ah(M,u,this.localWriteTime)}},d.prototype.applyToLocalDocumentSet=function(u){var f=this;this.mutations.forEach(function(y){var w=u.get(y.key),E=w;f.applyToLocalView(E),w.isValidDocument()||E.convertToNoDocument(zn.min())})},d.prototype.keys=function(){return this.mutations.reduce(function(u,f){return u.add(f.key)},ki())},d.prototype.isEqual=function(u){return this.batchId===u.batchId&&wt(this.mutations,u.mutations,function(f,y){return oc(f,y)})&&wt(this.baseMutations,u.baseMutations,function(f,y){return oc(f,y)})},d}(),Bv=function(){function d(u,f,y,w){this.batch=u,this.commitVersion=f,this.mutationResults=y,this.docVersions=w}return d.from=function(u,f,y){Fn(u.mutations.length===y.length);for(var w=Rv(),E=u.mutations,M=0;M<E.length;M++)w=w.insert(E[M].key,y[M].version);return new d(u,f,y,w)},d}(),gh=function(){function d(u,f,y,w,E,M,P){void 0===E&&(E=zn.min()),void 0===M&&(M=zn.min()),void 0===P&&(P=Yr.EMPTY_BYTE_STRING),this.target=u,this.targetId=f,this.purpose=y,this.sequenceNumber=w,this.snapshotVersion=E,this.lastLimboFreeSnapshotVersion=M,this.resumeToken=P}return d.prototype.withSequenceNumber=function(u){return new d(this.target,this.targetId,this.purpose,u,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},d.prototype.withResumeToken=function(u,f){return new d(this.target,this.targetId,this.purpose,this.sequenceNumber,f,this.lastLimboFreeSnapshotVersion,u)},d.prototype.withLastLimboFreeSnapshotVersion=function(u){return new d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,u,this.resumeToken)},d}(),xr=function(d){this.Lt=d};function mh(d,u){if(u.document)return bn(d.Lt,u.document,!!u.hasCommittedMutations);if(u.noDocument){var f=on.fromSegments(u.noDocument.path),y=Ga(u.noDocument.readTime),w=Kr.newNoDocument(f,y);return u.hasCommittedMutations?w.setHasCommittedMutations():w}if(u.unknownDocument){var E=on.fromSegments(u.unknownDocument.path);return y=Ga(u.unknownDocument.version),Kr.newUnknownDocument(E,y)}return Nn()}function co(d,u,f){var ge,ye,y=lc(f),w=u.key.path.popLast().toArray();if(u.isFoundDocument()){var E={name:I(ge=d.Lt,(ye=u).key),fields:ye.data.value.mapValue.fields,updateTime:ch(ge,ye.version.toTimestamp())},M=u.hasCommittedMutations;return new Jr(null,null,E,M,y,w)}if(u.isNoDocument()){var P=u.key.path.toArray(),H=_h(u.version);return M=u.hasCommittedMutations,new Jr(null,new bw(P,H),null,M,y,w)}if(u.isUnknownDocument()){var z=u.key.path.toArray(),ie=_h(u.version);return new Jr(new dT(z,ie),null,null,!0,y,w)}return Nn()}function lc(d){var u=d.toTimestamp();return[u.seconds,u.nanoseconds]}function Ew(d){var u=new $i(d[0],d[1]);return zn.fromTimestamp(u)}function _h(d){var u=d.toTimestamp();return new vw(u.seconds,u.nanoseconds)}function Ga(d){var u=new $i(d.seconds,d.nanoseconds);return zn.fromTimestamp(u)}function yh(d,u){for(var f=(u.baseMutations||[]).map(function(H){return or(d.Lt,H)}),y=0;y<u.mutations.length-1;++y)y+1<u.mutations.length&&void 0!==u.mutations[y+1].transform&&(u.mutations[y].updateTransforms=u.mutations[y+1].transform.fieldTransforms,u.mutations.splice(y+1,1),++y);var M=u.mutations.map(function(H){return or(d.Lt,H)}),P=$i.fromMillis(u.localWriteTimeMs);return new Vv(u.batchId,P,f,M)}function Ig(d){var u,f,y=Ga(d.readTime),w=void 0!==d.lastLimboFreeSnapshotVersion?Ga(d.lastLimboFreeSnapshotVersion):zn.min();return void 0!==d.query.documents?(Fn(1===(f=d.query).documents.length),u=xo(Zc(le(f.documents[0])))):u=xo(Tg(d.query)),new gh(u,d.targetId,0,d.lastListenSequenceNumber,y,w,Yr.fromBase64String(d.resumeToken))}function Hv(d,u){var f,y=_h(u.snapshotVersion),w=_h(u.lastLimboFreeSnapshotVersion);f=_g(u.target)?ha(d.Lt,u.target):_l(d.Lt,u.target);var E=u.resumeToken.toBase64();return new fa(u.targetId,qc(u.target),y,E,u.sequenceNumber,w,f)}function Mg(d){var u=Tg({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?Ov(u,u.limit,"L"):u}var Jf=function(){function d(){}return d.prototype.getBundleMetadata=function(u,f){return Uv(u).get(f).next(function(y){if(y)return{id:(w=y).bundleId,createTime:Ga(w.createTime),version:w.version};var w})},d.prototype.saveBundleMetadata=function(u,f){return Uv(u).put({bundleId:(y=f).id,createTime:_h(lo(y.createTime)),version:y.version});var y},d.prototype.getNamedQuery=function(u,f){return Jo(u).get(f).next(function(y){if(y)return{name:(w=y).name,query:Mg(w.bundledQuery),readTime:Ga(w.readTime)};var w})},d.prototype.saveNamedQuery=function(u,f){return Jo(u).put({name:(y=f).name,readTime:_h(lo(y.readTime)),bundledQuery:y.bundledQuery});var y},d}();function Uv(d){return Do(d,nu.store)}function Jo(d){return Do(d,fh.store)}var jv=function(){function d(){this.Bt=new Vo}return d.prototype.addToCollectionParentIndex=function(u,f){return this.Bt.add(f),jt.resolve()},d.prototype.getCollectionParents=function(u,f){return jt.resolve(this.Bt.getEntries(f))},d}(),Vo=function(){function d(){this.index={}}return d.prototype.add=function(u){var f=u.lastSegment(),y=u.popLast(),w=this.index[f]||new zr(gi.comparator),E=!w.has(y);return this.index[f]=w.add(y),E},d.prototype.has=function(u){var f=u.lastSegment(),y=u.popLast(),w=this.index[f];return w&&w.has(y)},d.prototype.getEntries=function(u){return(this.index[u]||new zr(gi.comparator)).toArray()},d}(),fT=function(){function d(){this.qt=new Vo}return d.prototype.addToCollectionParentIndex=function(u,f){var y=this;if(!this.qt.has(f)){var w=f.lastSegment(),E=f.popLast();u.addOnCommittedListener(function(){y.qt.add(f)});var M={collectionId:w,parent:Ua(E)};return zv(u).put(M)}return jt.resolve()},d.prototype.getCollectionParents=function(u,f){var y=[],w=IDBKeyRange.bound([f,""],[Tr(f),""],!1,!0);return zv(u).Nt(w).next(function(E){for(var M=0,P=E;M<P.length;M++){var H=P[M];if(H.collectionId!==f)break;y.push(eu(H.parent))}return y})},d}();function zv(d){return Do(d,Dg.store)}var ed={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bl=function(){function d(u,f,y){this.cacheSizeCollectionThreshold=u,this.percentileToCollect=f,this.maximumSequenceNumbersToCollect=y}return d.withCacheSize=function(u){return new d(u,d.DEFAULT_COLLECTION_PERCENTILE,d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},d}();function td(d,u,f){var y=d.store(Er.store),w=d.store(Ds.store),E=[],M=IDBKeyRange.only(f.batchId),P=0,H=y.$t({range:M},function(Ge,at,Lt){return P++,Lt.delete()});E.push(H.next(function(){Fn(1===P)}));for(var z=[],ie=0,ge=f.mutations;ie<ge.length;ie++){var ye=ge[ie],Ye=Ds.key(u,ye.key.path,f.batchId);E.push(w.delete(Ye)),z.push(ye.key)}return jt.waitFor(E).next(function(){return z})}function iu(d){if(!d)return 0;var u;if(d.document)u=d.document;else if(d.unknownDocument)u=d.unknownDocument;else{if(!d.noDocument)throw Nn();u=d.noDocument}return JSON.stringify(u).length}bl.DEFAULT_COLLECTION_PERCENTILE=10,bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bl.DEFAULT=new bl(41943040,bl.DEFAULT_COLLECTION_PERCENTILE,bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bl.DISABLED=new bl(-1,0,0);var Gv=function(){function d(u,f,y,w){this.userId=u,this.R=f,this.Ut=y,this.referenceDelegate=w,this.Kt={}}return d.Qt=function(u,f,y,w){return Fn(""!==u.uid),new d(u.isAuthenticated()?u.uid:"",f,y,w)},d.prototype.checkEmpty=function(u){var f=!0,y=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ru(u).$t({index:Er.userMutationsIndex,range:y},function(w,E,M){f=!1,M.done()}).next(function(){return f})},d.prototype.addMutationBatch=function(u,f,y,w){var E=this,M=wl(u),P=ru(u);return P.add({}).next(function(H){Fn("number"==typeof H);for(var z=new Vv(H,f,y,w),ie=function(Xt,Hn,yn){var bi=yn.baseMutations.map(function(Ki){return ni(Xt.Lt,Ki)}),Ri=yn.mutations.map(function(Ki){return ni(Xt.Lt,Ki)});return new Er(Hn,yn.batchId,yn.localWriteTime.toMillis(),bi,Ri)}(E.R,E.userId,z),ge=[],ye=new zr(function(Xt,Hn){return Zn(Xt.canonicalString(),Hn.canonicalString())}),Ye=0,Ge=w;Ye<Ge.length;Ye++){var at=Ge[Ye],Lt=Ds.key(E.userId,at.key.path,H);ye=ye.add(at.key.path.popLast()),ge.push(P.put(ie)),ge.push(M.put(Lt,Ds.PLACEHOLDER))}return ye.forEach(function(Xt){ge.push(E.Ut.addToCollectionParentIndex(u,Xt))}),u.addOnCommittedListener(function(){E.Kt[H]=z.keys()}),jt.waitFor(ge).next(function(){return z})})},d.prototype.lookupMutationBatch=function(u,f){var y=this;return ru(u).get(f).next(function(w){return w?(Fn(w.userId===y.userId),yh(y.R,w)):null})},d.prototype.jt=function(u,f){var y=this;return this.Kt[f]?jt.resolve(this.Kt[f]):this.lookupMutationBatch(u,f).next(function(w){if(w){var E=w.keys();return y.Kt[f]=E,E}return null})},d.prototype.getNextMutationBatchAfterBatchId=function(u,f){var y=this,w=f+1,E=IDBKeyRange.lowerBound([this.userId,w]),M=null;return ru(u).$t({index:Er.userMutationsIndex,range:E},function(P,H,z){H.userId===y.userId&&(Fn(H.batchId>=w),M=yh(y.R,H)),z.done()}).next(function(){return M})},d.prototype.getHighestUnacknowledgedBatchId=function(u){var f=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),y=-1;return ru(u).$t({index:Er.userMutationsIndex,range:f,reverse:!0},function(w,E,M){y=E.batchId,M.done()}).next(function(){return y})},d.prototype.getAllMutationBatches=function(u){var f=this,y=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ru(u).Nt(Er.userMutationsIndex,y).next(function(w){return w.map(function(E){return yh(f.R,E)})})},d.prototype.getAllMutationBatchesAffectingDocumentKey=function(u,f){var y=this,w=Ds.prefixForPath(this.userId,f.path),E=IDBKeyRange.lowerBound(w),M=[];return wl(u).$t({range:E},function(P,H,z){var ie=P[0],ye=P[2],Ye=eu(P[1]);if(ie===y.userId&&f.path.isEqual(Ye))return ru(u).get(ye).next(function(Ge){if(!Ge)throw Nn();Fn(Ge.userId===y.userId),M.push(yh(y.R,Ge))});z.done()}).next(function(){return M})},d.prototype.getAllMutationBatchesAffectingDocumentKeys=function(u,f){var y=this,w=new zr(Zn),E=[];return f.forEach(function(M){var P=Ds.prefixForPath(y.userId,M.path),H=IDBKeyRange.lowerBound(P),z=wl(u).$t({range:H},function(ie,ge,ye){var Ye=ie[0],at=ie[2],Lt=eu(ie[1]);Ye===y.userId&&M.path.isEqual(Lt)?w=w.add(at):ye.done()});E.push(z)}),jt.waitFor(E).next(function(){return y.Wt(u,w)})},d.prototype.getAllMutationBatchesAffectingQuery=function(u,f){var y=this,w=f.path,E=w.length+1,M=Ds.prefixForPath(this.userId,w),P=IDBKeyRange.lowerBound(M),H=new zr(Zn);return wl(u).$t({range:P},function(z,ie,ge){var ye=z[0],Ge=z[2],at=eu(z[1]);ye===y.userId&&w.isPrefixOf(at)?at.length===E&&(H=H.add(Ge)):ge.done()}).next(function(){return y.Wt(u,H)})},d.prototype.Wt=function(u,f){var y=this,w=[],E=[];return f.forEach(function(M){E.push(ru(u).get(M).next(function(P){if(null===P)throw Nn();Fn(P.userId===y.userId),w.push(yh(y.R,P))}))}),jt.waitFor(E).next(function(){return w})},d.prototype.removeMutationBatch=function(u,f){var y=this;return td(u.Mt,this.userId,f).next(function(w){return u.addOnCommittedListener(function(){y.Gt(f.batchId)}),jt.forEach(w,function(E){return y.referenceDelegate.markPotentiallyOrphaned(u,E)})})},d.prototype.Gt=function(u){delete this.Kt[u]},d.prototype.performConsistencyCheck=function(u){var f=this;return this.checkEmpty(u).next(function(y){if(!y)return jt.resolve();var w=IDBKeyRange.lowerBound(Ds.prefixForUser(f.userId)),E=[];return wl(u).$t({range:w},function(M,P,H){if(M[0]===f.userId){var z=eu(M[1]);E.push(z)}else H.done()}).next(function(){Fn(0===E.length)})})},d.prototype.containsKey=function(u,f){return pT(u,this.userId,f)},d.prototype.zt=function(u){var f=this;return qv(u).get(this.userId).next(function(y){return y||new sr(f.userId,-1,"")})},d}();function pT(d,u,f){var y=Ds.prefixForPath(u,f.path),w=y[1],E=IDBKeyRange.lowerBound(y),M=!1;return wl(d).$t({range:E,Ft:!0},function(P,H,z){P[0]===u&&P[1]===w&&(M=!0),z.done()}).next(function(){return M})}function ru(d){return Do(d,Er.store)}function wl(d){return Do(d,Ds.store)}function qv(d){return Do(d,sr.store)}var Qf=function(){function d(u){this.Ht=u}return d.prototype.next=function(){return this.Ht+=2,this.Ht},d.Jt=function(){return new d(0)},d.Yt=function(){return new d(-1)},d}(),Zv=function(){function d(u,f){this.referenceDelegate=u,this.R=f}return d.prototype.allocateTargetId=function(u){var f=this;return this.Xt(u).next(function(y){var w=new Qf(y.highestTargetId);return y.highestTargetId=w.next(),f.Zt(u,y).next(function(){return y.highestTargetId})})},d.prototype.getLastRemoteSnapshotVersion=function(u){return this.Xt(u).next(function(f){return zn.fromTimestamp(new $i(f.lastRemoteSnapshotVersion.seconds,f.lastRemoteSnapshotVersion.nanoseconds))})},d.prototype.getHighestSequenceNumber=function(u){return this.Xt(u).next(function(f){return f.highestListenSequenceNumber})},d.prototype.setTargetsMetadata=function(u,f,y){var w=this;return this.Xt(u).next(function(E){return E.highestListenSequenceNumber=f,y&&(E.lastRemoteSnapshotVersion=y.toTimestamp()),f>E.highestListenSequenceNumber&&(E.highestListenSequenceNumber=f),w.Zt(u,E)})},d.prototype.addTargetData=function(u,f){var y=this;return this.te(u,f).next(function(){return y.Xt(u).next(function(w){return w.targetCount+=1,y.ee(f,w),y.Zt(u,w)})})},d.prototype.updateTargetData=function(u,f){return this.te(u,f)},d.prototype.removeTargetData=function(u,f){var y=this;return this.removeMatchingKeysForTargetId(u,f.targetId).next(function(){return vh(u).delete(f.targetId)}).next(function(){return y.Xt(u)}).next(function(w){return Fn(w.targetCount>0),w.targetCount-=1,y.Zt(u,w)})},d.prototype.removeTargets=function(u,f,y){var w=this,E=0,M=[];return vh(u).$t(function(P,H){var z=Ig(H);z.sequenceNumber<=f&&null===y.get(z.targetId)&&(E++,M.push(w.removeTargetData(u,z)))}).next(function(){return jt.waitFor(M)}).next(function(){return E})},d.prototype.forEachTarget=function(u,f){return vh(u).$t(function(y,w){var E=Ig(w);f(E)})},d.prototype.Xt=function(u){return Ag(u).get(za.key).next(function(f){return Fn(null!==f),f})},d.prototype.Zt=function(u,f){return Ag(u).put(za.key,f)},d.prototype.te=function(u,f){return vh(u).put(Hv(this.R,f))},d.prototype.ee=function(u,f){var y=!1;return u.targetId>f.highestTargetId&&(f.highestTargetId=u.targetId,y=!0),u.sequenceNumber>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=u.sequenceNumber,y=!0),y},d.prototype.getTargetCount=function(u){return this.Xt(u).next(function(f){return f.targetCount})},d.prototype.getTargetData=function(u,f){var y=qc(f),w=IDBKeyRange.bound([y,Number.NEGATIVE_INFINITY],[y,Number.POSITIVE_INFINITY]),E=null;return vh(u).$t({range:w,index:fa.queryTargetsIndexName},function(M,P,H){var z=Ig(P);Na(f,z.target)&&(E=z,H.done())}).next(function(){return E})},d.prototype.addMatchingKeys=function(u,f,y){var w=this,E=[],M=Cl(u);return f.forEach(function(P){var H=Ua(P.path);E.push(M.put(new fs(y,H))),E.push(w.referenceDelegate.addReference(u,y,P))}),jt.waitFor(E)},d.prototype.removeMatchingKeys=function(u,f,y){var w=this,E=Cl(u);return jt.forEach(f,function(M){var P=Ua(M.path);return jt.waitFor([E.delete([y,P]),w.referenceDelegate.removeReference(u,y,M)])})},d.prototype.removeMatchingKeysForTargetId=function(u,f){var y=Cl(u),w=IDBKeyRange.bound([f],[f+1],!1,!0);return y.delete(w)},d.prototype.getMatchingKeysForTargetId=function(u,f){var y=IDBKeyRange.bound([f],[f+1],!1,!0),w=Cl(u),E=ki();return w.$t({range:y,Ft:!0},function(M,P,H){var z=eu(M[1]),ie=new on(z);E=E.add(ie)}).next(function(){return E})},d.prototype.containsKey=function(u,f){var y=Ua(f.path),w=IDBKeyRange.bound([y],[Tr(y)],!1,!0),E=0;return Cl(u).$t({index:fs.documentTargetsIndex,Ft:!0,range:w},function(M,P,H){0!==M[0]&&(E++,H.done())}).next(function(){return E>0})},d.prototype.lt=function(u,f){return vh(u).get(f).next(function(y){return y?Ig(y):null})},d}();function vh(d){return Do(d,fa.store)}function Ag(d){return Do(d,za.store)}function Cl(d){return Do(d,fs.store)}function ou(d){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){if(d.code!==it.FAILED_PRECONDITION||d.message!==ww)throw d;return Yt("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Xf(d,u){var y=d[1],E=u[1],M=Zn(d[0],u[0]);return 0===M?Zn(y,E):M}var xw=function(){function d(u){this.ne=u,this.buffer=new zr(Xf),this.se=0}return d.prototype.ie=function(){return++this.se},d.prototype.re=function(u){var f=[u,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(f);else{var y=this.buffer.last();Xf(f,y)<0&&(this.buffer=this.buffer.delete(y).add(f))}},Object.defineProperty(d.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),d}(),fD=function(){function d(u,f){this.garbageCollector=u,this.asyncQueue=f,this.oe=!1,this.ce=null}return d.prototype.start=function(u){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(u)},d.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(d.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),d.prototype.ue=function(u){var f=this,y=this.oe?3e5:6e4;Yt("LruGarbageCollector","Garbage collection scheduled in "+y+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",y,function(){return(0,V.mG)(f,void 0,void 0,function(){var w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:this.ce=null,this.oe=!0,E.label=1;case 1:return E.trys.push([1,3,,7]),[4,u.collectGarbage(this.garbageCollector)];case 2:return E.sent(),[3,7];case 3:return yl(w=E.sent())?(Yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",w),[3,6]):[3,4];case 4:return[4,ou(w)];case 5:E.sent(),E.label=6;case 6:return[3,7];case 7:return[4,this.ue(u)];case 8:return E.sent(),[2]}})})})},d}(),$v=function(){function d(u,f){this.ae=u,this.params=f}return d.prototype.calculateTargetCount=function(u,f){return this.ae.he(u).next(function(y){return Math.floor(f/100*y)})},d.prototype.nthSequenceNumber=function(u,f){var y=this;if(0===f)return jt.resolve(ds.o);var w=new xw(f);return this.ae.forEachTarget(u,function(E){return w.re(E.sequenceNumber)}).next(function(){return y.ae.le(u,function(E){return w.re(E)})}).next(function(){return w.maxValue})},d.prototype.removeTargets=function(u,f,y){return this.ae.removeTargets(u,f,y)},d.prototype.removeOrphanedDocuments=function(u,f){return this.ae.removeOrphanedDocuments(u,f)},d.prototype.collect=function(u,f){var y=this;return-1===this.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(ed)):this.getCacheSize(u).next(function(w){return w<y.params.cacheSizeCollectionThreshold?(Yt("LruGarbageCollector","Garbage collection skipped; Cache size "+w+" is lower than threshold "+y.params.cacheSizeCollectionThreshold),ed):y.fe(u,f)})},d.prototype.getCacheSize=function(u){return this.ae.getCacheSize(u)},d.prototype.fe=function(u,f){var y,w,E,M,P,H,z,ie=this,ge=Date.now();return this.calculateTargetCount(u,this.params.percentileToCollect).next(function(ye){return ye>ie.params.maximumSequenceNumbersToCollect?(Yt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+ie.params.maximumSequenceNumbersToCollect+" from "+ye),w=ie.params.maximumSequenceNumbersToCollect):w=ye,M=Date.now(),ie.nthSequenceNumber(u,w)}).next(function(ye){return y=ye,P=Date.now(),ie.removeTargets(u,y,f)}).next(function(ye){return E=ye,H=Date.now(),ie.removeOrphanedDocuments(u,y)}).next(function(ye){return z=Date.now(),Uu()<=_e.in.DEBUG&&Yt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(M-ge)+"ms\n\tDetermined least recently used "+w+" in "+(P-M)+"ms\n\tRemoved "+E+" targets in "+(H-P)+"ms\n\tRemoved "+ye+" documents in "+(z-H)+"ms\nTotal Duration: "+(z-ge)+"ms"),jt.resolve({didRun:!0,sequenceNumbersCollected:w,targetsRemoved:E,documentsRemoved:ye})})},d}(),Sw=function(){function d(u,f){this.db=u,this.garbageCollector=new $v(this,f)}return d.prototype.he=function(u){var f=this.de(u);return this.db.getTargetCache().getTargetCount(u).next(function(y){return f.next(function(w){return y+w})})},d.prototype.de=function(u){var f=0;return this.le(u,function(y){f++}).next(function(){return f})},d.prototype.forEachTarget=function(u,f){return this.db.getTargetCache().forEachTarget(u,f)},d.prototype.le=function(u,f){return this.we(u,function(y,w){return f(w)})},d.prototype.addReference=function(u,f,y){return E_(u,y)},d.prototype.removeReference=function(u,f,y){return E_(u,y)},d.prototype.removeTargets=function(u,f,y){return this.db.getTargetCache().removeTargets(u,f,y)},d.prototype.markPotentiallyOrphaned=function(u,f){return E_(u,f)},d.prototype._e=function(u,f){return w=f,E=!1,qv(y=u).Ot(function(M){return pT(y,M,w).next(function(P){return P&&(E=!0),jt.resolve(!P)})}).next(function(){return E});var y,w,E},d.prototype.removeOrphanedDocuments=function(u,f){var y=this,w=this.db.getRemoteDocumentCache().newChangeBuffer(),E=[],M=0;return this.we(u,function(P,H){if(H<=f){var z=y._e(u,P).next(function(ie){if(!ie)return M++,w.getEntry(u,P).next(function(){return w.removeEntry(P),Cl(u).delete([0,Ua(P.path)])})});E.push(z)}}).next(function(){return jt.waitFor(E)}).next(function(){return w.apply(u)}).next(function(){return M})},d.prototype.removeTarget=function(u,f){var y=f.withSequenceNumber(u.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(u,y)},d.prototype.updateLimboDocument=function(u,f){return E_(u,f)},d.prototype.we=function(u,f){var y,w=Cl(u),E=ds.o;return w.$t({index:fs.documentTargetsIndex},function(M,P){var z=P.path,ie=P.sequenceNumber;0===M[0]?(E!==ds.o&&f(new on(eu(y)),E),E=ie,y=z):E=ds.o}).next(function(){E!==ds.o&&f(new on(eu(y)),E)})},d.prototype.getCacheSize=function(u){return this.db.getRemoteDocumentCache().getSize(u)},d}();function E_(d,u){return Cl(d).put((y=d.currentSequenceNumber,new fs(0,Ua(u.path),y)));var y}var kg=function(){function d(u,f){this.mapKeyFn=u,this.equalsFn=f,this.inner={}}return d.prototype.get=function(u){var f=this.mapKeyFn(u),y=this.inner[f];if(void 0!==y)for(var w=0,E=y;w<E.length;w++){var M=E[w],H=M[1];if(this.equalsFn(M[0],u))return H}},d.prototype.has=function(u){return void 0!==this.get(u)},d.prototype.set=function(u,f){var y=this.mapKeyFn(u),w=this.inner[y];if(void 0!==w){for(var E=0;E<w.length;E++)if(this.equalsFn(w[E][0],u))return void(w[E]=[u,f]);w.push([u,f])}else this.inner[y]=[[u,f]]},d.prototype.delete=function(u){var f=this.mapKeyFn(u),y=this.inner[f];if(void 0===y)return!1;for(var w=0;w<y.length;w++)if(this.equalsFn(y[w][0],u))return 1===y.length?delete this.inner[f]:y.splice(w,1),!0;return!1},d.prototype.forEach=function(u){jc(this.inner,function(f,y){for(var w=0,E=y;w<E.length;w++){var M=E[w];u(M[0],M[1])}})},d.prototype.isEmpty=function(){return Kl(this.inner)},d}(),gT=function(){function d(){this.changes=new kg(function(u){return u.toString()},function(u,f){return u.isEqual(f)}),this.changesApplied=!1}return d.prototype.getReadTime=function(u){var f=this.changes.get(u);return f?f.readTime:zn.min()},d.prototype.addEntry=function(u,f){this.assertNotApplied(),this.changes.set(u.key,{document:u,readTime:f})},d.prototype.removeEntry=function(u,f){void 0===f&&(f=null),this.assertNotApplied(),this.changes.set(u,{document:Kr.newInvalidDocument(u),readTime:f})},d.prototype.getEntry=function(u,f){this.assertNotApplied();var y=this.changes.get(f);return void 0!==y?jt.resolve(y.document):this.getFromCache(u,f)},d.prototype.getEntries=function(u,f){return this.getAllFromCache(u,f)},d.prototype.apply=function(u){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(u)},d.prototype.assertNotApplied=function(){},d}(),Ms=function(){function d(u,f){this.R=u,this.Ut=f}return d.prototype.addEntry=function(u,f,y){return js(u).put(Rg(f),y)},d.prototype.removeEntry=function(u,f){var y=js(u),w=Rg(f);return y.delete(w)},d.prototype.updateMetadata=function(u,f){var y=this;return this.getMetadata(u).next(function(w){return w.byteSize+=f,y.me(u,w)})},d.prototype.getEntry=function(u,f){var y=this;return js(u).get(Rg(f)).next(function(w){return y.ye(f,w)})},d.prototype.ge=function(u,f){var y=this;return js(u).get(Rg(f)).next(function(w){return{document:y.ye(f,w),size:iu(w)}})},d.prototype.getEntries=function(u,f){var y=this,w=Lo();return this.pe(u,f,function(E,M){var P=y.ye(E,M);w=w.insert(E,P)}).next(function(){return w})},d.prototype.Ee=function(u,f){var y=this,w=Lo(),E=new So(on.comparator);return this.pe(u,f,function(M,P){var H=y.ye(M,P);w=w.insert(M,H),E=E.insert(M,iu(P))}).next(function(){return{documents:w,Te:E}})},d.prototype.pe=function(u,f,y){if(f.isEmpty())return jt.resolve();var w=IDBKeyRange.bound(f.first().path.toArray(),f.last().path.toArray()),E=f.getIterator(),M=E.getNext();return js(u).$t({range:w},function(P,H,z){for(var ie=on.fromSegments(P);M&&on.comparator(M,ie)<0;)y(M,null),M=E.getNext();M&&M.isEqual(ie)&&(y(M,H),M=E.hasNext()?E.getNext():null),M?z.Ct(M.path.toArray()):z.done()}).next(function(){for(;M;)y(M,null),M=E.hasNext()?E.getNext():null})},d.prototype.getDocumentsMatchingQuery=function(u,f,y){var w=this,E=Lo(),M=f.path.length+1,P={};if(y.isEqual(zn.min())){var H=f.path.toArray();P.range=IDBKeyRange.lowerBound(H)}else{var z=f.path.toArray(),ie=lc(y);P.range=IDBKeyRange.lowerBound([z,ie],!0),P.index=Jr.collectionReadTimeIndex}return js(u).$t(P,function(ge,ye,Ye){if(ge.length===M){var Ge=mh(w.R,ye);f.path.isPrefixOf(Ge.key.path)?ml(f,Ge)&&(E=E.insert(Ge.key,Ge)):Ye.done()}}).next(function(){return E})},d.prototype.newChangeBuffer=function(u){return new Og(this,!!u&&u.trackRemovals)},d.prototype.getSize=function(u){return this.getMetadata(u).next(function(f){return f.byteSize})},d.prototype.getMetadata=function(u){return Wv(u).get(tu.key).next(function(f){return Fn(!!f),f})},d.prototype.me=function(u,f){return Wv(u).put(tu.key,f)},d.prototype.ye=function(u,f){if(f){var y=mh(this.R,f);if(!y.isNoDocument()||!y.version.isEqual(zn.min()))return y}return Kr.newInvalidDocument(u)},d}(),Og=function(d){function u(f,y){var w=this;return(w=d.call(this)||this).Ie=f,w.trackRemovals=y,w.Ae=new kg(function(E){return E.toString()},function(E,M){return E.isEqual(M)}),w}return(0,V.ZT)(u,d),u.prototype.applyChanges=function(f){var y=this,w=[],E=0,M=new zr(function(P,H){return Zn(P.canonicalString(),H.canonicalString())});return this.changes.forEach(function(P,H){var z=y.Ae.get(P);if(H.document.isValidDocument()){var ie=co(y.Ie.R,H.document,y.getReadTime(P));M=M.add(P.path.popLast());var ge=iu(ie);E+=ge-z,w.push(y.Ie.addEntry(f,P,ie))}else if(E-=z,y.trackRemovals){var ye=co(y.Ie.R,Kr.newNoDocument(P,zn.min()),y.getReadTime(P));w.push(y.Ie.addEntry(f,P,ye))}else w.push(y.Ie.removeEntry(f,P))}),M.forEach(function(P){w.push(y.Ie.Ut.addToCollectionParentIndex(f,P))}),w.push(this.Ie.updateMetadata(f,E)),jt.waitFor(w)},u.prototype.getFromCache=function(f,y){var w=this;return this.Ie.ge(f,y).next(function(E){return w.Ae.set(y,E.size),E.document})},u.prototype.getAllFromCache=function(f,y){var w=this;return this.Ie.Ee(f,y).next(function(E){var M=E.documents;return E.Te.forEach(function(P,H){w.Ae.set(P,H)}),M})},u}(gT);function Wv(d){return Do(d,tu.store)}function js(d){return Do(d,Jr.store)}function Rg(d){return d.path.toArray()}var Dw=function(){function d(u){this.R=u}return d.prototype.Rt=function(u,f,y,w){var E=this;Fn(y<w&&y>=0&&w<=11);var H,M=new Tw("createOrUpgrade",f);y<1&&w>=1&&(u.createObjectStore(ja.store),(H=u).createObjectStore(sr.store,{keyPath:sr.keyPath}),H.createObjectStore(Er.store,{keyPath:Er.keyPath,autoIncrement:!0}).createIndex(Er.userMutationsIndex,Er.userMutationsKeyPath,{unique:!0}),H.createObjectStore(Ds.store),ep(u),function(H){H.createObjectStore(Jr.store)}(u));var P=jt.resolve();return y<3&&w>=3&&(0!==y&&(function(H){H.deleteObjectStore(fs.store),H.deleteObjectStore(fa.store),H.deleteObjectStore(za.store)}(u),ep(u)),P=P.next(function(){return function(H){var z=H.store(za.store),ie=new za(0,0,zn.min().toTimestamp(),0);return z.put(za.key,ie)}(M)})),y<4&&w>=4&&(0!==y&&(P=P.next(function(){return function(H,z){return z.store(Er.store).Nt().next(function(ie){H.deleteObjectStore(Er.store),H.createObjectStore(Er.store,{keyPath:Er.keyPath,autoIncrement:!0}).createIndex(Er.userMutationsIndex,Er.userMutationsKeyPath,{unique:!0});var ge=z.store(Er.store),ye=ie.map(function(Ye){return ge.put(Ye)});return jt.waitFor(ye)})}(u,M)})),P=P.next(function(){!function(H){H.createObjectStore(hh.store,{keyPath:hh.keyPath})}(u)})),y<5&&w>=5&&(P=P.next(function(){return E.Re(M)})),y<6&&w>=6&&(P=P.next(function(){return function(H){H.createObjectStore(tu.store)}(u),E.be(M)})),y<7&&w>=7&&(P=P.next(function(){return E.ve(M)})),y<8&&w>=8&&(P=P.next(function(){return E.Pe(u,M)})),y<9&&w>=9&&(P=P.next(function(){(function(H){H.objectStoreNames.contains("remoteDocumentChanges")&&H.deleteObjectStore("remoteDocumentChanges")})(u),function(H){var z=H.objectStore(Jr.store);z.createIndex(Jr.readTimeIndex,Jr.readTimeIndexPath,{unique:!1}),z.createIndex(Jr.collectionReadTimeIndex,Jr.collectionReadTimeIndexPath,{unique:!1})}(f)})),y<10&&w>=10&&(P=P.next(function(){return E.Ve(M)})),y<11&&w>=11&&(P=P.next(function(){(function(H){H.createObjectStore(nu.store,{keyPath:nu.keyPath})})(u),function(H){H.createObjectStore(fh.store,{keyPath:fh.keyPath})}(u)})),P},d.prototype.be=function(u){var f=0;return u.store(Jr.store).$t(function(y,w){f+=iu(w)}).next(function(){var y=new tu(f);return u.store(tu.store).put(tu.key,y)})},d.prototype.Re=function(u){var f=this,y=u.store(sr.store),w=u.store(Er.store);return y.Nt().next(function(E){return jt.forEach(E,function(M){var P=IDBKeyRange.bound([M.userId,-1],[M.userId,M.lastAcknowledgedBatchId]);return w.Nt(Er.userMutationsIndex,P).next(function(H){return jt.forEach(H,function(z){Fn(z.userId===M.userId);var ie=yh(f.R,z);return td(u,M.userId,ie).next(function(){})})})})})},d.prototype.ve=function(u){var f=u.store(fs.store),y=u.store(Jr.store);return u.store(za.store).get(za.key).next(function(w){var E=[];return y.$t(function(M,P){var H=new gi(M),z=[0,Ua(H)];E.push(f.get(z).next(function(ie){return ie?jt.resolve():f.put(new fs(0,Ua(H),w.highestListenSequenceNumber))}))}).next(function(){return jt.waitFor(E)})})},d.prototype.Pe=function(u,f){u.createObjectStore(Dg.store,{keyPath:Dg.keyPath});var y=f.store(Dg.store),w=new Vo,E=function(M){if(w.add(M)){var P=M.lastSegment(),H=M.popLast();return y.put({collectionId:P,parent:Ua(H)})}};return f.store(Jr.store).$t({Ft:!0},function(M,P){var H=new gi(M);return E(H.popLast())}).next(function(){return f.store(Ds.store).$t({Ft:!0},function(M,P){var z=eu(M[1]);return E(z.popLast())})})},d.prototype.Ve=function(u){var f=this,y=u.store(fa.store);return y.$t(function(w,E){var M=Ig(E),P=Hv(f.R,M);return y.put(P)})},d}();function ep(d){d.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.documentTargetsIndex,fs.documentTargetsKeyPath,{unique:!0}),d.createObjectStore(fa.store,{keyPath:fa.keyPath}).createIndex(fa.queryTargetsIndexName,fa.queryTargetsKeyPath,{unique:!0}),d.createObjectStore(za.store)}var nd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yv=function(){function d(u,f,y,w,E,M,P,H,z,ie){if(this.allowTabSynchronization=u,this.persistenceKey=f,this.clientId=y,this.Se=E,this.window=M,this.document=P,this.De=z,this.Ce=ie,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(ge){return Promise.resolve()},!d.yt())throw new Ot(it.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sw(this,w),this.Le=f+"main",this.R=new xr(H),this.Be=new Qu(this.Le,11,new Dw(this.R)),this.qe=new Zv(this.referenceDelegate,this.R),this.Ut=new fT,this.Ue=new Ms(this.R,this.Ut),this.Ke=new Jf,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===ie&&Xi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return d.prototype.start=function(){var u=this;return this.je().then(function(){if(!u.isPrimary&&!u.allowTabSynchronization)throw new Ot(it.FAILED_PRECONDITION,nd);return u.We(),u.Ge(),u.ze(),u.runTransaction("getHighestListenSequenceNumber","readonly",function(f){return u.qe.getHighestSequenceNumber(f)})}).then(function(f){u.Ne=new ds(f,u.De)}).then(function(){u.xe=!0}).catch(function(f){return u.Be&&u.Be.close(),Promise.reject(f)})},d.prototype.He=function(u){var f=this;return this.Me=function(y){return(0,V.mG)(f,void 0,void 0,function(){return(0,V.Jh)(this,function(w){return this.started?[2,u(y)]:[2]})})},u(this.isPrimary)},d.prototype.setDatabaseDeletedListener=function(u){var f=this;this.Be.vt(function(y){return(0,V.mG)(f,void 0,void 0,function(){return(0,V.Jh)(this,function(w){switch(w.label){case 0:return null===y.newVersion?[4,u()]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})})})},d.prototype.setNetworkEnabled=function(u){var f=this;this.networkEnabled!==u&&(this.networkEnabled=u,this.Se.enqueueAndForget(function(){return(0,V.mG)(f,void 0,void 0,function(){return(0,V.Jh)(this,function(y){switch(y.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})}))},d.prototype.je=function(){var u=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(f){return cc(f).put(new hh(u.clientId,Date.now(),u.networkEnabled,u.inForeground)).next(function(){if(u.isPrimary)return u.Je(f).next(function(y){y||(u.isPrimary=!1,u.Se.enqueueRetryable(function(){return u.Me(!1)}))})}).next(function(){return u.Ye(f)}).next(function(y){return u.isPrimary&&!y?u.Xe(f).next(function(){return!1}):!!y&&u.Ze(f).next(function(){return!0})})}).catch(function(f){if(yl(f))return Yt("IndexedDbPersistence","Failed to extend owner lease: ",f),u.isPrimary;if(!u.allowTabSynchronization)throw f;return Yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",f),!1}).then(function(f){u.isPrimary!==f&&u.Se.enqueueRetryable(function(){return u.Me(f)}),u.isPrimary=f})},d.prototype.Je=function(u){var f=this;return su(u).get(ja.key).next(function(y){return jt.resolve(f.tn(y))})},d.prototype.en=function(u){return cc(u).delete(this.clientId)},d.prototype.nn=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f,y,E=this;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(P){var H=Do(P,hh.store);return H.Nt().next(function(z){var ie=E.rn(z,18e5),ge=z.filter(function(ye){return-1===ie.indexOf(ye)});return jt.forEach(ge,function(ye){return H.delete(ye.clientId)}).next(function(){return ge})})}).catch(function(){return[]})]);case 1:if(u=M.sent(),this.Qe)for(f=0,y=u;f<y.length;f++)this.Qe.removeItem(this.on(y[f].clientId));M.label=2;case 2:return[2]}})})},d.prototype.ze=function(){var u=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return u.je().then(function(){return u.nn()}).then(function(){return u.ze()})})},d.prototype.tn=function(u){return!!u&&u.ownerId===this.clientId},d.prototype.Ye=function(u){var f=this;return this.Ce?jt.resolve(!0):su(u).get(ja.key).next(function(y){if(null!==y&&f.sn(y.leaseTimestampMs,5e3)&&!f.cn(y.ownerId)){if(f.tn(y)&&f.networkEnabled)return!0;if(!f.tn(y)){if(!y.allowTabSynchronization)throw new Ot(it.FAILED_PRECONDITION,nd);return!1}}return!(!f.networkEnabled||!f.inForeground)||cc(u).Nt().next(function(w){return void 0===f.rn(w,5e3).find(function(E){return!(f.clientId===E.clientId||!(!f.networkEnabled&&E.networkEnabled||!f.inForeground&&E.inForeground&&f.networkEnabled===E.networkEnabled))})})}).next(function(y){return f.isPrimary!==y&&Yt("IndexedDbPersistence","Client "+(y?"is":"is not")+" eligible for a primary lease."),y})},d.prototype.shutdown=function(){return(0,V.mG)(this,void 0,void 0,function(){var u=this;return(0,V.Jh)(this,function(f){switch(f.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ja.store,hh.store],function(y){var w=new T_(y,ds.o);return u.Xe(w).next(function(){return u.en(w)})})];case 1:return f.sent(),this.Be.close(),this.ln(),[2]}})})},d.prototype.rn=function(u,f){var y=this;return u.filter(function(w){return y.sn(w.updateTimeMs,f)&&!y.cn(w.clientId)})},d.prototype.fn=function(){var u=this;return this.runTransaction("getActiveClients","readonly",function(f){return cc(f).Nt().next(function(y){return u.rn(y,18e5).map(function(w){return w.clientId})})})},Object.defineProperty(d.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),d.prototype.getMutationQueue=function(u){return Gv.Qt(u,this.R,this.Ut,this.referenceDelegate)},d.prototype.getTargetCache=function(){return this.qe},d.prototype.getRemoteDocumentCache=function(){return this.Ue},d.prototype.getIndexManager=function(){return this.Ut},d.prototype.getBundleCache=function(){return this.Ke},d.prototype.runTransaction=function(u,f,y){var E,w=this;return Yt("IndexedDbPersistence","Starting transaction:",u),this.Be.runTransaction(u,"readonly"===f?"readonly":"readwrite",hT,function(P){return E=new T_(P,w.Ne?w.Ne.next():ds.o),"readwrite-primary"===f?w.Je(E).next(function(H){return!!H||w.Ye(E)}).next(function(H){if(!H)throw Xi("Failed to obtain primary lease for action '"+u+"'."),w.isPrimary=!1,w.Se.enqueueRetryable(function(){return w.Me(!1)}),new Ot(it.FAILED_PRECONDITION,ww);return y(E)}).next(function(H){return w.Ze(E).next(function(){return H})}):w.dn(E).next(function(){return y(E)})}).then(function(P){return E.raiseOnCommittedEvent(),P})},d.prototype.dn=function(u){var f=this;return su(u).get(ja.key).next(function(y){if(null!==y&&f.sn(y.leaseTimestampMs,5e3)&&!f.cn(y.ownerId)&&!f.tn(y)&&!(f.Ce||f.allowTabSynchronization&&y.allowTabSynchronization))throw new Ot(it.FAILED_PRECONDITION,nd)})},d.prototype.Ze=function(u){var f=new ja(this.clientId,this.allowTabSynchronization,Date.now());return su(u).put(ja.key,f)},d.yt=function(){return Qu.yt()},d.prototype.Xe=function(u){var f=this,y=su(u);return y.get(ja.key).next(function(w){return f.tn(w)?(Yt("IndexedDbPersistence","Releasing primary lease."),y.delete(ja.key)):jt.resolve()})},d.prototype.sn=function(u,f){var y=Date.now();return!(u<y-f||u>y&&(Xi("Detected an update time that is in the future: "+u+" > "+y),1))},d.prototype.We=function(){var u=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){u.Se.enqueueAndForget(function(){return u.inForeground="visible"===u.document.visibilityState,u.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},d.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},d.prototype.Ge=function(){var u,f=this;"function"==typeof(null===(u=this.window)||void 0===u?void 0:u.addEventListener)&&(this.ke=function(){f.un(),(0,Y.G6)()&&navigator.appVersion.match("Version/14")&&f.Se.enterRestrictedMode(!0),f.Se.enqueueAndForget(function(){return f.shutdown()})},this.window.addEventListener("pagehide",this.ke))},d.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},d.prototype.cn=function(u){var f;try{var y=null!==(null===(f=this.Qe)||void 0===f?void 0:f.getItem(this.on(u)));return Yt("IndexedDbPersistence","Client '"+u+"' "+(y?"is":"is not")+" zombied in LocalStorage"),y}catch(w){return Xi("IndexedDbPersistence","Failed to get zombied client id.",w),!1}},d.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(u){Xi("Failed to set zombie client id.",u)}},d.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},d.prototype.on=function(u){return"firestore_zombie_"+this.persistenceKey+"_"+u},d}();function su(d){return Do(d,ja.store)}function cc(d){return Do(d,hh.store)}function Pg(d,u){var f=d.projectId;return d.isDefaultDatabase||(f+="."+d.database),"firestore/"+u+"/"+f+"/"}var Iw=function(d,u){this.progress=d,this.wn=u},Kv=function(){function d(u,f,y){this.Ue=u,this._n=f,this.Ut=y}return d.prototype.mn=function(u,f){var y=this;return this._n.getAllMutationBatchesAffectingDocumentKey(u,f).next(function(w){return y.yn(u,f,w)})},d.prototype.yn=function(u,f,y){return this.Ue.getEntry(u,f).next(function(w){for(var E=0,M=y;E<M.length;E++)M[E].applyToLocalView(w);return w})},d.prototype.gn=function(u,f){u.forEach(function(y,w){for(var E=0,M=f;E<M.length;E++)M[E].applyToLocalView(w)})},d.prototype.pn=function(u,f){var y=this;return this.Ue.getEntries(u,f).next(function(w){return y.En(u,w).next(function(){return w})})},d.prototype.En=function(u,f){var y=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(u,f).next(function(w){return y.gn(f,w)})},d.prototype.getDocumentsMatchingQuery=function(u,f,y){return on.isDocumentKey((w=f).path)&&null===w.collectionGroup&&0===w.filters.length?this.Tn(u,f.path):ih(f)?this.In(u,f,y):this.An(u,f,y);var w},d.prototype.Tn=function(u,f){return this.mn(u,new on(f)).next(function(y){var w=sc();return y.isFoundDocument()&&(w=w.insert(y.key,y)),w})},d.prototype.In=function(u,f,y){var w=this,E=f.collectionGroup,M=sc();return this.Ut.getCollectionParents(u,E).next(function(P){return jt.forEach(P,function(H){var ie,ge,z=(ie=f,ge=H.child(E),new La(ge,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));return w.An(u,z,y).next(function(ie){ie.forEach(function(ge,ye){M=M.insert(ge,ye)})})}).next(function(){return M})})},d.prototype.An=function(u,f,y){var w,E,M=this;return this.Ue.getDocumentsMatchingQuery(u,f,y).next(function(P){return w=P,M._n.getAllMutationBatchesAffectingQuery(u,f)}).next(function(P){return M.Rn(u,E=P,w).next(function(H){w=H;for(var z=0,ie=E;z<ie.length;z++)for(var ge=ie[z],ye=0,Ye=ge.mutations;ye<Ye.length;ye++){var Ge=Ye[ye],at=Ge.key,Lt=w.get(at);null==Lt&&(Lt=Kr.newInvalidDocument(at),w=w.insert(at,Lt)),ah(Ge,Lt,ge.localWriteTime),Lt.isFoundDocument()||(w=w.remove(at))}})}).next(function(){return w.forEach(function(P,H){ml(f,H)||(w=w.remove(P))}),w})},d.prototype.Rn=function(u,f,y){for(var w=ki(),E=0,M=f;E<M.length;E++)for(var P=0,H=M[E].mutations;P<H.length;P++){var z=H[P];z instanceof Wu&&null===y.get(z.key)&&(w=w.add(z.key))}var ie=y;return this.Ue.getEntries(u,w).next(function(ge){return ge.forEach(function(ye,Ye){Ye.isFoundDocument()&&(ie=ie.insert(ye,Ye))}),ie})},d}(),Mw=function(){function d(u,f,y,w){this.targetId=u,this.fromCache=f,this.bn=y,this.vn=w}return d.Pn=function(u,f){for(var y=ki(),w=ki(),E=0,M=f.docChanges;E<M.length;E++){var P=M[E];switch(P.type){case 0:y=y.add(P.doc.key);break;case 1:w=w.add(P.doc.key)}}return new d(u,f.fromCache,y,w)},d}(),Jv=function(){function d(){}return d.prototype.Vn=function(u){this.Sn=u},d.prototype.getDocumentsMatchingQuery=function(u,f,y,w){var M,E=this;return 0===(M=f).filters.length&&null===M.limit&&null==M.startAt&&null==M.endAt&&(0===M.explicitOrderBy.length||1===M.explicitOrderBy.length&&M.explicitOrderBy[0].field.isKeyField())||y.isEqual(zn.min())?this.Dn(u,f):this.Sn.pn(u,w).next(function(M){var P=E.Cn(f,M);return(Hf(f)||ec(f))&&E.Nn(f.limitType,P,w,y)?E.Dn(u,f):(Uu()<=_e.in.DEBUG&&Yt("QueryEngine","Re-using previous result from %s to execute query: %s",y.toString(),tc(f)),E.Sn.getDocumentsMatchingQuery(u,f,y).next(function(H){return P.forEach(function(z){H=H.insert(z.key,z)}),H}))})},d.prototype.Cn=function(u,f){var y=new zr(rh(u));return f.forEach(function(w,E){ml(u,E)&&(y=y.add(E))}),y},d.prototype.Nn=function(u,f,y,w){if(y.size!==f.size)return!0;var E="F"===u?f.last():f.first();return!!E&&(E.hasPendingWrites||E.version.compareTo(w)>0)},d.prototype.Dn=function(u,f){return Uu()<=_e.in.DEBUG&&Yt("QueryEngine","Using full collection scan to execute query:",tc(f)),this.Sn.getDocumentsMatchingQuery(u,f,zn.min())},d}(),Aw=function(){function d(u,f,y,w){this.persistence=u,this.xn=f,this.R=w,this.kn=new So(Zn),this.Fn=new kg(function(E){return qc(E)},Na),this.$n=zn.min(),this._n=u.getMutationQueue(y),this.On=u.getRemoteDocumentCache(),this.qe=u.getTargetCache(),this.Mn=new Kv(this.On,this._n,this.persistence.getIndexManager()),this.Ke=u.getBundleCache(),this.xn.Vn(this.Mn)}return d.prototype.collectGarbage=function(u){var f=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(y){return u.collect(y,f.kn)})},d}();function x_(d,u,f,y){return new Aw(d,u,f,y)}function Qv(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w,E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return f=W(d),y=f._n,w=f.Mn,[4,f.persistence.runTransaction("Handle user change","readonly",function(P){var H;return f._n.getAllMutationBatches(P).next(function(z){return H=z,y=f.persistence.getMutationQueue(u),w=new Kv(f.On,y,f.persistence.getIndexManager()),y.getAllMutationBatches(P)}).next(function(z){for(var ie=[],ge=[],ye=ki(),Ye=0,Ge=H;Ye<Ge.length;Ye++){var at=Ge[Ye];ie.push(at.batchId);for(var Lt=0,Xt=at.mutations;Lt<Xt.length;Lt++)ye=ye.add(Xt[Lt].key)}for(var yn=0,bi=z;yn<bi.length;yn++){var Ri=bi[yn];ge.push(Ri.batchId);for(var Ki=0,zo=Ri.mutations;Ki<zo.length;Ki++)ye=ye.add(zo[Ki].key)}return w.pn(P,ye).next(function(Cp){return{Ln:Cp,removedBatchIds:ie,addedBatchIds:ge}})})})];case 1:return E=M.sent(),[2,(f._n=y,f.Mn=w,f.xn.Vn(f.Mn),E)]}})})}function Xv(d,u){var f=W(d);return f.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(y){var M,P,H,z,ie,ge,ye,w=u.batch.keys(),E=f.On.newChangeBuffer({trackRemovals:!0});return(M=f,P=y,H=u,z=E,ie=H.batch,ge=ie.keys(),ye=jt.resolve(),ge.forEach(function(Ye){ye=ye.next(function(){return z.getEntry(P,Ye)}).next(function(Ge){var at=H.docVersions.get(Ye);Fn(null!==at),Ge.version.compareTo(at)<0&&(ie.applyToRemoteDocument(Ge,H),Ge.isValidDocument()&&z.addEntry(Ge,H.commitVersion))})}),ye.next(function(){return M._n.removeMutationBatch(P,ie)})).next(function(){return E.apply(y)}).next(function(){return f._n.performConsistencyCheck(y)}).next(function(){return f.Mn.pn(y,w)})})}function S_(d){var u=W(d);return u.persistence.runTransaction("Get last remote snapshot version","readonly",function(f){return u.qe.getLastRemoteSnapshotVersion(f)})}function eb(d,u){var f=W(d),y=u.snapshotVersion,w=f.kn;return f.persistence.runTransaction("Apply remote event","readwrite-primary",function(E){var M=f.On.newChangeBuffer({trackRemovals:!0});w=f.kn;var P=[];u.targetChanges.forEach(function(ie,ge){var at,Lt,Xt,ye=w.get(ge);if(ye){P.push(f.qe.removeMatchingKeys(E,ie.removedDocuments,ge).next(function(){return f.qe.addMatchingKeys(E,ie.addedDocuments,ge)}));var Ye=ie.resumeToken;if(Ye.approximateByteSize()>0){var Ge=ye.withResumeToken(Ye,y).withSequenceNumber(E.currentSequenceNumber);w=w.insert(ge,Ge),at=ye,Xt=ie,Fn((Lt=Ge).resumeToken.approximateByteSize()>0),(0===at.resumeToken.approximateByteSize()||Lt.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=3e8||Xt.addedDocuments.size+Xt.modifiedDocuments.size+Xt.removedDocuments.size>0)&&P.push(f.qe.updateTargetData(E,Ge))}}});var H=Lo();if(u.documentUpdates.forEach(function(ie,ge){u.resolvedLimboDocuments.has(ie)&&P.push(f.persistence.referenceDelegate.updateLimboDocument(E,ie))}),P.push(D_(E,M,u.documentUpdates,y,void 0).next(function(ie){H=ie})),!y.isEqual(zn.min())){var z=f.qe.getLastRemoteSnapshotVersion(E).next(function(ie){return f.qe.setTargetsMetadata(E,E.currentSequenceNumber,y)});P.push(z)}return jt.waitFor(P).next(function(){return M.apply(E)}).next(function(){return f.Mn.En(E,H)}).next(function(){return H})}).then(function(E){return f.kn=w,E})}function D_(d,u,f,y,w){var E=ki();return f.forEach(function(M){return E=E.add(M)}),u.getEntries(d,E).next(function(M){var P=Lo();return f.forEach(function(H,z){var ie=M.get(H),ge=w?.get(H)||y;z.isNoDocument()&&z.version.isEqual(zn.min())?(u.removeEntry(H,ge),P=P.insert(H,z)):!ie.isValidDocument()||z.version.compareTo(ie.version)>0||0===z.version.compareTo(ie.version)&&ie.hasPendingWrites?(u.addEntry(z,ge),P=P.insert(H,z)):Yt("LocalStore","Ignoring outdated watch update for ",H,". Current version:",ie.version," Watch version:",z.version)}),P})}function Io(d,u){var f=W(d);return f.persistence.runTransaction("Get next mutation batch","readonly",function(y){return void 0===u&&(u=-1),f._n.getNextMutationBatchAfterBatchId(y,u)})}function Gr(d,u){var f=W(d);return f.persistence.runTransaction("Allocate target","readwrite",function(y){var w;return f.qe.getTargetData(y,u).next(function(E){return E?jt.resolve(w=E):f.qe.allocateTargetId(y).next(function(M){return w=new gh(u,M,0,y.currentSequenceNumber),f.qe.addTargetData(y,w).next(function(){return w})})})}).then(function(y){var w=f.kn.get(y.targetId);return(null===w||y.snapshotVersion.compareTo(w.snapshotVersion)>0)&&(f.kn=f.kn.insert(y.targetId,y),f.Fn.set(u,y.targetId)),y})}function au(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w,E,M;return(0,V.Jh)(this,function(P){switch(P.label){case 0:y=W(d),w=y.kn.get(u),E=f?"readwrite":"readwrite-primary",P.label=1;case 1:return P.trys.push([1,4,,5]),f?[3,3]:[4,y.persistence.runTransaction("Release target",E,function(H){return y.persistence.referenceDelegate.removeTarget(H,w)})];case 2:P.sent(),P.label=3;case 3:return[3,5];case 4:if(!yl(M=P.sent()))throw M;return Yt("LocalStore","Failed to update sequence numbers for target "+u+": "+M),[3,5];case 5:return y.kn=y.kn.remove(u),y.Fn.delete(w.target),[2]}})})}function uo(d,u,f){var y=W(d),w=zn.min(),E=ki();return y.persistence.runTransaction("Execute query","readonly",function(M){return(P=y,H=M,z=xo(u),ie=W(P),ge=ie.Fn.get(z),void 0!==ge?jt.resolve(ie.kn.get(ge)):ie.qe.getTargetData(H,z)).next(function(P){if(P)return w=P.lastLimboFreeSnapshotVersion,y.qe.getMatchingKeysForTargetId(M,P.targetId).next(function(H){E=H})}).next(function(){return y.xn.getDocumentsMatchingQuery(M,u,f?w:zn.min(),f?E:ki())}).next(function(P){return{documents:P,Bn:E}});var P,H,z,ie,ge})}function I_(d,u){var f=W(d),y=W(f.qe),w=f.kn.get(u);return w?Promise.resolve(w.target):f.persistence.runTransaction("Get target data","readonly",function(E){return y.lt(E,u).next(function(M){return M?M.target:null})})}function tb(d){var u=W(d);return u.persistence.runTransaction("Get new document changes","readonly",function(f){return w=f,E=u.$n,M=W(u.On),P=Lo(),H=lc(E),z=js(w),ie=IDBKeyRange.lowerBound(H,!0),z.$t({index:Jr.readTimeIndex,range:ie},function(ge,ye){var Ye=mh(M.R,ye);P=P.insert(Ye.key,Ye),H=ye.readTime}).next(function(){return{wn:P,readTime:Ew(H)}});var w,E,M,P,H,z,ie}).then(function(f){var y=f.wn;return u.$n=f.readTime,y})}function M_(d){return(0,V.mG)(this,void 0,void 0,function(){var u;return(0,V.Jh)(this,function(f){return[2,(u=W(d)).persistence.runTransaction("Synchronize last document change read time","readonly",function(y){return E=js(y),M=zn.min(),E.$t({index:Jr.readTimeIndex,reverse:!0},function(P,H,z){H.readTime&&(M=Ew(H.readTime)),z.done()}).next(function(){return M});var E,M}).then(function(y){u.$n=y})]})})}function ps(d,u,f,y){return(0,V.mG)(this,void 0,void 0,function(){var w,E,M,P,H,z,ie,ge,ye,Ye;return(0,V.Jh)(this,function(Ge){switch(Ge.label){case 0:for(w=W(d),E=ki(),M=Lo(),P=Rv(),H=0,z=f;H<z.length;H++)ge=u.qn((ie=z[H]).metadata.name),ie.document&&(E=E.add(ge)),M=M.insert(ge,u.Un(ie)),P=P.insert(ge,u.Kn(ie.metadata.readTime));return ye=w.On.newChangeBuffer({trackRemovals:!0}),[4,Gr(w,(at=y,xo(Zc(gi.fromString("__bundle__/docs/"+at)))))];case 1:return Ye=Ge.sent(),[2,w.persistence.runTransaction("Apply bundle documents","readwrite",function(at){return D_(at,ye,M,zn.min(),P).next(function(Lt){return ye.apply(at),Lt}).next(function(Lt){return w.qe.removeMatchingKeysForTargetId(at,Ye.targetId).next(function(){return w.qe.addMatchingKeys(at,E,Ye.targetId)}).next(function(){return w.Mn.En(at,Lt)}).next(function(){return Lt})})})]}var at})})}function Ng(d,u,f){return void 0===f&&(f=ki()),(0,V.mG)(this,void 0,void 0,function(){var y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return[4,Gr(d,xo(Mg(u.bundledQuery)))];case 1:return y=E.sent(),[2,(w=W(d)).persistence.runTransaction("Save named query","readwrite",function(M){var P=lo(u.readTime);if(y.snapshotVersion.compareTo(P)>=0)return w.Ke.saveNamedQuery(M,u);var H=y.withResumeToken(Yr.EMPTY_BYTE_STRING,P);return w.kn=w.kn.insert(H.targetId,H),w.qe.updateTargetData(M,H).next(function(){return w.qe.removeMatchingKeysForTargetId(M,y.targetId)}).next(function(){return w.qe.addMatchingKeys(M,f,y.targetId)}).next(function(){return w.Ke.saveNamedQuery(M,u)})})]}})})}var Fg=function(){function d(u){this.R=u,this.Qn=new Map,this.jn=new Map}return d.prototype.getBundleMetadata=function(u,f){return jt.resolve(this.Qn.get(f))},d.prototype.saveBundleMetadata=function(u,f){var y;return this.Qn.set(f.id,{id:(y=f).id,version:y.version,createTime:lo(y.createTime)}),jt.resolve()},d.prototype.getNamedQuery=function(u,f){return jt.resolve(this.jn.get(f))},d.prototype.saveNamedQuery=function(u,f){return this.jn.set(f.name,{name:(y=f).name,query:Mg(y.bundledQuery),readTime:lo(y.readTime)}),jt.resolve();var y},d}(),Lg=function(){function d(){this.Wn=new zr(Bo.Gn),this.zn=new zr(Bo.Hn)}return d.prototype.isEmpty=function(){return this.Wn.isEmpty()},d.prototype.addReference=function(u,f){var y=new Bo(u,f);this.Wn=this.Wn.add(y),this.zn=this.zn.add(y)},d.prototype.Jn=function(u,f){var y=this;u.forEach(function(w){return y.addReference(w,f)})},d.prototype.removeReference=function(u,f){this.Yn(new Bo(u,f))},d.prototype.Xn=function(u,f){var y=this;u.forEach(function(w){return y.removeReference(w,f)})},d.prototype.Zn=function(u){var f=this,y=new on(new gi([])),w=new Bo(y,u),E=new Bo(y,u+1),M=[];return this.zn.forEachInRange([w,E],function(P){f.Yn(P),M.push(P.key)}),M},d.prototype.ts=function(){var u=this;this.Wn.forEach(function(f){return u.Yn(f)})},d.prototype.Yn=function(u){this.Wn=this.Wn.delete(u),this.zn=this.zn.delete(u)},d.prototype.es=function(u){var f=new on(new gi([])),y=new Bo(f,u),w=new Bo(f,u+1),E=ki();return this.zn.forEachInRange([y,w],function(M){E=E.add(M.key)}),E},d.prototype.containsKey=function(u){var f=new Bo(u,0),y=this.Wn.firstAfterOrEqual(f);return null!==y&&u.isEqual(y.key)},d}(),Bo=function(){function d(u,f){this.key=u,this.ns=f}return d.Gn=function(u,f){return on.comparator(u.key,f.key)||Zn(u.ns,f.ns)},d.Hn=function(u,f){return Zn(u.ns,f.ns)||on.comparator(u.key,f.key)},d}(),A_=function(){function d(u,f){this.Ut=u,this.referenceDelegate=f,this._n=[],this.ss=1,this.rs=new zr(Bo.Gn)}return d.prototype.checkEmpty=function(u){return jt.resolve(0===this._n.length)},d.prototype.addMutationBatch=function(u,f,y,w){var E=this.ss;this.ss++;var M=new Vv(E,f,y,w);this._n.push(M);for(var P=0,H=w;P<H.length;P++){var z=H[P];this.rs=this.rs.add(new Bo(z.key,E)),this.Ut.addToCollectionParentIndex(u,z.key.path.popLast())}return jt.resolve(M)},d.prototype.lookupMutationBatch=function(u,f){return jt.resolve(this.os(f))},d.prototype.getNextMutationBatchAfterBatchId=function(u,f){var w=this.cs(f+1),E=w<0?0:w;return jt.resolve(this._n.length>E?this._n[E]:null)},d.prototype.getHighestUnacknowledgedBatchId=function(){return jt.resolve(0===this._n.length?-1:this.ss-1)},d.prototype.getAllMutationBatches=function(u){return jt.resolve(this._n.slice())},d.prototype.getAllMutationBatchesAffectingDocumentKey=function(u,f){var y=this,w=new Bo(f,0),E=new Bo(f,Number.POSITIVE_INFINITY),M=[];return this.rs.forEachInRange([w,E],function(P){var H=y.os(P.ns);M.push(H)}),jt.resolve(M)},d.prototype.getAllMutationBatchesAffectingDocumentKeys=function(u,f){var y=this,w=new zr(Zn);return f.forEach(function(E){var M=new Bo(E,0),P=new Bo(E,Number.POSITIVE_INFINITY);y.rs.forEachInRange([M,P],function(H){w=w.add(H.ns)})}),jt.resolve(this.us(w))},d.prototype.getAllMutationBatchesAffectingQuery=function(u,f){var y=f.path,w=y.length+1,E=y;on.isDocumentKey(E)||(E=E.child(""));var M=new Bo(new on(E),0),P=new zr(Zn);return this.rs.forEachWhile(function(H){var z=H.key.path;return!!y.isPrefixOf(z)&&(z.length===w&&(P=P.add(H.ns)),!0)},M),jt.resolve(this.us(P))},d.prototype.us=function(u){var f=this,y=[];return u.forEach(function(w){var E=f.os(w);null!==E&&y.push(E)}),y},d.prototype.removeMutationBatch=function(u,f){var y=this;Fn(0===this.hs(f.batchId,"removed")),this._n.shift();var w=this.rs;return jt.forEach(f.mutations,function(E){var M=new Bo(E.key,f.batchId);return w=w.delete(M),y.referenceDelegate.markPotentiallyOrphaned(u,E.key)}).next(function(){y.rs=w})},d.prototype.Gt=function(u){},d.prototype.containsKey=function(u,f){var y=new Bo(f,0),w=this.rs.firstAfterOrEqual(y);return jt.resolve(f.isEqual(w&&w.key))},d.prototype.performConsistencyCheck=function(u){return jt.resolve()},d.prototype.hs=function(u,f){return this.cs(u)},d.prototype.cs=function(u){return 0===this._n.length?0:u-this._n[0].batchId},d.prototype.os=function(u){var f=this.cs(u);return f<0||f>=this._n.length?null:this._n[f]},d}(),kw=function(){function d(u,f){this.Ut=u,this.ls=f,this.docs=new So(on.comparator),this.size=0}return d.prototype.addEntry=function(u,f,y){var w=f.key,E=this.docs.get(w),M=E?E.size:0,P=this.ls(f);return this.docs=this.docs.insert(w,{document:f.clone(),size:P,readTime:y}),this.size+=P-M,this.Ut.addToCollectionParentIndex(u,w.path.popLast())},d.prototype.removeEntry=function(u){var f=this.docs.get(u);f&&(this.docs=this.docs.remove(u),this.size-=f.size)},d.prototype.getEntry=function(u,f){var y=this.docs.get(f);return jt.resolve(y?y.document.clone():Kr.newInvalidDocument(f))},d.prototype.getEntries=function(u,f){var y=this,w=Lo();return f.forEach(function(E){var M=y.docs.get(E);w=w.insert(E,M?M.document.clone():Kr.newInvalidDocument(E))}),jt.resolve(w)},d.prototype.getDocumentsMatchingQuery=function(u,f,y){for(var w=Lo(),E=new on(f.path.child("")),M=this.docs.getIteratorFrom(E);M.hasNext();){var P=M.getNext(),z=P.value,ie=z.document,ge=z.readTime;if(!f.path.isPrefixOf(P.key.path))break;ge.compareTo(y)<=0||ml(f,ie)&&(w=w.insert(ie.key,ie.clone()))}return jt.resolve(w)},d.prototype.fs=function(u,f){return jt.forEach(this.docs,function(y){return f(y)})},d.prototype.newChangeBuffer=function(u){return new Ow(this)},d.prototype.getSize=function(u){return jt.resolve(this.size)},d}(),Ow=function(d){function u(f){var y=this;return(y=d.call(this)||this).Ie=f,y}return(0,V.ZT)(u,d),u.prototype.applyChanges=function(f){var y=this,w=[];return this.changes.forEach(function(E,M){M.document.isValidDocument()?w.push(y.Ie.addEntry(f,M.document,y.getReadTime(E))):y.Ie.removeEntry(E)}),jt.waitFor(w)},u.prototype.getFromCache=function(f,y){return this.Ie.getEntry(f,y)},u.prototype.getAllFromCache=function(f,y){return this.Ie.getEntries(f,y)},u}(gT),k_=function(){function d(u){this.persistence=u,this.ds=new kg(function(f){return qc(f)},Na),this.lastRemoteSnapshotVersion=zn.min(),this.highestTargetId=0,this.ws=0,this._s=new Lg,this.targetCount=0,this.ys=Qf.Jt()}return d.prototype.forEachTarget=function(u,f){return this.ds.forEach(function(y,w){return f(w)}),jt.resolve()},d.prototype.getLastRemoteSnapshotVersion=function(u){return jt.resolve(this.lastRemoteSnapshotVersion)},d.prototype.getHighestSequenceNumber=function(u){return jt.resolve(this.ws)},d.prototype.allocateTargetId=function(u){return this.highestTargetId=this.ys.next(),jt.resolve(this.highestTargetId)},d.prototype.setTargetsMetadata=function(u,f,y){return y&&(this.lastRemoteSnapshotVersion=y),f>this.ws&&(this.ws=f),jt.resolve()},d.prototype.te=function(u){this.ds.set(u.target,u);var f=u.targetId;f>this.highestTargetId&&(this.ys=new Qf(f),this.highestTargetId=f),u.sequenceNumber>this.ws&&(this.ws=u.sequenceNumber)},d.prototype.addTargetData=function(u,f){return this.te(f),this.targetCount+=1,jt.resolve()},d.prototype.updateTargetData=function(u,f){return this.te(f),jt.resolve()},d.prototype.removeTargetData=function(u,f){return this.ds.delete(f.target),this._s.Zn(f.targetId),this.targetCount-=1,jt.resolve()},d.prototype.removeTargets=function(u,f,y){var w=this,E=0,M=[];return this.ds.forEach(function(P,H){H.sequenceNumber<=f&&null===y.get(H.targetId)&&(w.ds.delete(P),M.push(w.removeMatchingKeysForTargetId(u,H.targetId)),E++)}),jt.waitFor(M).next(function(){return E})},d.prototype.getTargetCount=function(u){return jt.resolve(this.targetCount)},d.prototype.getTargetData=function(u,f){var y=this.ds.get(f)||null;return jt.resolve(y)},d.prototype.addMatchingKeys=function(u,f,y){return this._s.Jn(f,y),jt.resolve()},d.prototype.removeMatchingKeys=function(u,f,y){this._s.Xn(f,y);var w=this.persistence.referenceDelegate,E=[];return w&&f.forEach(function(M){E.push(w.markPotentiallyOrphaned(u,M))}),jt.waitFor(E)},d.prototype.removeMatchingKeysForTargetId=function(u,f){return this._s.Zn(f),jt.resolve()},d.prototype.getMatchingKeysForTargetId=function(u,f){var y=this._s.es(f);return jt.resolve(y)},d.prototype.containsKey=function(u,f){return jt.resolve(this._s.containsKey(f))},d}(),O_=function(){function d(u,f){var y=this;this.gs={},this.Ne=new ds(0),this.xe=!1,this.xe=!0,this.referenceDelegate=u(this),this.qe=new k_(this),this.Ut=new jv,this.Ue=new kw(this.Ut,function(M){return y.referenceDelegate.ps(M)}),this.R=new xr(f),this.Ke=new Fg(this.R)}return d.prototype.start=function(){return Promise.resolve()},d.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(d.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),d.prototype.setDatabaseDeletedListener=function(){},d.prototype.setNetworkEnabled=function(){},d.prototype.getIndexManager=function(){return this.Ut},d.prototype.getMutationQueue=function(u){var f=this.gs[u.toKey()];return f||(f=new A_(this.Ut,this.referenceDelegate),this.gs[u.toKey()]=f),f},d.prototype.getTargetCache=function(){return this.qe},d.prototype.getRemoteDocumentCache=function(){return this.Ue},d.prototype.getBundleCache=function(){return this.Ke},d.prototype.runTransaction=function(u,f,y){var w=this;Yt("MemoryPersistence","Starting transaction:",u);var E=new nb(this.Ne.next());return this.referenceDelegate.Es(),y(E).next(function(M){return w.referenceDelegate.Ts(E).next(function(){return M})}).toPromise().then(function(M){return E.raiseOnCommittedEvent(),M})},d.prototype.Is=function(u,f){return jt.or(Object.values(this.gs).map(function(y){return function(){return y.containsKey(u,f)}}))},d}(),nb=function(d){function u(f){var y=this;return(y=d.call(this)||this).currentSequenceNumber=f,y}return(0,V.ZT)(u,d),u}(Cw),Rw=function(){function d(u){this.persistence=u,this.As=new Lg,this.Rs=null}return d.bs=function(u){return new d(u)},Object.defineProperty(d.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Nn()},enumerable:!1,configurable:!0}),d.prototype.addReference=function(u,f,y){return this.As.addReference(y,f),this.vs.delete(y.toString()),jt.resolve()},d.prototype.removeReference=function(u,f,y){return this.As.removeReference(y,f),this.vs.add(y.toString()),jt.resolve()},d.prototype.markPotentiallyOrphaned=function(u,f){return this.vs.add(f.toString()),jt.resolve()},d.prototype.removeTarget=function(u,f){var y=this;this.As.Zn(f.targetId).forEach(function(E){return y.vs.add(E.toString())});var w=this.persistence.getTargetCache();return w.getMatchingKeysForTargetId(u,f.targetId).next(function(E){E.forEach(function(M){return y.vs.add(M.toString())})}).next(function(){return w.removeTargetData(u,f)})},d.prototype.Es=function(){this.Rs=new Set},d.prototype.Ts=function(u){var f=this,y=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jt.forEach(this.vs,function(w){var E=on.fromPath(w);return f.Ps(u,E).next(function(M){M||y.removeEntry(E)})}).next(function(){return f.Rs=null,y.apply(u)})},d.prototype.updateLimboDocument=function(u,f){var y=this;return this.Ps(u,f).next(function(w){w?y.vs.delete(f.toString()):y.vs.add(f.toString())})},d.prototype.ps=function(u){return 0},d.prototype.Ps=function(u,f){var y=this;return jt.or([function(){return jt.resolve(y.As.containsKey(f))},function(){return y.persistence.getTargetCache().containsKey(u,f)},function(){return y.persistence.Is(u,f)}])},d}(),Qo=function(){function d(u){this.uid=u}return d.prototype.isAuthenticated=function(){return null!=this.uid},d.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},d.prototype.isEqual=function(u){return u.uid===this.uid},d}();function bh(d,u){return"firestore_clients_"+d+"_"+u}function ib(d,u,f){var y="firestore_mutations_"+d+"_"+f;return u.isAuthenticated()&&(y+="_"+u.uid),y}function R_(d,u){return"firestore_targets_"+d+"_"+u}Qo.UNAUTHENTICATED=new Qo(null),Qo.GOOGLE_CREDENTIALS=new Qo("google-credentials-uid"),Qo.FIRST_PARTY=new Qo("first-party-uid"),Qo.MOCK_USER=new Qo("mock-user");var id=function(){function d(u,f,y,w){this.user=u,this.batchId=f,this.state=y,this.error=w}return d.Vs=function(u,f,y){var w,E=JSON.parse(y),M="object"==typeof E&&-1!==["pending","acknowledged","rejected"].indexOf(E.state)&&(void 0===E.error||"object"==typeof E.error);return M&&E.error&&(M="string"==typeof E.error.message&&"string"==typeof E.error.code)&&(w=new Ot(E.error.code,E.error.message)),M?new d(u,f,E.state,w):(Xi("SharedClientState","Failed to parse mutation state for ID '"+f+"': "+y),null)},d.prototype.Ss=function(){var u={state:this.state,updateTimeMs:Date.now()};return this.error&&(u.error={code:this.error.code,message:this.error.message}),JSON.stringify(u)},d}(),zs=function(){function d(u,f,y){this.targetId=u,this.state=f,this.error=y}return d.Vs=function(u,f){var y,w=JSON.parse(f),E="object"==typeof w&&-1!==["not-current","current","rejected"].indexOf(w.state)&&(void 0===w.error||"object"==typeof w.error);return E&&w.error&&(E="string"==typeof w.error.message&&"string"==typeof w.error.code)&&(y=new Ot(w.error.code,w.error.message)),E?new d(u,w.state,y):(Xi("SharedClientState","Failed to parse target state for ID '"+u+"': "+f),null)},d.prototype.Ss=function(){var u={state:this.state,updateTimeMs:Date.now()};return this.error&&(u.error={code:this.error.code,message:this.error.message}),JSON.stringify(u)},d}(),Pw=function(){function d(u,f){this.clientId=u,this.activeTargetIds=f}return d.Vs=function(u,f){for(var y=JSON.parse(f),w="object"==typeof y&&y.activeTargetIds instanceof Array,E=qi(),M=0;w&&M<y.activeTargetIds.length;++M)w=Vf(y.activeTargetIds[M]),E=E.add(y.activeTargetIds[M]);return w?new d(u,E):(Xi("SharedClientState","Failed to parse client data for instance '"+u+"': "+f),null)},d}(),mT=function(){function d(u,f){this.clientId=u,this.onlineState=f}return d.Vs=function(u){var f=JSON.parse(u);return"object"==typeof f&&-1!==["Unknown","Online","Offline"].indexOf(f.onlineState)&&"string"==typeof f.clientId?new d(f.clientId,f.onlineState):(Xi("SharedClientState","Failed to parse online state: "+u),null)},d}(),wh=function(){function d(){this.activeTargetIds=qi()}return d.prototype.Ds=function(u){this.activeTargetIds=this.activeTargetIds.add(u)},d.prototype.Cs=function(u){this.activeTargetIds=this.activeTargetIds.delete(u)},d.prototype.Ss=function(){var u={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(u)},d}(),Nw=function(){function d(u,f,y,w,E){this.window=u,this.Se=f,this.persistenceKey=y,this.Ns=w,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new So(Zn),this.started=!1,this.$s=[];var M=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.Os=bh(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new wh),this.Ls=new RegExp("^firestore_clients_"+M+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+M+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+M+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(P){return"firestore_bundle_loaded_"+P}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return d.yt=function(u){return!(!u||!u.localStorage)},d.prototype.start=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f,y,w,E,M,P,H,z,ie,ye=this;return(0,V.Jh)(this,function(Ye){switch(Ye.label){case 0:return[4,this.syncEngine.fn()];case 1:for(u=Ye.sent(),f=0,y=u;f<y.length;f++)(w=y[f])!==this.Ns&&(E=this.getItem(bh(this.persistenceKey,w)))&&(M=Pw.Vs(w,E))&&(this.Fs=this.Fs.insert(M.clientId,M));for(this.Qs(),(P=this.storage.getItem(this.Us))&&(H=this.js(P))&&this.Ws(H),z=0,ie=this.$s;z<ie.length;z++)this.ks(ie[z]);return this.$s=[],this.window.addEventListener("pagehide",function(){return ye.shutdown()}),this.started=!0,[2]}})})},d.prototype.writeSequenceNumber=function(u){this.setItem(this.Ms,JSON.stringify(u))},d.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},d.prototype.isActiveQueryTarget=function(u){var f=!1;return this.Fs.forEach(function(y,w){w.activeTargetIds.has(u)&&(f=!0)}),f},d.prototype.addPendingMutation=function(u){this.zs(u,"pending")},d.prototype.updateMutationState=function(u,f,y){this.zs(u,f,y),this.Hs(u)},d.prototype.addLocalQueryTarget=function(u){var f="not-current";if(this.isActiveQueryTarget(u)){var y=this.storage.getItem(R_(this.persistenceKey,u));if(y){var w=zs.Vs(u,y);w&&(f=w.state)}}return this.Js.Ds(u),this.Qs(),f},d.prototype.removeLocalQueryTarget=function(u){this.Js.Cs(u),this.Qs()},d.prototype.isLocalQueryTarget=function(u){return this.Js.activeTargetIds.has(u)},d.prototype.clearQueryState=function(u){this.removeItem(R_(this.persistenceKey,u))},d.prototype.updateQueryState=function(u,f,y){this.Ys(u,f,y)},d.prototype.handleUserChange=function(u,f,y){var w=this;f.forEach(function(E){w.Hs(E)}),this.currentUser=u,y.forEach(function(E){w.addPendingMutation(E)})},d.prototype.setOnlineState=function(u){this.Xs(u)},d.prototype.notifyBundleLoaded=function(){this.Zs()},d.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},d.prototype.getItem=function(u){var f=this.storage.getItem(u);return Yt("SharedClientState","READ",u,f),f},d.prototype.setItem=function(u,f){Yt("SharedClientState","SET",u,f),this.storage.setItem(u,f)},d.prototype.removeItem=function(u){Yt("SharedClientState","REMOVE",u),this.storage.removeItem(u)},d.prototype.ks=function(u){var f=this,y=u;if(y.storageArea===this.storage){if(Yt("SharedClientState","EVENT",y.key,y.newValue),y.key===this.Os)return void Xi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,V.mG)(f,void 0,void 0,function(){var w,E,M,P,H,z;return(0,V.Jh)(this,function(ie){if(this.started){if(null!==y.key)if(this.Ls.test(y.key)){if(null==y.newValue)return w=this.ti(y.key),[2,this.ei(w,null)];if(E=this.ni(y.key,y.newValue))return[2,this.ei(E.clientId,E)]}else if(this.Bs.test(y.key)){if(null!==y.newValue&&(M=this.si(y.key,y.newValue)))return[2,this.ii(M)]}else if(this.qs.test(y.key)){if(null!==y.newValue&&(P=this.ri(y.key,y.newValue)))return[2,this.oi(P)]}else if(y.key===this.Us){if(null!==y.newValue&&(H=this.js(y.newValue)))return[2,this.Ws(H)]}else if(y.key===this.Ms)(z=function(ge){var ye=ds.o;if(null!=ge)try{var Ye=JSON.parse(ge);Fn("number"==typeof Ye),ye=Ye}catch(Ge){Xi("SharedClientState","Failed to read sequence number from WebStorage",Ge)}return ye}(y.newValue))!==ds.o&&this.sequenceNumberHandler(z);else if(y.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(y);return[2]})})})}},Object.defineProperty(d.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),d.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},d.prototype.zs=function(u,f,y){var w=new id(this.currentUser,u,f,y),E=ib(this.persistenceKey,this.currentUser,u);this.setItem(E,w.Ss())},d.prototype.Hs=function(u){var f=ib(this.persistenceKey,this.currentUser,u);this.removeItem(f)},d.prototype.Xs=function(u){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:u}))},d.prototype.Ys=function(u,f,y){var w=R_(this.persistenceKey,u),E=new zs(u,f,y);this.setItem(w,E.Ss())},d.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},d.prototype.ti=function(u){var f=this.Ls.exec(u);return f?f[1]:null},d.prototype.ni=function(u,f){var y=this.ti(u);return Pw.Vs(y,f)},d.prototype.si=function(u,f){var y=this.Bs.exec(u),w=Number(y[1]);return id.Vs(new Qo(void 0!==y[2]?y[2]:null),w,f)},d.prototype.ri=function(u,f){var y=this.qs.exec(u),w=Number(y[1]);return zs.Vs(w,f)},d.prototype.js=function(u){return mT.Vs(u)},d.prototype.ii=function(u){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(f){return u.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(u.batchId,u.state,u.error)]:(Yt("SharedClientState","Ignoring mutation for non-active user "+u.user.uid),[2])})})},d.prototype.oi=function(u){return this.syncEngine.ai(u.targetId,u.state,u.error)},d.prototype.ei=function(u,f){var y=this,w=f?this.Fs.insert(u,f):this.Fs.remove(u),E=this.Gs(this.Fs),M=this.Gs(w),P=[],H=[];return M.forEach(function(z){E.has(z)||P.push(z)}),E.forEach(function(z){M.has(z)||H.push(z)}),this.syncEngine.hi(P,H).then(function(){y.Fs=w})},d.prototype.Ws=function(u){this.Fs.get(u.clientId)&&this.onlineStateHandler(u.onlineState)},d.prototype.Gs=function(u){var f=qi();return u.forEach(function(y,w){f=f.unionWith(w.activeTargetIds)}),f},d}(),rb=function(){function d(){this.li=new wh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return d.prototype.addPendingMutation=function(u){},d.prototype.updateMutationState=function(u,f,y){},d.prototype.addLocalQueryTarget=function(u){return this.li.Ds(u),this.fi[u]||"not-current"},d.prototype.updateQueryState=function(u,f,y){this.fi[u]=f},d.prototype.removeLocalQueryTarget=function(u){this.li.Cs(u)},d.prototype.isLocalQueryTarget=function(u){return this.li.activeTargetIds.has(u)},d.prototype.clearQueryState=function(u){delete this.fi[u]},d.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},d.prototype.isActiveQueryTarget=function(u){return this.li.activeTargetIds.has(u)},d.prototype.start=function(){return this.li=new wh,Promise.resolve()},d.prototype.handleUserChange=function(u,f,y){},d.prototype.setOnlineState=function(u){},d.prototype.shutdown=function(){},d.prototype.writeSequenceNumber=function(u){},d.prototype.notifyBundleLoaded=function(){},d}(),tp=function(){function d(){}return d.prototype.di=function(u){},d.prototype.shutdown=function(){},d}(),qa=function(){function d(){var u=this;this.wi=function(){return u._i()},this.mi=function(){return u.yi()},this.gi=[],this.pi()}return d.prototype.di=function(u){this.gi.push(u)},d.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},d.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},d.prototype._i=function(){Yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var u=0,f=this.gi;u<f.length;u++)(0,f[u])(0)},d.prototype.yi=function(){Yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var u=0,f=this.gi;u<f.length;u++)(0,f[u])(1)},d.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},d}(),np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},P_=function(){function d(u){this.Ei=u.Ei,this.Ti=u.Ti}return d.prototype.Ii=function(u){this.Ai=u},d.prototype.Ri=function(u){this.bi=u},d.prototype.onMessage=function(u){this.vi=u},d.prototype.close=function(){this.Ti()},d.prototype.send=function(u){this.Ei(u)},d.prototype.Pi=function(){this.Ai()},d.prototype.Vi=function(u){this.bi(u)},d.prototype.Si=function(u){this.vi(u)},d}(),Vg=function(d){function u(f){var y=this;return(y=d.call(this,f)||this).forceLongPolling=f.forceLongPolling,y.autoDetectLongPolling=f.autoDetectLongPolling,y.useFetchStreams=f.useFetchStreams,y}return(0,V.ZT)(u,d),u.prototype.Fi=function(f,y,w,E){return new Promise(function(M,P){var H=new e_;H.listenOnce(Wd.COMPLETE,function(){try{switch(H.getLastErrorCode()){case $d.NO_ERROR:var ie=H.getResponseJson();Yt("Connection","XHR received:",JSON.stringify(ie)),M(ie);break;case $d.TIMEOUT:Yt("Connection",'RPC "'+f+'" timed out'),P(new Ot(it.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:var ge=H.getStatus();if(Yt("Connection",'RPC "'+f+'" failed with status:',ge,"response text:",H.getResponseText()),ge>0){var ye=H.getResponseJson().error;if(ye&&ye.status&&ye.message){var Ye=(at=ye.status.toLowerCase().replace(/_/g,"-"),Object.values(it).indexOf(at)>=0?at:it.UNKNOWN);P(new Ot(Ye,ye.message))}else P(new Ot(it.UNKNOWN,"Server responded with status "+H.getStatus()))}else P(new Ot(it.UNAVAILABLE,"Connection failed."));break;default:Nn()}}finally{Yt("Connection",'RPC "'+f+'" completed.')}var at});var z=JSON.stringify(E);H.send(y,"POST",z,w,15)})},u.prototype.Oi=function(f,y){var w=[this.Di,"/","google.firestore.v1.Firestore","/",f,"/channel"],E=new Yl,M=Ac(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new Av({})),this.ki(P.initMessageHeaders,y),(0,Y.uI)()||(0,Y.b$)()||(0,Y.d)()||(0,Y.w1)()||(0,Y.Mn)()||(0,Y.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");var H=w.join("");Yt("Connection","Creating WebChannel: "+H,P);var z=E.createWebChannel(H,P),ie=!1,ge=!1,ye=new P_({Ei:function(Ge){ge?Yt("Connection","Not sending because WebChannel is closed:",Ge):(ie||(Yt("Connection","Opening WebChannel transport."),z.open(),ie=!0),Yt("Connection","WebChannel sending:",Ge),z.send(Ge))},Ti:function(){return z.close()}}),Ye=function(Ge,at,Lt){Ge.listen(at,function(Xt){try{Lt(Xt)}catch(Hn){setTimeout(function(){throw Hn},0)}})};return Ye(z,Yd.EventType.OPEN,function(){ge||Yt("Connection","WebChannel transport opened.")}),Ye(z,Yd.EventType.CLOSE,function(){ge||(ge=!0,Yt("Connection","WebChannel transport closed"),ye.Vi())}),Ye(z,Yd.EventType.ERROR,function(Ge){ge||(ge=!0,dl("Connection","WebChannel transport errored:",Ge),ye.Vi(new Ot(it.UNAVAILABLE,"The operation could not be completed")))}),Ye(z,Yd.EventType.MESSAGE,function(Ge){var at;if(!ge){var Lt=Ge.data[0];Fn(!!Lt);var Hn=Lt.error||(null===(at=Lt[0])||void 0===at?void 0:at.error);if(Hn){Yt("Connection","WebChannel received error:",Hn);var yn=Hn.status,bi=function(Ki){var zo=jr[Ki];if(void 0!==zo)return f_(zo)}(yn),Ri=Hn.message;void 0===bi&&(bi=it.INTERNAL,Ri="Unknown error status: "+yn+" with message "+Hn.message),ge=!0,ye.Vi(new Ot(bi,Ri)),z.close()}else Yt("Connection","WebChannel received:",Lt),ye.Si(Lt)}}),Ye(M,Nf.STAT_EVENT,function(Ge){Ge.stat===Xm_PROXY?Yt("Connection","Detected buffering proxy"):Ge.stat===Xm_NOPROXY&&Yt("Connection","Detected no buffering proxy")}),setTimeout(function(){ye.Pi()},0),ye},u}(function(){function d(u){this.databaseInfo=u,this.databaseId=u.databaseId,this.Di=(u.ssl?"https":"http")+"://"+u.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return d.prototype.Ni=function(u,f,y,w){var E=this.xi(u,f);Yt("RestConnection","Sending: ",E,y);var M={};return this.ki(M,w),this.Fi(u,E,M,y).then(function(P){return Yt("RestConnection","Received: ",P),P},function(P){throw dl("RestConnection",u+" failed with error: ",P,"url: ",E,"request:",y),P})},d.prototype.$i=function(u,f,y,w){return this.Ni(u,f,y,w)},d.prototype.ki=function(u,f){if(u["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",u["Content-Type"]="text/plain",this.databaseInfo.appId&&(u["X-Firebase-GMPID"]=this.databaseInfo.appId),f)for(var y in f.authHeaders)f.authHeaders.hasOwnProperty(y)&&(u[y]=f.authHeaders[y])},d.prototype.xi=function(u,f){return this.Di+"/v1/"+f+":"+np[u]},d}());function N_(){return typeof window<"u"?window:null}function Ho(){return typeof document<"u"?document:null}function uc(d){return new v_(d,!0)}var Ch=function(){function d(u,f,y,w,E){void 0===y&&(y=1e3),void 0===w&&(w=1.5),void 0===E&&(E=6e4),this.Se=u,this.timerId=f,this.Mi=y,this.Li=w,this.Bi=E,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return d.prototype.reset=function(){this.qi=0},d.prototype.Qi=function(){this.qi=this.Bi},d.prototype.ji=function(u){var f=this;this.cancel();var y=Math.floor(this.qi+this.Wi()),w=Math.max(0,Date.now()-this.Ki),E=Math.max(0,y-w);E>0&&Yt("ExponentialBackoff","Backing off for "+E+" ms (base delay: "+this.qi+" ms, delay with jitter: "+y+" ms, last attempt: "+w+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,E,function(){return f.Ki=Date.now(),u()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},d.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},d.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},d.prototype.Wi=function(){return(Math.random()-.5)*this.qi},d}(),ip=function(){function d(u,f,y,w,E,M){this.Se=u,this.zi=y,this.Hi=w,this.Ji=E,this.listener=M,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ch(u,f)}return d.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},d.prototype.er=function(){return 2===this.state},d.prototype.start=function(){3!==this.state?this.auth():this.nr()},d.prototype.stop=function(){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){switch(u.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})},d.prototype.sr=function(){this.state=0,this.Zi.reset()},d.prototype.ir=function(){var u=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return u.rr()}))},d.prototype.cr=function(u){this.ur(),this.stream.send(u)},d.prototype.rr=function(){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){return this.er()?[2,this.close(0)]:[2]})})},d.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},d.prototype.close=function(u,f){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(y){switch(y.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==u?this.Zi.reset():f&&f.code===it.RESOURCE_EXHAUSTED?(Xi(f.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):f&&f.code===it.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=u,[4,this.listener.Ri(f)];case 1:return y.sent(),[2]}})})},d.prototype.ar=function(){},d.prototype.auth=function(){var u=this;this.state=1;var f=this.hr(this.Yi),y=this.Yi;this.Ji.getToken().then(function(w){u.Yi===y&&u.lr(w)},function(w){f(function(){var E=new Ot(it.UNKNOWN,"Fetching auth token failed: "+w.message);return u.dr(E)})})},d.prototype.lr=function(u){var f=this,y=this.hr(this.Yi);this.stream=this.wr(u),this.stream.Ii(function(){y(function(){return f.state=2,f.listener.Ii()})}),this.stream.Ri(function(w){y(function(){return f.dr(w)})}),this.stream.onMessage(function(w){y(function(){return f.onMessage(w)})})},d.prototype.nr=function(){var u=this;this.state=4,this.Zi.ji(function(){return(0,V.mG)(u,void 0,void 0,function(){return(0,V.Jh)(this,function(f){return this.state=0,this.start(),[2]})})})},d.prototype.dr=function(u){return Yt("PersistentStream","close with error: "+u),this.stream=null,this.close(3,u)},d.prototype.hr=function(u){var f=this;return function(y){f.Se.enqueueAndForget(function(){return f.Yi===u?y():(Yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},d}(),F_=function(d){function u(f,y,w,E,M){var P=this;return(P=d.call(this,f,"listen_stream_connection_backoff","listen_stream_idle",y,w,M)||this).R=E,P}return(0,V.ZT)(u,d),u.prototype.wr=function(f){return this.Hi.Oi("Listen",f)},u.prototype.onMessage=function(f){this.Zi.reset();var y=function(E,M){var P,Lt;if("targetChange"in M){var H="NO_CHANGE"===(Lt=M.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Lt?1:"REMOVE"===Lt?2:"CURRENT"===Lt?3:"RESET"===Lt?4:Nn(),z=M.targetChange.targetIds||[],ie=function(Lt,Xt){return Lt.I?(Fn(void 0===Xt||"string"==typeof Xt),Yr.fromBase64String(Xt||"")):(Fn(void 0===Xt||Xt instanceof Uint8Array),Yr.fromUint8Array(Xt||new Uint8Array))}(E,M.targetChange.resumeToken),ge=(ye=M.targetChange.cause)&&function(Lt){var Xt=void 0===Lt.code?it.UNKNOWN:f_(Lt.code);return new Ot(Xt,Lt.message||"")}(ye);P=new Xc(H,z,ie,ge||null)}else if("documentChange"in M){z=L(E,(H=M.documentChange).document.name),ie=lo(H.document.updateTime);var ye=new hs({mapValue:{fields:H.document.fields}}),Ye=(ge=Kr.newFoundDocument(z,ie,ye),H.targetIds||[]);P=new da(Ye,H.removedTargetIds||[],ge.key,ge)}else if("documentDelete"in M)z=L(E,(H=M.documentDelete).document),ie=H.readTime?lo(H.readTime):zn.min(),ye=Kr.newNoDocument(z,ie),P=new da([],ge=H.removedTargetIds||[],ye.key,ye);else if("documentRemove"in M)z=L(E,(H=M.documentRemove).document),P=new da([],ie=H.removedTargetIds||[],z,null);else{if(!("filter"in M))return Nn();var at=M.filter;z=new Jc(H=at.count||0),P=new Cg(ie=at.targetId,z)}return P}(this.R,f),w=function(E){if(!("targetChange"in E))return zn.min();var M=E.targetChange;return M.targetIds&&M.targetIds.length?zn.min():M.readTime?lo(M.readTime):zn.min()}(f);return this.listener._r(y,w)},u.prototype.mr=function(f){var E,M,P,H,y={};y.database=ze(this.R),y.addTarget=(E=this.R,(P=_g(H=(M=f).target)?{documents:ha(E,H)}:{query:_l(E,H)}).targetId=M.targetId,M.resumeToken.approximateByteSize()>0?P.resumeToken=b_(E,M.resumeToken):M.snapshotVersion.compareTo(zn.min())>0&&(P.readTime=ch(E,M.snapshotVersion.toTimestamp())),P);var w=function(E,M){var P=function(H,z){switch(z){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nn()}}(0,M.purpose);return null==P?null:{"goog-listen-tags":P}}(0,f);w&&(y.labels=w),this.cr(y)},u.prototype.yr=function(f){var y={};y.database=ze(this.R),y.removeTarget=f,this.cr(y)},u}(ip),Bg=function(d){function u(f,y,w,E,M){var P=this;return(P=d.call(this,f,"write_stream_connection_backoff","write_stream_idle",y,w,M)||this).R=E,P.gr=!1,P}return(0,V.ZT)(u,d),Object.defineProperty(u.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),u.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,d.prototype.start.call(this)},u.prototype.ar=function(){this.gr&&this.Er([])},u.prototype.wr=function(f){return this.Hi.Oi("Write",f)},u.prototype.onMessage=function(f){if(Fn(!!f.streamToken),this.lastStreamToken=f.streamToken,this.gr){this.Zi.reset();var y=(M=f.commitTime,(E=f.writeResults)&&E.length>0?(Fn(void 0!==M),E.map(function(P){return z=M,(ie=lo((H=P).updateTime?H.updateTime:z)).isEqual(zn.min())&&(ie=lo(z)),new bg(ie,H.transformResults||[]);var H,z,ie})):[]),w=lo(f.commitTime);return this.listener.Tr(w,y)}var E,M;return Fn(!f.writeResults||0===f.writeResults.length),this.gr=!0,this.listener.Ir()},u.prototype.Ar=function(){var f={};f.database=ze(this.R),this.cr(f)},u.prototype.Er=function(f){var y=this,w={streamToken:this.lastStreamToken,writes:f.map(function(E){return ni(y.R,E)})};this.cr(w)},u}(ip),ob=function(d){function u(f,y,w){var E=this;return(E=d.call(this)||this).credentials=f,E.Hi=y,E.R=w,E.Rr=!1,E}return(0,V.ZT)(u,d),u.prototype.br=function(){if(this.Rr)throw new Ot(it.FAILED_PRECONDITION,"The client has already been terminated.")},u.prototype.Ni=function(f,y,w){var E=this;return this.br(),this.credentials.getToken().then(function(M){return E.Hi.Ni(f,y,w,M)}).catch(function(M){throw"FirebaseError"===M.name?(M.code===it.UNAUTHENTICATED&&E.credentials.invalidateToken(),M):new Ot(it.UNKNOWN,M.toString())})},u.prototype.$i=function(f,y,w){var E=this;return this.br(),this.credentials.getToken().then(function(M){return E.Hi.$i(f,y,w,M)}).catch(function(M){throw"FirebaseError"===M.name?(M.code===it.UNAUTHENTICATED&&E.credentials.invalidateToken(),M):new Ot(it.UNKNOWN,M.toString())})},u.prototype.terminate=function(){this.Rr=!0},u}(function(){}),_T=function(){function d(u,f){this.asyncQueue=u,this.onlineStateHandler=f,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return d.prototype.Sr=function(){var u=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return u.Pr=null,u.Cr("Backend didn't respond within 10 seconds."),u.Dr("Offline"),Promise.resolve()}))},d.prototype.Nr=function(u){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+u.toString()),this.Dr("Offline")))},d.prototype.set=function(u){this.kr(),this.vr=0,"Online"===u&&(this.Vr=!1),this.Dr(u)},d.prototype.Dr=function(u){u!==this.state&&(this.state=u,this.onlineStateHandler(u))},d.prototype.Cr=function(u){var f="Could not reach Cloud Firestore backend. "+u+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Xi(f),this.Vr=!1):Yt("OnlineStateTracker",f)},d.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},d}(),dc=function(d,u,f,y,w){var E=this;this.localStore=d,this.datastore=u,this.asyncQueue=f,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=w,this.Lr.di(function(M){f.enqueueAndForget(function(){return(0,V.mG)(E,void 0,void 0,function(){return(0,V.Jh)(this,function(P){switch(P.label){case 0:return Tl(this)?(Yt("RemoteStore","Restarting streams for network reachability change."),[4,function(H){return(0,V.mG)(this,void 0,void 0,function(){var z;return(0,V.Jh)(this,function(ie){switch(ie.label){case 0:return(z=W(H)).Or.add(4),[4,cu(z)];case 1:return ie.sent(),z.Br.set("Unknown"),z.Or.delete(4),[4,lu(z)];case 2:return ie.sent(),[2]}})})}(this)]):[3,2];case 1:P.sent(),P.label=2;case 2:return[2]}})})})}),this.Br=new _T(f,y)};function lu(d){return(0,V.mG)(this,void 0,void 0,function(){var u,f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:if(!Tl(d))return[3,4];u=0,f=d.Mr,y.label=1;case 1:return u<f.length?[4,(0,f[u])(!0)]:[3,4];case 2:y.sent(),y.label=3;case 3:return u++,[3,1];case 4:return[2]}})})}function cu(d){return(0,V.mG)(this,void 0,void 0,function(){var u,f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:u=0,f=d.Mr,y.label=1;case 1:return u<f.length?[4,(0,f[u])(!1)]:[3,4];case 2:y.sent(),y.label=3;case 3:return u++,[3,1];case 4:return[2]}})})}function rp(d,u){var f=W(d);f.$r.has(u.targetId)||(f.$r.set(u.targetId,u),Hg(f)?ab(f):El(f).er()&&Th(f,u))}function hc(d,u){var f=W(d),y=El(f);f.$r.delete(u),y.er()&&sb(f,u),0===f.$r.size&&(y.er()?y.ir():Tl(f)&&f.Br.set("Unknown"))}function Th(d,u){d.qr.U(u.targetId),El(d).mr(u)}function sb(d,u){d.qr.U(u),El(d).yr(u)}function ab(d){d.qr=new Pv({getRemoteKeysForTarget:function(u){return d.remoteSyncer.getRemoteKeysForTarget(u)},lt:function(u){return d.$r.get(u)||null}}),El(d).start(),d.Br.Sr()}function Hg(d){return Tl(d)&&!El(d).tr()&&d.$r.size>0}function Tl(d){return 0===W(d).Or.size}function L_(d){d.qr=void 0}function lb(d){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){return d.$r.forEach(function(f,y){Th(d,f)}),[2]})})}function V_(d,u){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(f){return L_(d),Hg(d)?(d.Br.Nr(u),ab(d)):d.Br.set("Unknown"),[2]})})}function cb(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w,E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:if(d.Br.set("Online"),!(u instanceof Xc&&2===u.state&&u.cause))return[3,6];M.label=1;case 1:return M.trys.push([1,3,,5]),[4,function(P,H){return(0,V.mG)(this,void 0,void 0,function(){var z,ie,ge,ye;return(0,V.Jh)(this,function(Ye){switch(Ye.label){case 0:z=H.cause,ie=0,ge=H.targetIds,Ye.label=1;case 1:return ie<ge.length?P.$r.has(ye=ge[ie])?[4,P.remoteSyncer.rejectListen(ye,z)]:[3,3]:[3,5];case 2:Ye.sent(),P.$r.delete(ye),P.qr.removeTarget(ye),Ye.label=3;case 3:Ye.label=4;case 4:return ie++,[3,1];case 5:return[2]}})})}(d,u)];case 2:return M.sent(),[3,5];case 3:return y=M.sent(),Yt("RemoteStore","Failed to remove targets %s: %s ",u.targetIds.join(","),y),[4,op(d,y)];case 4:return M.sent(),[3,5];case 5:return[3,13];case 6:if(u instanceof da?d.qr.X(u):u instanceof Cg?d.qr.rt(u):d.qr.et(u),f.isEqual(zn.min()))return[3,13];M.label=7;case 7:return M.trys.push([7,11,,13]),[4,S_(d.localStore)];case 8:return w=M.sent(),f.compareTo(w)>=0?[4,(P=d,H=f,z=P.qr.ut(H),z.targetChanges.forEach(function(ie,ge){if(ie.resumeToken.approximateByteSize()>0){var ye=P.$r.get(ge);ye&&P.$r.set(ge,ye.withResumeToken(ie.resumeToken,H))}}),z.targetMismatches.forEach(function(ie){var ge=P.$r.get(ie);if(ge){P.$r.set(ie,ge.withResumeToken(Yr.EMPTY_BYTE_STRING,ge.snapshotVersion)),sb(P,ie);var ye=new gh(ge.target,ie,1,ge.sequenceNumber);Th(P,ye)}}),P.remoteSyncer.applyRemoteEvent(z))]:[3,10];case 9:M.sent(),M.label=10;case 10:return[3,13];case 11:return Yt("RemoteStore","Failed to raise snapshot:",E=M.sent()),[4,op(d,E)];case 12:return M.sent(),[3,13];case 13:return[2]}var P,H,z})})}function op(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y=this;return(0,V.Jh)(this,function(w){switch(w.label){case 0:if(!yl(u))throw u;return d.Or.add(1),[4,cu(d)];case 1:return w.sent(),d.Br.set("Offline"),f||(f=function(){return S_(d.localStore)}),d.asyncQueue.enqueueRetryable(function(){return(0,V.mG)(y,void 0,void 0,function(){return(0,V.Jh)(this,function(E){switch(E.label){case 0:return Yt("RemoteStore","Retrying IndexedDB access"),[4,f()];case 1:return E.sent(),d.Or.delete(1),[4,lu(d)];case 2:return E.sent(),[2]}})})}),[2]}})})}function sp(d,u){return u().catch(function(f){return op(d,f,u)})}function Eh(d){return(0,V.mG)(this,void 0,void 0,function(){var u,f,y,w,E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:u=W(d),f=Gs(u),y=u.Fr.length>0?u.Fr[u.Fr.length-1].batchId:-1,M.label=1;case 1:if(!(Tl(P=u)&&P.Fr.length<10))return[3,7];M.label=2;case 2:return M.trys.push([2,4,,6]),[4,Io(u.localStore,y)];case 3:return null===(w=M.sent())?(0===u.Fr.length&&f.ir(),[3,7]):(y=w.batchId,function(P,H){P.Fr.push(H);var z=Gs(P);z.er()&&z.pr&&z.Er(H.mutations)}(u,w),[3,6]);case 4:return E=M.sent(),[4,op(u,E)];case 5:return M.sent(),[3,6];case 6:return[3,1];case 7:return ap(u)&&xh(u),[2]}var P})})}function ap(d){return Tl(d)&&!Gs(d).tr()&&d.Fr.length>0}function xh(d){Gs(d).start()}function pa(d){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){return Gs(d).Ar(),[2]})})}function B_(d){return(0,V.mG)(this,void 0,void 0,function(){var u,f,y;return(0,V.Jh)(this,function(E){for(u=Gs(d),f=0,y=d.Fr;f<y.length;f++)u.Er(y[f].mutations);return[2]})})}function Fw(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return y=d.Fr.shift(),w=Bv.from(y,u,f),[4,sp(d,function(){return d.remoteSyncer.applySuccessfulWrite(w)})];case 1:return E.sent(),[4,Eh(d)];case 2:return E.sent(),[2]}})})}function ub(d,u){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(f){switch(f.label){case 0:return u&&Gs(d).pr?[4,function(y,w){return(0,V.mG)(this,void 0,void 0,function(){var E,M;return(0,V.Jh)(this,function(P){switch(P.label){case 0:return ua(M=w.code)&&M!==it.ABORTED?(E=y.Fr.shift(),Gs(y).sr(),[4,sp(y,function(){return y.remoteSyncer.rejectFailedWrite(E.batchId,w)})]):[3,3];case 1:return P.sent(),[4,Eh(y)];case 2:P.sent(),P.label=3;case 3:return[2]}})})}(d,u)]:[3,2];case 1:f.sent(),f.label=2;case 2:return ap(d)&&xh(d),[2]}})})}function Sh(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:return f=W(d),u?(f.Or.delete(2),[4,lu(f)]):[3,2];case 1:return y.sent(),[3,5];case 2:return u?[3,4]:(f.Or.add(2),[4,cu(f)]);case 3:y.sent(),f.Br.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function El(d){var f,y,w,E,u=this;return d.Ur||(d.Ur=(f=d.datastore,y=d.asyncQueue,w={Ii:lb.bind(null,d),Ri:V_.bind(null,d),_r:cb.bind(null,d)},(E=W(f)).br(),new F_(y,E.Hi,E.credentials,E.R,w)),d.Mr.push(function(f){return(0,V.mG)(u,void 0,void 0,function(){return(0,V.Jh)(this,function(y){switch(y.label){case 0:return f?(d.Ur.sr(),Hg(d)?ab(d):d.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,d.Ur.stop()];case 2:y.sent(),L_(d),y.label=3;case 3:return[2]}})})})),d.Ur}function Gs(d){var f,y,w,E,u=this;return d.Kr||(d.Kr=(f=d.datastore,y=d.asyncQueue,w={Ii:pa.bind(null,d),Ri:ub.bind(null,d),Ir:B_.bind(null,d),Tr:Fw.bind(null,d)},(E=W(f)).br(),new Bg(y,E.Hi,E.credentials,E.R,w)),d.Mr.push(function(f){return(0,V.mG)(u,void 0,void 0,function(){return(0,V.Jh)(this,function(y){switch(y.label){case 0:return f?(d.Kr.sr(),[4,Eh(d)]):[3,2];case 1:return y.sent(),[3,4];case 2:return[4,d.Kr.stop()];case 3:y.sent(),d.Fr.length>0&&(Yt("RemoteStore","Stopping write stream with "+d.Fr.length+" pending writes"),d.Fr=[]),y.label=4;case 4:return[2]}})})})),d.Kr}var db=function(){function d(u,f,y,w,E){this.asyncQueue=u,this.timerId=f,this.targetTimeMs=y,this.op=w,this.removalCallback=E,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(M){})}return d.createAndSchedule=function(u,f,y,w,E){var M=new d(u,f,Date.now()+y,w,E);return M.start(y),M},d.prototype.start=function(u){var f=this;this.timerHandle=setTimeout(function(){return f.handleDelayElapsed()},u)},d.prototype.skipDelay=function(){return this.handleDelayElapsed()},d.prototype.cancel=function(u){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(it.CANCELLED,"Operation cancelled"+(u?": "+u:""))))},d.prototype.handleDelayElapsed=function(){var u=this;this.asyncQueue.enqueueAndForget(function(){return null!==u.timerHandle?(u.clearTimeout(),u.op().then(function(f){return u.deferred.resolve(f)})):Promise.resolve()})},d.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},d}();function Dh(d,u){if(Xi("AsyncQueue",u+": "+d),yl(d))return new Ot(it.UNAVAILABLE,u+": "+d);throw d}var uu=function(){function d(u){this.comparator=u?function(f,y){return u(f,y)||on.comparator(f.key,y.key)}:function(f,y){return on.comparator(f.key,y.key)},this.keyedMap=sc(),this.sortedSet=new So(this.comparator)}return d.emptySet=function(u){return new d(u.comparator)},d.prototype.has=function(u){return null!=this.keyedMap.get(u)},d.prototype.get=function(u){return this.keyedMap.get(u)},d.prototype.first=function(){return this.sortedSet.minKey()},d.prototype.last=function(){return this.sortedSet.maxKey()},d.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},d.prototype.indexOf=function(u){var f=this.keyedMap.get(u);return f?this.sortedSet.indexOf(f):-1},Object.defineProperty(d.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),d.prototype.forEach=function(u){this.sortedSet.inorderTraversal(function(f,y){return u(f),!1})},d.prototype.add=function(u){var f=this.delete(u.key);return f.copy(f.keyedMap.insert(u.key,u),f.sortedSet.insert(u,null))},d.prototype.delete=function(u){var f=this.get(u);return f?this.copy(this.keyedMap.remove(u),this.sortedSet.remove(f)):this},d.prototype.isEqual=function(u){if(!(u instanceof d)||this.size!==u.size)return!1;for(var f=this.sortedSet.getIterator(),y=u.sortedSet.getIterator();f.hasNext();){var w=f.getNext().key,E=y.getNext().key;if(!w.isEqual(E))return!1}return!0},d.prototype.toString=function(){var u=[];return this.forEach(function(f){u.push(f.toString())}),0===u.length?"DocumentSet ()":"DocumentSet (\n  "+u.join("  \n")+"\n)"},d.prototype.copy=function(u,f){var y=new d;return y.comparator=this.comparator,y.keyedMap=u,y.sortedSet=f,y},d}(),Za=function(){function d(){this.Qr=new So(on.comparator)}return d.prototype.track=function(u){var f=u.doc.key,y=this.Qr.get(f);y?0!==u.type&&3===y.type?this.Qr=this.Qr.insert(f,u):3===u.type&&1!==y.type?this.Qr=this.Qr.insert(f,{type:y.type,doc:u.doc}):2===u.type&&2===y.type?this.Qr=this.Qr.insert(f,{type:2,doc:u.doc}):2===u.type&&0===y.type?this.Qr=this.Qr.insert(f,{type:0,doc:u.doc}):1===u.type&&0===y.type?this.Qr=this.Qr.remove(f):1===u.type&&2===y.type?this.Qr=this.Qr.insert(f,{type:1,doc:y.doc}):0===u.type&&1===y.type?this.Qr=this.Qr.insert(f,{type:2,doc:u.doc}):Nn():this.Qr=this.Qr.insert(f,u)},d.prototype.jr=function(){var u=[];return this.Qr.inorderTraversal(function(f,y){u.push(y)}),u},d}(),rd=function(){function d(u,f,y,w,E,M,P,H){this.query=u,this.docs=f,this.oldDocs=y,this.docChanges=w,this.mutatedKeys=E,this.fromCache=M,this.syncStateChanged=P,this.excludesMetadataChanges=H}return d.fromInitialDocuments=function(u,f,y,w){var E=[];return f.forEach(function(M){E.push({type:0,doc:M})}),new d(u,f,uu.emptySet(f),E,y,w,!0,!1)},Object.defineProperty(d.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),d.prototype.isEqual=function(u){if(!(this.fromCache===u.fromCache&&this.syncStateChanged===u.syncStateChanged&&this.mutatedKeys.isEqual(u.mutatedKeys)&&Fo(this.query,u.query)&&this.docs.isEqual(u.docs)&&this.oldDocs.isEqual(u.oldDocs)))return!1;var f=this.docChanges,y=u.docChanges;if(f.length!==y.length)return!1;for(var w=0;w<f.length;w++)if(f[w].type!==y[w].type||!f[w].doc.isEqual(y[w].doc))return!1;return!0},d}(),Ih=function(){this.Wr=void 0,this.listeners=[]},Mh=function(){this.queries=new kg(function(d){return qu(d)},Fo),this.onlineState="Unknown",this.Gr=new Set};function Ug(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w,E,M,P,H;return(0,V.Jh)(this,function(z){switch(z.label){case 0:if(f=W(d),w=!1,(E=f.queries.get(y=u.query))||(w=!0,E=new Ih),!w)return[3,4];z.label=1;case 1:return z.trys.push([1,3,,4]),M=E,[4,f.onListen(y)];case 2:return M.Wr=z.sent(),[3,4];case 3:return P=z.sent(),H=Dh(P,"Initialization of query '"+tc(u.query)+"' failed"),[2,void u.onError(H)];case 4:return f.queries.set(y,E),E.listeners.push(u),u.zr(f.onlineState),E.Wr&&u.Hr(E.Wr)&&Ah(f),[2]}})})}function er(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w,E,M;return(0,V.Jh)(this,function(P){return f=W(d),w=!1,(E=f.queries.get(y=u.query))&&(M=E.listeners.indexOf(u))>=0&&(E.listeners.splice(M,1),w=0===E.listeners.length),w?[2,(f.queries.delete(y),f.onUnlisten(y))]:[2]})})}function jg(d,u){for(var f=W(d),y=!1,w=0,E=u;w<E.length;w++){var M=E[w],H=f.queries.get(M.query);if(H){for(var z=0,ie=H.listeners;z<ie.length;z++)ie[z].Hr(M)&&(y=!0);H.Wr=M}}y&&Ah(f)}function hb(d,u,f){var y=W(d),w=y.queries.get(u);if(w)for(var E=0,M=w.listeners;E<M.length;E++)M[E].onError(f);y.queries.delete(u)}function Ah(d){d.Gr.forEach(function(u){u.next()})}var kh=function(){function d(u,f,y){this.query=u,this.Jr=f,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=y||{}}return d.prototype.Hr=function(u){if(!this.options.includeMetadataChanges){for(var f=[],y=0,w=u.docChanges;y<w.length;y++){var E=w[y];3!==E.type&&f.push(E)}u=new rd(u.query,u.docs,u.oldDocs,f,u.mutatedKeys,u.fromCache,u.syncStateChanged,!0)}var M=!1;return this.Yr?this.Zr(u)&&(this.Jr.next(u),M=!0):this.eo(u,this.onlineState)&&(this.no(u),M=!0),this.Xr=u,M},d.prototype.onError=function(u){this.Jr.error(u)},d.prototype.zr=function(u){this.onlineState=u;var f=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,u)&&(this.no(this.Xr),f=!0),f},d.prototype.eo=function(u,f){return!u.fromCache||!(this.options.so&&"Offline"!==f||u.docs.isEmpty()&&"Offline"!==f)},d.prototype.Zr=function(u){return u.docChanges.length>0||!!(u.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==u.hasPendingWrites)&&!0===this.options.includeMetadataChanges},d.prototype.no=function(u){u=rd.fromInitialDocuments(u.query,u.docs,u.mutatedKeys,u.fromCache),this.Yr=!0,this.Jr.next(u)},d}(),lp=function(){function d(u,f){this.payload=u,this.byteLength=f}return d.prototype.io=function(){return"metadata"in this.payload},d}(),Lw=function(){function d(u){this.R=u}return d.prototype.qn=function(u){return L(this.R,u)},d.prototype.Un=function(u){return u.metadata.exists?bn(this.R,u.document,!1):Kr.newNoDocument(this.qn(u.metadata.name),this.Kn(u.metadata.readTime))},d.prototype.Kn=function(u){return lo(u)},d}();!function(){function d(u,f,y){this.ro=u,this.localStore=f,this.R=y,this.queries=[],this.documents=[],this.progress=function fb(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(u)}d.prototype.oo=function(u){this.progress.bytesLoaded+=u.byteLength;var f=this.progress.documentsLoaded;return u.payload.namedQuery?this.queries.push(u.payload.namedQuery):u.payload.documentMetadata?(this.documents.push({metadata:u.payload.documentMetadata}),u.payload.documentMetadata.exists||++f):u.payload.document&&(this.documents[this.documents.length-1].document=u.payload.document,++f),f!==this.progress.documentsLoaded?(this.progress.documentsLoaded=f,Object.assign({},this.progress)):null},d.prototype.co=function(u){for(var f=new Map,y=new Lw(this.R),w=0,E=u;w<E.length;w++){var M=E[w];if(M.metadata.queries)for(var P=y.qn(M.metadata.name),H=0,z=M.metadata.queries;H<z.length;H++){var ie=z[H],ge=(f.get(ie)||ki()).add(P);f.set(ie,ge)}}return f},d.prototype.complete=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f,y,w,E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return[4,ps(this.localStore,new Lw(this.R),this.documents,this.ro.id)];case 1:u=M.sent(),f=this.co(this.documents),y=0,w=this.queries,M.label=2;case 2:return y<w.length?[4,Ng(this.localStore,E=w[y],f.get(E.name))]:[3,5];case 3:M.sent(),M.label=4;case 4:return y++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Iw(Object.assign({},this.progress),u))]}})})}}();var H_=function(d){this.key=d},pb=function(d){this.key=d},yT=function(){function d(u,f){this.query=u,this.uo=f,this.ao=null,this.current=!1,this.ho=ki(),this.mutatedKeys=ki(),this.lo=rh(u),this.fo=new uu(this.lo)}return Object.defineProperty(d.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),d.prototype._o=function(u,f){var y=this,w=f?f.mo:new Za,E=f?f.fo:this.fo,M=f?f.mutatedKeys:this.mutatedKeys,P=E,H=!1,z=Hf(this.query)&&E.size===this.query.limit?E.last():null,ie=ec(this.query)&&E.size===this.query.limit?E.first():null;if(u.inorderTraversal(function(ye,Ye){var Ge=E.get(ye),at=ml(y.query,Ye)?Ye:null,Lt=!!Ge&&y.mutatedKeys.has(Ge.key),Xt=!!at&&(at.hasLocalMutations||y.mutatedKeys.has(at.key)&&at.hasCommittedMutations),Hn=!1;Ge&&at?Ge.data.isEqual(at.data)?Lt!==Xt&&(w.track({type:3,doc:at}),Hn=!0):y.yo(Ge,at)||(w.track({type:2,doc:at}),Hn=!0,(z&&y.lo(at,z)>0||ie&&y.lo(at,ie)<0)&&(H=!0)):!Ge&&at?(w.track({type:0,doc:at}),Hn=!0):Ge&&!at&&(w.track({type:1,doc:Ge}),Hn=!0,(z||ie)&&(H=!0)),Hn&&(at?(P=P.add(at),M=Xt?M.add(ye):M.delete(ye)):(P=P.delete(ye),M=M.delete(ye)))}),Hf(this.query)||ec(this.query))for(;P.size>this.query.limit;){var ge=Hf(this.query)?P.last():P.first();P=P.delete(ge.key),M=M.delete(ge.key),w.track({type:1,doc:ge})}return{fo:P,mo:w,Nn:H,mutatedKeys:M}},d.prototype.yo=function(u,f){return u.hasLocalMutations&&f.hasCommittedMutations&&!f.hasLocalMutations},d.prototype.applyChanges=function(u,f,y){var w=this,E=this.fo;this.fo=u.fo,this.mutatedKeys=u.mutatedKeys;var M=u.mo.jr();M.sort(function(ie,ge){return Ye=ge.type,(Ge=function(at){switch(at){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nn()}})(ie.type)-Ge(Ye)||w.lo(ie.doc,ge.doc);var Ye,Ge}),this.po(y);var P=f?this.Eo():[],H=0===this.ho.size&&this.current?1:0,z=H!==this.ao;return this.ao=H,0!==M.length||z?{snapshot:new rd(this.query,u.fo,E,M,u.mutatedKeys,0===H,z,!1),To:P}:{To:P}},d.prototype.zr=function(u){return this.current&&"Offline"===u?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Za,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},d.prototype.Io=function(u){return!this.uo.has(u)&&!!this.fo.has(u)&&!this.fo.get(u).hasLocalMutations},d.prototype.po=function(u){var f=this;u&&(u.addedDocuments.forEach(function(y){return f.uo=f.uo.add(y)}),u.modifiedDocuments.forEach(function(y){}),u.removedDocuments.forEach(function(y){return f.uo=f.uo.delete(y)}),this.current=u.current)},d.prototype.Eo=function(){var u=this;if(!this.current)return[];var f=this.ho;this.ho=ki(),this.fo.forEach(function(w){u.Io(w.key)&&(u.ho=u.ho.add(w.key))});var y=[];return f.forEach(function(w){u.ho.has(w)||y.push(new pb(w))}),this.ho.forEach(function(w){f.has(w)||y.push(new H_(w))}),y},d.prototype.Ao=function(u){this.uo=u.Bn,this.ho=ki();var f=this._o(u.documents);return this.applyChanges(f,!0)},d.prototype.Ro=function(){return rd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},d}(),cp=function(d,u,f){this.query=d,this.targetId=u,this.view=f},od=function(d){this.key=d,this.bo=!1},gb=function(){function d(u,f,y,w,E,M){this.localStore=u,this.remoteStore=f,this.eventManager=y,this.sharedClientState=w,this.currentUser=E,this.maxConcurrentLimboResolutions=M,this.vo={},this.Po=new kg(function(P){return qu(P)},Fo),this.Vo=new Map,this.So=new Set,this.Do=new So(on.comparator),this.Co=new Map,this.No=new Lg,this.xo={},this.ko=new Map,this.Fo=Qf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(d.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),d}();function Bw(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,w,E,M,P;return(0,V.Jh)(this,function(H){switch(H.label){case 0:return f=Wg(d),(E=f.Po.get(u))?(f.sharedClientState.addLocalQueryTarget(E.targetId),w=E.view.Ro(),[3,4]):[3,1];case 1:return[4,Gr(f.localStore,xo(u))];case 2:return M=H.sent(),P=f.sharedClientState.addLocalQueryTarget(M.targetId),[4,U_(f,u,M.targetId,"current"===P)];case 3:w=H.sent(),f.isPrimaryClient&&rp(f.remoteStore,M),H.label=4;case 4:return[2,w]}})})}function U_(d,u,f,y){return(0,V.mG)(this,void 0,void 0,function(){var w,E,M,P,H,z;return(0,V.Jh)(this,function(ie){switch(ie.label){case 0:return d.Oo=function(ge,ye,Ye){return function(Ge,at,Lt,Xt){return(0,V.mG)(this,void 0,void 0,function(){var Hn,yn,bi;return(0,V.Jh)(this,function(Ri){switch(Ri.label){case 0:return(Hn=at.view._o(Lt)).Nn?[4,uo(Ge.localStore,at.query,!1).then(function(Ki){return at.view._o(Ki.documents,Hn)})]:[3,2];case 1:Hn=Ri.sent(),Ri.label=2;case 2:return yn=Xt&&Xt.targetChanges.get(at.targetId),bi=at.view.applyChanges(Hn,Ge.isPrimaryClient,yn),[2,(G_(Ge,at.targetId,bi.To),bi.snapshot)]}})})}(d,ge,ye,Ye)},[4,uo(d.localStore,u,!0)];case 1:return w=ie.sent(),E=new yT(u,w.Bn),M=E._o(w.documents),P=lh.createSynthesizedTargetChangeForCurrentChange(f,y&&"Offline"!==d.onlineState),H=E.applyChanges(M,d.isPrimaryClient,P),G_(d,f,H.To),z=new cp(u,f,E),[2,(d.Po.set(u,z),d.Vo.has(f)?d.Vo.get(f).push(u):d.Vo.set(f,[u]),H.snapshot)]}})})}function gs(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return f=W(d),y=f.Po.get(u),(w=f.Vo.get(y.targetId)).length>1?[2,(f.Vo.set(y.targetId,w.filter(function(M){return!Fo(M,u)})),void f.Po.delete(u))]:f.isPrimaryClient?(f.sharedClientState.removeLocalQueryTarget(y.targetId),f.sharedClientState.isActiveQueryTarget(y.targetId)?[3,2]:[4,au(f.localStore,y.targetId,!1).then(function(){f.sharedClientState.clearQueryState(y.targetId),hc(f.remoteStore,y.targetId),Oh(f,y.targetId)}).catch(ou)]):[3,3];case 1:E.sent(),E.label=2;case 2:return[3,5];case 3:return Oh(f,y.targetId),[4,au(f.localStore,y.targetId,!0)];case 4:E.sent(),E.label=5;case 5:return[2]}})})}function vT(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w,E,M;return(0,V.Jh)(this,function(P){switch(P.label){case 0:y=Yg(d),P.label=1;case 1:return P.trys.push([1,5,,6]),[4,(H=y.localStore,z=u,ge=W(H),ye=$i.now(),Ye=z.reduce(function(Ge,at){return Ge.add(at.key)},ki()),ge.persistence.runTransaction("Locally write mutations","readwrite",function(Ge){return ge.Mn.pn(Ge,Ye).next(function(at){ie=at;for(var Lt=[],Xt=0,Hn=z;Xt<Hn.length;Xt++){var yn=Hn[Xt],bi=wg(yn,ie.get(yn.key));null!=bi&&Lt.push(new Wu(yn.key,bi,gl(bi.value.mapValue),ao.exists(!0)))}return ge._n.addMutationBatch(Ge,ye,Lt,z)})}).then(function(Ge){return Ge.applyToLocalDocumentSet(ie),{batchId:Ge.batchId,changes:ie}}))];case 2:return w=P.sent(),y.sharedClientState.addPendingMutation(w.batchId),function(H,z,ie){var ge=H.xo[H.currentUser.toKey()];ge||(ge=new So(Zn)),ge=ge.insert(z,ie),H.xo[H.currentUser.toKey()]=ge}(y,w.batchId,f),[4,$a(y,w.changes)];case 3:return P.sent(),[4,Eh(y.remoteStore)];case 4:return P.sent(),[3,6];case 5:return E=P.sent(),M=Dh(E,"Failed to persist write"),f.reject(M),[3,6];case 6:return[2]}var H,z,ie,ge,ye,Ye})})}function mb(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y;return(0,V.Jh)(this,function(w){switch(w.label){case 0:f=W(d),w.label=1;case 1:return w.trys.push([1,4,,6]),[4,eb(f.localStore,u)];case 2:return y=w.sent(),u.targetChanges.forEach(function(E,M){var P=f.Co.get(M);P&&(Fn(E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size<=1),E.addedDocuments.size>0?P.bo=!0:E.modifiedDocuments.size>0?Fn(P.bo):E.removedDocuments.size>0&&(Fn(P.bo),P.bo=!1))}),[4,$a(f,y,u)];case 3:return w.sent(),[3,6];case 4:return[4,ou(w.sent())];case 5:return w.sent(),[3,6];case 6:return[2]}})})}function _b(d,u,f){var y=W(d);if(y.isPrimaryClient&&0===f||!y.isPrimaryClient&&1===f){var w=[];y.Po.forEach(function(E,M){var P=M.view.zr(u);P.snapshot&&w.push(P.snapshot)}),function(E,M){var P=W(E);P.onlineState=M;var H=!1;P.queries.forEach(function(z,ie){for(var ge=0,ye=ie.listeners;ge<ye.length;ge++)ye[ge].zr(M)&&(H=!0)}),H&&Ah(P)}(y.eventManager,u),w.length&&y.vo._r(w),y.onlineState=u,y.isPrimaryClient&&y.sharedClientState.setOnlineState(u)}}function bT(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w,E,M,P,H;return(0,V.Jh)(this,function(z){switch(z.label){case 0:return(y=W(d)).sharedClientState.updateQueryState(u,"rejected",f),w=y.Co.get(u),(E=w&&w.key)?(M=(M=new So(on.comparator)).insert(E,Kr.newNoDocument(E,zn.min())),P=ki().add(E),H=new $f(zn.min(),new Map,new zr(Zn),M,P),[4,mb(y,H)]):[3,2];case 1:return z.sent(),y.Do=y.Do.remove(E),y.Co.delete(u),q_(y),[3,4];case 2:return[4,au(y.localStore,u,!1).then(function(){return Oh(y,u,f)}).catch(ou)];case 3:z.sent(),z.label=4;case 4:return[2]}})})}function Hw(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:f=W(d),y=u.batch.batchId,E.label=1;case 1:return E.trys.push([1,4,,6]),[4,Xv(f.localStore,u)];case 2:return w=E.sent(),z_(f,y,null),zg(f,y),f.sharedClientState.updateMutationState(y,"acknowledged"),[4,$a(f,w)];case 3:return E.sent(),[3,6];case 4:return[4,ou(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}})})}function Uw(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:y=W(d),E.label=1;case 1:return E.trys.push([1,4,,6]),[4,(M=y.localStore,P=u,H=W(M),H.persistence.runTransaction("Reject batch","readwrite-primary",function(z){var ie;return H._n.lookupMutationBatch(z,P).next(function(ge){return Fn(null!==ge),ie=ge.keys(),H._n.removeMutationBatch(z,ge)}).next(function(){return H._n.performConsistencyCheck(z)}).next(function(){return H.Mn.pn(z,ie)})}))];case 2:return w=E.sent(),z_(y,u,f),zg(y,u),y.sharedClientState.updateMutationState(u,"rejected",f),[4,$a(y,w)];case 3:return E.sent(),[3,6];case 4:return[4,ou(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}var M,P,H})})}function j_(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w,E,M;return(0,V.Jh)(this,function(P){switch(P.label){case 0:Tl((f=W(d)).remoteStore)||Yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,(H=f.localStore,z=W(H),z.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(ie){return z._n.getHighestUnacknowledgedBatchId(ie)}))];case 2:return-1===(y=P.sent())?[2,void u.resolve()]:((w=f.ko.get(y)||[]).push(u),f.ko.set(y,w),[3,4]);case 3:return E=P.sent(),M=Dh(E,"Initialization of waitForPendingWrites() operation failed"),u.reject(M),[3,4];case 4:return[2]}var H,z})})}function zg(d,u){(d.ko.get(u)||[]).forEach(function(f){f.resolve()}),d.ko.delete(u)}function z_(d,u,f){var y=W(d),w=y.xo[y.currentUser.toKey()];if(w){var E=w.get(u);E&&(f?E.reject(f):E.resolve(),w=w.remove(u)),y.xo[y.currentUser.toKey()]=w}}function Oh(d,u,f){void 0===f&&(f=null),d.sharedClientState.removeLocalQueryTarget(u);for(var y=0,w=d.Vo.get(u);y<w.length;y++){var E=w[y];d.Po.delete(E),f&&d.vo.Mo(E,f)}d.Vo.delete(u),d.isPrimaryClient&&d.No.Zn(u).forEach(function(M){d.No.containsKey(M)||ri(d,M)})}function ri(d,u){d.So.delete(u.path.canonicalString());var f=d.Do.get(u);null!==f&&(hc(d.remoteStore,f),d.Do=d.Do.remove(u),d.Co.delete(f),q_(d))}function G_(d,u,f){for(var y=0,w=f;y<w.length;y++){var E=w[y];E instanceof H_?(d.No.addReference(E.key,u),jw(d,E)):E instanceof pb?(Yt("SyncEngine","Document no longer in limbo: "+E.key),d.No.removeReference(E.key,u),d.No.containsKey(E.key)||ri(d,E.key)):Nn()}}function jw(d,u){var f=u.key,y=f.path.canonicalString();d.Do.get(f)||d.So.has(y)||(Yt("SyncEngine","New document in limbo: "+f),d.So.add(y),q_(d))}function q_(d){for(;d.So.size>0&&d.Do.size<d.maxConcurrentLimboResolutions;){var u=d.So.values().next().value;d.So.delete(u);var f=new on(gi.fromString(u)),y=d.Fo.next();d.Co.set(y,new od(f)),d.Do=d.Do.insert(f,y),rp(d.remoteStore,new gh(xo(Zc(f.path)),y,2,ds.o))}}function $a(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w,E,M;return(0,V.Jh)(this,function(P){switch(P.label){case 0:return y=W(d),w=[],E=[],M=[],y.Po.isEmpty()?[3,3]:(y.Po.forEach(function(H,z){M.push(y.Oo(z,u,f).then(function(ie){if(ie){y.isPrimaryClient&&y.sharedClientState.updateQueryState(z.targetId,ie.fromCache?"not-current":"current"),w.push(ie);var ge=Mw.Pn(z.targetId,ie);E.push(ge)}}))}),[4,Promise.all(M)]);case 1:return P.sent(),y.vo._r(w),[4,function(H,z){return(0,V.mG)(this,void 0,void 0,function(){var ie,ge,ye,Ye,Ge,at,Lt,Hn;return(0,V.Jh)(this,function(yn){switch(yn.label){case 0:ie=W(H),yn.label=1;case 1:return yn.trys.push([1,3,,4]),[4,ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(bi){return jt.forEach(z,function(Ri){return jt.forEach(Ri.bn,function(Ki){return ie.persistence.referenceDelegate.addReference(bi,Ri.targetId,Ki)}).next(function(){return jt.forEach(Ri.vn,function(Ki){return ie.persistence.referenceDelegate.removeReference(bi,Ri.targetId,Ki)})})})})];case 2:return yn.sent(),[3,4];case 3:if(!yl(ge=yn.sent()))throw ge;return Yt("LocalStore","Failed to update sequence numbers: "+ge),[3,4];case 4:for(ye=0,Ye=z;ye<Ye.length;ye++)at=(Ge=Ye[ye]).targetId,Ge.fromCache||(Lt=ie.kn.get(at),Hn=Lt.withLastLimboFreeSnapshotVersion(Lt.snapshotVersion),ie.kn=ie.kn.insert(at,Hn));return[2]}})})}(y.localStore,E)];case 2:P.sent(),P.label=3;case 3:return[2]}})})}function Gg(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y;return(0,V.Jh)(this,function(w){switch(w.label){case 0:return(f=W(d)).currentUser.isEqual(u)?[3,3]:(Yt("SyncEngine","User change. New user:",u.toKey()),[4,Qv(f.localStore,u)]);case 1:return y=w.sent(),f.currentUser=u,(E=f).ko.forEach(function(P){P.forEach(function(H){H.reject(new Ot(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.ko.clear(),f.sharedClientState.handleUserChange(u,y.removedBatchIds,y.addedBatchIds),[4,$a(f,y.Ln)];case 2:w.sent(),w.label=3;case 3:return[2]}var E})})}function qg(d,u){var f=W(d),y=f.Co.get(u);if(y&&y.bo)return ki().add(y.key);var w=ki(),E=f.Vo.get(u);if(!E)return w;for(var M=0,P=E;M<P.length;M++){var z=f.Po.get(P[M]);w=w.unionWith(z.view.wo)}return w}function yb(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return[4,uo((f=W(d)).localStore,u.query,!0)];case 1:return y=E.sent(),w=u.view.Ao(y),[2,(f.isPrimaryClient&&G_(f,u.targetId,w.To),w)]}})})}function vb(d){return(0,V.mG)(this,void 0,void 0,function(){var u;return(0,V.Jh)(this,function(f){return[2,tb((u=W(d)).localStore).then(function(y){return $a(u,y)})]})})}function Zg(d,u,f,y){return(0,V.mG)(this,void 0,void 0,function(){var w,E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return[4,(P=(w=W(d)).localStore,H=u,z=W(P),ie=W(z._n),z.persistence.runTransaction("Lookup mutation documents","readonly",function(ge){return ie.jt(ge,H).next(function(ye){return ye?z.Mn.pn(ge,ye):jt.resolve(null)})}))];case 1:return null===(E=M.sent())?[3,6]:"pending"!==f?[3,3]:[4,Eh(w.remoteStore)];case 2:return M.sent(),[3,4];case 3:"acknowledged"===f||"rejected"===f?(z_(w,u,y||null),zg(w,u),function(P,H){W(W(P)._n).Gt(H)}(w.localStore,u)):Nn(),M.label=4;case 4:return[4,$a(w,E)];case 5:return M.sent(),[3,7];case 6:Yt("SyncEngine","Cannot apply mutation batch with id: "+u),M.label=7;case 7:return[2]}var P,H,z,ie})})}function $g(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w,E,M,H,z;return(0,V.Jh)(this,function(ie){switch(ie.label){case 0:return Wg(f=W(d)),Yg(f),!0!==u||!0===f.$o?[3,3]:(y=f.sharedClientState.getAllActiveQueryTargets(),[4,wT(f,y.toArray())]);case 1:return w=ie.sent(),f.$o=!0,[4,Sh(f.remoteStore,!0)];case 2:for(ie.sent(),E=0,M=w;E<M.length;E++)rp(f.remoteStore,M[E]);return[3,7];case 3:return!1!==u||!1===f.$o?[3,7]:(H=[],z=Promise.resolve(),f.Vo.forEach(function(ge,ye){f.sharedClientState.isLocalQueryTarget(ye)?H.push(ye):z=z.then(function(){return Oh(f,ye),au(f.localStore,ye,!0)}),hc(f.remoteStore,ye)}),[4,z]);case 4:return ie.sent(),[4,wT(f,H)];case 5:return ie.sent(),(ye=W(f)).Co.forEach(function(Ye,Ge){hc(ye.remoteStore,Ge)}),ye.No.ts(),ye.Co=new Map,ye.Do=new So(on.comparator),f.$o=!1,[4,Sh(f.remoteStore,!1)];case 6:ie.sent(),ie.label=7;case 7:return[2]}var ye})})}function wT(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w,E,M,P,H,z,ie,ge,ye,Ge,at,Lt;return(0,V.Jh)(this,function(Xt){switch(Xt.label){case 0:y=W(d),w=[],E=[],M=0,P=u,Xt.label=1;case 1:return M<P.length?(z=void 0,(ie=y.Vo.get(H=P[M]))&&0!==ie.length?[4,Gr(y.localStore,xo(ie[0]))]:[3,7]):[3,13];case 2:z=Xt.sent(),ge=0,ye=ie,Xt.label=3;case 3:return ge<ye.length?(Ge=y.Po.get(ye[ge]),[4,yb(y,Ge)]):[3,6];case 4:(at=Xt.sent()).snapshot&&E.push(at.snapshot),Xt.label=5;case 5:return ge++,[3,3];case 6:return[3,11];case 7:return[4,I_(y.localStore,H)];case 8:return Lt=Xt.sent(),[4,Gr(y.localStore,Lt)];case 9:return z=Xt.sent(),[4,U_(y,qr(Lt),H,!1)];case 10:Xt.sent(),Xt.label=11;case 11:w.push(z),Xt.label=12;case 12:return M++,[3,1];case 13:return[2,(y.vo._r(E),w)]}})})}function qr(d){return zu(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function bb(d){var u=W(d);return W(W(u.localStore).persistence).fn()}function Rh(d,u,f,y){return(0,V.mG)(this,void 0,void 0,function(){var w,E,M;return(0,V.Jh)(this,function(P){switch(P.label){case 0:return(w=W(d)).$o?(Yt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!w.Vo.has(u))return[3,8];switch(f){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tb(w.localStore)];case 3:return E=P.sent(),M=$f.createSynthesizedRemoteEventForCurrentChange(u,"current"===f),[4,$a(w,E,M)];case 4:return P.sent(),[3,8];case 5:return[4,au(w.localStore,u,!0)];case 6:return P.sent(),Oh(w,u,y),[3,8];case 7:Nn(),P.label=8;case 8:return[2]}})})}function CT(d,u,f){return(0,V.mG)(this,void 0,void 0,function(){var y,w,E,M,P,H,z,ie,ge;return(0,V.Jh)(this,function(Ye){switch(Ye.label){case 0:if(!(y=Wg(d)).$o)return[3,10];w=0,E=u,Ye.label=1;case 1:return w<E.length?y.Vo.has(M=E[w])?(Yt("SyncEngine","Adding an already active target "+M),[3,5]):[4,I_(y.localStore,M)]:[3,6];case 2:return P=Ye.sent(),[4,Gr(y.localStore,P)];case 3:return H=Ye.sent(),[4,U_(y,qr(P),H.targetId,!1)];case 4:Ye.sent(),rp(y.remoteStore,H),Ye.label=5;case 5:return w++,[3,1];case 6:z=function(Ge){return(0,V.Jh)(this,function(at){switch(at.label){case 0:return y.Vo.has(Ge)?[4,au(y.localStore,Ge,!1).then(function(){hc(y.remoteStore,Ge),Oh(y,Ge)}).catch(ou)]:[3,2];case 1:at.sent(),at.label=2;case 2:return[2]}})},ie=0,ge=f,Ye.label=7;case 7:return ie<ge.length?[5,z(ge[ie])]:[3,10];case 8:Ye.sent(),Ye.label=9;case 9:return ie++,[3,7];case 10:return[2]}})})}function Wg(d){var u=W(d);return u.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,u),u.remoteStore.remoteSyncer.getRemoteKeysForTarget=qg.bind(null,u),u.remoteStore.remoteSyncer.rejectListen=bT.bind(null,u),u.vo._r=jg.bind(null,u.eventManager),u.vo.Mo=hb.bind(null,u.eventManager),u}function Yg(d){var u=W(d);return u.remoteStore.remoteSyncer.applySuccessfulWrite=Hw.bind(null,u),u.remoteStore.remoteSyncer.rejectFailedWrite=Uw.bind(null,u),u}var Gw=function(){function d(){this.synchronizeTabs=!1}return d.prototype.initialize=function(u){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(f){switch(f.label){case 0:return this.R=uc(u.databaseInfo.databaseId),this.sharedClientState=this.Bo(u),this.persistence=this.qo(u),[4,this.persistence.start()];case 1:return f.sent(),this.gcScheduler=this.Uo(u),this.localStore=this.Ko(u),[2]}})})},d.prototype.Uo=function(u){return null},d.prototype.Ko=function(u){return x_(this.persistence,new Jv,u.initialUser,this.R)},d.prototype.qo=function(u){return new O_(Rw.bs,this.R)},d.prototype.Bo=function(u){return new rb},d.prototype.terminate=function(){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){switch(u.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return u.sent(),[4,this.persistence.shutdown()];case 2:return u.sent(),[2]}})})},d}(),qw=function(d){function u(f,y,w){var E=this;return(E=d.call(this)||this).Qo=f,E.cacheSizeBytes=y,E.forceOwnership=w,E.synchronizeTabs=!1,E}return(0,V.ZT)(u,d),u.prototype.initialize=function(f){return(0,V.mG)(this,void 0,void 0,function(){var y=this;return(0,V.Jh)(this,function(w){switch(w.label){case 0:return[4,d.prototype.initialize.call(this,f)];case 1:return w.sent(),[4,M_(this.localStore)];case 2:return w.sent(),[4,this.Qo.initialize(this,f)];case 3:return w.sent(),[4,Yg(this.Qo.syncEngine)];case 4:return w.sent(),[4,Eh(this.Qo.remoteStore)];case 5:return w.sent(),[4,this.persistence.He(function(){return y.gcScheduler&&!y.gcScheduler.started&&y.gcScheduler.start(y.localStore),Promise.resolve()})];case 6:return w.sent(),[2]}})})},u.prototype.Ko=function(f){return x_(this.persistence,new Jv,f.initialUser,this.R)},u.prototype.Uo=function(f){return new fD(this.persistence.referenceDelegate.garbageCollector,f.asyncQueue)},u.prototype.qo=function(f){var y=Pg(f.databaseInfo.databaseId,f.databaseInfo.persistenceKey),w=void 0!==this.cacheSizeBytes?bl.withCacheSize(this.cacheSizeBytes):bl.DEFAULT;return new Yv(this.synchronizeTabs,y,f.clientId,w,f.asyncQueue,N_(),Ho(),this.R,this.sharedClientState,!!this.forceOwnership)},u.prototype.Bo=function(f){return new rb},u}(Gw),wb=function(d){function u(f,y){var w=this;return(w=d.call(this,f,y,!1)||this).Qo=f,w.cacheSizeBytes=y,w.synchronizeTabs=!0,w}return(0,V.ZT)(u,d),u.prototype.initialize=function(f){return(0,V.mG)(this,void 0,void 0,function(){var y,w=this;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return[4,d.prototype.initialize.call(this,f)];case 1:return E.sent(),y=this.Qo.syncEngine,this.sharedClientState instanceof Nw?(this.sharedClientState.syncEngine={ui:Zg.bind(null,y),ai:Rh.bind(null,y),hi:CT.bind(null,y),fn:bb.bind(null,y),ci:vb.bind(null,y)},[4,this.sharedClientState.start()]):[3,3];case 2:E.sent(),E.label=3;case 3:return[4,this.persistence.He(function(M){return(0,V.mG)(w,void 0,void 0,function(){return(0,V.Jh)(this,function(P){switch(P.label){case 0:return[4,$g(this.Qo.syncEngine,M)];case 1:return P.sent(),this.gcScheduler&&(M&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):M||this.gcScheduler.stop()),[2]}})})})];case 4:return E.sent(),[2]}})})},u.prototype.Bo=function(f){var y=N_();if(!Nw.yt(y))throw new Ot(it.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var w=Pg(f.databaseInfo.databaseId,f.databaseInfo.persistenceKey);return new Nw(y,f.asyncQueue,w,f.clientId,f.initialUser)},u}(qw),Z_=function(){function d(){}return d.prototype.initialize=function(u,f){return(0,V.mG)(this,void 0,void 0,function(){var y=this;return(0,V.Jh)(this,function(w){switch(w.label){case 0:return this.localStore?[3,2]:(this.localStore=u.localStore,this.sharedClientState=u.sharedClientState,this.datastore=this.createDatastore(f),this.remoteStore=this.createRemoteStore(f),this.eventManager=this.createEventManager(f),this.syncEngine=this.createSyncEngine(f,!u.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(E){return _b(y.syncEngine,E,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gg.bind(null,this.syncEngine),[4,Sh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:w.sent(),w.label=2;case 2:return[2]}})})},d.prototype.createEventManager=function(u){return new Mh},d.prototype.createDatastore=function(u){var y=uc(u.databaseInfo.databaseId),w=new Vg(u.databaseInfo);return new ob(u.credentials,w,y)},d.prototype.createRemoteStore=function(u){var f,y,w,E,M,P=this;return f=this.localStore,y=this.datastore,w=u.asyncQueue,E=function(H){return _b(P.syncEngine,H,0)},M=qa.yt()?new qa:new tp,new dc(f,y,w,E,M)},d.prototype.createSyncEngine=function(u,f){return z=f,ie=new gb(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,u.initialUser,u.maxConcurrentLimboResolutions),z&&(ie.$o=!0),ie;var z,ie},d.prototype.terminate=function(){return function(u){return(0,V.mG)(this,void 0,void 0,function(){var f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:return f=W(u),Yt("RemoteStore","RemoteStore shutting down."),f.Or.add(5),[4,cu(f)];case 1:return y.sent(),f.Lr.shutdown(),f.Br.set("Unknown"),[2]}})})}(this.remoteStore)},d}(),$_=function(){function d(u){this.observer=u,this.muted=!1}return d.prototype.next=function(u){this.observer.next&&this.jo(this.observer.next,u)},d.prototype.error=function(u){this.observer.error?this.jo(this.observer.error,u):console.error("Uncaught Error in snapshot listener:",u)},d.prototype.Wo=function(){this.muted=!0},d.prototype.jo=function(u,f){var y=this;this.muted||setTimeout(function(){y.muted||u(f)},0)},d}(),sd=(function(){function d(u,f){var y=this;this.Go=u,this.R=f,this.metadata=new Is,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(w){w&&w.io()?y.metadata.resolve(w.payload.metadata):y.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(w?.payload)))},function(w){return y.metadata.reject(w)})}d.prototype.close=function(){return this.Go.cancel()},d.prototype.getMetadata=function(){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){return[2,this.metadata.promise]})})},d.prototype.Lo=function(){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){switch(u.label){case 0:return[4,this.getMetadata()];case 1:return[2,(u.sent(),this.Ho())]}})})},d.prototype.Ho=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f,y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return[4,this.Jo()];case 1:return null===(u=E.sent())?[2,null]:(f=this.zo.decode(u),y=Number(f),isNaN(y)&&this.Yo("length string ("+f+") is not valid number"),[4,this.Xo(y)]);case 2:return w=E.sent(),[2,new lp(JSON.parse(w),u.length+y)]}})})},d.prototype.Zo=function(){return this.buffer.findIndex(function(u){return u==="{".charCodeAt(0)})},d.prototype.Jo=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(y.sent())return[3,3];y.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((u=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),f=this.buffer.slice(0,u),[2,(this.buffer=this.buffer.slice(u),f)])}})})},d.prototype.Xo=function(u){return(0,V.mG)(this,void 0,void 0,function(){var f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:return this.buffer.length<u?[4,this.tc()]:[3,3];case 1:y.sent()&&this.Yo("Reached the end of bundle when more is expected."),y.label=2;case 2:return[3,0];case 3:return f=this.zo.decode(this.buffer.slice(0,u)),[2,(this.buffer=this.buffer.slice(u),f)]}})})},d.prototype.Yo=function(u){throw this.Go.cancel(),new Error("Invalid bundle format: "+u)},d.prototype.tc=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:return[4,this.Go.read()];case 1:return(u=y.sent()).done||((f=new Uint8Array(this.buffer.length+u.value.length)).set(this.buffer),f.set(u.value,this.buffer.length),this.buffer=f),[2,u.done]}})})}}(),function(){function d(u){this.datastore=u,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return d.prototype.lookup=function(u){return(0,V.mG)(this,void 0,void 0,function(){var f,y=this;return(0,V.Jh)(this,function(w){switch(w.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ot(it.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(E,M){return(0,V.mG)(this,void 0,void 0,function(){var P,H,z,ie,ge,ye;return(0,V.Jh)(this,function(Ye){switch(Ye.label){case 0:return P=W(E),H=ze(P.R)+"/documents",z={documents:M.map(function(Ge){return I(P.R,Ge)})},[4,P.$i("BatchGetDocuments",H,z)];case 1:return ie=Ye.sent(),ge=new Map,ie.forEach(function(Ge){var Lt,Xt,at=(Lt=P.R,"found"in(Xt=Ge)?function(Hn,yn){Fn(!!yn.found);var bi=L(Hn,yn.found.name),Ri=lo(yn.found.updateTime),Ki=new hs({mapValue:{fields:yn.found.fields}});return Kr.newFoundDocument(bi,Ri,Ki)}(Lt,Xt):"missing"in Xt?function(Hn,yn){Fn(!!yn.missing),Fn(!!yn.readTime);var bi=L(Hn,yn.missing),Ri=lo(yn.readTime);return Kr.newNoDocument(bi,Ri)}(Lt,Xt):Nn());ge.set(at.key.toString(),at)}),ye=[],[2,(M.forEach(function(Ge){var at=ge.get(Ge.toString());Fn(!!at),ye.push(at)}),ye)]}})})}(this.datastore,u)];case 1:return[2,((f=w.sent()).forEach(function(E){return y.recordVersion(E)}),f)]}})})},d.prototype.set=function(u,f){this.write(f.toMutation(u,this.precondition(u))),this.writtenDocs.add(u.toString())},d.prototype.update=function(u,f){try{this.write(f.toMutation(u,this.preconditionForUpdate(u)))}catch(y){this.lastWriteError=y}this.writtenDocs.add(u.toString())},d.prototype.delete=function(u){this.write(new Yu(u,this.precondition(u))),this.writtenDocs.add(u.toString())},d.prototype.commit=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f=this;return(0,V.Jh)(this,function(y){switch(y.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return u=this.readVersions,this.mutations.forEach(function(w){u.delete(w.key.toString())}),u.forEach(function(w,E){var M=on.fromPath(E);f.mutations.push(new Kc(M,f.precondition(M)))}),[4,function(w,E){return(0,V.mG)(this,void 0,void 0,function(){var M,P,H;return(0,V.Jh)(this,function(z){switch(z.label){case 0:return M=W(w),P=ze(M.R)+"/documents",H={writes:E.map(function(ie){return ni(M.R,ie)})},[4,M.Ni("Commit",P,H)];case 1:return z.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return y.sent(),this.committed=!0,[2]}})})},d.prototype.recordVersion=function(u){var f;if(u.isFoundDocument())f=u.version;else{if(!u.isNoDocument())throw Nn();f=zn.min()}var y=this.readVersions.get(u.key.toString());if(y){if(!f.isEqual(y))throw new Ot(it.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(u.key.toString(),f)},d.prototype.precondition=function(u){var f=this.readVersions.get(u.toString());return!this.writtenDocs.has(u.toString())&&f?ao.updateTime(f):ao.none()},d.prototype.preconditionForUpdate=function(u){var f=this.readVersions.get(u.toString());if(!this.writtenDocs.has(u.toString())&&f){if(f.isEqual(zn.min()))throw new Ot(it.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ao.updateTime(f)}return ao.exists(!0)},d.prototype.write=function(u){this.ensureCommitNotCalled(),this.mutations.push(u)},d.prototype.ensureCommitNotCalled=function(){},d}()),Kg=function(){function d(u,f,y,w){this.asyncQueue=u,this.datastore=f,this.updateFunction=y,this.deferred=w,this.ec=5,this.Zi=new Ch(this.asyncQueue,"transaction_retry")}return d.prototype.run=function(){this.ec-=1,this.nc()},d.prototype.nc=function(){var u=this;this.Zi.ji(function(){return(0,V.mG)(u,void 0,void 0,function(){var f,y,w=this;return(0,V.Jh)(this,function(E){return f=new sd(this.datastore),(y=this.sc(f))&&y.then(function(M){w.asyncQueue.enqueueAndForget(function(){return f.commit().then(function(){w.deferred.resolve(M)}).catch(function(P){w.ic(P)})})}).catch(function(M){w.ic(M)}),[2]})})})},d.prototype.sc=function(u){try{var f=this.updateFunction(u);return!hl(f)&&f.catch&&f.then?f:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(y){return this.deferred.reject(y),null}},d.prototype.ic=function(u){var f=this;this.ec>0&&this.rc(u)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return f.nc(),Promise.resolve()})):this.deferred.reject(u)},d.prototype.rc=function(u){if("FirebaseError"===u.name){var f=u.code;return"aborted"===f||"failed-precondition"===f||!ua(f)}return!1},d}(),Cb=function(){function d(u,f,y){var w=this;this.credentials=u,this.asyncQueue=f,this.databaseInfo=y,this.user=Qo.UNAUTHENTICATED,this.clientId=gr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(f,function(E){return(0,V.mG)(w,void 0,void 0,function(){return(0,V.Jh)(this,function(M){switch(M.label){case 0:return Yt("FirestoreClient","Received user=",E.uid),[4,this.credentialListener(E)];case 1:return M.sent(),this.user=E,[2]}})})})}return d.prototype.getConfiguration=function(){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},d.prototype.setCredentialChangeListener=function(u){this.credentialListener=u},d.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ot(it.FAILED_PRECONDITION,"The client has already been terminated.")},d.prototype.terminate=function(){var u=this;this.asyncQueue.enterRestrictedMode();var f=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,V.mG)(u,void 0,void 0,function(){var y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return E.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:E.sent(),E.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:E.sent(),E.label=4;case 4:return this.credentials.removeChangeListener(),f.resolve(),[3,6];case 5:return y=E.sent(),w=Dh(y,"Failed to shutdown persistence"),f.reject(w),[3,6];case 6:return[2]}})})}),f.promise},d}();function Ph(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y,w=this;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return d.asyncQueue.verifyOperationInProgress(),Yt("FirestoreClient","Initializing OfflineComponentProvider"),[4,d.getConfiguration()];case 1:return f=E.sent(),[4,u.initialize(f)];case 2:return E.sent(),y=f.initialUser,d.setCredentialChangeListener(function(M){return(0,V.mG)(w,void 0,void 0,function(){return(0,V.Jh)(this,function(P){switch(P.label){case 0:return y.isEqual(M)?[3,2]:[4,Qv(u.localStore,M)];case 1:P.sent(),y=M,P.label=2;case 2:return[2]}})})}),u.persistence.setDatabaseDeletedListener(function(){return d.terminate()}),d.offlineComponents=u,[2]}})})}function Jg(d,u){return(0,V.mG)(this,void 0,void 0,function(){var f,y;return(0,V.Jh)(this,function(w){switch(w.label){case 0:return d.asyncQueue.verifyOperationInProgress(),[4,Qg(d)];case 1:return f=w.sent(),Yt("FirestoreClient","Initializing OnlineComponentProvider"),[4,d.getConfiguration()];case 2:return y=w.sent(),[4,u.initialize(f,y)];case 3:return w.sent(),d.setCredentialChangeListener(function(E){return function(M,P){return(0,V.mG)(this,void 0,void 0,function(){var H,z;return(0,V.Jh)(this,function(ie){switch(ie.label){case 0:return(H=W(M)).asyncQueue.verifyOperationInProgress(),Yt("RemoteStore","RemoteStore received new credentials"),z=Tl(H),H.Or.add(3),[4,cu(H)];case 1:return ie.sent(),z&&H.Br.set("Unknown"),[4,H.remoteSyncer.handleCredentialChange(P)];case 2:return ie.sent(),H.Or.delete(3),[4,lu(H)];case 3:return ie.sent(),[2]}})})}(u.remoteStore,E)}),d.onlineComponents=u,[2]}})})}function Qg(d){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){switch(u.label){case 0:return d.offlineComponents?[3,2]:(Yt("FirestoreClient","Using default OfflineComponentProvider"),[4,Ph(d,new Gw)]);case 1:u.sent(),u.label=2;case 2:return[2,d.offlineComponents]}})})}function up(d){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(u){switch(u.label){case 0:return d.onlineComponents?[3,2]:(Yt("FirestoreClient","Using default OnlineComponentProvider"),[4,Jg(d,new Z_)]);case 1:u.sent(),u.label=2;case 2:return[2,d.onlineComponents]}})})}function Xg(d){return Qg(d).then(function(u){return u.persistence})}function Tb(d){return Qg(d).then(function(u){return u.localStore})}function Eb(d){return up(d).then(function(u){return u.remoteStore})}function Nh(d){return up(d).then(function(u){return u.syncEngine})}function ad(d){return(0,V.mG)(this,void 0,void 0,function(){var u,f;return(0,V.Jh)(this,function(y){switch(y.label){case 0:return[4,up(d)];case 1:return u=y.sent(),[2,((f=u.eventManager).onListen=Bw.bind(null,u.syncEngine),f.onUnlisten=gs.bind(null,u.syncEngine),f)]}})})}function xb(d,u,f){var y=this;void 0===f&&(f={});var w=new Is;return d.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(y,void 0,void 0,function(){var E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return E=function(P,H,z,ie,ge){var ye=new $_({next:function(Ge){H.enqueueAndForget(function(){return er(P,Ye)});var at=Ge.docs.has(z);!at&&Ge.fromCache?ge.reject(new Ot(it.UNAVAILABLE,"Failed to get document because the client is offline.")):at&&Ge.fromCache&&ie&&"server"===ie.source?ge.reject(new Ot(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ge.resolve(Ge)},error:function(Ge){return ge.reject(Ge)}}),Ye=new kh(Zc(z.path),ye,{includeMetadataChanges:!0,so:!0});return Ug(P,Ye)},[4,ad(d)];case 1:return[2,E.apply(void 0,[M.sent(),d.asyncQueue,u,f,w])]}})})}),w.promise}function em(d,u,f){var y=this;void 0===f&&(f={});var w=new Is;return d.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(y,void 0,void 0,function(){var E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return E=function(P,H,z,ie,ge){var ye=new $_({next:function(Ge){H.enqueueAndForget(function(){return er(P,Ye)}),Ge.fromCache&&"server"===ie.source?ge.reject(new Ot(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ge.resolve(Ge)},error:function(Ge){return ge.reject(Ge)}}),Ye=new kh(z,ye,{includeMetadataChanges:!0,so:!0});return Ug(P,Ye)},[4,ad(d)];case 1:return[2,E.apply(void 0,[M.sent(),d.asyncQueue,u,f,w])]}})})}),w.promise}var W_=function(d,u,f,y,w,E,M,P){this.databaseId=d,this.appId=u,this.persistenceKey=f,this.host=y,this.ssl=w,this.forceLongPolling=E,this.autoDetectLongPolling=M,this.useFetchStreams=P},Fh=function(){function d(u,f){this.projectId=u,this.database=f||"(default)"}return Object.defineProperty(d.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),d.prototype.isEqual=function(u){return u instanceof d&&u.projectId===this.projectId&&u.database===this.database},d}(),Y_=new Map,tm=function(d,u){this.user=u,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+d},Sb=function(){function d(){this.changeListener=null}return d.prototype.getToken=function(){return Promise.resolve(null)},d.prototype.invalidateToken=function(){},d.prototype.setChangeListener=function(u,f){this.changeListener=f,u.enqueueRetryable(function(){return f(Qo.UNAUTHENTICATED)})},d.prototype.removeChangeListener=function(){this.changeListener=null},d}(),dp=function(){function d(u){this.token=u,this.changeListener=null}return d.prototype.getToken=function(){return Promise.resolve(this.token)},d.prototype.invalidateToken=function(){},d.prototype.setChangeListener=function(u,f){var y=this;this.changeListener=f,u.enqueueRetryable(function(){return f(y.token.user)})},d.prototype.removeChangeListener=function(){this.changeListener=null},d}(),Lh=function(){function d(u){var f=this;this.currentUser=Qo.UNAUTHENTICATED,this.oc=new Is,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){f.cc++,f.currentUser=f.ac(),f.oc.resolve(),f.changeListener&&f.asyncQueue.enqueueRetryable(function(){return f.changeListener(f.currentUser)})};var y=function(w){Yt("FirebaseCredentialsProvider","Auth detected"),f.auth=w,f.auth.addAuthTokenListener(f.uc)};u.onInit(function(w){return y(w)}),setTimeout(function(){if(!f.auth){var w=u.getImmediate({optional:!0});w?y(w):(Yt("FirebaseCredentialsProvider","Auth not yet detected"),f.oc.resolve())}},0)}return d.prototype.getToken=function(){var u=this,f=this.cc,y=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(y).then(function(w){return u.cc!==f?(Yt("FirebaseCredentialsProvider","getToken aborted due to token change."),u.getToken()):w?(Fn("string"==typeof w.accessToken),new tm(w.accessToken,u.currentUser)):null}):Promise.resolve(null)},d.prototype.invalidateToken=function(){this.forceRefresh=!0},d.prototype.setChangeListener=function(u,f){var y=this;this.asyncQueue=u,this.asyncQueue.enqueueRetryable(function(){return(0,V.mG)(y,void 0,void 0,function(){return(0,V.Jh)(this,function(w){switch(w.label){case 0:return[4,this.oc.promise];case 1:return w.sent(),[4,f(this.currentUser)];case 2:return w.sent(),this.changeListener=f,[2]}})})})},d.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},d.prototype.ac=function(){var u=this.auth&&this.auth.getUid();return Fn(null===u||"string"==typeof u),new Qo(u)},d}(),Db=function(){function d(u,f,y){this.hc=u,this.lc=f,this.fc=y,this.type="FirstParty",this.user=Qo.FIRST_PARTY}return Object.defineProperty(d.prototype,"authHeaders",{get:function(){var u={"X-Goog-AuthUser":this.lc},f=this.hc.auth.getAuthHeaderValueForFirstParty([]);return f&&(u.Authorization=f),this.fc&&(u["X-Goog-Iam-Authorization-Token"]=this.fc),u},enumerable:!1,configurable:!0}),d}(),Ib=function(){function d(u,f,y){this.hc=u,this.lc=f,this.fc=y}return d.prototype.getToken=function(){return Promise.resolve(new Db(this.hc,this.lc,this.fc))},d.prototype.setChangeListener=function(u,f){u.enqueueRetryable(function(){return f(Qo.FIRST_PARTY)})},d.prototype.removeChangeListener=function(){},d.prototype.invalidateToken=function(){},d}();function Vh(d,u,f){if(!f)throw new Ot(it.INVALID_ARGUMENT,"Function "+d+"() cannot be called with an empty "+u+".")}function ms(d,u){if(void 0===u)return{merge:!1};if(void 0!==u.mergeFields&&void 0!==u.merge)throw new Ot(it.INVALID_ARGUMENT,"Invalid options passed to function "+d+'(): You cannot specify both "merge" and "mergeFields".');return u}function As(d,u,f,y){if(!0===u&&!0===y)throw new Ot(it.INVALID_ARGUMENT,d+" and "+f+" cannot be used together.")}function Mb(d){if(!on.isDocumentKey(d))throw new Ot(it.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+d+" has "+d.length+".")}function nm(d){if(on.isDocumentKey(d))throw new Ot(it.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+d+" has "+d.length+".")}function Xo(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=d.substring(0,20)+"..."),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";var u=function(f){if(f.constructor){var y=/function\s+([^\s(]+)\s*\(/.exec(f.constructor.toString());if(y&&y.length>1)return y[1]}return null}(d);return u?"a custom "+u+" object":"an object"}return"function"==typeof d?"a function":Nn()}function Oi(d,u){if("_delegate"in d&&(d=d._delegate),!(d instanceof u)){if(u.name===d.constructor.name)throw new Ot(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var f=Xo(d);throw new Ot(it.INVALID_ARGUMENT,"Expected type '"+u.name+"', but it was: "+f)}return d}function Ab(d,u){if(u<=0)throw new Ot(it.INVALID_ARGUMENT,"Function "+d+"() requires a positive number, but it was: "+u+".")}var hp=function(){function d(u){var f;if(void 0===u.host){if(void 0!==u.ssl)throw new Ot(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=u.host,this.ssl=null===(f=u.ssl)||void 0===f||f;if(this.credentials=u.credentials,this.ignoreUndefinedProperties=!!u.ignoreUndefinedProperties,void 0===u.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==u.cacheSizeBytes&&u.cacheSizeBytes<1048576)throw new Ot(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=u.cacheSizeBytes}this.experimentalForceLongPolling=!!u.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!u.experimentalAutoDetectLongPolling,this.useFetchStreams=!!u.useFetchStreams,As("experimentalForceLongPolling",u.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",u.experimentalAutoDetectLongPolling)}return d.prototype.isEqual=function(u){return this.host===u.host&&this.ssl===u.ssl&&this.credentials===u.credentials&&this.cacheSizeBytes===u.cacheSizeBytes&&this.experimentalForceLongPolling===u.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===u.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===u.ignoreUndefinedProperties&&this.useFetchStreams===u.useFetchStreams},d}(),K_=function(){function d(u,f){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hp({}),this._settingsFrozen=!1,u instanceof Fh?(this._databaseId=u,this._credentials=new Sb):(this._app=u,this._databaseId=function(y){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ot(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(y.options.projectId)}(u),this._credentials=new Lh(f))}return Object.defineProperty(d.prototype,"app",{get:function(){if(!this._app)throw new Ot(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),d.prototype._setSettings=function(u){if(this._settingsFrozen)throw new Ot(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hp(u),void 0!==u.credentials&&(this._credentials=function(f){if(!f)return new Sb;switch(f.type){case"gapi":var y=f.client;return Fn(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new Ib(y,f.sessionIndex||"0",f.iamToken||null);case"provider":return f.client;default:throw new Ot(it.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(u.credentials))},d.prototype._getSettings=function(){return this._settings},d.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},d.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},d.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},d.prototype._terminate=function(){return(f=Y_.get(this))&&(Yt("ComponentProvider","Removing Datastore"),Y_.delete(this),f.terminate()),Promise.resolve();var f},d}(),Sr=function(){function d(u,f,y){this.converter=f,this._key=y,this.type="document",this.firestore=u}return Object.defineProperty(d.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return new Sl(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),d.prototype.withConverter=function(u){return new d(this.firestore,u,this._key)},d}(),qs=function(){function d(u,f,y){this.converter=f,this._query=y,this.type="query",this.firestore=u}return d.prototype.withConverter=function(u){return new d(this.firestore,u,this._query)},d}(),Sl=function(d){function u(f,y,w){var E=this;return(E=d.call(this,f,y,Zc(w))||this)._path=w,E.type="collection",E}return(0,V.ZT)(u,d),Object.defineProperty(u.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parent",{get:function(){var f=this._path.popLast();return f.isEmpty()?null:new Sr(this.firestore,null,new on(f))},enumerable:!1,configurable:!0}),u.prototype.withConverter=function(f){return new u(this.firestore,f,this._path)},u}(qs);function ld(d,u){for(var f,y=[],w=2;w<arguments.length;w++)y[w-2]=arguments[w];if(d=(0,Y.m9)(d),Vh("collection","path",u),d instanceof K_)return nm(f=gi.fromString.apply(gi,(0,V.ev)([u],y))),new Sl(d,null,f);if(!(d instanceof Sr||d instanceof Sl))throw new Ot(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nm(f=gi.fromString.apply(gi,(0,V.ev)([d.path],y)).child(gi.fromString(u))),new Sl(d.firestore,null,f)}function fp(d,u){for(var f,y=[],w=2;w<arguments.length;w++)y[w-2]=arguments[w];if(d=(0,Y.m9)(d),1===arguments.length&&(u=gr.u()),Vh("doc","path",u),d instanceof K_)return Mb(f=gi.fromString.apply(gi,(0,V.ev)([u],y))),new Sr(d,null,new on(f));if(!(d instanceof Sr||d instanceof Sl))throw new Ot(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mb(f=d._path.child(gi.fromString.apply(gi,(0,V.ev)([u],y)))),new Sr(d.firestore,d instanceof Sl?d.converter:null,new on(f))}function im(d,u){return d=(0,Y.m9)(d),u=(0,Y.m9)(u),(d instanceof Sr||d instanceof Sl)&&(u instanceof Sr||u instanceof Sl)&&d.firestore===u.firestore&&d.path===u.path&&d.converter===u.converter}function Qr(d,u){return d=(0,Y.m9)(d),u=(0,Y.m9)(u),d instanceof qs&&u instanceof qs&&d.firestore===u.firestore&&Fo(d._query,u._query)&&d.converter===u.converter}var rm=function(){function d(){var u=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ch(this,"async_queue_retry"),this.Ic=function(){var y=Ho();y&&Yt("AsyncQueue","Visibility state changed to "+y.visibilityState),u.Zi.Gi()};var f=Ho();f&&"function"==typeof f.addEventListener&&f.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(d.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),d.prototype.enqueueAndForget=function(u){this.enqueue(u)},d.prototype.enqueueAndForgetEvenWhileRestricted=function(u){this.Ac(),this.Rc(u)},d.prototype.enterRestrictedMode=function(u){if(!this._c){this._c=!0,this.Ec=u||!1;var f=Ho();f&&"function"==typeof f.removeEventListener&&f.removeEventListener("visibilitychange",this.Ic)}},d.prototype.enqueue=function(u){var f=this;if(this.Ac(),this._c)return new Promise(function(){});var y=new Is;return this.Rc(function(){return f._c&&f.Ec?Promise.resolve():(u().then(y.resolve,y.reject),y.promise)}).then(function(){return y.promise})},d.prototype.enqueueRetryable=function(u){var f=this;this.enqueueAndForget(function(){return f.wc.push(u),f.bc()})},d.prototype.bc=function(){return(0,V.mG)(this,void 0,void 0,function(){var u,f=this;return(0,V.Jh)(this,function(y){switch(y.label){case 0:if(0===this.wc.length)return[3,5];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return y.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!yl(u=y.sent()))throw u;return Yt("AsyncQueue","Operation failed with retryable error: "+u),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return f.bc()}),y.label=5;case 5:return[2]}})})},d.prototype.Rc=function(u){var f=this,y=this.dc.then(function(){return f.gc=!0,u().catch(function(w){throw f.yc=w,f.gc=!1,Xi("INTERNAL UNHANDLED ERROR: ",(M=(E=w).message||"",E.stack&&(M=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),M)),w;var E,M}).then(function(w){return f.gc=!1,w})});return this.dc=y,y},d.prototype.enqueueAfterDelay=function(u,f,y){var w=this;this.Ac(),this.Tc.indexOf(u)>-1&&(f=0);var E=db.createAndSchedule(this,u,f,y,function(M){return w.vc(M)});return this.mc.push(E),E},d.prototype.Ac=function(){this.yc&&Nn()},d.prototype.verifyOperationInProgress=function(){},d.prototype.Pc=function(){return(0,V.mG)(this,void 0,void 0,function(){var u;return(0,V.Jh)(this,function(f){switch(f.label){case 0:return[4,u=this.dc];case 1:f.sent(),f.label=2;case 2:if(u!==this.dc)return[3,0];f.label=3;case 3:return[2]}})})},d.prototype.Vc=function(u){for(var f=0,y=this.mc;f<y.length;f++)if(y[f].timerId===u)return!0;return!1},d.prototype.Sc=function(u){var f=this;return this.Pc().then(function(){f.mc.sort(function(M,P){return M.targetTimeMs-P.targetTimeMs});for(var y=0,w=f.mc;y<w.length;y++){var E=w[y];if(E.skipDelay(),"all"!==u&&E.timerId===u)break}return f.Pc()})},d.prototype.Dc=function(u){this.Tc.push(u)},d.prototype.vc=function(u){var f=this.mc.indexOf(u);this.mc.splice(f,1)},d}();function ga(d){return function(u,f){if("object"!=typeof u||null===u)return!1;for(var y=u,w=0,E=["next","error","complete"];w<E.length;w++){var M=E[w];if(M in y&&"function"==typeof y[M])return!0}return!1}(d)}!function(){function d(){this._progressObserver={},this._taskCompletionResolver=new Is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}d.prototype.onProgress=function(u,f,y){this._progressObserver={next:u,error:f,complete:y}},d.prototype.catch=function(u){return this._taskCompletionResolver.promise.catch(u)},d.prototype.then=function(u,f){return this._taskCompletionResolver.promise.then(u,f)},d.prototype._completeWith=function(u){this._updateProgress(u),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(u)},d.prototype._failWith=function(u){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(u),this._taskCompletionResolver.reject(u)},d.prototype._updateProgress=function(u){this._lastProgress=u,this._progressObserver.next&&this._progressObserver.next(u)}}();var Ct=function(d){function u(f,y){var w=this;return(w=d.call(this,f,y)||this).type="firestore",w._queue=new rm,w._persistenceKey="name"in f?f.name:"[DEFAULT]",w}return(0,V.ZT)(u,d),u.prototype._terminate=function(){return this._firestoreClient||om(this),this._firestoreClient.terminate()},u}(K_);function vi(d){return d._firestoreClient||om(d),d._firestoreClient.verifyNotTerminated(),d._firestoreClient}function om(d){var u,E,P,f=d._freezeSettings(),y=(E=(null===(u=d._app)||void 0===u?void 0:u.options.appId)||"",new W_(d._databaseId,E,d._persistenceKey,(P=f).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));d._firestoreClient=new Cb(d._credentials,d._queue,y)}function J_(d,u,f){var y=this,w=new Is;return d.asyncQueue.enqueue(function(){return(0,V.mG)(y,void 0,void 0,function(){var E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return M.trys.push([0,3,,4]),[4,Ph(d,f)];case 1:return M.sent(),[4,Jg(d,u)];case 2:return M.sent(),w.resolve(),[3,4];case 3:if(!("FirebaseError"===(P=E=M.sent()).name?P.code===it.FAILED_PRECONDITION||P.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&P instanceof DOMException)||22===P.code||20===P.code||11===P.code))throw E;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+E),w.reject(E),[3,4];case 4:return[2]}var P})})}).then(function(){return w.promise})}function Sn(d){if(d._initialized||d._terminated)throw new Ot(it.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ln=function(){function d(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];for(var y=0;y<u.length;++y)if(0===u[y].length)throw new Ot(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ra(u)}return d.prototype.isEqual=function(u){return this._internalPath.isEqual(u._internalPath)},d}(),cd=function(){function d(u){this._byteString=u}return d.fromBase64String=function(u){try{return new d(Yr.fromBase64String(u))}catch(f){throw new Ot(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+f)}},d.fromUint8Array=function(u){return new d(Yr.fromUint8Array(u))},d.prototype.toBase64=function(){return this._byteString.toBase64()},d.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},d.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},d.prototype.isEqual=function(u){return this._byteString.isEqual(u._byteString)},d}(),tn=function(d){this._methodName=d},ot=function(){function d(u,f){if(!isFinite(u)||u<-90||u>90)throw new Ot(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+u);if(!isFinite(f)||f<-180||f>180)throw new Ot(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+f);this._lat=u,this._long=f}return Object.defineProperty(d.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),d.prototype.isEqual=function(u){return this._lat===u._lat&&this._long===u._long},d.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},d.prototype._compareTo=function(u){return Zn(this._lat,u._lat)||Zn(this._long,u._long)},d}(),Mt=/^__.*__$/,es=function(){function d(u,f,y){this.data=u,this.fieldMask=f,this.fieldTransforms=y}return d.prototype.toMutation=function(u,f){return null!==this.fieldMask?new Wu(u,this.data,this.fieldMask,f,this.fieldTransforms):new Yc(u,this.data,f,this.fieldTransforms)},d}(),Zw=function(){function d(u,f,y){this.data=u,this.fieldMask=f,this.fieldTransforms=y}return d.prototype.toMutation=function(u,f){return new Wu(u,this.data,this.fieldMask,f,this.fieldTransforms)},d}();function xT(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nn()}}var ST=function(){function d(u,f,y,w,E,M){this.settings=u,this.databaseId=f,this.R=y,this.ignoreUndefinedProperties=w,void 0===E&&this.Cc(),this.fieldTransforms=E||[],this.fieldMask=M||[]}return Object.defineProperty(d.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),d.prototype.xc=function(u){return new d(Object.assign(Object.assign({},this.settings),u),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},d.prototype.kc=function(u){var f,y=null===(f=this.path)||void 0===f?void 0:f.child(u),w=this.xc({path:y,Fc:!1});return w.$c(u),w},d.prototype.Oc=function(u){var f,y=null===(f=this.path)||void 0===f?void 0:f.child(u),w=this.xc({path:y,Fc:!1});return w.Cc(),w},d.prototype.Mc=function(u){return this.xc({path:void 0,Fc:!0})},d.prototype.Lc=function(u){return gp(u,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},d.prototype.contains=function(u){return void 0!==this.fieldMask.find(function(f){return u.isPrefixOf(f)})||void 0!==this.fieldTransforms.find(function(f){return u.isPrefixOf(f.field)})},d.prototype.Cc=function(){if(this.path)for(var u=0;u<this.path.length;u++)this.$c(this.path.get(u))},d.prototype.$c=function(u){if(0===u.length)throw this.Lc("Document fields must not be empty");if(xT(this.Nc)&&Mt.test(u))throw this.Lc('Document fields cannot begin and end with "__"')},d}(),pD=function(){function d(u,f,y){this.databaseId=u,this.ignoreUndefinedProperties=f,this.R=y||uc(u)}return d.prototype.Uc=function(u,f,y,w){return void 0===w&&(w=!1),new ST({Nc:u,methodName:f,qc:y,path:ra.emptyPath(),Fc:!1,Bc:w},this.databaseId,this.R,this.ignoreUndefinedProperties)},d}();function pp(d){var u=d._freezeSettings(),f=uc(d._databaseId);return new pD(d._databaseId,!!u.ignoreUndefinedProperties,f)}function Ob(d,u,f,y,w,E){void 0===E&&(E={});var M=d.Uc(E.merge||E.mergeFields?2:0,u,f,w);Nb("Data must be an object, but it was:",M,y);var P,H,z=ma(y,M);if(E.merge)P=new oa(M.fieldMask),H=M.fieldTransforms;else if(E.mergeFields){for(var ie=[],ge=0,ye=E.mergeFields;ge<ye.length;ge++){var Ye=_r(u,ye[ge],f);if(!M.contains(Ye))throw new Ot(it.INVALID_ARGUMENT,"Field '"+Ye+"' is specified in your field mask but missing from your input data.");ud(ie,Ye)||ie.push(Ye)}P=new oa(ie),H=M.fieldTransforms.filter(function(Ge){return P.covers(Ge.field)})}else P=null,H=M.fieldTransforms;return new es(new hs(z),P,H)}var Rb=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u.prototype._toFieldTransform=function(f){if(2!==f.Nc)throw f.Lc(1===f.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return f.fieldMask.push(f.path),null},u.prototype.isEqual=function(f){return f instanceof u},u}(tn);function DT(d,u,f){return new ST({Nc:3,qc:u.settings.qc,methodName:d._methodName,Fc:f},u.databaseId,u.R,u.ignoreUndefinedProperties)}var Bh=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u.prototype._toFieldTransform=function(f){return new Ss(f.path,new ic)},u.prototype.isEqual=function(f){return f instanceof u},u}(tn),Pb=function(d){function u(f,y){var w=this;return(w=d.call(this,f)||this).Kc=y,w}return(0,V.ZT)(u,d),u.prototype._toFieldTransform=function(f){var y=DT(this,f,!0),w=this.Kc.map(function(M){return jn(M,y)}),E=new ca(w);return new Ss(f.path,E)},u.prototype.isEqual=function(f){return this===f},u}(tn),$w=function(d){function u(f,y){var w=this;return(w=d.call(this,f)||this).Kc=y,w}return(0,V.ZT)(u,d),u.prototype._toFieldTransform=function(f){var y=DT(this,f,!0),w=this.Kc.map(function(M){return jn(M,y)}),E=new $c(w);return new Ss(f.path,E)},u.prototype.isEqual=function(f){return this===f},u}(tn),ci=function(d){function u(f,y){var w=this;return(w=d.call(this,f)||this).Qc=y,w}return(0,V.ZT)(u,d),u.prototype._toFieldTransform=function(f){var y=new xs(f.R,nc(f.R,this.Qc));return new Ss(f.path,y)},u.prototype.isEqual=function(f){return this===f},u}(tn);function fc(d,u,f,y){var w=d.Uc(1,u,f);Nb("Data must be an object, but it was:",w,y);var E=[],M=hs.empty();jc(y,function(H,z){var ie=Hh(u,H,f);z=(0,Y.m9)(z);var ge=w.Oc(ie);if(z instanceof Rb)E.push(ie);else{var ye=jn(z,ge);null!=ye&&(E.push(ie),M.set(ie,ye))}});var P=new oa(E);return new Zw(M,P,w.fieldTransforms)}function sm(d,u,f,y,w,E){var M=d.Uc(1,u,f),P=[_r(u,y,f)],H=[w];if(E.length%2!=0)throw new Ot(it.INVALID_ARGUMENT,"Function "+u+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var z=0;z<E.length;z+=2)P.push(_r(u,E[z])),H.push(E[z+1]);for(var ie=[],ge=hs.empty(),ye=P.length-1;ye>=0;--ye)if(!ud(ie,P[ye])){var Ye=P[ye],Ge=H[ye];Ge=(0,Y.m9)(Ge);var at=M.Oc(Ye);if(Ge instanceof Rb)ie.push(Ye);else{var Lt=jn(Ge,at);null!=Lt&&(ie.push(Ye),ge.set(Ye,Lt))}}var Xt=new oa(ie);return new Zw(ge,Xt,M.fieldTransforms)}function ar(d,u,f,y){return void 0===y&&(y=!1),jn(f,d.Uc(y?4:3,u))}function jn(d,u){if(Si(d=(0,Y.m9)(d)))return Nb("Unsupported field value:",u,d),ma(d,u);if(d instanceof tn)return function(f,y){if(!xT(y.Nc))throw y.Lc(f._methodName+"() can only be used with update() and set()");if(!y.path)throw y.Lc(f._methodName+"() is not currently supported inside arrays");var w=f._toFieldTransform(y);w&&y.fieldTransforms.push(w)}(d,u),null;if(void 0===d&&u.ignoreUndefinedProperties)return null;if(u.path&&u.fieldMask.push(u.path),d instanceof Array){if(u.settings.Fc&&4!==u.Nc)throw u.Lc("Nested arrays are not supported");return function(f,y){for(var w=[],E=0,M=0,P=f;M<P.length;M++){var H=jn(P[M],y.Mc(E));null==H&&(H={nullValue:"NULL_VALUE"}),w.push(H),E++}return{arrayValue:{values:w}}}(d,u)}return function(f,y){if(null===(f=(0,Y.m9)(f)))return{nullValue:"NULL_VALUE"};if("number"==typeof f)return nc(y.R,f);if("boolean"==typeof f)return{booleanValue:f};if("string"==typeof f)return{stringValue:f};if(f instanceof Date){var w=$i.fromDate(f);return{timestampValue:ch(y.R,w)}}if(f instanceof $i)return w=new $i(f.seconds,1e3*Math.floor(f.nanoseconds/1e3)),{timestampValue:ch(y.R,w)};if(f instanceof ot)return{geoPointValue:{latitude:f.latitude,longitude:f.longitude}};if(f instanceof cd)return{bytesValue:b_(y.R,f._byteString)};if(f instanceof Sr){var E=f.firestore._databaseId;if(!E.isEqual(w=y.databaseId))throw y.Lc("Document reference is for database "+E.projectId+"/"+E.database+" but should be for database "+w.projectId+"/"+w.database);return{referenceValue:R(f.firestore._databaseId||y.databaseId,f._key.path)}}throw y.Lc("Unsupported field value: "+Xo(f))}(d,u)}function ma(d,u){var f={};return Kl(d)?u.path&&u.path.length>0&&u.fieldMask.push(u.path):jc(d,function(y,w){var E=jn(w,u.kc(y));null!=E&&(f[y]=E)}),{mapValue:{fields:f}}}function Si(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof $i||d instanceof ot||d instanceof cd||d instanceof Sr||d instanceof tn)}function Nb(d,u,f){if(!Si(f)||"object"!=typeof(w=f)||null===w||Object.getPrototypeOf(w)!==Object.prototype&&null!==Object.getPrototypeOf(w)){var y=Xo(f);throw u.Lc("an object"===y?d+" a custom object":d+" "+y)}var w}function _r(d,u,f){if((u=(0,Y.m9)(u))instanceof Ln)return u._internalPath;if("string"==typeof u)return Hh(d,u);throw gp("Field path arguments must be of type string or FieldPath.",d,!1,void 0,f)}var sn=new RegExp("[~\\*/\\[\\]]");function Hh(d,u,f){if(u.search(sn)>=0)throw gp("Invalid field path ("+u+"). Paths must not contain '~', '*', '/', '[', or ']'",d,!1,void 0,f);try{return(new(Ln.bind.apply(Ln,(0,V.ev)([void 0],u.split(".")))))._internalPath}catch{throw gp("Invalid field path ("+u+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",d,!1,void 0,f)}}function gp(d,u,f,y,w){var E=y&&!y.isEmpty(),M=void 0!==w,P="Function "+u+"() called with invalid data";f&&(P+=" (via `toFirestore()`)");var H="";return(E||M)&&(H+=" (found",E&&(H+=" in field "+y),M&&(H+=" in document "+w),H+=")"),new Ot(it.INVALID_ARGUMENT,(P+=". ")+d+H)}function ud(d,u){return d.some(function(f){return f.isEqual(u)})}var Dl=function(){function d(u,f,y,w,E){this._firestore=u,this._userDataWriter=f,this._key=y,this._document=w,this._converter=E}return Object.defineProperty(d.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"ref",{get:function(){return new Sr(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),d.prototype.exists=function(){return null!==this._document},d.prototype.data=function(){if(this._document){if(this._converter){var u=new pc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(u)}return this._userDataWriter.convertValue(this._document.data.value)}},d.prototype.get=function(u){if(this._document){var f=this._document.data.field(Uh("DocumentSnapshot.get",u));if(null!==f)return this._userDataWriter.convertValue(f)}},d}(),pc=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u.prototype.data=function(){return d.prototype.data.call(this)},u}(Dl);function Uh(d,u){return"string"==typeof u?Hh(d,u):u instanceof Ln?u._internalPath:u._delegate._internalPath}var _a=function(){function d(u,f){this.hasPendingWrites=u,this.fromCache=f}return d.prototype.isEqual=function(u){return this.hasPendingWrites===u.hasPendingWrites&&this.fromCache===u.fromCache},d}(),Dr=function(d){function u(f,y,w,E,M,P){var H=this;return(H=d.call(this,f,y,w,E,P)||this)._firestore=f,H._firestoreImpl=f,H.metadata=M,H}return(0,V.ZT)(u,d),u.prototype.exists=function(){return d.prototype.exists.call(this)},u.prototype.data=function(f){if(void 0===f&&(f={}),this._document){if(this._converter){var y=new Il(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(y,f)}return this._userDataWriter.convertValue(this._document.data.value,f.serverTimestamps)}},u.prototype.get=function(f,y){if(void 0===y&&(y={}),this._document){var w=this._document.data.field(Uh("DocumentSnapshot.get",f));if(null!==w)return this._userDataWriter.convertValue(w,y.serverTimestamps)}},u}(Dl),Il=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u.prototype.data=function(f){return void 0===f&&(f={}),d.prototype.data.call(this,f)},u}(Dr),du=function(){function d(u,f,y,w){this._firestore=u,this._userDataWriter=f,this._snapshot=w,this.metadata=new _a(w.hasPendingWrites,w.fromCache),this.query=y}return Object.defineProperty(d.prototype,"docs",{get:function(){var u=[];return this.forEach(function(f){return u.push(f)}),u},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),d.prototype.forEach=function(u,f){var y=this;this._snapshot.docs.forEach(function(w){u.call(f,new Il(y._firestore,y._userDataWriter,w.key,w,new _a(y._snapshot.mutatedKeys.has(w.key),y._snapshot.fromCache),y.query.converter))})},d.prototype.docChanges=function(u){void 0===u&&(u={});var f=!!u.includeMetadataChanges;if(f&&this._snapshot.excludesMetadataChanges)throw new Ot(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===f||(this._cachedChanges=function(y,w){if(y._snapshot.oldDocs.isEmpty()){var E=0;return y._snapshot.docChanges.map(function(P){return{type:"added",doc:new Il(y._firestore,y._userDataWriter,P.doc.key,P.doc,new _a(y._snapshot.mutatedKeys.has(P.doc.key),y._snapshot.fromCache),y.query.converter),oldIndex:-1,newIndex:E++}})}var M=y._snapshot.oldDocs;return y._snapshot.docChanges.filter(function(P){return w||3!==P.type}).map(function(P){var H=new Il(y._firestore,y._userDataWriter,P.doc.key,P.doc,new _a(y._snapshot.mutatedKeys.has(P.doc.key),y._snapshot.fromCache),y.query.converter),z=-1,ie=-1;return 0!==P.type&&(z=M.indexOf(P.doc.key),M=M.delete(P.doc.key)),1!==P.type&&(ie=(M=M.add(P.doc)).indexOf(P.doc.key)),{type:Fb(P.type),doc:H,oldIndex:z,newIndex:ie}})}(this,f),this._cachedChangesIncludeMetadataChanges=f),this._cachedChanges},d}();function Fb(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nn()}}function gc(d,u){return d instanceof Dr&&u instanceof Dr?d._firestore===u._firestore&&d._key.isEqual(u._key)&&(null===d._document?null===u._document:d._document.isEqual(u._document))&&d._converter===u._converter:d instanceof du&&u instanceof du&&d._firestore===u._firestore&&Qr(d.query,u.query)&&d.metadata.isEqual(u.metadata)&&d._snapshot.isEqual(u._snapshot)}function mp(d){if(ec(d)&&0===d.explicitOrderBy.length)throw new Ot(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Je=function(){};function Wa(d){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];for(var y=0,w=u;y<w.length;y++){var E=w[y];d=E._apply(d)}return d}var ya=function(d){function u(f,y,w){var E=this;return(E=d.call(this)||this).jc=f,E.Wc=y,E.Gc=w,E.type="where",E}return(0,V.ZT)(u,d),u.prototype._apply=function(f){var E,P,y=pp(f.firestore),w=function(E,M,P,H,z,ie,ge){var ye;if(z.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Ot(it.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+ie+"' queries on FieldPath.documentId().");if("in"===ie||"not-in"===ie){lm(ge,ie);for(var Ye=[],Ge=0,at=ge;Ge<at.length;Ge++)Ye.push(Q_(H,E,at[Ge]));ye={arrayValue:{values:Ye}}}else ye=Q_(H,E,ge)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||lm(ge,ie),ye=ar(P,"where",ge,"in"===ie||"not-in"===ie);var Xt=Yo.create(z,ie,ye);return function(Hn,yn){if(yn.g()){var bi=Gu(Hn);if(null!==bi&&!bi.isEqual(yn.field))throw new Ot(it.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+bi.toString()+"' and '"+yn.field.toString()+"'");var Ri=Uf(Hn);null!==Ri&&Ww(0,yn.field,Ri)}var Ki=function(zo,Jw){for(var Cp=0,ny=zo.filters;Cp<ny.length;Cp++){var Qw=ny[Cp];if(Jw.indexOf(Qw.op)>=0)return Qw.op}return null}(Hn,function(zo){switch(zo){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(yn.op));if(null!==Ki)throw new Ot(it.INVALID_ARGUMENT,Ki===yn.op?"Invalid query. You cannot use more than one '"+yn.op.toString()+"' filter.":"Invalid query. You cannot use '"+yn.op.toString()+"' filters with '"+Ki.toString()+"' filters.")}(E,Xt),Xt}(f._query,0,y,f.firestore._databaseId,this.jc,this.Wc,this.Gc);return new qs(f.firestore,f.converter,(P=(E=f._query).filters.concat([w]),new La(E.path,E.collectionGroup,E.explicitOrderBy.slice(),P,E.limit,E.limitType,E.startAt,E.endAt)))},u}(Je),IT=function(d){function u(f,y){var w=this;return(w=d.call(this)||this).jc=f,w.zc=y,w.type="orderBy",w}return(0,V.ZT)(u,d),u.prototype._apply=function(f){var w,M,y=function(w,E,M){if(null!==w.startAt)throw new Ot(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==w.endAt)throw new Ot(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var P=new Fa(E,M);return function(H,z){if(null===Uf(H)){var ie=Gu(H);null!==ie&&Ww(0,ie,z.field)}}(w,P),P}(f._query,this.jc,this.zc);return new qs(f.firestore,f.converter,(M=(w=f._query).explicitOrderBy.concat([y]),new La(w.path,w.collectionGroup,M,w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)))},u}(Je),am=function(d){function u(f,y,w){var E=this;return(E=d.call(this)||this).type=f,E.Hc=y,E.Jc=w,E}return(0,V.ZT)(u,d),u.prototype._apply=function(f){return new qs(f.firestore,f.converter,Ov(f._query,this.Hc,this.Jc))},u}(Je),hu=function(d){function u(f,y,w){var E=this;return(E=d.call(this)||this).type=f,E.Yc=y,E.Xc=w,E}return(0,V.ZT)(u,d),u.prototype._apply=function(f){var w,E,y=dd(f,this.type,this.Yc,this.Xc);return new qs(f.firestore,f.converter,(E=y,new La((w=f._query).path,w.collectionGroup,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,E,w.endAt)))},u}(Je),Lb=function(d){function u(f,y,w){var E=this;return(E=d.call(this)||this).type=f,E.Yc=y,E.Xc=w,E}return(0,V.ZT)(u,d),u.prototype._apply=function(f){var w,E,y=dd(f,this.type,this.Yc,this.Xc);return new qs(f.firestore,f.converter,(E=y,new La((w=f._query).path,w.collectionGroup,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,E)))},u}(Je);function dd(d,u,f,y){if(f[0]=(0,Y.m9)(f[0]),f[0]instanceof Dl)return function(E,M,P,H,z){if(!H)throw new Ot(it.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+P+"().");for(var ie=[],ge=0,ye=Va(E);ge<ye.length;ge++){var Ye=ye[ge];if(Ye.field.isKeyField())ie.push(Gi(M,H.key));else{var Ge=H.data.field(Ye.field);if(i_(Ge))throw new Ot(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ge){var at=Ye.field.canonicalString();throw new Ot(it.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+at+"' (used as the orderBy) does not exist.")}ie.push(Ge)}}return new th(ie,z)}(d._query,d.firestore._databaseId,u,f[0]._document,y);var w=pp(d.firestore);return function(E,M,P,H,z,ie){var ge=E.explicitOrderBy;if(z.length>ge.length)throw new Ot(it.INVALID_ARGUMENT,"Too many arguments provided to "+H+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var ye=[],Ye=0;Ye<z.length;Ye++){var Ge=z[Ye];if(ge[Ye].field.isKeyField()){if("string"!=typeof Ge)throw new Ot(it.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+H+"(), but got a "+typeof Ge);if(!ih(E)&&-1!==Ge.indexOf("/"))throw new Ot(it.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+H+"() must be a plain document ID, but '"+Ge+"' contains a slash.");var at=E.path.child(gi.fromString(Ge));if(!on.isDocumentKey(at))throw new Ot(it.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+H+"() must result in a valid document path, but '"+at+"' is not because it contains an odd number of segments.");var Lt=new on(at);ye.push(Gi(M,Lt))}else{var Xt=ar(P,H,Ge);ye.push(Xt)}}return new th(ye,ie)}(d._query,d.firestore._databaseId,w,u,f,y)}function Q_(d,u,f){if("string"==typeof(f=(0,Y.m9)(f))){if(""===f)throw new Ot(it.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ih(u)&&-1!==f.indexOf("/"))throw new Ot(it.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+f+"' contains a '/' character.");var y=u.path.child(gi.fromString(f));if(!on.isDocumentKey(y))throw new Ot(it.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+y+"' is not because it has an odd number of segments ("+y.length+").");return Gi(d,new on(y))}if(f instanceof Sr)return Gi(d,f._key);throw new Ot(it.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xo(f)+".")}function lm(d,u){if(!Array.isArray(d)||0===d.length)throw new Ot(it.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+u.toString()+"' filters.");if(d.length>10)throw new Ot(it.INVALID_ARGUMENT,"Invalid Query. '"+u.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ww(d,u,f){if(!f.isEqual(u))throw new Ot(it.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+u.toString()+"' and so you must also use '"+u.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+f.toString()+"' instead.")}var ks=function(){function d(){}return d.prototype.convertValue=function(u,f){switch(void 0===f&&(f="none"),cr(u)){case 0:return null;case 1:return u.booleanValue;case 2:return mr(u.integerValue||u.doubleValue);case 3:return this.convertTimestamp(u.timestampValue);case 4:return this.convertServerTimestamp(u,f);case 5:return u.stringValue;case 6:return this.convertBytes(sa(u.bytesValue));case 7:return this.convertReference(u.referenceValue);case 8:return this.convertGeoPoint(u.geoPointValue);case 9:return this.convertArray(u.arrayValue,f);case 10:return this.convertObject(u.mapValue,f);default:throw Nn()}},d.prototype.convertObject=function(u,f){var y=this,w={};return jc(u.fields,function(E,M){w[E]=y.convertValue(M,f)}),w},d.prototype.convertGeoPoint=function(u){return new ot(mr(u.latitude),mr(u.longitude))},d.prototype.convertArray=function(u,f){var y=this;return(u.values||[]).map(function(w){return y.convertValue(w,f)})},d.prototype.convertServerTimestamp=function(u,f){switch(f){case"previous":var y=r_(u);return null==y?null:this.convertValue(y,f);case"estimate":return this.convertTimestamp(st(u));default:return null}},d.prototype.convertTimestamp=function(u){var f=Jl(u);return new $i(f.seconds,f.nanos)},d.prototype.convertDocumentKey=function(u,f){var y=gi.fromString(u);Fn(Sg(y));var w=new Fh(y.get(1),y.get(3)),E=new on(y.popFirst(5));return w.isEqual(f)||Xi("Document "+E+" contains a document reference within a different database ("+w.projectId+"/"+w.database+") which is not supported. It will be treated as a reference in the current database ("+f.projectId+"/"+f.database+") instead."),E},d}();function Uo(d,u,f){return d?f&&(f.merge||f.mergeFields)?d.toFirestore(u,f):d.toFirestore(u):u}var Yw=function(d){function u(f){var y=this;return(y=d.call(this)||this).firestore=f,y}return(0,V.ZT)(u,d),u.prototype.convertBytes=function(f){return new cd(f)},u.prototype.convertReference=function(f){var y=this.convertDocumentKey(f,this.firestore._databaseId);return new Sr(this.firestore,null,y)},u}(ks),_p=function(){function d(u,f){this._firestore=u,this._commitHandler=f,this._mutations=[],this._committed=!1,this._dataReader=pp(u)}return d.prototype.set=function(u,f,y){this._verifyNotCommitted();var w=fu(u,this._firestore),E=Uo(w.converter,f,y),M=Ob(this._dataReader,"WriteBatch.set",w._key,E,null!==w.converter,y);return this._mutations.push(M.toMutation(w._key,ao.none())),this},d.prototype.update=function(u,f,y){for(var w=[],E=3;E<arguments.length;E++)w[E-3]=arguments[E];this._verifyNotCommitted();var M,P=fu(u,this._firestore);return M="string"==typeof(f=(0,Y.m9)(f))||f instanceof Ln?sm(this._dataReader,"WriteBatch.update",P._key,f,y,w):fc(this._dataReader,"WriteBatch.update",P._key,f),this._mutations.push(M.toMutation(P._key,ao.exists(!0))),this},d.prototype.delete=function(u){this._verifyNotCommitted();var f=fu(u,this._firestore);return this._mutations=this._mutations.concat(new Yu(f._key,ao.none())),this},d.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},d.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ot(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},d}();function fu(d,u){if((d=(0,Y.m9)(d)).firestore!==u)throw new Ot(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}var Wi=function(d){function u(f){var y=this;return(y=d.call(this)||this).firestore=f,y}return(0,V.ZT)(u,d),u.prototype.convertBytes=function(f){return new cd(f)},u.prototype.convertReference=function(f){var y=this.convertDocumentKey(f,this.firestore._databaseId);return new Sr(this.firestore,null,y)},u}(ks);function yp(d,u,f){d=Oi(d,Sr);var y=Oi(d.firestore,Ct),w=Uo(d.converter,u,f);return vp(y,[Ob(pp(y),"setDoc",d._key,w,null!==d.converter,f).toMutation(d._key,ao.none())])}function jo(d,u,f){for(var y=[],w=3;w<arguments.length;w++)y[w-3]=arguments[w];d=Oi(d,Sr);var E=Oi(d.firestore,Ct),M=pp(E);return vp(E,[("string"==typeof(u=(0,Y.m9)(u))||u instanceof Ln?sm(M,"updateDoc",d._key,u,f,y):fc(M,"updateDoc",d._key,u)).toMutation(d._key,ao.exists(!0))])}function Yi(d){for(var u,f,y,w=[],E=1;E<arguments.length;E++)w[E-1]=arguments[E];d=(0,Y.m9)(d);var M={includeMetadataChanges:!1},P=0;"object"!=typeof w[P]||ga(w[P])||(M=w[P],P++);var H,z,ie,ge={includeMetadataChanges:M.includeMetadataChanges};if(ga(w[P])){var ye=w[P];w[P]=null===(u=ye.next)||void 0===u?void 0:u.bind(ye),w[P+1]=null===(f=ye.error)||void 0===f?void 0:f.bind(ye),w[P+2]=null===(y=ye.complete)||void 0===y?void 0:y.bind(ye)}if(d instanceof Sr)z=Oi(d.firestore,Ct),ie=Zc(d._key.path),H={next:function(at){w[P]&&w[P](pu(z,d,at))},error:w[P+1],complete:w[P+2]};else{var Ye=Oi(d,qs);z=Oi(Ye.firestore,Ct),ie=Ye._query;var Ge=new Wi(z);H={next:function(at){w[P]&&w[P](new du(z,Ge,Ye,at))},error:w[P+1],complete:w[P+2]},mp(d._query)}return function(at,Lt,Xt,Hn){var yn=this,bi=new $_(Hn),Ri=new kh(Lt,bi,Xt);return at.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(yn,void 0,void 0,function(){var Ki;return(0,V.Jh)(this,function(zo){switch(zo.label){case 0:return Ki=Ug,[4,ad(at)];case 1:return[2,Ki.apply(void 0,[zo.sent(),Ri])]}})})}),function(){bi.Wo(),at.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(yn,void 0,void 0,function(){var Ki;return(0,V.Jh)(this,function(zo){switch(zo.label){case 0:return Ki=er,[4,ad(at)];case 1:return[2,Ki.apply(void 0,[zo.sent(),Ri])]}})})})}}(vi(z),ie,ge,H)}function vp(d,u){return function(f,y){var w=this,E=new Is;return f.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(w,void 0,void 0,function(){var M;return(0,V.Jh)(this,function(P){switch(P.label){case 0:return M=vT,[4,Nh(f)];case 1:return[2,M.apply(void 0,[P.sent(),y,E])]}})})}),E.promise}(vi(d),u)}function pu(d,u,f){var y=f.docs.get(u._key),w=new Wi(d);return new Dr(d,w,u._key,y,new _a(f.hasPendingWrites,f.fromCache),u.converter)}var va=function(d){function u(f,y){var w=this;return(w=d.call(this,f,y)||this)._firestore=f,w}return(0,V.ZT)(u,d),u.prototype.get=function(f){var y=this,w=fu(f,this._firestore),E=new Wi(this._firestore);return d.prototype.get.call(this,f).then(function(M){return new Dr(y._firestore,E,w._key,M._document,new _a(!1,!1),w.converter)})},u}(function(){function d(u,f){this._firestore=u,this._transaction=f,this._dataReader=pp(u)}return d.prototype.get=function(u){var f=this,y=fu(u,this._firestore),w=new Yw(this._firestore);return this._transaction.lookup([y._key]).then(function(E){if(!E||1!==E.length)return Nn();var M=E[0];if(M.isFoundDocument())return new Dl(f._firestore,w,M.key,M,y.converter);if(M.isNoDocument())return new Dl(f._firestore,w,y._key,null,y.converter);throw Nn()})},d.prototype.set=function(u,f,y){var w=fu(u,this._firestore),E=Uo(w.converter,f,y),M=Ob(this._dataReader,"Transaction.set",w._key,E,null!==w.converter,y);return this._transaction.set(w._key,M),this},d.prototype.update=function(u,f,y){for(var w=[],E=3;E<arguments.length;E++)w[E-3]=arguments[E];var M,P=fu(u,this._firestore);return M="string"==typeof(f=(0,Y.m9)(f))||f instanceof Ln?sm(this._dataReader,"Transaction.update",P._key,f,y,w):fc(this._dataReader,"Transaction.update",P._key,f),this._transaction.update(P._key,M),this},d.prototype.delete=function(u){var f=fu(u,this._firestore);return this._transaction.delete(f._key),this},d}());function Vb(){if(typeof Uint8Array>"u")throw new Ot(it.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ho(){if(typeof atob>"u")throw new Ot(it.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Kw=function(){function d(u){this._delegate=u}return d.fromBase64String=function(u){return ho(),new d(cd.fromBase64String(u))},d.fromUint8Array=function(u){return Vb(),new d(cd.fromUint8Array(u))},d.prototype.toBase64=function(){return ho(),this._delegate.toBase64()},d.prototype.toUint8Array=function(){return Vb(),this._delegate.toUint8Array()},d.prototype.isEqual=function(u){return this._delegate.isEqual(u._delegate)},d.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},d}(),gu=function(){function d(){}return d.prototype.enableIndexedDbPersistence=function(u,f){return function(y,w){Sn(y=Oi(y,Ct));var E=vi(y),M=y._freezeSettings(),P=new Z_;return J_(E,P,new qw(P,M.cacheSizeBytes,w?.forceOwnership))}(u._delegate,{forceOwnership:f})},d.prototype.enableMultiTabIndexedDbPersistence=function(u){return function(f){Sn(f=Oi(f,Ct));var y=vi(f),w=f._freezeSettings(),E=new Z_;return J_(y,E,new wb(E,w.cacheSizeBytes))}(u._delegate)},d.prototype.clearIndexedDbPersistence=function(u){return function(f){var y=this;if(f._initialized&&!f._terminated)throw new Ot(it.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var w=new Is;return f._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,V.mG)(y,void 0,void 0,function(){var E;return(0,V.Jh)(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,function(P){return(0,V.mG)(this,void 0,void 0,function(){return(0,V.Jh)(this,function(z){switch(z.label){case 0:return Qu.yt()?[4,Qu.delete(P+"main")]:[2,Promise.resolve()];case 1:return z.sent(),[2]}})})}(Pg(f._databaseId,f._persistenceKey))];case 1:return M.sent(),w.resolve(),[3,3];case 2:return E=M.sent(),w.reject(E),[3,3];case 3:return[2]}})})}),w.promise}(u._delegate)},d}(),Ir=function(){function d(u,f,y){var w=this;this._delegate=f,this.Zc=y,this.INTERNAL={delete:function(){return w.terminate()}},u instanceof Fh||(this.tu=u)}return Object.defineProperty(d.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),d.prototype.settings=function(u){var f=this._delegate._getSettings();u.merge||f.host===u.host||dl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),u.merge&&delete(u=Object.assign(Object.assign({},f),u)).merge,this._delegate._setSettings(u)},d.prototype.useEmulator=function(u,f,y){void 0===y&&(y={}),function(w,E,M,P){var H;void 0===P&&(P={});var z=(w=Oi(w,K_))._getSettings();if("firestore.googleapis.com"!==z.host&&z.host!==E&&dl("Host has been set in both settings() and useEmulator(), emulator host will be used"),w._setSettings(Object.assign(Object.assign({},z),{host:E+":"+M,ssl:!1})),P.mockUserToken){var ie,ge;if("string"==typeof P.mockUserToken)ie=P.mockUserToken,ge=Qo.MOCK_USER;else{ie=(0,Y.Sg)(P.mockUserToken,null===(H=w._app)||void 0===H?void 0:H.options.projectId);var ye=P.mockUserToken.sub||P.mockUserToken.user_id;if(!ye)throw new Ot(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ge=new Qo(ye)}w._credentials=new dp(new tm(ie,ge))}}(this._delegate,u,f,y)},d.prototype.enableNetwork=function(){return function(u){var f=this;return u.asyncQueue.enqueue(function(){return(0,V.mG)(f,void 0,void 0,function(){var y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return[4,Xg(u)];case 1:return y=E.sent(),[4,Eb(u)];case 2:return w=E.sent(),[2,(y.setNetworkEnabled(!0),M=w,P=W(M),P.Or.delete(0),lu(P))]}var M,P})})})}(vi(Oi(this._delegate,Ct)))},d.prototype.disableNetwork=function(){return function(u){var f=this;return u.asyncQueue.enqueue(function(){return(0,V.mG)(f,void 0,void 0,function(){var y,w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return[4,Xg(u)];case 1:return y=E.sent(),[4,Eb(u)];case 2:return w=E.sent(),[2,(y.setNetworkEnabled(!1),function(M){return(0,V.mG)(this,void 0,void 0,function(){var P;return(0,V.Jh)(this,function(H){switch(H.label){case 0:return(P=W(M)).Or.add(0),[4,cu(P)];case 1:return H.sent(),P.Br.set("Offline"),[2]}})})}(w))]}})})})}(vi(Oi(this._delegate,Ct)))},d.prototype.enablePersistence=function(u){var f=!1,y=!1;return u&&As("synchronizeTabs",f=!!u.synchronizeTabs,"experimentalForceOwningTab",y=!!u.experimentalForceOwningTab),f?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,y)},d.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},d.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},d.prototype.waitForPendingWrites=function(){return function(u){var f=this,y=new Is;return u.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(f,void 0,void 0,function(){var w;return(0,V.Jh)(this,function(E){switch(E.label){case 0:return w=j_,[4,Nh(u)];case 1:return[2,w.apply(void 0,[E.sent(),y])]}})})}),y.promise}(vi(Oi(this._delegate,Ct)))},d.prototype.onSnapshotsInSync=function(u){return y=u,function(w,E){var M=this,P=new $_(E);return w.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(M,void 0,void 0,function(){var H;return(0,V.Jh)(this,function(z){switch(z.label){case 0:return H=function(ie,ge){W(ie).Gr.add(ge),ge.next()},[4,ad(w)];case 1:return[2,H.apply(void 0,[z.sent(),P])]}})})}),function(){P.Wo(),w.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(M,void 0,void 0,function(){var H;return(0,V.Jh)(this,function(z){switch(z.label){case 0:return H=function(ie,ge){W(ie).Gr.delete(ge)},[4,ad(w)];case 1:return[2,H.apply(void 0,[z.sent(),P])]}})})})}}(vi(Oi(this._delegate,Ct)),ga(y)?y:{next:y});var y},Object.defineProperty(d.prototype,"app",{get:function(){if(!this.tu)throw new Ot(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),d.prototype.collection=function(u){try{return new ba(this,ld(this._delegate,u))}catch(f){throw fo(f,"collection()","Firestore.collection()")}},d.prototype.doc=function(u){try{return new Zs(this,fp(this._delegate,u))}catch(f){throw fo(f,"doc()","Firestore.doc()")}},d.prototype.collectionGroup=function(u){try{return new Ml(this,function(f,y){if(f=Oi(f,K_),Vh("collectionGroup","collection id",y),y.indexOf("/")>=0)throw new Ot(it.INVALID_ARGUMENT,"Invalid collection ID '"+y+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qs(f,null,(w=y,new La(gi.emptyPath(),w)));var w}(this._delegate,u))}catch(f){throw fo(f,"collectionGroup()","Firestore.collectionGroup()")}},d.prototype.runTransaction=function(u){var y,f=this;return function(E,M){var P=this,H=new Is;return E.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(P,void 0,void 0,function(){var z;return(0,V.Jh)(this,function(ie){switch(ie.label){case 0:return[4,(ge=E,up(ge).then(function(ye){return ye.datastore}))];case 1:return z=ie.sent(),new Kg(E.asyncQueue,z,M,H).run(),[2]}var ge})})}),H.promise}(vi(y=this._delegate),function(E){return function(y){return u(new cm(f,y))}(new va(y,E))})},d.prototype.batch=function(){var u=this;return vi(this._delegate),new bp(new _p(this._delegate,function(f){return vp(u._delegate,f)}))},d.prototype.loadBundle=function(u){throw new Ot(it.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},d.prototype.namedQuery=function(u){throw new Ot(it.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},d}(),mc=function(d){function u(f){var y=this;return(y=d.call(this)||this).firestore=f,y}return(0,V.ZT)(u,d),u.prototype.convertBytes=function(f){return new Kw(new cd(f))},u.prototype.convertReference=function(f){var y=this.convertDocumentKey(f,this.firestore._databaseId);return Zs.eu(y,this.firestore,null)},u}(ks),cm=function(){function d(u,f){this._firestore=u,this._delegate=f,this._userDataWriter=new mc(u)}return d.prototype.get=function(u){var f=this,y=hd(u);return this._delegate.get(y).then(function(w){return new Ka(f._firestore,new Dr(f._firestore._delegate,f._userDataWriter,w._key,w._document,w.metadata,y.converter))})},d.prototype.set=function(u,f,y){var w=hd(u);return y?(ms("Transaction.set",y),this._delegate.set(w,f,y)):this._delegate.set(w,f),this},d.prototype.update=function(u,f,y){for(var w,E=[],M=3;M<arguments.length;M++)E[M-3]=arguments[M];var P=hd(u);return 2===arguments.length?this._delegate.update(P,f):(w=this._delegate).update.apply(w,(0,V.ev)([P,f,y],E)),this},d.prototype.delete=function(u){var f=hd(u);return this._delegate.delete(f),this},d}(),bp=function(){function d(u){this._delegate=u}return d.prototype.set=function(u,f,y){var w=hd(u);return y?(ms("WriteBatch.set",y),this._delegate.set(w,f,y)):this._delegate.set(w,f),this},d.prototype.update=function(u,f,y){for(var w,E=[],M=3;M<arguments.length;M++)E[M-3]=arguments[M];var P=hd(u);return 2===arguments.length?this._delegate.update(P,f):(w=this._delegate).update.apply(w,(0,V.ev)([P,f,y],E)),this},d.prototype.delete=function(u){var f=hd(u);return this._delegate.delete(f),this},d.prototype.commit=function(){return this._delegate.commit()},d}(),X_=function(){function d(u,f,y){this._firestore=u,this._userDataWriter=f,this._delegate=y}return d.prototype.fromFirestore=function(u,f){var y=new Il(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,null);return this._delegate.fromFirestore(new _c(this._firestore,y),f??{})},d.prototype.toFirestore=function(u,f){return f?this._delegate.toFirestore(u,f):this._delegate.toFirestore(u)},d.nu=function(u,f){var y=d.su,w=y.get(u);w||y.set(u,w=new WeakMap);var E=w.get(f);return E||(E=new d(u,new mc(u),f),w.set(f,E)),E},d}();X_.su=new WeakMap;var Zs=function(){function d(u,f){this.firestore=u,this._delegate=f,this._userDataWriter=new mc(u)}return d.iu=function(u,f,y){if(u.length%2!=0)throw new Ot(it.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+u.canonicalString()+" has "+u.length);return new d(f,new Sr(f._delegate,y,new on(u)))},d.eu=function(u,f,y){return new d(f,new Sr(f._delegate,y,u))},Object.defineProperty(d.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return new ba(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),d.prototype.collection=function(u){try{return new ba(this.firestore,ld(this._delegate,u))}catch(f){throw fo(f,"collection()","DocumentReference.collection()")}},d.prototype.isEqual=function(u){return(u=(0,Y.m9)(u))instanceof Sr&&im(this._delegate,u)},d.prototype.set=function(u,f){f=ms("DocumentReference.set",f);try{return f?yp(this._delegate,u,f):yp(this._delegate,u)}catch(y){throw fo(y,"setDoc()","DocumentReference.set()")}},d.prototype.update=function(u,f){for(var y=[],w=2;w<arguments.length;w++)y[w-2]=arguments[w];try{return 1===arguments.length?jo(this._delegate,u):jo.apply(void 0,(0,V.ev)([this._delegate,u,f],y))}catch(E){throw fo(E,"updateDoc()","DocumentReference.update()")}},d.prototype.delete=function(){return vp(Oi((u=this._delegate).firestore,Ct),[new Yu(u._key,ao.none())]);var u},d.prototype.onSnapshot=function(){for(var u=this,f=[],y=0;y<arguments.length;y++)f[y]=arguments[y];var w=wp(f),E=Bb(f,function(M){return new Ka(u.firestore,new Dr(u.firestore._delegate,u._userDataWriter,M._key,M._document,M.metadata,u._delegate.converter))});return Yi(this._delegate,w,E)},d.prototype.get=function(u){var f=this;return("cache"===u?.source?function(y){y=Oi(y,Sr);var w=Oi(y.firestore,Ct),E=vi(w),M=new Wi(w);return function(P,H){var z=this,ie=new Is;return P.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(z,void 0,void 0,function(){var ge;return(0,V.Jh)(this,function(ye){switch(ye.label){case 0:return ge=function(Ye,Ge,at){return(0,V.mG)(this,void 0,void 0,function(){var Lt,Xt;return(0,V.Jh)(this,function(Hn){switch(Hn.label){case 0:return Hn.trys.push([0,2,,3]),[4,(yn=Ye,bi=Ge,Ri=W(yn),Ri.persistence.runTransaction("read document","readonly",function(Ki){return Ri.Mn.mn(Ki,bi)}))];case 1:return(Xt=Hn.sent()).isFoundDocument()?at.resolve(Xt):Xt.isNoDocument()?at.resolve(null):at.reject(new Ot(it.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Lt=Hn.sent(),Xt=Dh(Lt,"Failed to get document '"+Ge+" from cache"),at.reject(Xt),[3,3];case 3:return[2]}var yn,bi,Ri})})},[4,Tb(P)];case 1:return[2,ge.apply(void 0,[ye.sent(),H,ie])]}})})}),ie.promise}(E,y._key).then(function(P){return new Dr(w,M,y._key,P,new _a(null!==P&&P.hasLocalMutations,!0),y.converter)})}(this._delegate):"server"===u?.source?function(y){y=Oi(y,Sr);var w=Oi(y.firestore,Ct);return xb(vi(w),y._key,{source:"server"}).then(function(E){return pu(w,y,E)})}(this._delegate):function(y){y=Oi(y,Sr);var w=Oi(y.firestore,Ct);return xb(vi(w),y._key).then(function(E){return pu(w,y,E)})}(this._delegate)).then(function(y){return new Ka(f.firestore,new Dr(f.firestore._delegate,f._userDataWriter,y._key,y._document,y.metadata,f._delegate.converter))})},d.prototype.withConverter=function(u){return new d(this.firestore,this._delegate.withConverter(u?X_.nu(this.firestore,u):null))},d}();function fo(d,u,f){return d.message=d.message.replace(u,f),d}function wp(d){for(var u=0,f=d;u<f.length;u++){var y=f[u];if("object"==typeof y&&!ga(y))return y}return{}}function Bb(d,u){var f,y,w;return{next:function(E){w.next&&w.next(u(E))},error:null===(f=(w=ga(d[0])?d[0]:ga(d[1])?d[1]:"function"==typeof d[0]?{next:d[0],error:d[1],complete:d[2]}:{next:d[1],error:d[2],complete:d[3]}).error)||void 0===f?void 0:f.bind(w),complete:null===(y=w.complete)||void 0===y?void 0:y.bind(w)}}var Ka=function(){function d(u,f){this._firestore=u,this._delegate=f}return Object.defineProperty(d.prototype,"ref",{get:function(){return new Zs(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),d.prototype.data=function(u){return this._delegate.data(u)},d.prototype.get=function(u,f){return this._delegate.get(u,f)},d.prototype.isEqual=function(u){return gc(this._delegate,u._delegate)},d}(),_c=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return(0,V.ZT)(u,d),u.prototype.data=function(f){return this._delegate.data(f)},u}(Ka),Ml=function(){function d(u,f){this.firestore=u,this._delegate=f,this._userDataWriter=new mc(u)}return d.prototype.where=function(u,f,y){try{return new d(this.firestore,Wa(this._delegate,(M=y,P=f,H=Uh("where",w=u),new ya(H,P,M))))}catch(w){throw fo(w,/(orderBy|where)\(\)/,"Query.$1()")}var w,M,P,H},d.prototype.orderBy=function(u,f){try{return new d(this.firestore,Wa(this._delegate,function(y,w){void 0===w&&(w="asc");var E=w,M=Uh("orderBy",y);return new IT(M,E)}(u,f)))}catch(y){throw fo(y,/(orderBy|where)\(\)/,"Query.$1()")}},d.prototype.limit=function(u){try{return new d(this.firestore,Wa(this._delegate,(Ab("limit",f=u),new am("limit",f,"F"))))}catch(f){throw fo(f,"limit()","Query.limit()")}var f},d.prototype.limitToLast=function(u){try{return new d(this.firestore,Wa(this._delegate,(Ab("limitToLast",f=u),new am("limitToLast",f,"L"))))}catch(f){throw fo(f,"limitToLast()","Query.limitToLast()")}var f},d.prototype.startAt=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];try{return new d(this.firestore,Wa(this._delegate,function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return new hu("startAt",y,!0)}.apply(void 0,u)))}catch(y){throw fo(y,"startAt()","Query.startAt()")}},d.prototype.startAfter=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];try{return new d(this.firestore,Wa(this._delegate,function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return new hu("startAfter",y,!1)}.apply(void 0,u)))}catch(y){throw fo(y,"startAfter()","Query.startAfter()")}},d.prototype.endBefore=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];try{return new d(this.firestore,Wa(this._delegate,function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return new Lb("endBefore",y,!0)}.apply(void 0,u)))}catch(y){throw fo(y,"endBefore()","Query.endBefore()")}},d.prototype.endAt=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];try{return new d(this.firestore,Wa(this._delegate,function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return new Lb("endAt",y,!1)}.apply(void 0,u)))}catch(y){throw fo(y,"endAt()","Query.endAt()")}},d.prototype.isEqual=function(u){return Qr(this._delegate,u._delegate)},d.prototype.get=function(u){var f=this;return("cache"===u?.source?function(y){y=Oi(y,qs);var w=Oi(y.firestore,Ct),E=vi(w),M=new Wi(w);return function(P,H){var z=this,ie=new Is;return P.asyncQueue.enqueueAndForget(function(){return(0,V.mG)(z,void 0,void 0,function(){var ge;return(0,V.Jh)(this,function(ye){switch(ye.label){case 0:return ge=function(Ye,Ge,at){return(0,V.mG)(this,void 0,void 0,function(){var Lt,Xt,Hn,yn,bi;return(0,V.Jh)(this,function(Ri){switch(Ri.label){case 0:return Ri.trys.push([0,2,,3]),[4,uo(Ye,Ge,!0)];case 1:return bi=Ri.sent(),Lt=new yT(Ge,bi.Bn),Xt=Lt._o(bi.documents),Hn=Lt.applyChanges(Xt,!1),at.resolve(Hn.snapshot),[3,3];case 2:return yn=Ri.sent(),bi=Dh(yn,"Failed to execute query '"+Ge+" against cache"),at.reject(bi),[3,3];case 3:return[2]}})})},[4,Tb(P)];case 1:return[2,ge.apply(void 0,[ye.sent(),H,ie])]}})})}),ie.promise}(E,y._query).then(function(P){return new du(w,M,y,P)})}(this._delegate):"server"===u?.source?function(y){y=Oi(y,qs);var w=Oi(y.firestore,Ct),E=vi(w),M=new Wi(w);return em(E,y._query,{source:"server"}).then(function(P){return new du(w,M,y,P)})}(this._delegate):function(y){y=Oi(y,qs);var w=Oi(y.firestore,Ct),E=vi(w),M=new Wi(w);return mp(y._query),em(E,y._query).then(function(P){return new du(w,M,y,P)})}(this._delegate)).then(function(y){return new vc(f.firestore,new du(f.firestore._delegate,f._userDataWriter,f._delegate,y._snapshot))})},d.prototype.onSnapshot=function(){for(var u=this,f=[],y=0;y<arguments.length;y++)f[y]=arguments[y];var w=wp(f),E=Bb(f,function(M){return new vc(u.firestore,new du(u.firestore._delegate,u._userDataWriter,u._delegate,M._snapshot))});return Yi(this._delegate,w,E)},d.prototype.withConverter=function(u){return new d(this.firestore,this._delegate.withConverter(u?X_.nu(this.firestore,u):null))},d}(),yc=function(){function d(u,f){this._firestore=u,this._delegate=f}return Object.defineProperty(d.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"doc",{get:function(){return new _c(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),d}(),vc=function(){function d(u,f){this._firestore=u,this._delegate=f}return Object.defineProperty(d.prototype,"query",{get:function(){return new Ml(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"docs",{get:function(){var u=this;return this._delegate.docs.map(function(f){return new _c(u._firestore,f)})},enumerable:!1,configurable:!0}),d.prototype.docChanges=function(u){var f=this;return this._delegate.docChanges(u).map(function(y){return new yc(f._firestore,y)})},d.prototype.forEach=function(u,f){var y=this;this._delegate.forEach(function(w){u.call(f,new _c(y._firestore,w))})},d.prototype.isEqual=function(u){return gc(this._delegate,u._delegate)},d}(),ba=function(d){function u(f,y){var w=this;return(w=d.call(this,f,y)||this).firestore=f,w._delegate=y,w}return(0,V.ZT)(u,d),Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"parent",{get:function(){var f=this._delegate.parent;return f?new Zs(this.firestore,f):null},enumerable:!1,configurable:!0}),u.prototype.doc=function(f){try{return new Zs(this.firestore,void 0===f?fp(this._delegate):fp(this._delegate,f))}catch(y){throw fo(y,"doc()","CollectionReference.doc()")}},u.prototype.add=function(f){var w,E,M,P,H,y=this;return(w=this._delegate,E=f,M=Oi(w.firestore,Ct),P=fp(w),H=Uo(w.converter,E),vp(M,[Ob(pp(w.firestore),"addDoc",P._key,H,null!==w.converter,{}).toMutation(P._key,ao.exists(!1))]).then(function(){return P})).then(function(w){return new Zs(y.firestore,w)})},u.prototype.isEqual=function(f){return im(this._delegate,f._delegate)},u.prototype.withConverter=function(f){return new u(this.firestore,this._delegate.withConverter(f?X_.nu(this.firestore,f):null))},u}(Ml);function hd(d){return Oi(d,Sr)}var jh=function(){function d(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];this._delegate=new(Ln.bind.apply(Ln,(0,V.ev)([void 0],u)))}return d.documentId=function(){return new d(ra.keyField().canonicalString())},d.prototype.isEqual=function(u){return(u=(0,Y.m9)(u))instanceof Ln&&this._delegate._internalPath.isEqual(u._internalPath)},d}(),um=function(){function d(u){this._delegate=u}return d.serverTimestamp=function(){var u=new Bh("serverTimestamp");return u._methodName="FieldValue.serverTimestamp",new d(u)},d.delete=function(){var u=new Rb("deleteField");return u._methodName="FieldValue.delete",new d(u)},d.arrayUnion=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var y=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];return new Pb("arrayUnion",w)}.apply(void 0,u);return y._methodName="FieldValue.arrayUnion",new d(y)},d.arrayRemove=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var y=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];return new $w("arrayRemove",w)}.apply(void 0,u);return y._methodName="FieldValue.arrayRemove",new d(y)},d.increment=function(u){var f=new ci("increment",u);return f._methodName="FieldValue.increment",new d(f)},d.prototype.isEqual=function(u){return this._delegate.isEqual(u._delegate)},d}(),ey=q(1716),ty={Firestore:Ir,GeoPoint:ot,Timestamp:$i,Blob:Kw,Transaction:cm,WriteBatch:bp,DocumentReference:Zs,DocumentSnapshot:Ka,Query:Ml,QueryDocumentSnapshot:_c,QuerySnapshot:vc,CollectionReference:ba,FieldPath:jh,FieldValue:um,setLogLevel:function Ya(d){ia.setLogLevel(d)},CACHE_SIZE_UNLIMITED:-1};!function AT(d){d.INTERNAL.registerComponent(new ey.wA("firestore",function(y){return u=y.getProvider("app").getImmediate(),f=y.getProvider("auth-internal"),new Ir(u,new Ct(u,f),new gu);var u,f},"PUBLIC").setServiceProps(Object.assign({},ty))),d.registerVersion("@firebase/firestore","2.4.1")}(s.Z)},9751:(an,Qe,q)=>{"use strict";q.d(Qe,{y:()=>Se});var s=q(930),V=q(727),Y=q(8822),_e=q(9635),Ve=q(2416),Me=q(576),ve=q(2806);let Se=(()=>{class ce{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const je=new ce;return je.source=this,je.operator=Oe,je}subscribe(Oe,je,ut){const Be=function ne(ce){return ce&&ce instanceof s.Lv||function re(ce){return ce&&(0,Me.m)(ce.next)&&(0,Me.m)(ce.error)&&(0,Me.m)(ce.complete)}(ce)&&(0,V.Nn)(ce)}(Oe)?Oe:new s.Hp(Oe,je,ut);return(0,ve.x)(()=>{const{operator:Ne,source:St}=this;Be.add(Ne?Ne.call(Be,St):St?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(je){Oe.error(je)}}forEach(Oe,je){return new(je=fe(je))((ut,Be)=>{const Ne=new s.Hp({next:St=>{try{Oe(St)}catch(pt){Be(pt),Ne.unsubscribe()}},error:Be,complete:ut});this.subscribe(Ne)})}_subscribe(Oe){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(Oe)}[Y.L](){return this}pipe(...Oe){return(0,_e.U)(Oe)(this)}toPromise(Oe){return new(Oe=fe(Oe))((je,ut)=>{let Be;this.subscribe(Ne=>Be=Ne,Ne=>ut(Ne),()=>je(Be))})}}return ce.create=we=>new ce(we),ce})();function fe(ce){var we;return null!==(we=ce??Ve.v.Promise)&&void 0!==we?we:Promise}},7579:(an,Qe,q)=>{"use strict";q.d(Qe,{x:()=>ve});var s=q(9751),V=q(727);const _e=(0,q(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=q(8737),Me=q(2806);let ve=(()=>{class fe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ce=new Se(this,this);return ce.operator=ne,ce}_throwIfClosed(){if(this.closed)throw new _e}next(ne){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(ne)}})}error(ne){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ce}=this;for(;ce.length;)ce.shift().error(ne)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ce,isStopped:we,observers:Oe}=this;return ce||we?V.Lc:(this.currentObservers=null,Oe.push(ne),new V.w0(()=>{this.currentObservers=null,(0,Ve.P)(Oe,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ce,thrownError:we,isStopped:Oe}=this;ce?ne.error(we):Oe&&ne.complete()}asObservable(){const ne=new s.y;return ne.source=this,ne}}return fe.create=(re,ne)=>new Se(re,ne),fe})();class Se extends ve{constructor(re,ne){super(),this.destination=re,this.source=ne}next(re){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ce||ce.call(ne,re)}error(re){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ce||ce.call(ne,re)}complete(){var re,ne;null===(ne=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ne||ne.call(re)}_subscribe(re){var ne,ce;return null!==(ce=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(re))&&void 0!==ce?ce:V.Lc}}},930:(an,Qe,q)=>{"use strict";q.d(Qe,{Hp:()=>ut,Lv:()=>ce});var s=q(576),V=q(727),Y=q(2416),_e=q(7849),Ve=q(5032);const Me=fe("C",void 0,void 0);function fe(Ke,He,$e){return{kind:Ke,value:He,error:$e}}var re=q(3410),ne=q(2806);class ce extends V.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,V.Nn)(He)&&He.add(this)):this.destination=pt}static create(He,$e,Xe){return new ut(He,$e,Xe)}next(He){this.isStopped?St(function Se(Ke){return fe("N",Ke,void 0)}(He),this):this._next(He)}error(He){this.isStopped?St(function ve(Ke){return fe("E",void 0,Ke)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?St(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const we=Function.prototype.bind;function Oe(Ke,He){return we.call(Ke,He)}class je{constructor(He){this.partialObserver=He}next(He){const{partialObserver:$e}=this;if($e.next)try{$e.next(He)}catch(Xe){Be(Xe)}}error(He){const{partialObserver:$e}=this;if($e.error)try{$e.error(He)}catch(Xe){Be(Xe)}else Be(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch($e){Be($e)}}}class ut extends ce{constructor(He,$e,Xe){let pe;if(super(),(0,s.m)(He)||!He)pe={next:He??void 0,error:$e??void 0,complete:Xe??void 0};else{let Ie;this&&Y.v.useDeprecatedNextContext?(Ie=Object.create(He),Ie.unsubscribe=()=>this.unsubscribe(),pe={next:He.next&&Oe(He.next,Ie),error:He.error&&Oe(He.error,Ie),complete:He.complete&&Oe(He.complete,Ie)}):pe=He}this.destination=new je(pe)}}function Be(Ke){Y.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Ke):(0,_e.h)(Ke)}function St(Ke,He){const{onStoppedNotification:$e}=Y.v;$e&&re.z.setTimeout(()=>$e(Ke,He))}const pt={closed:!0,next:Ve.Z,error:function Ne(Ke){throw Ke},complete:Ve.Z}},727:(an,Qe,q)=>{"use strict";q.d(Qe,{Lc:()=>Me,w0:()=>Ve,Nn:()=>ve});var s=q(576);const Y=(0,q(3888).d)(fe=>function(ne){fe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ce,we)=>`${we+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var _e=q(8737);class Ve{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Oe of ne)Oe.remove(this);else ne.remove(this);const{initialTeardown:ce}=this;if((0,s.m)(ce))try{ce()}catch(Oe){re=Oe instanceof Y?Oe.errors:[Oe]}const{_finalizers:we}=this;if(we){this._finalizers=null;for(const Oe of we)try{Se(Oe)}catch(je){re=re??[],je instanceof Y?re=[...re,...je.errors]:re.push(je)}}if(re)throw new Y(re)}}add(re){var ne;if(re&&re!==this)if(this.closed)Se(re);else{if(re instanceof Ve){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(re)}}_hasParent(re){const{_parentage:ne}=this;return ne===re||Array.isArray(ne)&&ne.includes(re)}_addParent(re){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(re),ne):ne?[ne,re]:re}_removeParent(re){const{_parentage:ne}=this;ne===re?this._parentage=null:Array.isArray(ne)&&(0,_e.P)(ne,re)}remove(re){const{_finalizers:ne}=this;ne&&(0,_e.P)(ne,re),re instanceof Ve&&re._removeParent(this)}}Ve.EMPTY=(()=>{const fe=new Ve;return fe.closed=!0,fe})();const Me=Ve.EMPTY;function ve(fe){return fe instanceof Ve||fe&&"closed"in fe&&(0,s.m)(fe.remove)&&(0,s.m)(fe.add)&&(0,s.m)(fe.unsubscribe)}function Se(fe){(0,s.m)(fe)?fe():fe.unsubscribe()}},2416:(an,Qe,q)=>{"use strict";q.d(Qe,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(an,Qe,q)=>{"use strict";q.d(Qe,{E:()=>V});const V=new(q(9751).y)(Ve=>Ve.complete())},8996:(an,Qe,q)=>{"use strict";q.d(Qe,{D:()=>He});var s=q(8421),V=q(5363),Y=q(9468),Me=q(9751),Se=q(2202),fe=q(576),re=q(9672);function ce($e,Xe){if(!$e)throw new Error("Iterable cannot be null");return new Me.y(pe=>{(0,re.f)(pe,Xe,()=>{const Ie=$e[Symbol.asyncIterator]();(0,re.f)(pe,Xe,()=>{Ie.next().then(Ae=>{Ae.done?pe.complete():pe.next(Ae.value)})},0,!0)})})}var we=q(3670),Oe=q(8239),je=q(1144),ut=q(6495),Be=q(2206),Ne=q(4532),St=q(3260);function He($e,Xe){return Xe?function Ke($e,Xe){if(null!=$e){if((0,we.c)($e))return function _e($e,Xe){return(0,s.Xf)($e).pipe((0,Y.R)(Xe),(0,V.Q)(Xe))}($e,Xe);if((0,je.z)($e))return function ve($e,Xe){return new Me.y(pe=>{let Ie=0;return Xe.schedule(function(){Ie===$e.length?pe.complete():(pe.next($e[Ie++]),pe.closed||this.schedule())})})}($e,Xe);if((0,Oe.t)($e))return function Ve($e,Xe){return(0,s.Xf)($e).pipe((0,Y.R)(Xe),(0,V.Q)(Xe))}($e,Xe);if((0,Be.D)($e))return ce($e,Xe);if((0,ut.T)($e))return function ne($e,Xe){return new Me.y(pe=>{let Ie;return(0,re.f)(pe,Xe,()=>{Ie=$e[Se.h](),(0,re.f)(pe,Xe,()=>{let Ae,be;try{({value:Ae,done:be}=Ie.next())}catch(Ce){return void pe.error(Ce)}be?pe.complete():pe.next(Ae)},0,!0)}),()=>(0,fe.m)(Ie?.return)&&Ie.return()})}($e,Xe);if((0,St.L)($e))return function pt($e,Xe){return ce((0,St.Q)($e),Xe)}($e,Xe)}throw(0,Ne.z)($e)}($e,Xe):(0,s.Xf)($e)}},8421:(an,Qe,q)=>{"use strict";q.d(Qe,{Xf:()=>we});var s=q(655),V=q(1144),Y=q(8239),_e=q(9751),Ve=q(3670),Me=q(2206),ve=q(4532),Se=q(6495),fe=q(3260),re=q(576),ne=q(7849),ce=q(8822);function we(Ke){if(Ke instanceof _e.y)return Ke;if(null!=Ke){if((0,Ve.c)(Ke))return function Oe(Ke){return new _e.y(He=>{const $e=Ke[ce.L]();if((0,re.m)($e.subscribe))return $e.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,V.z)(Ke))return function je(Ke){return new _e.y(He=>{for(let $e=0;$e<Ke.length&&!He.closed;$e++)He.next(Ke[$e]);He.complete()})}(Ke);if((0,Y.t)(Ke))return function ut(Ke){return new _e.y(He=>{Ke.then($e=>{He.closed||(He.next($e),He.complete())},$e=>He.error($e)).then(null,ne.h)})}(Ke);if((0,Me.D)(Ke))return Ne(Ke);if((0,Se.T)(Ke))return function Be(Ke){return new _e.y(He=>{for(const $e of Ke)if(He.next($e),He.closed)return;He.complete()})}(Ke);if((0,fe.L)(Ke))return function St(Ke){return Ne((0,fe.Q)(Ke))}(Ke)}throw(0,ve.z)(Ke)}function Ne(Ke){return new _e.y(He=>{(function pt(Ke,He){var $e,Xe,pe,Ie;return(0,s.mG)(this,void 0,void 0,function*(){try{for($e=(0,s.KL)(Ke);!(Xe=yield $e.next()).done;)if(He.next(Xe.value),He.closed)return}catch(Ae){pe={error:Ae}}finally{try{Xe&&!Xe.done&&(Ie=$e.return)&&(yield Ie.call($e))}finally{if(pe)throw pe.error}}He.complete()})})(Ke,He).catch($e=>He.error($e))})}},6451:(an,Qe,q)=>{"use strict";q.d(Qe,{T:()=>Me});var s=q(8189),V=q(8421),Y=q(515),_e=q(3269),Ve=q(8996);function Me(...ve){const Se=(0,_e.yG)(ve),fe=(0,_e._6)(ve,1/0),re=ve;return re.length?1===re.length?(0,V.Xf)(re[0]):(0,s.J)(fe)((0,Ve.D)(re,Se)):Y.E}},5403:(an,Qe,q)=>{"use strict";q.d(Qe,{Q:()=>Y,x:()=>V});var s=q(930);function V(_e,Ve,Me,ve,Se){return new Y(_e,Ve,Me,ve,Se)}class Y extends s.Lv{constructor(Ve,Me,ve,Se,fe,re){super(Ve),this.onFinalize=fe,this.shouldUnsubscribe=re,this._next=Me?function(ne){try{Me(ne)}catch(ce){Ve.error(ce)}}:super._next,this._error=Se?function(ne){try{Se(ne)}catch(ce){Ve.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(ne){Ve.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(Ve=this.onFinalize)||void 0===Ve||Ve.call(this))}}}},4004:(an,Qe,q)=>{"use strict";q.d(Qe,{U:()=>Y});var s=q(4482),V=q(5403);function Y(_e,Ve){return(0,s.e)((Me,ve)=>{let Se=0;Me.subscribe((0,V.x)(ve,fe=>{ve.next(_e.call(Ve,fe,Se++))}))})}},8189:(an,Qe,q)=>{"use strict";q.d(Qe,{J:()=>Y});var s=q(5577),V=q(4671);function Y(_e=1/0){return(0,s.z)(V.y,_e)}},5577:(an,Qe,q)=>{"use strict";q.d(Qe,{z:()=>Se});var s=q(4004),V=q(8421),Y=q(4482),_e=q(9672),Ve=q(5403),ve=q(576);function Se(fe,re,ne=1/0){return(0,ve.m)(re)?Se((ce,we)=>(0,s.U)((Oe,je)=>re(ce,Oe,we,je))((0,V.Xf)(fe(ce,we))),ne):("number"==typeof re&&(ne=re),(0,Y.e)((ce,we)=>function Me(fe,re,ne,ce,we,Oe,je,ut){const Be=[];let Ne=0,St=0,pt=!1;const Ke=()=>{pt&&!Be.length&&!Ne&&re.complete()},He=Xe=>Ne<ce?$e(Xe):Be.push(Xe),$e=Xe=>{Oe&&re.next(Xe),Ne++;let pe=!1;(0,V.Xf)(ne(Xe,St++)).subscribe((0,Ve.x)(re,Ie=>{we?.(Ie),Oe?He(Ie):re.next(Ie)},()=>{pe=!0},void 0,()=>{if(pe)try{for(Ne--;Be.length&&Ne<ce;){const Ie=Be.shift();je?(0,_e.f)(re,je,()=>$e(Ie)):$e(Ie)}Ke()}catch(Ie){re.error(Ie)}}))};return fe.subscribe((0,Ve.x)(re,He,()=>{pt=!0,Ke()})),()=>{ut?.()}}(ce,we,fe,ne)))}},5363:(an,Qe,q)=>{"use strict";q.d(Qe,{Q:()=>_e});var s=q(9672),V=q(4482),Y=q(5403);function _e(Ve,Me=0){return(0,V.e)((ve,Se)=>{ve.subscribe((0,Y.x)(Se,fe=>(0,s.f)(Se,Ve,()=>Se.next(fe),Me),()=>(0,s.f)(Se,Ve,()=>Se.complete(),Me),fe=>(0,s.f)(Se,Ve,()=>Se.error(fe),Me)))})}},3099:(an,Qe,q)=>{"use strict";q.d(Qe,{B:()=>Ve});var s=q(8421),V=q(7579),Y=q(930),_e=q(4482);function Ve(ve={}){const{connector:Se=(()=>new V.x),resetOnError:fe=!0,resetOnComplete:re=!0,resetOnRefCountZero:ne=!0}=ve;return ce=>{let we,Oe,je,ut=0,Be=!1,Ne=!1;const St=()=>{Oe?.unsubscribe(),Oe=void 0},pt=()=>{St(),we=je=void 0,Be=Ne=!1},Ke=()=>{const He=we;pt(),He?.unsubscribe()};return(0,_e.e)((He,$e)=>{ut++,!Ne&&!Be&&St();const Xe=je=je??Se();$e.add(()=>{ut--,0===ut&&!Ne&&!Be&&(Oe=Me(Ke,ne))}),Xe.subscribe($e),!we&&ut>0&&(we=new Y.Hp({next:pe=>Xe.next(pe),error:pe=>{Ne=!0,St(),Oe=Me(pt,fe,pe),Xe.error(pe)},complete:()=>{Be=!0,St(),Oe=Me(pt,re),Xe.complete()}}),(0,s.Xf)(He).subscribe(we))})(ce)}}function Me(ve,Se,...fe){if(!0===Se)return void ve();if(!1===Se)return;const re=new Y.Hp({next:()=>{re.unsubscribe(),ve()}});return Se(...fe).subscribe(re)}},9468:(an,Qe,q)=>{"use strict";q.d(Qe,{R:()=>V});var s=q(4482);function V(Y,_e=0){return(0,s.e)((Ve,Me)=>{Me.add(Y.schedule(()=>Ve.subscribe(Me),_e))})}},8505:(an,Qe,q)=>{"use strict";q.d(Qe,{b:()=>Ve});var s=q(576),V=q(4482),Y=q(5403),_e=q(4671);function Ve(Me,ve,Se){const fe=(0,s.m)(Me)||ve||Se?{next:Me,error:ve,complete:Se}:Me;return fe?(0,V.e)((re,ne)=>{var ce;null===(ce=fe.subscribe)||void 0===ce||ce.call(fe);let we=!0;re.subscribe((0,Y.x)(ne,Oe=>{var je;null===(je=fe.next)||void 0===je||je.call(fe,Oe),ne.next(Oe)},()=>{var Oe;we=!1,null===(Oe=fe.complete)||void 0===Oe||Oe.call(fe),ne.complete()},Oe=>{var je;we=!1,null===(je=fe.error)||void 0===je||je.call(fe,Oe),ne.error(Oe)},()=>{var Oe,je;we&&(null===(Oe=fe.unsubscribe)||void 0===Oe||Oe.call(fe)),null===(je=fe.finalize)||void 0===je||je.call(fe)}))}):_e.y}},4408:(an,Qe,q)=>{"use strict";q.d(Qe,{o:()=>Ve});var s=q(727);class V extends s.w0{constructor(ve,Se){super()}schedule(ve,Se=0){return this}}const Y={setInterval(Me,ve,...Se){const{delegate:fe}=Y;return fe?.setInterval?fe.setInterval(Me,ve,...Se):setInterval(Me,ve,...Se)},clearInterval(Me){const{delegate:ve}=Y;return(ve?.clearInterval||clearInterval)(Me)},delegate:void 0};var _e=q(8737);class Ve extends V{constructor(ve,Se){super(ve,Se),this.scheduler=ve,this.work=Se,this.pending=!1}schedule(ve,Se=0){if(this.closed)return this;this.state=ve;const fe=this.id,re=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(re,fe,Se)),this.pending=!0,this.delay=Se,this.id=this.id||this.requestAsyncId(re,this.id,Se),this}requestAsyncId(ve,Se,fe=0){return Y.setInterval(ve.flush.bind(ve,this),fe)}recycleAsyncId(ve,Se,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Se;Y.clearInterval(Se)}execute(ve,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ve,Se);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Se){let re,fe=!1;try{this.work(ve)}catch(ne){fe=!0,re=ne||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Se}=this,{actions:fe}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(fe,this),null!=ve&&(this.id=this.recycleAsyncId(Se,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(an,Qe,q)=>{"use strict";q.d(Qe,{v:()=>Y});var s=q(6063);class V{constructor(Ve,Me=V.now){this.schedulerActionCtor=Ve,this.now=Me}schedule(Ve,Me=0,ve){return new this.schedulerActionCtor(this,Ve).schedule(ve,Me)}}V.now=s.l.now;class Y extends V{constructor(Ve,Me=V.now){super(Ve,Me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ve){const{actions:Me}=this;if(this._active)return void Me.push(Ve);let ve;this._active=!0;do{if(ve=Ve.execute(Ve.state,Ve.delay))break}while(Ve=Me.shift());if(this._active=!1,ve){for(;Ve=Me.shift();)Ve.unsubscribe();throw ve}}}},4986:(an,Qe,q)=>{"use strict";q.d(Qe,{P:()=>_e,z:()=>Y});var s=q(4408);const Y=new(q(7565).v)(s.o),_e=Y},6063:(an,Qe,q)=>{"use strict";q.d(Qe,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(an,Qe,q)=>{"use strict";q.d(Qe,{z:()=>s});const s={setTimeout(V,Y,..._e){const{delegate:Ve}=s;return Ve?.setTimeout?Ve.setTimeout(V,Y,..._e):setTimeout(V,Y,..._e)},clearTimeout(V){const{delegate:Y}=s;return(Y?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(an,Qe,q)=>{"use strict";q.d(Qe,{h:()=>V});const V=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(an,Qe,q)=>{"use strict";q.d(Qe,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(an,Qe,q)=>{"use strict";q.d(Qe,{_6:()=>Me,jO:()=>_e,yG:()=>Ve});var s=q(576),V=q(3532);function Y(ve){return ve[ve.length-1]}function _e(ve){return(0,s.m)(Y(ve))?ve.pop():void 0}function Ve(ve){return(0,V.K)(Y(ve))?ve.pop():void 0}function Me(ve,Se){return"number"==typeof Y(ve)?ve.pop():Se}},8737:(an,Qe,q)=>{"use strict";function s(V,Y){if(V){const _e=V.indexOf(Y);0<=_e&&V.splice(_e,1)}}q.d(Qe,{P:()=>s})},3888:(an,Qe,q)=>{"use strict";function s(V){const _e=V(Ve=>{Error.call(Ve),Ve.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}q.d(Qe,{d:()=>s})},2806:(an,Qe,q)=>{"use strict";q.d(Qe,{O:()=>_e,x:()=>Y});var s=q(2416);let V=null;function Y(Ve){if(s.v.useDeprecatedSynchronousErrorHandling){const Me=!V;if(Me&&(V={errorThrown:!1,error:null}),Ve(),Me){const{errorThrown:ve,error:Se}=V;if(V=null,ve)throw Se}}else Ve()}function _e(Ve){s.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=Ve)}},9672:(an,Qe,q)=>{"use strict";function s(V,Y,_e,Ve=0,Me=!1){const ve=Y.schedule(function(){_e(),Me?V.add(this.schedule(null,Ve)):this.unsubscribe()},Ve);if(V.add(ve),!Me)return ve}q.d(Qe,{f:()=>s})},4671:(an,Qe,q)=>{"use strict";function s(V){return V}q.d(Qe,{y:()=>s})},1144:(an,Qe,q)=>{"use strict";q.d(Qe,{z:()=>s});const s=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(an,Qe,q)=>{"use strict";q.d(Qe,{D:()=>V});var s=q(576);function V(Y){return Symbol.asyncIterator&&(0,s.m)(Y?.[Symbol.asyncIterator])}},576:(an,Qe,q)=>{"use strict";function s(V){return"function"==typeof V}q.d(Qe,{m:()=>s})},3670:(an,Qe,q)=>{"use strict";q.d(Qe,{c:()=>Y});var s=q(8822),V=q(576);function Y(_e){return(0,V.m)(_e[s.L])}},6495:(an,Qe,q)=>{"use strict";q.d(Qe,{T:()=>Y});var s=q(2202),V=q(576);function Y(_e){return(0,V.m)(_e?.[s.h])}},8239:(an,Qe,q)=>{"use strict";q.d(Qe,{t:()=>V});var s=q(576);function V(Y){return(0,s.m)(Y?.then)}},3260:(an,Qe,q)=>{"use strict";q.d(Qe,{L:()=>_e,Q:()=>Y});var s=q(655),V=q(576);function Y(Ve){return(0,s.FC)(this,arguments,function*(){const ve=Ve.getReader();try{for(;;){const{value:Se,done:fe}=yield(0,s.qq)(ve.read());if(fe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Se)}}finally{ve.releaseLock()}})}function _e(Ve){return(0,V.m)(Ve?.getReader)}},3532:(an,Qe,q)=>{"use strict";q.d(Qe,{K:()=>V});var s=q(576);function V(Y){return Y&&(0,s.m)(Y.schedule)}},4482:(an,Qe,q)=>{"use strict";q.d(Qe,{A:()=>V,e:()=>Y});var s=q(576);function V(_e){return(0,s.m)(_e?.lift)}function Y(_e){return Ve=>{if(V(Ve))return Ve.lift(function(Me){try{return _e(Me,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(an,Qe,q)=>{"use strict";function s(){}q.d(Qe,{Z:()=>s})},9635:(an,Qe,q)=>{"use strict";q.d(Qe,{U:()=>Y,z:()=>V});var s=q(4671);function V(..._e){return Y(_e)}function Y(_e){return 0===_e.length?s.y:1===_e.length?_e[0]:function(Me){return _e.reduce((ve,Se)=>Se(ve),Me)}}},7849:(an,Qe,q)=>{"use strict";q.d(Qe,{h:()=>Y});var s=q(2416),V=q(3410);function Y(_e){V.z.setTimeout(()=>{const{onUnhandledError:Ve}=s.v;if(!Ve)throw _e;Ve(_e)})}},4532:(an,Qe,q)=>{"use strict";function s(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}q.d(Qe,{z:()=>s})},5945:()=>{},655:(an,Qe,q)=>{"use strict";q.d(Qe,{CR:()=>we,FC:()=>Ne,Jh:()=>fe,KL:()=>pt,XA:()=>ce,ZT:()=>V,_T:()=>_e,ev:()=>ut,mG:()=>Se,pi:()=>Y,qq:()=>Be});var s=function(be,Ce){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ue,Pe){Ue.__proto__=Pe}||function(Ue,Pe){for(var gt in Pe)Object.prototype.hasOwnProperty.call(Pe,gt)&&(Ue[gt]=Pe[gt])})(be,Ce)};function V(be,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Class extends value "+String(Ce)+" is not a constructor or null");function Ue(){this.constructor=be}s(be,Ce),be.prototype=null===Ce?Object.create(Ce):(Ue.prototype=Ce.prototype,new Ue)}var Y=function(){return Y=Object.assign||function(Ce){for(var Ue,Pe=1,gt=arguments.length;Pe<gt;Pe++)for(var ct in Ue=arguments[Pe])Object.prototype.hasOwnProperty.call(Ue,ct)&&(Ce[ct]=Ue[ct]);return Ce},Y.apply(this,arguments)};function _e(be,Ce){var Ue={};for(var Pe in be)Object.prototype.hasOwnProperty.call(be,Pe)&&Ce.indexOf(Pe)<0&&(Ue[Pe]=be[Pe]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var gt=0;for(Pe=Object.getOwnPropertySymbols(be);gt<Pe.length;gt++)Ce.indexOf(Pe[gt])<0&&Object.prototype.propertyIsEnumerable.call(be,Pe[gt])&&(Ue[Pe[gt]]=be[Pe[gt]])}return Ue}function Se(be,Ce,Ue,Pe){return new(Ue||(Ue=Promise))(function(ct,Kt){function pn(It){try{Tt(Pe.next(It))}catch(Zt){Kt(Zt)}}function en(It){try{Tt(Pe.throw(It))}catch(Zt){Kt(Zt)}}function Tt(It){It.done?ct(It.value):function gt(ct){return ct instanceof Ue?ct:new Ue(function(Kt){Kt(ct)})}(It.value).then(pn,en)}Tt((Pe=Pe.apply(be,Ce||[])).next())})}function fe(be,Ce){var Pe,gt,ct,Kt,Ue={label:0,sent:function(){if(1&ct[0])throw ct[1];return ct[1]},trys:[],ops:[]};return Kt={next:pn(0),throw:pn(1),return:pn(2)},"function"==typeof Symbol&&(Kt[Symbol.iterator]=function(){return this}),Kt;function pn(Tt){return function(It){return function en(Tt){if(Pe)throw new TypeError("Generator is already executing.");for(;Ue;)try{if(Pe=1,gt&&(ct=2&Tt[0]?gt.return:Tt[0]?gt.throw||((ct=gt.return)&&ct.call(gt),0):gt.next)&&!(ct=ct.call(gt,Tt[1])).done)return ct;switch(gt=0,ct&&(Tt=[2&Tt[0],ct.value]),Tt[0]){case 0:case 1:ct=Tt;break;case 4:return Ue.label++,{value:Tt[1],done:!1};case 5:Ue.label++,gt=Tt[1],Tt=[0];continue;case 7:Tt=Ue.ops.pop(),Ue.trys.pop();continue;default:if(!(ct=(ct=Ue.trys).length>0&&ct[ct.length-1])&&(6===Tt[0]||2===Tt[0])){Ue=0;continue}if(3===Tt[0]&&(!ct||Tt[1]>ct[0]&&Tt[1]<ct[3])){Ue.label=Tt[1];break}if(6===Tt[0]&&Ue.label<ct[1]){Ue.label=ct[1],ct=Tt;break}if(ct&&Ue.label<ct[2]){Ue.label=ct[2],Ue.ops.push(Tt);break}ct[2]&&Ue.ops.pop(),Ue.trys.pop();continue}Tt=Ce.call(be,Ue)}catch(It){Tt=[6,It],gt=0}finally{Pe=ct=0}if(5&Tt[0])throw Tt[1];return{value:Tt[0]?Tt[1]:void 0,done:!0}}([Tt,It])}}}function ce(be){var Ce="function"==typeof Symbol&&Symbol.iterator,Ue=Ce&&be[Ce],Pe=0;if(Ue)return Ue.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Pe>=be.length&&(be=void 0),{value:be&&be[Pe++],done:!be}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}function we(be,Ce){var Ue="function"==typeof Symbol&&be[Symbol.iterator];if(!Ue)return be;var gt,Kt,Pe=Ue.call(be),ct=[];try{for(;(void 0===Ce||Ce-- >0)&&!(gt=Pe.next()).done;)ct.push(gt.value)}catch(pn){Kt={error:pn}}finally{try{gt&&!gt.done&&(Ue=Pe.return)&&Ue.call(Pe)}finally{if(Kt)throw Kt.error}}return ct}function ut(be,Ce,Ue){if(Ue||2===arguments.length)for(var ct,Pe=0,gt=Ce.length;Pe<gt;Pe++)(ct||!(Pe in Ce))&&(ct||(ct=Array.prototype.slice.call(Ce,0,Pe)),ct[Pe]=Ce[Pe]);return be.concat(ct||Array.prototype.slice.call(Ce))}function Be(be){return this instanceof Be?(this.v=be,this):new Be(be)}function Ne(be,Ce,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,Pe=Ue.apply(be,Ce||[]),ct=[];return gt={},Kt("next"),Kt("throw"),Kt("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function Kt(Vt){Pe[Vt]&&(gt[Vt]=function($t){return new Promise(function(Wt,dt){ct.push([Vt,$t,Wt,dt])>1||pn(Vt,$t)})})}function pn(Vt,$t){try{!function en(Vt){Vt.value instanceof Be?Promise.resolve(Vt.value.v).then(Tt,It):Zt(ct[0][2],Vt)}(Pe[Vt]($t))}catch(Wt){Zt(ct[0][3],Wt)}}function Tt(Vt){pn("next",Vt)}function It(Vt){pn("throw",Vt)}function Zt(Vt,$t){Vt($t),ct.shift(),ct.length&&pn(ct[0][0],ct[0][1])}}function pt(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ce=be[Symbol.asyncIterator];return Ce?Ce.call(be):(be=ce(be),Ue={},Pe("next"),Pe("throw"),Pe("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function Pe(ct){Ue[ct]=be[ct]&&function(Kt){return new Promise(function(pn,en){!function gt(ct,Kt,pn,en){Promise.resolve(en).then(function(Tt){ct({value:Tt,done:pn})},Kt)}(pn,en,(Kt=be[ct](Kt)).done,Kt.value)})}}}},4650:(an,Qe,q)=>{"use strict";q.d(Qe,{$8M:()=>Vf,$Z:()=>Db,AFp:()=>gx,AaK:()=>Se,Akn:()=>Ca,AsE:()=>aE,BQk:()=>dy,CHM:()=>Oa,CRH:()=>PC,CZH:()=>ZC,CqO:()=>UT,D6c:()=>KR,DdM:()=>TC,EJc:()=>$s,EiD:()=>eu,EpF:()=>Mo,F$t:()=>fy,F4k:()=>HT,FYo:()=>ru,FiY:()=>Wc,G48:()=>t1,Gf:()=>sx,GfV:()=>Zv,GkF:()=>BT,Gpc:()=>ne,HTZ:()=>ZE,Hh0:()=>$E,Hsn:()=>xD,Ikx:()=>sC,JOm:()=>qa,JVY:()=>v_,Jf7:()=>bh,KtG:()=>Fc,L6k:()=>ch,LAX:()=>Nv,LFG:()=>Ur,LSH:()=>bw,Lbi:()=>YC,Lck:()=>LE,MAs:()=>cy,MGl:()=>di,MMx:()=>BE,NdJ:()=>pd,O4$:()=>Zd,OlP:()=>Gi,Oqu:()=>sE,PXZ:()=>Mm,Q6J:()=>VT,QGY:()=>Pi,QP$:()=>Pp,QbO:()=>ZI,Qsj:()=>wl,QtT:()=>ky,R0b:()=>Ol,RDi:()=>p_,Rgc:()=>Dm,SBq:()=>iu,SDv:()=>AE,Sil:()=>WI,Suo:()=>MI,TTD:()=>ls,TgZ:()=>wc,Tol:()=>RD,Udp:()=>QT,VKq:()=>qE,W1O:()=>FC,WLB:()=>Sm,X6Q:()=>NR,XFs:()=>nt,Xpm:()=>ee,Xts:()=>fh,Y36:()=>Lh,YKP:()=>Oy,YNc:()=>LT,Yjl:()=>ae,Yz7:()=>$t,ZZ4:()=>T0,_Bn:()=>FE,_UZ:()=>nC,_Vd:()=>ed,_c5:()=>WR,_uU:()=>oE,aQg:()=>a1,c2e:()=>m0,cJS:()=>dt,cg1:()=>Kh,dDg:()=>ef,dqk:()=>Rt,eBb:()=>b_,eFA:()=>rM,ekj:()=>XT,eoX:()=>OR,f3M:()=>sh,g9A:()=>mx,h0i:()=>Jh,hGG:()=>YR,hij:()=>iC,iGM:()=>RC,ifc:()=>Ft,ip1:()=>qI,kEZ:()=>EC,kL8:()=>gE,kcU:()=>pg,l5B:()=>yI,lG2:()=>Re,lqb:()=>xr,lri:()=>eM,mCW:()=>vt,n5z:()=>r_,oAB:()=>Gt,oxw:()=>_u,pB0:()=>lo,pQV:()=>Ay,q3G:()=>sr,q4F:()=>vh,qLn:()=>cc,qOj:()=>ny,qZA:()=>Ub,qbA:()=>vI,qzn:()=>Ju,rFY:()=>xC,rWj:()=>vx,s9C:()=>GT,sBO:()=>Lp,sIi:()=>hm,s_b:()=>Fy,soG:()=>ur,tb:()=>Ni,tp0:()=>Ss,uIk:()=>OT,vHH:()=>je,vpe:()=>_d,wAp:()=>Jn,xp6:()=>G_,ynx:()=>Wh,z2F:()=>By,z3N:()=>Us,zSh:()=>T_,zs3:()=>Rh});var s=q(7579),V=q(727),Y=q(9751),_e=q(6451),Ve=q(3099);function Me(h){for(let p in h)if(h[p]===Me)return p;throw Error("Could not find renamed property on target object.")}function ve(h,p){for(const m in p)p.hasOwnProperty(m)&&!h.hasOwnProperty(m)&&(h[m]=p[m])}function Se(h){if("string"==typeof h)return h;if(Array.isArray(h))return"["+h.map(Se).join(", ")+"]";if(null==h)return""+h;if(h.overriddenName)return`${h.overriddenName}`;if(h.name)return`${h.name}`;const p=h.toString();if(null==p)return""+p;const m=p.indexOf("\n");return-1===m?p:p.substring(0,m)}function fe(h,p){return null==h||""===h?null===p?"":p:null==p||""===p?h:h+" "+p}const re=Me({__forward_ref__:Me});function ne(h){return h.__forward_ref__=ne,h.toString=function(){return Se(this())},h}function ce(h){return we(h)?h():h}function we(h){return"function"==typeof h&&h.hasOwnProperty(re)&&h.__forward_ref__===ne}class je extends Error{constructor(p,m){super(function ut(h,p){return`NG0${Math.abs(h)}${p?": "+p.trim():""}`}(p,m)),this.code=p}}function Be(h){return"string"==typeof h?h:null==h?"":String(h)}function He(h,p){throw new je(-201,!1)}function Tt(h,p,m,v){throw new Error(`ASSERTION ERROR: ${h}`+(null==v?"":` [Expected=> ${m} ${v} ${p} <=Actual]`))}function $t(h){return{token:h.token,providedIn:h.providedIn||null,factory:h.factory,value:void 0}}function dt(h){return{providers:h.providers||[],imports:h.imports||[]}}function nn(h){return Qt(h,ai)||Qt(h,En)}function Qt(h,p){return h.hasOwnProperty(p)?h[p]:null}function Cn(h){return h&&(h.hasOwnProperty(vn)||h.hasOwnProperty(wi))?h[vn]:null}const ai=Me({\u0275prov:Me}),vn=Me({\u0275inj:Me}),En=Me({ngInjectableDef:Me}),wi=Me({ngInjectorDef:Me});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Fe;function Et(h){const p=Fe;return Fe=h,p}function Ut(h,p,m){const v=nn(h);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:m&nt.Optional?null:void 0!==p?p:void He(Se(h))}function xn(h){return{toString:h}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),Ft=(()=>{return(h=Ft||(Ft={}))[h.Emulated=0]="Emulated",h[h.None=2]="None",h[h.ShadowDom=3]="ShadowDom",Ft;var h})();const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yi={},An=[],hi=Me({\u0275cmp:Me}),Qi=Me({\u0275dir:Me}),In=Me({\u0275pipe:Me}),Zi=Me({\u0275mod:Me}),me=Me({\u0275fac:Me}),G=Me({__NG_ELEMENT_ID__:Me});let K=0;function ee(h){return xn(()=>{const m=!0===h.standalone,v={},C={type:h.type,providersResolver:null,decls:h.decls,vars:h.vars,factory:null,template:h.template||null,consts:h.consts||null,ngContentSelectors:h.ngContentSelectors,hostBindings:h.hostBindings||null,hostVars:h.hostVars||0,hostAttrs:h.hostAttrs||null,contentQueries:h.contentQueries||null,declaredInputs:v,inputs:null,outputs:null,exportAs:h.exportAs||null,onPush:h.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,standalone:m,dependencies:m&&h.dependencies||null,getStandaloneInjector:null,selectors:h.selectors||An,viewQuery:h.viewQuery||null,features:h.features||null,data:h.data||{},encapsulation:h.encapsulation||Ft.Emulated,id:"c"+K++,styles:h.styles||An,_:null,setInput:null,schemas:h.schemas||null,tView:null},x=h.dependencies,k=h.features;return C.inputs=Un(h.inputs,v),C.outputs=Un(h.outputs),k&&k.forEach(N=>N(C)),C.directiveDefs=x?()=>("function"==typeof x?x():x).map(de).filter(qe):null,C.pipeDefs=x?()=>("function"==typeof x?x():x).map(De).filter(qe):null,C})}function de(h){return oe(h)||ue(h)}function qe(h){return null!==h}const bt={};function Gt(h){return xn(()=>{const p={type:h.type,bootstrap:h.bootstrap||An,declarations:h.declarations||An,imports:h.imports||An,exports:h.exports||An,transitiveCompileScopes:null,schemas:h.schemas||null,id:h.id||null};return null!=h.id&&(bt[h.id]=h.type),p})}function Un(h,p){if(null==h)return yi;const m={};for(const v in h)if(h.hasOwnProperty(v)){let C=h[v],x=C;Array.isArray(C)&&(x=C[1],C=C[0]),m[C]=v,p&&(p[C]=x)}return m}const Re=ee;function ae(h){return{type:h.type,name:h.name,factory:null,pure:!1!==h.pure,standalone:!0===h.standalone,onDestroy:h.type.prototype.ngOnDestroy||null}}function oe(h){return h[hi]||null}function ue(h){return h[Qi]||null}function De(h){return h[In]||null}function lt(h,p){const m=h[Zi]||null;if(!m&&!0===p)throw new Error(`Type ${Se(h)} does not have '\u0275mod' property.`);return m}function ro(h){return Array.isArray(h)&&"object"==typeof h[1]}function yo(h){return Array.isArray(h)&&!0===h[1]}function Ou(h){return 0!=(8&h.flags)}function vo(h){return 2==(2&h.flags)}function Ns(h){return 1==(1&h.flags)}function $o(h){return null!==h.template}function _f(h){return 0!=(256&h[2])}function as(h,p){return h.hasOwnProperty(me)?h[me]:null}class Ls{constructor(p,m,v){this.previousValue=p,this.currentValue=m,this.firstChange=v}isFirstChange(){return this.firstChange}}function ls(){return kc}function kc(h){return h.type.prototype.ngOnChanges&&(h.setInput=rl),Ev}function Ev(){const h=Bd(this),p=h?.current;if(p){const m=h.previous;if(m===yi)h.previous=p;else for(let v in p)m[v]=p[v];h.current=null,this.ngOnChanges(p)}}function rl(h,p,m,v){const C=Bd(h)||function zl(h,p){return h[Vs]=p}(h,{previous:yi,current:null}),x=C.current||(C.current={}),k=C.previous,N=this.declaredInputs[m],B=k[N];x[N]=new Ls(B&&B.currentValue,p,k===yi),h[v]=p}ls.ngInherit=!0;const Vs="__ngSimpleChanges__";function Bd(h){return h[Vs]||null}function Pr(h){for(;Array.isArray(h);)h=h[0];return h}function Hd(h,p){return Pr(p[h])}function Es(h,p){return Pr(p[h.index])}function Gl(h,p){return h.data[p]}function wo(h,p){const m=p[h];return ro(m)?m:m[0]}function Pc(h){return 4==(4&h[2])}function ol(h){return 64==(64&h[2])}function Bs(h,p){return null==p?null:h[p]}function Cf(h){h[18]=0}function Zl(h,p){h[5]+=p;let m=h,v=h[3];for(;null!==v&&(1===p&&1===m[5]||-1===p&&0===m[5]);)v[5]+=p,m=v,v=v[3]}const ti={lFrame:Gd(null),bindingsEnabled:!0};function Pu(){return ti.bindingsEnabled}function xt(){return ti.lFrame.lView}function pi(){return ti.lFrame.tView}function Oa(h){return ti.lFrame.contextLView=h,h[8]}function Fc(h){return ti.lFrame.contextLView=null,h}function rr(){let h=Sf();for(;null!==h&&64===h.type;)h=h.parent;return h}function Sf(){return ti.lFrame.currentTNode}function Wl(){const h=ti.lFrame,p=h.currentTNode;return h.isParent?p:p.parent}function cs(h,p){const m=ti.lFrame;m.currentTNode=h,m.isParent=p}function sl(){return ti.lFrame.isParent}function Lc(){ti.lFrame.isParent=!1}function Co(){const h=ti.lFrame;let p=h.bindingRootIndex;return-1===p&&(p=h.bindingRootIndex=h.tView.bindingStartIndex),p}function Ra(){return ti.lFrame.bindingIndex}function al(){return ti.lFrame.bindingIndex++}function Pa(h){const p=ti.lFrame,m=p.bindingIndex;return p.bindingIndex=p.bindingIndex+h,m}function Fu(h){ti.lFrame.inI18n=h}function ll(h,p){const m=ti.lFrame;m.bindingIndex=m.bindingRootIndex=h,Af(p)}function Af(h){ti.lFrame.currentDirectiveIndex=h}function Lu(){return ti.lFrame.currentQueryIndex}function Vu(h){ti.lFrame.currentQueryIndex=h}function zd(h){const p=h[1];return 2===p.type?p.declTNode:1===p.type?h[6]:null}function Bu(h,p,m){if(m&nt.SkipSelf){let C=p,x=h;for(;!(C=C.parent,null!==C||m&nt.Host||(C=zd(x),null===C||(x=x[15],10&C.type))););if(null===C)return!1;p=C,h=x}const v=ti.lFrame=Hu();return v.currentTNode=p,v.lView=h,!0}function fg(h){const p=Hu(),m=h[1];ti.lFrame=p,p.currentTNode=m.firstChild,p.lView=h,p.tView=m,p.contextLView=h,p.bindingIndex=m.bindingStartIndex,p.inI18n=!1}function Hu(){const h=ti.lFrame,p=null===h?null:h.child;return null===p?Gd(h):p}function Gd(h){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:h,child:null,inI18n:!1};return null!==h&&(h.child=p),p}function kf(){const h=ti.lFrame;return ti.lFrame=h.parent,h.currentTNode=null,h.lView=null,h}const Of=kf;function Bc(){const h=kf();h.isParent=!0,h.tView=null,h.selectedIndex=-1,h.contextLView=null,h.elementDepthCount=0,h.currentDirectiveIndex=-1,h.currentNamespace=null,h.bindingRootIndex=-1,h.bindingIndex=-1,h.currentQueryIndex=0}function oo(){return ti.lFrame.selectedIndex}function To(h){ti.lFrame.selectedIndex=h}function pr(){const h=ti.lFrame;return Gl(h.tView,h.selectedIndex)}function Zd(){ti.lFrame.currentNamespace="svg"}function pg(){!function cl(){ti.lFrame.currentNamespace=null}()}function Pf(h,p){for(let m=p.directiveStart,v=p.directiveEnd;m<v;m++){const x=h.data[m].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:N,ngAfterViewInit:B,ngAfterViewChecked:U,ngOnDestroy:te}=x;k&&(h.contentHooks||(h.contentHooks=[])).push(-m,k),N&&((h.contentHooks||(h.contentHooks=[])).push(m,N),(h.contentCheckHooks||(h.contentCheckHooks=[])).push(m,N)),B&&(h.viewHooks||(h.viewHooks=[])).push(-m,B),U&&((h.viewHooks||(h.viewHooks=[])).push(m,U),(h.viewCheckHooks||(h.viewCheckHooks=[])).push(m,U)),null!=te&&(h.destroyHooks||(h.destroyHooks=[])).push(m,te)}}function gg(h,p,m){Qm(h,p,3,m)}function Yl(h,p,m,v){(3&h[2])===m&&Qm(h,p,m,v)}function Nr(h,p){let m=h[2];(3&m)===p&&(m&=2047,m+=1,h[2]=m)}function Qm(h,p,m,v){const x=v??-1,k=p.length-1;let N=0;for(let B=void 0!==v?65535&h[18]:0;B<k;B++)if("number"==typeof p[B+1]){if(N=p[B],null!=v&&N>=v)break}else p[B]<0&&(h[18]+=65536),(N<x||-1==x)&&(Mv(h,m,p,B),h[18]=(4294901760&h[18])+B+2),B++}function Mv(h,p,m,v){const C=m[v]<0,x=m[v+1],N=h[C?-m[v]:m[v]];if(C){if(h[2]>>11<h[18]>>16&&(3&h[2])===p){h[2]+=2048;try{x.call(N)}finally{}}}else try{x.call(N)}finally{}}class ul{constructor(p,m,v){this.factory=p,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=v}}function t_(h,p,m){let v=0;for(;v<m.length;){const C=m[v];if("number"==typeof C){if(0!==C)break;v++;const x=m[v++],k=m[v++],N=m[v++];h.setAttribute(p,k,N,x)}else{const x=C,k=m[++v];ds(x)?h.setProperty(p,x,k):h.setAttribute(p,x,k),v++}}return v}function Ff(h){return 3===h||4===h||6===h}function ds(h){return 64===h.charCodeAt(0)}function it(h,p){if(null!==p&&0!==p.length)if(null===h||0===h.length)h=p.slice();else{let m=-1;for(let v=0;v<p.length;v++){const C=p[v];"number"==typeof C?m=C:0===m||Ot(h,m,C,null,-1===m||2===m?p[++v]:null)}}return h}function Ot(h,p,m,v,C){let x=0,k=h.length;if(-1===p)k=-1;else for(;x<h.length;){const N=h[x++];if("number"==typeof N){if(N===p){k=-1;break}if(N>p){k=x-1;break}}}for(;x<h.length;){const N=h[x];if("number"==typeof N)break;if(N===m){if(null===v)return void(null!==C&&(h[x+1]=C));if(v===h[x+1])return void(h[x+2]=C)}x++,null!==v&&x++,null!==C&&x++}-1!==k&&(h.splice(k,0,p),x=k+1),h.splice(x++,0,m),null!==v&&h.splice(x++,0,v),null!==C&&h.splice(x++,0,C)}function ia(h){return-1!==h}function Uu(h){return 32767&h}function Xi(h,p){let m=function Yt(h){return h>>16}(h),v=p;for(;m>0;)v=v[15],m--;return v}let dl=!0;function Uc(h){const p=dl;return dl=h,p}let Wn=0;const gr={};function wt(h,p){const m=$i(h,p);if(-1!==m)return m;const v=p[1];v.firstCreatePass&&(h.injectorIndex=p.length,Tr(v.data,h),Tr(p,null),Tr(v.blueprint,null));const C=zn(h,p),x=h.injectorIndex;if(ia(C)){const k=Uu(C),N=Xi(C,p),B=N[1].data;for(let U=0;U<8;U++)p[x+U]=N[k+U]|B[k+U]}return p[x+8]=C,x}function Tr(h,p){h.push(0,0,0,0,0,0,0,0,p)}function $i(h,p){return-1===h.injectorIndex||h.parent&&h.parent.injectorIndex===h.injectorIndex||null===p[h.injectorIndex+8]?-1:h.injectorIndex}function zn(h,p){if(h.parent&&-1!==h.parent.injectorIndex)return h.parent.injectorIndex;let m=0,v=null,C=p;for(;null!==C;){if(v=Qd(C),null===v)return-1;if(m++,C=C[15],-1!==v.injectorIndex)return v.injectorIndex|m<<16}return-1}function Kd(h,p,m){!function Zn(h,p,m){let v;"string"==typeof m?v=m.charCodeAt(0)||0:m.hasOwnProperty(G)&&(v=m[G]),null==v&&(v=m[G]=Wn++);const C=255&v;p.data[h+(C>>5)]|=1<<C}(h,p,m)}function Kl(h,p,m){if(m&nt.Optional)return h;He()}function Lf(h,p,m,v){if(m&nt.Optional&&void 0===v&&(v=null),0==(m&(nt.Self|nt.Host))){const C=h[9],x=Et(void 0);try{return C?C.get(p,v,m&nt.Optional):Ut(p,v,m&nt.Optional)}finally{Et(x)}}return Kl(v,0,m)}function gi(h,p,m,v=nt.Default,C){if(null!==h){if(1024&p[2]){const k=function hl(h,p,m,v,C){let x=h,k=p;for(;null!==x&&null!==k&&1024&k[2]&&!(256&k[2]);){const N=Jd(x,k,m,v|nt.Self,gr);if(N!==gr)return N;let B=x.parent;if(!B){const U=k[21];if(U){const te=U.get(m,gr,v);if(te!==gr)return te}B=Qd(k),k=k[15]}x=B}return C}(h,p,m,v,gr);if(k!==gr)return k}const x=Jd(h,p,m,v,gr);if(x!==gr)return x}return Lf(p,m,v,C)}function Jd(h,p,m,v,C){const x=function n_(h){if("string"==typeof h)return h.charCodeAt(0)||0;const p=h.hasOwnProperty(G)?h[G]:void 0;return"number"==typeof p?p>=0?255&p:i_:p}(m);if("function"==typeof x){if(!Bu(p,h,v))return v&nt.Host?Kl(C,0,v):Lf(p,m,v,C);try{const k=x(v);if(null!=k||v&nt.Optional)return k;He()}finally{Of()}}else if("number"==typeof x){let k=null,N=$i(h,p),B=-1,U=v&nt.Host?p[16][6]:null;for((-1===N||v&nt.SkipSelf)&&(B=-1===N?zn(h,p):p[N+8],-1!==B&&mr(v,!1)?(k=p[1],N=Uu(B),p=Xi(B,p)):N=-1);-1!==N;){const te=p[1];if(Jl(x,N,te.data)){const he=ra(N,p,m,k,v,U);if(he!==gr)return he}B=p[N+8],-1!==B&&mr(v,p[1].data[N+8]===U)&&Jl(x,N,p)?(k=te,N=Uu(B),p=Xi(B,p)):N=-1}}return C}function ra(h,p,m,v,C,x){const k=p[1],N=k.data[h+8],te=oa(N,k,m,null==v?vo(N)&&dl:v!=k&&0!=(3&N.type),C&nt.Host&&x===N);return null!==te?Yr(p,k,te,N):gr}function oa(h,p,m,v,C){const x=h.providerIndexes,k=p.data,N=1048575&x,B=h.directiveStart,te=x>>20,xe=C?N+te:h.directiveEnd;for(let Ze=v?N:N+te;Ze<xe;Ze++){const _t=k[Ze];if(Ze<B&&m===_t||Ze>=B&&_t.type===m)return Ze}if(C){const Ze=k[B];if(Ze&&$o(Ze)&&Ze.type===m)return B}return null}function Yr(h,p,m,v){let C=h[m];const x=p.data;if(function Hc(h){return h instanceof ul}(C)){const k=C;k.resolving&&function St(h,p){const m=p?`. Dependency path: ${p.join(" > ")} > ${h}`:"";throw new je(-200,`Circular dependency in DI detected for ${h}${m}`)}(function Ne(h){return"function"==typeof h?h.name||h.toString():"object"==typeof h&&null!=h&&"function"==typeof h.type?h.type.name||h.type.toString():Be(h)}(x[m]));const N=Uc(k.canSeeViewProviders);k.resolving=!0;const B=k.injectImpl?Et(k.injectImpl):null;Bu(h,v,nt.Default);try{C=h[m]=k.factory(void 0,x,h,v),p.firstCreatePass&&m>=v.directiveStart&&function Iv(h,p,m){const{ngOnChanges:v,ngOnInit:C,ngDoCheck:x}=p.type.prototype;if(v){const k=kc(p);(m.preOrderHooks||(m.preOrderHooks=[])).push(h,k),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(h,k)}C&&(m.preOrderHooks||(m.preOrderHooks=[])).push(0-h,C),x&&((m.preOrderHooks||(m.preOrderHooks=[])).push(h,x),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(h,x))}(m,x[m],p)}finally{null!==B&&Et(B),Uc(N),k.resolving=!1,Of()}}return C}function Jl(h,p,m){return!!(m[p+(h>>5)]&1<<h)}function mr(h,p){return!(h&nt.Self||h&nt.Host&&p)}class sa{constructor(p,m){this._tNode=p,this._lView=m}get(p,m,v){return gi(this._tNode,this._lView,p,v,m)}}function i_(){return new sa(rr(),xt())}function r_(h){return xn(()=>{const p=h.prototype.constructor,m=p[me]||st(p),v=Object.prototype;let C=Object.getPrototypeOf(h.prototype).constructor;for(;C&&C!==v;){const x=C[me]||st(C);if(x&&x!==m)return x;C=Object.getPrototypeOf(C)}return x=>new x})}function st(h){return we(h)?()=>{const p=st(ce(h));return p&&p()}:as(h)}function Qd(h){const p=h[1],m=p.type;return 2===m?p.declTNode:1===m?h[6]:null}function Vf(h){return function jc(h,p){if("class"===p)return h.classes;if("style"===p)return h.styles;const m=h.attrs;if(m){const v=m.length;let C=0;for(;C<v;){const x=m[C];if(Ff(x))break;if(0===x)C+=2;else if("number"==typeof x)for(C++;C<v&&"string"==typeof m[C];)C++;else{if(x===p)return m[C+1];C+=2}}}return null}(rr(),h)}const cr="__parameters__";function zc(h,p,m){return xn(()=>{const v=function pl(h){return function(...m){if(h){const v=h(...m);for(const C in v)this[C]=v[C]}}}(p);function C(...x){if(this instanceof C)return v.apply(this,x),this;const k=new C(...x);return N.annotation=k,N;function N(B,U,te){const he=B.hasOwnProperty(cr)?B[cr]:Object.defineProperty(B,cr,{value:[]})[cr];for(;he.length<=te;)he.push(null);return(he[te]=he[te]||[]).push(k),B}}return m&&(C.prototype=Object.create(m.prototype)),C.prototype.ngMetadataName=h,C.annotationCls=C,C})}class Gi{constructor(p,m){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=$t({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Eo(h,p){void 0===p&&(p=h);for(let m=0;m<h.length;m++){let v=h[m];Array.isArray(v)?(p===h&&(p=h.slice(0,m)),Eo(v,p)):p!==h&&p.push(v)}return p}function Hs(h,p){h.forEach(m=>Array.isArray(m)?Hs(m,p):p(m))}function eh(h,p,m){p>=h.length?h.push(m):h.splice(p,0,m)}function Ql(h,p){return p>=h.length-1?h.pop():h.splice(p,1)[0]}function Xl(h,p){const m=[];for(let v=0;v<h;v++)m.push(p);return m}function Ko(h,p,m){let v=la(h,p);return v>=0?h[1|v]=m:(v=~v,function yg(h,p,m,v){let C=h.length;if(C==p)h.push(m,v);else if(1===C)h.push(v,h[0]),h[0]=m;else{for(C--,h.push(h[C-1],h[C]);C>p;)h[C]=h[C-2],C--;h[p]=m,h[p+1]=v}}(h,v,p,m)),v}function nh(h,p){const m=la(h,p);if(m>=0)return h[1|m]}function la(h,p){return function zu(h,p,m){let v=0,C=h.length>>m;for(;C!==v;){const x=v+(C-v>>1),k=h[x<<m];if(p===k)return x<<m;k>p?C=x:v=x+1}return~(C<<m)}(h,p,1)}const Fo={},qu="__NG_DI_FLAG__",tc="ngTempTokenPath",rh=/\n/gm,jf="__source";let Ba;function nc(h){const p=Ba;return Ba=h,p}function oh(h,p=nt.Default){if(void 0===Ba)throw new je(-203,!1);return null===Ba?Ut(h,void 0,p):Ba.get(h,p&nt.Optional?null:void 0,p)}function Ur(h,p=nt.Default){return(function mt(){return Fe}()||oh)(ce(h),p)}function sh(h,p=nt.Default){return"number"!=typeof p&&(p=0|(p.optional&&8)|(p.host&&1)|(p.self&&2)|(p.skipSelf&&4)),Ur(h,p)}function ic(h){const p=[];for(let m=0;m<h.length;m++){const v=ce(h[m]);if(Array.isArray(v)){if(0===v.length)throw new je(900,!1);let C,x=nt.Default;for(let k=0;k<v.length;k++){const N=v[k],B=zf(N);"number"==typeof B?-1===B?C=N.token:x|=B:C=N}p.push(Ur(C,x))}else p.push(Ur(v))}return p}function ca(h,p){return h[qu]=p,h.prototype[qu]=p,h}function zf(h){return h[qu]}const Wc=ca(zc("Optional"),8),Ss=ca(zc("SkipSelf"),4);let zr,Lo;function p_(h){zr=h}function sc(h){return function m_(){if(void 0===Lo&&(Lo=null,Rt.trustedTypes))try{Lo=Rt.trustedTypes.createPolicy("angular",{createHTML:h=>h,createScript:h=>h,createScriptURL:h=>h})}catch{}return Lo}()?.createHTML(h)||h}class da{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Cg extends da{getTypeName(){return"HTML"}}class Xc extends da{getTypeName(){return"Style"}}class Ku extends da{getTypeName(){return"Script"}}class Pv extends da{getTypeName(){return"URL"}}class Wf extends da{getTypeName(){return"ResourceURL"}}function Us(h){return h instanceof da?h.changingThisBreaksApplicationSecurity:h}function Ju(h,p){const m=function y_(h){return h instanceof da&&h.getTypeName()||null}(h);if(null!=m&&m!==p){if("ResourceURL"===m&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${m} (see https://g.co/ng/security#xss)`)}return m===p}function v_(h){return new Cg(h)}function ch(h){return new Xc(h)}function b_(h){return new Ku(h)}function Nv(h){return new Pv(h)}function lo(h){return new Wf(h)}function R(h){const p=new I(h);return function L(){try{return!!(new window.DOMParser).parseFromString(sc(""),"text/html")}catch{return!1}}()?new S(p):p}class S{constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const m=(new window.DOMParser).parseFromString(sc(p),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(p):(m.removeChild(m.firstChild),m)}catch{return null}}}class I{constructor(p){if(this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const m=this.inertDocument.createElement("html");this.inertDocument.appendChild(m);const v=this.inertDocument.createElement("body");m.appendChild(v)}}getInertBodyElement(p){const m=this.inertDocument.createElement("template");if("content"in m)return m.innerHTML=sc(p),m;const v=this.inertDocument.createElement("body");return v.innerHTML=sc(p),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(v),v}stripCustomNsAttrs(p){const m=p.attributes;for(let C=m.length-1;0<C;C--){const k=m.item(C).name;("xmlns:ns1"===k||0===k.indexOf("ns1:"))&&p.removeAttribute(k)}let v=p.firstChild;for(;v;)v.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(v),v=v.nextSibling}}const J=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ze=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vt(h){return(h=String(h)).match(J)||h.match(ze)?h:"unsafe:"+h}function hn(h){return(h=String(h)).split(",").map(p=>vt(p.trim())).join(", ")}function bn(h){const p={};for(const m of h.split(","))p[m]=!0;return p}function ni(...h){const p={};for(const m of h)for(const v in m)m.hasOwnProperty(v)&&(p[v]=!0);return p}const or=bn("area,br,col,hr,img,wbr"),ha=bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_l=bn("rp,rt"),Yf=ni(or,ni(ha,bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ni(_l,bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ni(_l,ha)),Eg=bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kf=bn("srcset"),xg=ni(Eg,Kf,bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lv=bn("script,style,template");class yw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(p){let m=p.firstChild,v=!0;for(;m;)if(m.nodeType===Node.ELEMENT_NODE?v=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,v&&m.firstChild)m=m.firstChild;else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let C=this.checkClobberedElement(m,m.nextSibling);if(C){m=C;break}m=this.checkClobberedElement(m,m.parentNode)}return this.buf.join("")}startElement(p){const m=p.nodeName.toLowerCase();if(!Yf.hasOwnProperty(m))return this.sanitizedSomething=!0,!Lv.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const v=p.attributes;for(let C=0;C<v.length;C++){const x=v.item(C),k=x.name,N=k.toLowerCase();if(!xg.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let B=x.value;Eg[N]&&(B=vt(B)),Kf[N]&&(B=hn(B)),this.buf.push(" ",k,'="',uT(B),'"')}return this.buf.push(">"),!0}endElement(p){const m=p.nodeName.toLowerCase();Yf.hasOwnProperty(m)&&!or.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(p){this.buf.push(uT(p))}checkClobberedElement(p,m){if(m&&(p.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${p.outerHTML}`);return m}}const Sg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ua=/([^\#-~ |!])/g;function uT(h){return h.replace(/&/g,"&amp;").replace(Sg,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(Ua,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let C_;function eu(h,p){let m=null;try{C_=C_||R(h);let v=p?String(p):"";m=C_.getInertBodyElement(v);let C=5,x=v;do{if(0===C)throw new Error("Failed to sanitize html because the input is unstable");C--,v=x,x=m.innerHTML,m=C_.getInertBodyElement(v)}while(v!==x);return sc((new yw).sanitizeChildren(vw(m)||m))}finally{if(m){const v=vw(m)||m;for(;v.firstChild;)v.removeChild(v.firstChild)}}}function vw(h){return"content"in h&&function ja(h){return h.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===h.nodeName}(h)?h.content:null}var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function bw(h){const p=function nu(){const h=xt();return h&&h[12]}();return p?p.sanitize(sr.URL,h)||"":Ju(h,"URL")?Us(h):vt(Be(h))}const fh=new Gi("ENVIRONMENT_INITIALIZER"),hT=new Gi("INJECTOR",-1),ww=new Gi("INJECTOR_DEF_TYPES");class Cw{get(p,m=Fo){if(m===Fo){const v=new Error(`NullInjectorError: No provider for ${Se(p)}!`);throw v.name="NullInjectorError",v}return m}}function Is(...h){return{\u0275providers:jt(0,h)}}function jt(h,...p){const m=[],v=new Set;let C;return Hs(p,x=>{const k=x;Qu(k,m,[],v)&&(C||(C=[]),C.push(k))}),void 0!==C&&Tw(C,m),m}function Tw(h,p){for(let m=0;m<h.length;m++){const{providers:C}=h[m];Hs(C,x=>{p.push(x)})}}function Qu(h,p,m,v){if(!(h=ce(h)))return!1;let C=null,x=Cn(h);const k=!x&&oe(h);if(x||k){if(k&&!k.standalone)return!1;C=h}else{const B=h.ngModule;if(x=Cn(B),!x)return!1;C=B}const N=v.has(C);if(k){if(N)return!1;if(v.add(C),k.dependencies){const B="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const U of B)Qu(U,p,m,v)}}else{if(!x)return!1;{if(null!=x.imports&&!N){let U;v.add(C);try{Hs(x.imports,te=>{Qu(te,p,m,v)&&(U||(U=[]),U.push(te))})}finally{}void 0!==U&&Tw(U,p)}if(!N){const U=as(C)||(()=>new C);p.push({provide:C,useFactory:U,deps:An},{provide:ww,useValue:C,multi:!0},{provide:fh,useValue:()=>Ur(C),multi:!0})}const B=x.providers;null==B||N||Hs(B,te=>{p.push(te)})}}return C!==h&&void 0!==h.providers}const _n=Me({provide:String,useValue:Me});function yl(h){return null!==h&&"object"==typeof h&&_n in h}function ac(h){return"function"==typeof h}const T_=new Gi("Set Injector scope."),Do={},Vv={};let Bv;function gh(){return void 0===Bv&&(Bv=new Cw),Bv}class xr{}class mh extends xr{constructor(p,m,v,C){super(),this.parent=m,this.source=v,this.scopes=C,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jf(p,k=>this.processProvider(k)),this.records.set(hT,Ga(void 0,this)),C.has("environment")&&this.records.set(xr,Ga(void 0,this));const x=this.records.get(T_);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(ww.multi,An,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const p of this._ngOnDestroyHooks)p.ngOnDestroy();for(const p of this._onDestroyHooks)p()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(p){this._onDestroyHooks.push(p)}runInContext(p){this.assertNotDestroyed();const m=nc(this),v=Et(void 0);try{return p()}finally{nc(m),Et(v)}}get(p,m=Fo,v=nt.Default){this.assertNotDestroyed();const C=nc(this),x=Et(void 0);try{if(!(v&nt.SkipSelf)){let N=this.records.get(p);if(void 0===N){const B=function Hv(h){return"function"==typeof h||"object"==typeof h&&h instanceof Gi}(p)&&nn(p);N=B&&this.injectableDefInScope(B)?Ga(co(p),Do):null,this.records.set(p,N)}if(null!=N)return this.hydrate(p,N)}return(v&nt.Self?gh():this.parent).get(p,m=v&nt.Optional&&m===Fo?null:m)}catch(k){if("NullInjectorError"===k.name){if((k[tc]=k[tc]||[]).unshift(Se(p)),C)throw k;return function $c(h,p,m,v){const C=h[tc];throw p[jf]&&C.unshift(p[jf]),h.message=function u_(h,p,m,v=null){h=h&&"\n"===h.charAt(0)&&"\u0275"==h.charAt(1)?h.slice(2):h;let C=Se(p);if(Array.isArray(p))C=p.map(Se).join(" -> ");else if("object"==typeof p){let x=[];for(let k in p)if(p.hasOwnProperty(k)){let N=p[k];x.push(k+":"+("string"==typeof N?JSON.stringify(N):Se(N)))}C=`{${x.join(", ")}}`}return`${m}${v?"("+v+")":""}[${C}]: ${h.replace(rh,"\n  ")}`}("\n"+h.message,C,m,v),h.ngTokenPath=C,h[tc]=null,h}(k,p,"R3InjectorError",this.source)}throw k}finally{Et(x),nc(C)}}resolveInjectorInitializers(){const p=nc(this),m=Et(void 0);try{const v=this.get(fh.multi,An,nt.Self);for(const C of v)C()}finally{nc(p),Et(m)}}toString(){const p=[],m=this.records;for(const v of m.keys())p.push(Se(v));return`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(p){let m=ac(p=ce(p))?p:ce(p&&p.provide);const v=function Ew(h){return yl(h)?Ga(void 0,h.useValue):Ga(_h(h),Do)}(p);if(ac(p)||!0!==p.multi)this.records.get(m);else{let C=this.records.get(m);C||(C=Ga(void 0,Do,!0),C.factory=()=>ic(C.multi),this.records.set(m,C)),m=p,C.multi.push(p)}this.records.set(m,v)}hydrate(p,m){return m.value===Do&&(m.value=Vv,m.value=m.factory()),"object"==typeof m.value&&m.value&&function Ig(h){return null!==h&&"object"==typeof h&&"function"==typeof h.ngOnDestroy}(m.value)&&this._ngOnDestroyHooks.add(m.value),m.value}injectableDefInScope(p){if(!p.providedIn)return!1;const m=ce(p.providedIn);return"string"==typeof m?"any"===m||this.scopes.has(m):this.injectorDefTypes.has(m)}}function co(h){const p=nn(h),m=null!==p?p.factory:as(h);if(null!==m)return m;if(h instanceof Gi)throw new je(204,!1);if(h instanceof Function)return function lc(h){const p=h.length;if(p>0)throw Xl(p,"?"),new je(204,!1);const m=function ln(h){const p=h&&(h[ai]||h[En]);if(p){const m=function Jt(h){if(h.hasOwnProperty("name"))return h.name;const p=(""+h).match(/^function\s*([^\s(]+)/);return null===p?"":p[1]}(h);return console.warn(`DEPRECATED: DI is instantiating a token "${m}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${m}" class.`),p}return null}(h);return null!==m?()=>m.factory(h):()=>new h}(h);throw new je(204,!1)}function _h(h,p,m){let v;if(ac(h)){const C=ce(h);return as(C)||co(C)}if(yl(h))v=()=>ce(h.useValue);else if(function vl(h){return!(!h||!h.useFactory)}(h))v=()=>h.useFactory(...ic(h.deps||[]));else if(function si(h){return!(!h||!h.useExisting)}(h))v=()=>Ur(ce(h.useExisting));else{const C=ce(h&&(h.useClass||h.provide));if(!function yh(h){return!!h.deps}(h))return as(C)||co(C);v=()=>new C(...ic(h.deps))}return v}function Ga(h,p,m=!1){return{factory:h,value:p,multi:m?[]:void 0}}function Mg(h){return!!h.\u0275providers}function Jf(h,p){for(const m of h)Array.isArray(m)?Jf(m,p):Mg(m)?Jf(m.\u0275providers,p):p(m)}class Jo{}class zv{resolveComponentFactory(p){throw function jv(h){const p=Error(`No component factory found for ${Se(h)}. Did you add it to @NgModule.entryComponents?`);return p.ngComponent=h,p}(p)}}let ed=(()=>{class h{}return h.NULL=new zv,h})();function bl(){return td(rr(),xt())}function td(h,p){return new iu(Es(h,p))}let iu=(()=>{class h{constructor(m){this.nativeElement=m}}return h.__NG_ELEMENT_ID__=bl,h})();function Gv(h){return h instanceof iu?h.nativeElement:h}class ru{}let wl=(()=>{class h{}return h.__NG_ELEMENT_ID__=()=>function qv(){const h=xt(),m=wo(rr().index,h);return(ro(m)?m:h)[11]}(),h})(),Qf=(()=>{class h{}return h.\u0275prov=$t({token:h,providedIn:"root",factory:()=>null}),h})();class Zv{constructor(p){this.full=p,this.major=p.split(".")[0],this.minor=p.split(".")[1],this.patch=p.split(".").slice(2).join(".")}}const vh=new Zv("14.1.1"),Ag={};function su(h){return h.ngOriginalError}class cc{constructor(){this._console=console}handleError(p){const m=this._findOriginalError(p);this._console.error("ERROR",p),m&&this._console.error("ORIGINAL ERROR",m)}_findOriginalError(p){let m=p&&su(p);for(;m&&su(m);)m=su(m);return m||null}}const Pg=/^>|^->|<!--|-->|--!>|<!-$/g,Iw=/(<|>)/;const Xv=new Map;let S_=0;const M_="__ngContext__";function ps(h,p){ro(p)?(h[M_]=p[20],function D_(h){Xv.set(h[20],h)}(p)):h[M_]=p}function Ng(h){const p=h[M_];return"number"==typeof p?function Io(h){return Xv.get(h)||null}(p):p||null}function Fg(h){const p=Ng(h);return p?ro(p)?p:p.lView:null}const Qo=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Rt))();function bh(h){return h.ownerDocument.defaultView}function zs(h){return h instanceof Function?h():h}var qa=(()=>((qa=qa||{})[qa.Important=1]="Important",qa[qa.DashCase=2]="DashCase",qa))();let np;function P_(h,p){return np(h,p)}function uc(h){const p=h[3];return yo(p)?p[3]:p}function F_(h){return ob(h[13])}function Bg(h){return ob(h[4])}function ob(h){for(;null!==h&&!yo(h);)h=h[4];return h}function dc(h,p,m,v,C){if(null!=v){let x,k=!1;yo(v)?x=v:ro(v)&&(k=!0,v=v[0]);const N=Pr(v);0===h&&null!==m?null==C?B_(p,m,N):pa(p,m,N,C||null,!0):1===h&&null!==m?pa(p,m,N,C||null,!0):2===h?jg(p,N,k):3===h&&p.destroyNode(N),null!=x&&function Lw(h,p,m,v,C){const x=m[7];x!==Pr(m)&&dc(p,h,v,x,C);for(let N=10;N<m.length;N++){const B=m[N];Ah(B[1],B,h,p,v,x)}}(p,h,x,m,C)}}function lu(h,p){return h.createText(p)}function cu(h,p,m){h.setValue(p,m)}function rp(h,p){return h.createComment(function Mw(h){return h.replace(Pg,p=>p.replace(Iw,"\u200b$1\u200b"))}(p))}function hc(h,p,m){return h.createElement(p,m)}function lb(h,p){const m=h[9],v=m.indexOf(p),C=p[3];512&p[2]&&(p[2]&=-513,Zl(C,-1)),m.splice(v,1)}function V_(h,p){if(h.length<=10)return;const m=10+p,v=h[m];if(v){const C=v[17];null!==C&&C!==h&&lb(C,v),p>0&&(h[m-1][4]=v[4]);const x=Ql(h,10+p);!function Th(h,p){Ah(h,p,p[11],2,null,null),p[0]=null,p[6]=null}(v[1],v);const k=x[19];null!==k&&k.detachView(x[1]),v[3]=null,v[4]=null,v[2]&=-65}return v}function cb(h,p){if(!(128&p[2])){const m=p[11];m.destroyNode&&Ah(h,p,m,3,null,null),function Hg(h){let p=h[13];if(!p)return op(h[1],h);for(;p;){let m=null;if(ro(p))m=p[13];else{const v=p[10];v&&(m=v)}if(!m){for(;p&&!p[4]&&p!==h;)ro(p)&&op(p[1],p),p=p[3];null===p&&(p=h),ro(p)&&op(p[1],p),m=p&&p[4]}p=m}}(p)}}function op(h,p){if(!(128&p[2])){p[2]&=-65,p[2]|=128,function Eh(h,p){let m;if(null!=h&&null!=(m=h.destroyHooks))for(let v=0;v<m.length;v+=2){const C=p[m[v]];if(!(C instanceof ul)){const x=m[v+1];if(Array.isArray(x))for(let k=0;k<x.length;k+=2){const N=C[x[k]],B=x[k+1];try{B.call(N)}finally{}}else try{x.call(C)}finally{}}}}(h,p),function sp(h,p){const m=h.cleanup,v=p[7];let C=-1;if(null!==m)for(let x=0;x<m.length-1;x+=2)if("string"==typeof m[x]){const k=m[x+1],N="function"==typeof k?k(p):Pr(p[k]),B=v[C=m[x+2]],U=m[x+3];"boolean"==typeof U?N.removeEventListener(m[x],B,U):U>=0?v[C=U]():v[C=-U].unsubscribe(),x+=2}else{const k=v[C=m[x+1]];m[x].call(k)}if(null!==v){for(let x=C+1;x<v.length;x++)(0,v[x])();p[7]=null}}(h,p),1===p[1].type&&p[11].destroy();const m=p[17];if(null!==m&&yo(p[3])){m!==p[3]&&lb(m,p);const v=p[19];null!==v&&v.detachView(h)}!function Gr(h){Xv.delete(h[20])}(p)}}function ap(h,p,m){return xh(h,p.parent,m)}function xh(h,p,m){let v=p;for(;null!==v&&40&v.type;)v=(p=v).parent;if(null===v)return m[0];if(2&v.flags){const C=h.data[v.directiveStart].encapsulation;if(C===Ft.None||C===Ft.Emulated)return null}return Es(v,m)}function pa(h,p,m,v,C){h.insertBefore(p,m,v,C)}function B_(h,p,m){h.appendChild(p,m)}function Fw(h,p,m,v,C){null!==v?pa(h,p,m,v,C):B_(h,p,m)}function El(h,p){return h.parentNode(p)}function db(h,p,m){return uu(h,p,m)}function Dh(h,p,m){return 40&h.type?Es(h,m):null}let Za,uu=Dh;function rd(h,p){uu=h,Za=p}function Ih(h,p,m,v){const C=ap(h,v,p),x=p[11],N=db(v.parent||p[6],v,p);if(null!=C)if(Array.isArray(m))for(let B=0;B<m.length;B++)Fw(x,C,m[B],N,!1);else Fw(x,C,m,N,!1);void 0!==Za&&Za(x,v,p,m,C)}function Mh(h,p){if(null!==p){const m=p.type;if(3&m)return Es(p,h);if(4&m)return er(-1,h[p.index]);if(8&m){const v=p.child;if(null!==v)return Mh(h,v);{const C=h[p.index];return yo(C)?er(-1,C):Pr(C)}}if(32&m)return P_(p,h)()||Pr(h[p.index]);{const v=Ug(h,p);return null!==v?Array.isArray(v)?v[0]:Mh(uc(h[16]),v):Mh(h,p.next)}}return null}function Ug(h,p){return null!==p?h[16][6].projection[p.projection]:null}function er(h,p){const m=10+h+1;if(m<p.length){const v=p[m],C=v[1].firstChild;if(null!==C)return Mh(v,C)}return p[7]}function jg(h,p,m){const v=El(h,p);v&&function ub(h,p,m,v){h.removeChild(p,m,v)}(h,v,p,m)}function hb(h,p,m,v,C,x,k){for(;null!=m;){const N=v[m.index],B=m.type;if(k&&0===p&&(N&&ps(Pr(N),v),m.flags|=4),64!=(64&m.flags))if(8&B)hb(h,p,m.child,v,C,x,!1),dc(p,h,C,N,x);else if(32&B){const U=P_(m,v);let te;for(;te=U();)dc(p,h,C,te,x);dc(p,h,C,N,x)}else 16&B?lp(h,p,v,m,C,x):dc(p,h,C,N,x);m=k?m.projectionNext:m.next}}function Ah(h,p,m,v,C,x){hb(m,v,h.firstChild,p,C,x,!1)}function lp(h,p,m,v,C,x){const k=m[16],B=k[6].projection[v.projection];if(Array.isArray(B))for(let U=0;U<B.length;U++)dc(p,h,C,B[U],x);else hb(h,p,B,k[3],C,x,!0)}function fb(h,p,m){h.setAttribute(p,"style",m)}function H_(h,p,m){""===m?h.removeAttribute(p,"class"):h.setAttribute(p,"class",m)}function pb(h,p,m){let v=h.length;for(;;){const C=h.indexOf(p,m);if(-1===C)return C;if(0===C||h.charCodeAt(C-1)<=32){const x=p.length;if(C+x===v||h.charCodeAt(C+x)<=32)return C}m=C+1}}const cp="ng-template";function od(h,p,m){let v=0;for(;v<h.length;){let C=h[v++];if(m&&"class"===C){if(C=h[v],-1!==pb(C.toLowerCase(),p,0))return!0}else if(1===C){for(;v<h.length&&"string"==typeof(C=h[v++]);)if(C.toLowerCase()===p)return!0;return!1}}return!1}function gb(h){return 4===h.type&&h.value!==cp}function Bw(h,p,m){return p===(4!==h.type||m?h.value:cp)}function U_(h,p,m){let v=4;const C=h.attrs||[],x=function bT(h){for(let p=0;p<h.length;p++)if(Ff(h[p]))return p;return h.length}(C);let k=!1;for(let N=0;N<p.length;N++){const B=p[N];if("number"!=typeof B){if(!k)if(4&v){if(v=2|1&v,""!==B&&!Bw(h,B,m)||""===B&&1===p.length){if(gs(v))return!1;k=!0}}else{const U=8&v?B:p[++N];if(8&v&&null!==h.attrs){if(!od(h.attrs,U,m)){if(gs(v))return!1;k=!0}continue}const he=vT(8&v?"class":B,C,gb(h),m);if(-1===he){if(gs(v))return!1;k=!0;continue}if(""!==U){let xe;xe=he>x?"":C[he+1].toLowerCase();const Ze=8&v?xe:null;if(Ze&&-1!==pb(Ze,U,0)||2&v&&U!==xe){if(gs(v))return!1;k=!0}}}}else{if(!k&&!gs(v)&&!gs(B))return!1;if(k&&gs(B))continue;k=!1,v=B|1&v}}return gs(v)||k}function gs(h){return 0==(1&h)}function vT(h,p,m,v){if(null===p)return-1;let C=0;if(v||!m){let x=!1;for(;C<p.length;){const k=p[C];if(k===h)return C;if(3===k||6===k)x=!0;else{if(1===k||2===k){let N=p[++C];for(;"string"==typeof N;)N=p[++C];continue}if(4===k)break;if(0===k){C+=4;continue}}C+=x?1:2}return-1}return function Hw(h,p){let m=h.indexOf(4);if(m>-1)for(m++;m<h.length;){const v=h[m];if("number"==typeof v)return-1;if(v===p)return m;m++}return-1}(p,h)}function mb(h,p,m=!1){for(let v=0;v<p.length;v++)if(U_(h,p[v],m))return!0;return!1}function Uw(h,p){e:for(let m=0;m<p.length;m++){const v=p[m];if(h.length===v.length){for(let C=0;C<h.length;C++)if(h[C]!==v[C])continue e;return!0}}return!1}function j_(h,p){return h?":not("+p.trim()+")":p}function zg(h){let p=h[0],m=1,v=2,C="",x=!1;for(;m<h.length;){let k=h[m];if("string"==typeof k)if(2&v){const N=h[++m];C+="["+k+(N.length>0?'="'+N+'"':"")+"]"}else 8&v?C+="."+k:4&v&&(C+=" "+k);else""!==C&&!gs(k)&&(p+=j_(x,C),C=""),v=k,x=x||!gs(v);m++}return""!==C&&(p+=j_(x,C)),p}const ri={};function G_(h){jw(pi(),xt(),oo()+h,!1)}function jw(h,p,m,v){if(!v)if(3==(3&p[2])){const x=h.preOrderCheckHooks;null!==x&&gg(p,x,m)}else{const x=h.preOrderHooks;null!==x&&Yl(p,x,0,m)}To(m)}function qr(h,p=null,m=null,v){const C=bb(h,p,m,v);return C.resolveInjectorInitializers(),C}function bb(h,p=null,m=null,v,C=new Set){const x=[m||An,Is(h)];return v=v||("object"==typeof h?void 0:Se(h)),new mh(x,p||gh(),v||null,C)}let Rh=(()=>{class h{static create(m,v){if(Array.isArray(m))return qr({name:""},v,m,"");{const C=m.name??"";return qr({name:C},m.parent,m.providers,C)}}}return h.THROW_IF_NOT_FOUND=Fo,h.NULL=new Cw,h.\u0275prov=$t({token:h,providedIn:"any",factory:()=>Ur(hT)}),h.__NG_ELEMENT_ID__=-1,h})();function Lh(h,p=nt.Default){const m=xt();return null===m?Ur(h,p):gi(rr(),m,ce(h),p)}function Db(){throw new Error("invalid")}function Vh(h,p){return h<<17|p<<2}function ms(h){return h>>17&32767}function nm(h){return 2|h}function Xo(h){return(131068&h)>>2}function Oi(h,p){return-131069&h|p<<2}function hp(h){return 1|h}function Hh(h,p){const m=h.contentQueries;if(null!==m)for(let v=0;v<m.length;v+=2){const C=m[v],x=m[v+1];if(-1!==x){const k=h.data[x];Vu(C),k.contentQueries(2,p[x],x)}}}function Dl(h,p,m,v,C,x,k,N,B,U,te){const he=p.blueprint.slice();return he[0]=C,he[2]=76|v,(null!==te||h&&1024&h[2])&&(he[2]|=1024),Cf(he),he[3]=he[15]=h,he[8]=m,he[10]=k||h&&h[10],he[11]=N||h&&h[11],he[12]=B||h&&h[12]||null,he[9]=U||h&&h[9]||null,he[6]=x,he[20]=function eb(){return S_++}(),he[21]=te,he[16]=2==p.type?h[16]:he,he}function pc(h,p,m,v,C){let x=h.data[p];if(null===x)x=Uh(h,p,m,v,C),function If(){return ti.lFrame.inI18n}()&&(x.flags|=64);else if(64&x.type){x.type=m,x.value=v,x.attrs=C;const k=Wl();x.injectorIndex=null===k?-1:k.injectorIndex}return cs(x,!0),x}function Uh(h,p,m,v,C){const x=Sf(),k=sl(),B=h.data[p]=function dd(h,p,m,v,C,x){return{type:m,index:v,insertBeforeIndex:null,injectorIndex:p?p.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:C,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?x:x&&x.parent,m,p,v,C);return null===h.firstChild&&(h.firstChild=B),null!==x&&(k?null==x.child&&null!==B.parent&&(x.child=B):null===x.next&&(x.next=B)),B}function _a(h,p,m,v){if(0===m)return-1;const C=p.length;for(let x=0;x<m;x++)p.push(v),h.blueprint.push(v),h.data.push(null);return C}function Dr(h,p,m){fg(p);try{const v=h.viewQuery;null!==v&&ty(1,v,m);const C=h.template;null!==C&&Fb(h,p,C,1,m),h.firstCreatePass&&(h.firstCreatePass=!1),h.staticContentQueries&&Hh(h,p),h.staticViewQueries&&ty(2,h.viewQuery,m);const x=h.components;null!==x&&function ud(h,p){for(let m=0;m<p.length;m++)Ml(h,p[m])}(p,x)}catch(v){throw h.firstCreatePass&&(h.incompleteFirstPass=!0,h.firstCreatePass=!1),v}finally{p[2]&=-5,Bc()}}function Il(h,p,m,v){const C=p[2];if(128!=(128&C)){fg(p);try{Cf(p),function Df(h){return ti.lFrame.bindingIndex=h}(h.bindingStartIndex),null!==m&&Fb(h,p,m,2,v);const k=3==(3&C);if(k){const U=h.preOrderCheckHooks;null!==U&&gg(p,U,null)}else{const U=h.preOrderHooks;null!==U&&Yl(p,U,0,null),Nr(p,0)}if(function Bb(h){for(let p=F_(h);null!==p;p=Bg(p)){if(!p[2])continue;const m=p[9];for(let v=0;v<m.length;v++){const C=m[v],x=C[3];0==(512&C[2])&&Zl(x,1),C[2]|=512}}}(p),function wp(h){for(let p=F_(h);null!==p;p=Bg(p))for(let m=10;m<p.length;m++){const v=p[m],C=v[1];ol(v)&&Il(C,v,C.template,v[8])}}(p),null!==h.contentQueries&&Hh(h,p),k){const U=h.contentCheckHooks;null!==U&&gg(p,U)}else{const U=h.contentHooks;null!==U&&Yl(p,U,1),Nr(p,1)}!function sn(h,p){const m=h.hostBindingOpCodes;if(null!==m)try{for(let v=0;v<m.length;v++){const C=m[v];if(C<0)To(~C);else{const x=C,k=m[++v],N=m[++v];ll(k,x),N(2,p[x])}}}finally{To(-1)}}(h,p);const N=h.components;null!==N&&function gp(h,p){for(let m=0;m<p.length;m++)Ka(h,p[m])}(p,N);const B=h.viewQuery;if(null!==B&&ty(2,B,v),k){const U=h.viewCheckHooks;null!==U&&gg(p,U)}else{const U=h.viewHooks;null!==U&&Yl(p,U,2),Nr(p,2)}!0===h.firstUpdatePass&&(h.firstUpdatePass=!1),p[2]&=-41,512&p[2]&&(p[2]&=-513,Zl(p[3],-1))}finally{Bc()}}}function du(h,p,m,v){const C=p[10],k=Pc(p);try{!k&&C.begin&&C.begin(),k&&Dr(h,p,v),Il(h,p,m,v)}finally{!k&&C.end&&C.end()}}function Fb(h,p,m,v,C){const x=oo(),k=2&v;try{To(-1),k&&p.length>22&&jw(h,p,22,!1),m(v,C)}finally{To(x)}}function gc(h,p,m){if(Ou(p)){const C=p.directiveEnd;for(let x=p.directiveStart;x<C;x++){const k=h.data[x];k.contentQueries&&k.contentQueries(1,m[x],x)}}}function mp(h,p,m){!Pu()||(function Yi(h,p,m,v){const C=m.directiveStart,x=m.directiveEnd;h.firstCreatePass||wt(m,p),ps(v,p);const k=m.initialInputs;for(let N=C;N<x;N++){const B=h.data[N],U=$o(B);U&&mc(p,m,B);const te=Yr(p,h,N,m);ps(te,p),null!==k&&bp(0,N-C,te,B,0,k),U&&(wo(m.index,p)[8]=te)}}(h,p,m,Es(m,p)),128==(128&m.flags)&&function vp(h,p,m){const v=m.directiveStart,C=m.directiveEnd,x=m.index,k=function Mf(){return ti.lFrame.currentDirectiveIndex}();try{To(x);for(let N=v;N<C;N++){const B=h.data[N],U=p[N];Af(N),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&pu(B,U)}}finally{To(-1),Af(k)}}(h,p,m))}function Je(h,p,m=Es){const v=p.localNames;if(null!==v){let C=p.index+1;for(let x=0;x<v.length;x+=2){const k=v[x+1],N=-1===k?m(p,h):h[k];h[C++]=N}}}function Wa(h){const p=h.tView;return null===p||p.incompleteFirstPass?h.tView=ya(1,null,h.template,h.decls,h.vars,h.directiveDefs,h.pipeDefs,h.viewQuery,h.schemas,h.consts):p}function ya(h,p,m,v,C,x,k,N,B,U){const te=22+v,he=te+C,xe=function IT(h,p){const m=[];for(let v=0;v<p;v++)m.push(v<h?null:ri);return m}(te,he),Ze="function"==typeof U?U():U;return xe[1]={type:h,blueprint:xe,template:m,queries:null,viewQuery:N,declTNode:p,data:xe.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:B,consts:Ze,incompleteFirstPass:!1}}function Lb(h,p,m,v){const C=u(p);null===m?C.push(v):(C.push(m),h.firstCreatePass&&f(h).push(v,C.length-1))}function Q_(h,p,m){for(let v in h)if(h.hasOwnProperty(v)){const C=h[v];(m=null===m?{}:m).hasOwnProperty(v)?m[v].push(p,C):m[v]=[p,C]}return m}function lm(h,p){const v=p.directiveEnd,C=h.data,x=p.attrs,k=[];let N=null,B=null;for(let U=p.directiveStart;U<v;U++){const te=C[U],he=te.inputs,xe=null===x||gb(p)?null:X_(he,x);k.push(xe),N=Q_(he,U,N),B=Q_(te.outputs,U,B)}null!==N&&(N.hasOwnProperty("class")&&(p.flags|=16),N.hasOwnProperty("style")&&(p.flags|=32)),p.initialInputs=k,p.inputs=N,p.outputs=B}function ks(h,p,m,v,C,x,k,N){const B=Es(p,m);let te,U=p.inputs;!N&&null!=U&&(te=U[v])?(E(h,m,te,v,C),vo(p)&&Uo(m,p.index)):3&p.type&&(v=function Ww(h){return"class"===h?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h}(v),C=null!=k?k(C,p.value||"",v):C,x.setProperty(B,v,C))}function Uo(h,p){const m=wo(p,h);16&m[2]||(m[2]|=32)}function Wi(h,p,m,v){let C=!1;if(Pu()){const x=function va(h,p,m){const v=h.directiveRegistry;let C=null;if(v)for(let x=0;x<v.length;x++){const k=v[x];mb(m,k.selectors,!1)&&(C||(C=[]),Kd(wt(m,p),h,k.type),$o(k)?(Vb(h,m),C.unshift(k)):C.push(k))}return C}(h,p,m),k=null===v?null:{"":-1};if(null!==x){C=!0,gu(m,h.data.length,x.length);for(let te=0;te<x.length;te++){const he=x[te];he.providersResolver&&he.providersResolver(he)}let N=!1,B=!1,U=_a(h,p,x.length,null);for(let te=0;te<x.length;te++){const he=x[te];m.mergedAttrs=it(m.mergedAttrs,he.hostAttrs),Ir(h,m,p,U,he),Kw(U,he,k),null!==he.contentQueries&&(m.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(m.flags|=128);const xe=he.type.prototype;!N&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((h.preOrderHooks||(h.preOrderHooks=[])).push(m.index),N=!0),!B&&(xe.ngOnChanges||xe.ngDoCheck)&&((h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(m.index),B=!0),U++}lm(h,m)}k&&function ho(h,p,m){if(p){const v=h.localNames=[];for(let C=0;C<p.length;C+=2){const x=m[p[C+1]];if(null==x)throw new je(-301,!1);v.push(p[C],x)}}}(m,v,k)}return m.mergedAttrs=it(m.mergedAttrs,m.attrs),C}function yp(h,p,m,v,C,x){const k=x.hostBindings;if(k){let N=h.hostBindingOpCodes;null===N&&(N=h.hostBindingOpCodes=[]);const B=~p.index;(function jo(h){let p=h.length;for(;p>0;){const m=h[--p];if("number"==typeof m&&m<0)return m}return 0})(N)!=B&&N.push(B),N.push(v,C,k)}}function pu(h,p){null!==h.hostBindings&&h.hostBindings(1,p)}function Vb(h,p){p.flags|=2,(h.components||(h.components=[])).push(p.index)}function Kw(h,p,m){if(m){if(p.exportAs)for(let v=0;v<p.exportAs.length;v++)m[p.exportAs[v]]=h;$o(p)&&(m[""]=h)}}function gu(h,p,m){h.flags|=1,h.directiveStart=p,h.directiveEnd=p+m,h.providerIndexes=p}function Ir(h,p,m,v,C){h.data[v]=C;const x=C.factory||(C.factory=as(C.type)),k=new ul(x,$o(C),Lh);h.blueprint[v]=k,m[v]=k,yp(h,p,0,v,_a(h,m,C.hostVars,ri),C)}function mc(h,p,m){const v=Es(p,h),C=Wa(m),x=h[10],k=vc(h,Dl(h,C,null,m.onPush?32:16,v,p,x,x.createRenderer(v,m),null,null,null));h[p.index]=k}function cm(h,p,m,v,C,x,k){if(null==x)h.removeAttribute(p,C,m);else{const N=null==k?Be(x):k(x,v||"",C);h.setAttribute(p,C,N,m)}}function bp(h,p,m,v,C,x){const k=x[p];if(null!==k){const N=v.setInput;for(let B=0;B<k.length;){const U=k[B++],te=k[B++],he=k[B++];null!==N?v.setInput(m,he,U,te):m[te]=he}}}function X_(h,p){let m=null,v=0;for(;v<p.length;){const C=p[v];if(0!==C)if(5!==C){if("number"==typeof C)break;h.hasOwnProperty(C)&&(null===m&&(m=[]),m.push(C,h[C],p[v+1])),v+=2}else v+=2;else v+=4}return m}function fo(h,p,m,v){return new Array(h,!0,!1,p,null,0,v,m,null,null)}function Ka(h,p){const m=wo(p,h);if(ol(m)){const v=m[1];48&m[2]?Il(v,m,v.template,m[8]):m[5]>0&&_c(m)}}function _c(h){for(let v=F_(h);null!==v;v=Bg(v))for(let C=10;C<v.length;C++){const x=v[C];if(512&x[2]){const k=x[1];Il(k,x,k.template,x[8])}else x[5]>0&&_c(x)}const m=h[1].components;if(null!==m)for(let v=0;v<m.length;v++){const C=wo(m[v],h);ol(C)&&C[5]>0&&_c(C)}}function Ml(h,p){const m=wo(p,h),v=m[1];(function yc(h,p){for(let m=p.length;m<h.blueprint.length;m++)p.push(h.blueprint[m])})(v,m),Dr(v,m,m[8])}function vc(h,p){return h[13]?h[14][4]=p:h[13]=p,h[14]=p,p}function ba(h){for(;h;){h[2]|=32;const p=uc(h);if(_f(h)&&!p)return h;h=p}return null}function zh(h){!function jh(h){for(let p=0;p<h.components.length;p++){const m=h.components[p],v=Fg(m);if(null!==v){const C=v[1];du(C,v,C.template,m)}}}(h[8])}function ty(h,p,m){Vu(0),p(h,m)}const d=(()=>Promise.resolve(null))();function u(h){return h[7]||(h[7]=[])}function f(h){return h.cleanup||(h.cleanup=[])}function w(h,p){const m=h[9],v=m?m.get(cc,null):null;v&&v.handleError(p)}function E(h,p,m,v,C){for(let x=0;x<m.length;){const k=m[x++],N=m[x++],B=p[k],U=h.data[k];null!==U.setInput?U.setInput(B,C,v,N):B[N]=C}}function M(h,p,m){const v=Hd(p,h);cu(h[11],v,m)}function P(h,p,m){let v=m?h.styles:null,C=m?h.classes:null,x=0;if(null!==p)for(let k=0;k<p.length;k++){const N=p[k];"number"==typeof N?x=N:1==x?C=fe(C,N):2==x&&(v=fe(v,N+": "+p[++k]+";"))}m?h.styles=v:h.stylesWithoutHost=v,m?h.classes=C:h.classesWithoutHost=C}function H(h,p,m,v,C=!1){for(;null!==m;){const x=p[m.index];if(null!==x&&v.push(Pr(x)),yo(x))for(let N=10;N<x.length;N++){const B=x[N],U=B[1].firstChild;null!==U&&H(B[1],B,U,v)}const k=m.type;if(8&k)H(h,p,m.child,v);else if(32&k){const N=P_(m,p);let B;for(;B=N();)v.push(B)}else if(16&k){const N=Ug(p,m);if(Array.isArray(N))v.push(...N);else{const B=uc(p[16]);H(B[1],B,N,v,!0)}}m=C?m.projectionNext:m.next}return v}class z{constructor(p,m){this._lView=p,this._cdRefInjectingView=m,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const p=this._lView,m=p[1];return H(m,p,m.firstChild,[])}get context(){return this._lView[8]}set context(p){this._lView[8]=p}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[3];if(yo(p)){const m=p[8],v=m?m.indexOf(this):-1;v>-1&&(V_(p,v),Ql(m,v))}this._attachedToViewContainer=!1}cb(this._lView[1],this._lView)}onDestroy(p){Lb(this._lView[1],this._lView,null,p)}markForCheck(){ba(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function um(h,p,m){const v=p[10];v.begin&&v.begin();try{Il(h,p,h.template,m)}catch(C){throw w(p,C),C}finally{v.end&&v.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ab(h,p){Ah(h,p,p[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=p}}class ie extends z{constructor(p){super(p),this._view=p}detectChanges(){zh(this._view)}checkNoChanges(){}get context(){return null}}class ge extends ed{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const m=oe(p);return new at(m,this.ngModule)}}function ye(h){const p=[];for(let m in h)h.hasOwnProperty(m)&&p.push({propName:h[m],templateName:m});return p}class Ge{constructor(p,m){this.injector=p,this.parentInjector=m}get(p,m,v){const C=this.injector.get(p,Ag,v);return C!==Ag||m===Ag?C:this.parentInjector.get(p,m,v)}}class at extends Jo{constructor(p,m){super(),this.componentDef=p,this.ngModule=m,this.componentType=p.type,this.selector=function z_(h){return h.map(zg).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!m}get inputs(){return ye(this.componentDef.inputs)}get outputs(){return ye(this.componentDef.outputs)}create(p,m,v,C){let x=(C=C||this.ngModule)instanceof xr?C:C?.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const k=x?new Ge(p,x):p,N=k.get(ru,null);if(null===N)throw new je(407,!1);const B=k.get(Qf,null),U=N.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",he=v?function hu(h,p,m){return h.selectRootElement(p,m===Ft.ShadowDom)}(U,v,this.componentDef.encapsulation):hc(N.createRenderer(null,this.componentDef),te,function Ye(h){const p=h.toLowerCase();return"svg"===p?"svg":"math"===p?"math":null}(te)),xe=this.componentDef.onPush?288:272,Ze=function Ki(h,p){return{components:[],scheduler:h||Qo,clean:d,playerHandler:p||null,flags:0}}(),_t=ya(0,null,null,1,0,null,null,null,null,null),Nt=Dl(null,_t,Ze,xe,null,null,N,U,B,k,null);let un,Dn;fg(Nt);try{const Yn=function bi(h,p,m,v,C,x){const k=m[1];m[22]=h;const B=pc(k,22,2,"#host",null),U=B.mergedAttrs=p.hostAttrs;null!==U&&(P(B,U,!0),null!==h&&(t_(C,h,U),null!==B.classes&&H_(C,h,B.classes),null!==B.styles&&fb(C,h,B.styles)));const te=v.createRenderer(h,p),he=Dl(m,Wa(p),null,p.onPush?32:16,m[22],B,v,te,x||null,null,null);return k.firstCreatePass&&(Kd(wt(B,m),k,p.type),Vb(k,B),gu(B,m.length,1)),vc(m,he),m[22]=he}(he,this.componentDef,Nt,N,U);if(he)if(v)t_(U,he,["ng-version",vh.full]);else{const{attrs:At,classes:Gn}=function Oh(h){const p=[],m=[];let v=1,C=2;for(;v<h.length;){let x=h[v];if("string"==typeof x)2===C?""!==x&&p.push(x,h[++v]):8===C&&m.push(x);else{if(!gs(C))break;C=x}v++}return{attrs:p,classes:m}}(this.componentDef.selectors[0]);At&&t_(U,he,At),Gn&&Gn.length>0&&H_(U,he,Gn.join(" "))}if(Dn=Gl(_t,22),void 0!==m){const At=Dn.projection=[];for(let Gn=0;Gn<this.ngContentSelectors.length;Gn++){const Fi=m[Gn];At.push(null!=Fi?Array.from(Fi):null)}}un=function Ri(h,p,m,v,C){const x=m[1],k=function fu(h,p,m){const v=rr();h.firstCreatePass&&(m.providersResolver&&m.providersResolver(m),Ir(h,v,p,_a(h,p,1,null),m),lm(h,v));const C=Yr(p,h,v.directiveStart,v);ps(C,p);const x=Es(v,p);return x&&ps(x,p),C}(x,m,p);if(v.components.push(k),h[8]=k,null!==C)for(const B of C)B(k,p);if(p.contentQueries){const B=rr();p.contentQueries(1,k,B.directiveStart)}const N=rr();return!x.firstCreatePass||null===p.hostBindings&&null===p.hostAttrs||(To(N.index),yp(m[1],N,0,N.directiveStart,N.directiveEnd,p),pu(p,k)),k}(Yn,this.componentDef,Nt,Ze,[zo]),Dr(_t,Nt,null)}finally{Bc()}return new Hn(this.componentType,un,td(Dn,Nt),Nt,Dn)}}class Hn extends class Uv{}{constructor(p,m,v,C,x){super(),this.location=v,this._rootLView=C,this._tNode=x,this.instance=m,this.hostView=this.changeDetectorRef=new ie(C),this.componentType=p}setInput(p,m){const v=this._tNode.inputs;let C;if(null!==v&&(C=v[p])){const x=this._rootLView;E(x[1],x,C,p,m),Uo(x,this._tNode.index)}}get injector(){return new sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}function zo(){const h=rr();Pf(xt()[1],h)}function ny(h){let p=function Cp(h){return Object.getPrototypeOf(h.prototype).constructor}(h.type),m=!0;const v=[h];for(;p;){let C;if($o(h))C=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new je(903,!1);C=p.\u0275dir}if(C){if(m){v.push(C);const k=h;k.inputs=fd(h.inputs),k.declaredInputs=fd(h.declaredInputs),k.outputs=fd(h.outputs);const N=C.hostBindings;N&&gD(h,N);const B=C.viewQuery,U=C.contentQueries;if(B&&iy(h,B),U&&vO(h,U),ve(h.inputs,C.inputs),ve(h.declaredInputs,C.declaredInputs),ve(h.outputs,C.outputs),$o(C)&&C.data.animation){const te=h.data;te.animation=(te.animation||[]).concat(C.data.animation)}}const x=C.features;if(x)for(let k=0;k<x.length;k++){const N=x[k];N&&N.ngInherit&&N(h),N===ny&&(m=!1)}}p=Object.getPrototypeOf(p)}!function Qw(h){let p=0,m=null;for(let v=h.length-1;v>=0;v--){const C=h[v];C.hostVars=p+=C.hostVars,C.hostAttrs=it(C.hostAttrs,m=it(m,C.hostAttrs))}}(v)}function fd(h){return h===yi?{}:h===An?[]:h}function iy(h,p){const m=h.viewQuery;h.viewQuery=m?(v,C)=>{p(v,C),m(v,C)}:p}function vO(h,p){const m=h.contentQueries;h.contentQueries=m?(v,C,x)=>{p(v,C,x),m(v,C,x)}:p}function gD(h,p){const m=h.hostBindings;h.hostBindings=m?(v,C)=>{p(v,C),m(v,C)}:p}let qh=null;function dm(){if(!qh){const h=Rt.Symbol;if(h&&h.iterator)qh=h.iterator;else{const p=Object.getOwnPropertyNames(Map.prototype);for(let m=0;m<p.length;++m){const v=p[m];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(qh=v)}}}return qh}function hm(h){return!!Ja(h)&&(Array.isArray(h)||!(h instanceof Map)&&dm()in h)}function Ja(h){return null!==h&&("function"==typeof h||"object"==typeof h)}function Qa(h,p,m){return h[p]=m}function oy(h,p){return h[p]}function _s(h,p,m){return!Object.is(h[p],m)&&(h[p]=m,!0)}function Zh(h,p,m,v){const C=_s(h,p,m);return _s(h,p+1,v)||C}function Hb(h,p,m,v,C){const x=Zh(h,p,m,v);return _s(h,p+2,C)||x}function Al(h,p,m,v,C,x){const k=Zh(h,p,m,v);return Zh(h,p+2,C,x)||k}function OT(h,p,m,v){const C=xt();return _s(C,al(),p)&&(pi(),function Ya(h,p,m,v,C,x){const k=Es(h,p);cm(p[11],k,x,h.value,m,v,C)}(pr(),C,h,p,m,v)),OT}function pm(h,p,m,v){return _s(h,al(),m)?p+Be(m)+v:ri}function LT(h,p,m,v,C,x,k,N){const B=xt(),U=pi(),te=h+22,he=U.firstCreatePass?function eC(h,p,m,v,C,x,k,N,B){const U=p.consts,te=pc(p,h,4,k||null,Bs(U,N));Wi(p,m,te,Bs(U,B)),Pf(p,te);const he=te.tViews=ya(2,te,v,C,x,p.directiveRegistry,p.pipeRegistry,null,p.schemas,U);return null!==p.queries&&(p.queries.template(p,te),he.queries=p.queries.embeddedTView(te)),te}(te,U,B,p,m,v,C,x,k):U.data[te];cs(he,!1);const xe=B[11].createComment("");Ih(U,B,xe,he),ps(xe,B),vc(B,B[te]=fo(xe,B,xe,he)),Ns(he)&&mp(U,B,he),null!=k&&Je(B,he,N)}function cy(h){return function No(h,p){return h[p]}(function Sv(){return ti.lFrame.contextLView}(),22+h)}function VT(h,p,m){const v=xt();return _s(v,al(),p)&&ks(pi(),pr(),v,h,p,v[11],m,!1),VT}function tC(h,p,m,v,C){const k=C?"class":"style";E(h,m,p.inputs[k],k,v)}function wc(h,p,m,v){const C=xt(),x=pi(),k=22+h,N=C[11],B=C[k]=hc(N,p,function Jm(){return ti.lFrame.currentNamespace}()),U=x.firstCreatePass?function uy(h,p,m,v,C,x,k){const N=p.consts,U=pc(p,h,2,C,Bs(N,x));return Wi(p,m,U,Bs(N,k)),null!==U.attrs&&P(U,U.attrs,!1),null!==U.mergedAttrs&&P(U,U.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,U),U}(k,x,C,0,p,m,v):x.data[k];cs(U,!0);const te=U.mergedAttrs;null!==te&&t_(N,B,te);const he=U.classes;null!==he&&H_(N,B,he);const xe=U.styles;return null!==xe&&fb(N,B,xe),64!=(64&U.flags)&&Ih(x,C,B,U),0===function Ef(){return ti.lFrame.elementDepthCount}()&&ps(B,C),function $l(){ti.lFrame.elementDepthCount++}(),Ns(U)&&(mp(x,C,U),gc(x,U,C)),null!==v&&Je(C,U),wc}function Ub(){let h=rr();sl()?Lc():(h=h.parent,cs(h,!1));const p=h;!function Ud(){ti.lFrame.elementDepthCount--}();const m=pi();return m.firstCreatePass&&(Pf(m,h),Ou(h)&&m.queries.elementEnd(h)),null!=p.classesWithoutHost&&function Xm(h){return 0!=(16&h.flags)}(p)&&tC(m,p,xt(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function Av(h){return 0!=(32&h.flags)}(p)&&tC(m,p,xt(),p.stylesWithoutHost,!1),Ub}function nC(h,p,m,v){return wc(h,p,m,v),Ub(),nC}function Wh(h,p,m){const v=xt(),C=pi(),x=h+22,k=C.firstCreatePass?function CD(h,p,m,v,C){const x=p.consts,k=Bs(x,v),N=pc(p,h,8,"ng-container",k);return null!==k&&P(N,k,!0),Wi(p,m,N,Bs(x,C)),null!==p.queries&&p.queries.elementStart(p,N),N}(x,C,v,p,m):C.data[x];cs(k,!0);const N=v[x]=v[11].createComment("");return Ih(C,v,N,k),ps(N,v),Ns(k)&&(mp(C,v,k),gc(C,k,v)),null!=m&&Je(v,k),Wh}function dy(){let h=rr();const p=pi();return sl()?Lc():(h=h.parent,cs(h,!1)),p.firstCreatePass&&(Pf(p,h),Ou(h)&&p.queries.elementEnd(h)),dy}function BT(h,p,m){return Wh(h,p,m),dy(),BT}function Mo(){return xt()}function Pi(h){return!!h&&"function"==typeof h.then}function HT(h){return!!h&&"function"==typeof h.subscribe}const UT=HT;function pd(h,p,m,v){const C=xt(),x=pi(),k=rr();return function jT(h,p,m,v,C,x,k,N){const B=Ns(v),te=h.firstCreatePass&&f(h),he=p[8],xe=u(p);let Ze=!0;if(3&v.type||N){const un=Es(v,p),Dn=N?N(un):un,Yn=xe.length,At=N?Fi=>N(Pr(Fi[v.index])):v.index;let Gn=null;if(!N&&B&&(Gn=function Xa(h,p,m,v){const C=h.cleanup;if(null!=C)for(let x=0;x<C.length-1;x+=2){const k=C[x];if(k===m&&C[x+1]===v){const N=p[7],B=C[x+2];return N.length>B?N[B]:null}"string"==typeof k&&(x+=2)}return null}(h,p,C,v.index)),null!==Gn)(Gn.__ngLastListenerFn__||Gn).__ngNextListenerFn__=x,Gn.__ngLastListenerFn__=x,Ze=!1;else{x=zT(v,p,he,x,!1);const Fi=m.listen(Dn,C,x);xe.push(x,Fi),te&&te.push(C,At,Yn,Yn+1)}}else x=zT(v,p,he,x,!1);const _t=v.outputs;let Nt;if(Ze&&null!==_t&&(Nt=_t[C])){const un=Nt.length;if(un)for(let Dn=0;Dn<un;Dn+=2){const Lr=p[Nt[Dn]][Nt[Dn+1]].subscribe(x),km=xe.length;xe.push(x,Lr),te&&te.push(C,v.index,km,-(km+1))}}}(x,C,C[11],k,h,p,0,v),pd}function hy(h,p,m,v){try{return!1!==m(v)}catch(C){return w(h,C),!1}}function zT(h,p,m,v,C){return function x(k){if(k===Function)return v;ba(2&h.flags?wo(h.index,p):p);let B=hy(p,0,v,k),U=x.__ngNextListenerFn__;for(;U;)B=hy(p,0,U,k)&&B,U=U.__ngNextListenerFn__;return C&&!1===B&&(k.preventDefault(),k.returnValue=!1),B}}function _u(h=1){return function Rf(h){return(ti.lFrame.contextLView=function qd(h,p){for(;h>0;)p=p[15],h--;return p}(h,ti.lFrame.contextLView))[8]}(h)}function ED(h,p){let m=null;const v=function _b(h){const p=h.attrs;if(null!=p){const m=p.indexOf(5);if(0==(1&m))return p[m+1]}return null}(h);for(let C=0;C<p.length;C++){const x=p[C];if("*"!==x){if(null===v?mb(h,x,!0):Uw(v,x))return C}else m=C}return m}function fy(h){const p=xt()[16][6];if(!p.projection){const v=p.projection=Xl(h?h.length:1,null),C=v.slice();let x=p.child;for(;null!==x;){const k=h?ED(x,h):0;null!==k&&(C[k]?C[k].projectionNext=x:v[k]=x,C[k]=x),x=x.next}}}function xD(h,p=0,m){const v=xt(),C=pi(),x=pc(C,22+h,16,null,m||null);null===x.projection&&(x.projection=p),Lc(),64!=(64&x.flags)&&function kh(h,p,m){lp(p[11],0,p,m,ap(h,m,p),db(m.parent||p[6],m,p))}(C,v,x)}function GT(h,p,m){return di(h,"",p,"",m),GT}function di(h,p,m,v,C){const x=xt(),k=pm(x,p,m,v);return k!==ri&&ks(pi(),pr(),x,h,k,x[11],C,!1),di}function MD(h,p,m,v,C){const x=h[m+1],k=null===p;let N=v?ms(x):Xo(x),B=!1;for(;0!==N&&(!1===B||k);){const te=h[N+1];wO(h[N],p)&&(B=!0,h[N+1]=v?hp(te):nm(te)),N=v?ms(te):Xo(te)}B&&(h[m+1]=v?nm(x):hp(x))}function wO(h,p){return null===h||null==p||(Array.isArray(h)?h[1]:h)===p||!(!Array.isArray(h)||"string"!=typeof p)&&la(h,p)>=0}const ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function my(h){return h.substring(ts.key,ts.keyEnd)}function AD(h){return h.substring(ts.value,ts.valueEnd)}function ns(h,p){const m=ts.textEnd;return m===p?-1:(p=ts.keyEnd=function KT(h,p,m){for(;p<m&&h.charCodeAt(p)>32;)p++;return p}(h,ts.key=p,m),wa(h,p,m))}function YT(h,p){const m=ts.textEnd;let v=ts.key=wa(h,p,m);return m===v?-1:(v=ts.keyEnd=function kD(h,p,m){let v;for(;p<m&&(45===(v=h.charCodeAt(p))||95===v||(-33&v)>=65&&(-33&v)<=90||v>=48&&v<=57);)p++;return p}(h,v,m),v=yy(h,v,m),v=ts.value=wa(h,v,m),v=ts.valueEnd=function OD(h,p,m){let v=-1,C=-1,x=-1,k=p,N=k;for(;k<m;){const B=h.charCodeAt(k++);if(59===B)return N;34===B||39===B?N=k=JT(h,B,k,m):p===k-4&&85===x&&82===C&&76===v&&40===B?N=k=JT(h,41,k,m):B>32&&(N=k),x=C,C=v,v=-33&B}return N}(h,v,m),yy(h,v,m))}function _y(h){ts.key=0,ts.keyEnd=0,ts.value=0,ts.valueEnd=0,ts.textEnd=h.length}function wa(h,p,m){for(;p<m&&h.charCodeAt(p)<=32;)p++;return p}function yy(h,p,m,v){return(p=wa(h,p,m))<m&&p++,p}function JT(h,p,m,v){let C=-1,x=m;for(;x<v;){const k=h.charCodeAt(x++);if(k==p&&92!==C)return x;C=92==k&&92===C?0:k}throw new Error}function QT(h,p,m){return Cc(h,p,m,!1),QT}function XT(h,p){return Cc(h,p,null,!0),XT}function Ca(h){Tc(iE,eE,h,!1)}function eE(h,p){for(let m=function WT(h){return _y(h),YT(h,wa(h,0,ts.textEnd))}(p);m>=0;m=YT(p,m))iE(h,my(p),AD(p))}function RD(h){Tc(Ko,yu,h,!0)}function yu(h,p){for(let m=function CO(h){return _y(h),ns(h,wa(h,0,ts.textEnd))}(p);m>=0;m=ns(p,m))Ko(h,my(p),!0)}function Cc(h,p,m,v){const C=xt(),x=pi(),k=Pa(2);x.firstUpdatePass&&tE(x,h,k,v),p!==ri&&_s(C,k,p)&&ND(x,x.data[oo()],C,C[11],h,C[k+1]=function FD(h,p){return null==h||("string"==typeof p?h+=p:"object"==typeof h&&(h=Se(Us(h)))),h}(p,m),v,k)}function Tc(h,p,m,v){const C=pi(),x=Pa(2);C.firstUpdatePass&&tE(C,null,x,v);const k=xt();if(m!==ri&&_s(k,x,m)){const N=C.data[oo()];if(qb(N,v)&&!PD(C,x)){let B=v?N.classesWithoutHost:N.stylesWithoutHost;null!==B&&(m=fe(B,m||"")),tC(C,N,k,m,v)}else!function Ta(h,p,m,v,C,x,k,N){C===ri&&(C=An);let B=0,U=0,te=0<C.length?C[0]:null,he=0<x.length?x[0]:null;for(;null!==te||null!==he;){const xe=B<C.length?C[B+1]:void 0,Ze=U<x.length?x[U+1]:void 0;let Nt,_t=null;te===he?(B+=2,U+=2,xe!==Ze&&(_t=he,Nt=Ze)):null===he||null!==te&&te<he?(B+=2,_t=te):(U+=2,_t=he,Nt=Ze),null!==_t&&ND(h,p,m,v,_t,Nt,k,N),te=B<C.length?C[B]:null,he=U<x.length?x[U]:null}}(C,N,k,k[11],k[x+1],k[x+1]=function SO(h,p,m){if(null==m||""===m)return An;const v=[],C=Us(m);if(Array.isArray(C))for(let x=0;x<C.length;x++)h(v,C[x],!0);else if("object"==typeof C)for(const x in C)C.hasOwnProperty(x)&&h(v,x,C[x]);else"string"==typeof C&&p(v,C);return v}(h,p,m),v,x)}}function PD(h,p){return p>=h.expandoStartIndex}function tE(h,p,m,v){const C=h.data;if(null===C[m+1]){const x=C[oo()],k=PD(h,m);qb(x,v)&&null===p&&!k&&(p=!1),p=function EO(h,p,m,v){const C=function Vc(h){const p=ti.lFrame.currentDirectiveIndex;return-1===p?null:h[p]}(h);let x=v?p.residualClasses:p.residualStyles;if(null===C)0===(v?p.classBindings:p.styleBindings)&&(m=Gb(m=nE(null,h,p,m,v),p.attrs,v),x=null);else{const k=p.directiveStylingLast;if(-1===k||h[k]!==C)if(m=nE(C,h,p,m,v),null===x){let B=function xO(h,p,m){const v=m?p.classBindings:p.styleBindings;if(0!==Xo(v))return h[ms(v)]}(h,p,v);void 0!==B&&Array.isArray(B)&&(B=nE(null,h,p,B[1],v),B=Gb(B,p.attrs,v),function vy(h,p,m,v){h[ms(m?p.classBindings:p.styleBindings)]=v}(h,p,v,B))}else x=function by(h,p,m){let v;const C=p.directiveEnd;for(let x=1+p.directiveStylingLast;x<C;x++)v=Gb(v,h[x].hostAttrs,m);return Gb(v,p.attrs,m)}(h,p,v)}return void 0!==x&&(v?p.residualClasses=x:p.residualStyles=x),m}(C,x,p,v),function DD(h,p,m,v,C,x){let k=x?p.classBindings:p.styleBindings,N=ms(k),B=Xo(k);h[v]=m;let te,U=!1;if(Array.isArray(m)){const he=m;te=he[1],(null===te||la(he,te)>0)&&(U=!0)}else te=m;if(C)if(0!==B){const xe=ms(h[N+1]);h[v+1]=Vh(xe,N),0!==xe&&(h[xe+1]=Oi(h[xe+1],v)),h[N+1]=function Mb(h,p){return 131071&h|p<<17}(h[N+1],v)}else h[v+1]=Vh(N,0),0!==N&&(h[N+1]=Oi(h[N+1],v)),N=v;else h[v+1]=Vh(B,0),0===N?N=v:h[B+1]=Oi(h[B+1],v),B=v;U&&(h[v+1]=nm(h[v+1])),MD(h,te,v,!0),MD(h,te,v,!1),function ID(h,p,m,v,C){const x=C?h.residualClasses:h.residualStyles;null!=x&&"string"==typeof p&&la(x,p)>=0&&(m[v+1]=hp(m[v+1]))}(p,te,h,v,x),k=Vh(N,B),x?p.classBindings=k:p.styleBindings=k}(C,x,p,m,k,v)}}function nE(h,p,m,v,C){let x=null;const k=m.directiveEnd;let N=m.directiveStylingLast;for(-1===N?N=m.directiveStart:N++;N<k&&(x=p[N],v=Gb(v,x.hostAttrs,C),x!==h);)N++;return null!==h&&(m.directiveStylingLast=N),v}function Gb(h,p,m){const v=m?1:2;let C=-1;if(null!==p)for(let x=0;x<p.length;x++){const k=p[x];"number"==typeof k?C=k:C===v&&(Array.isArray(h)||(h=void 0===h?[]:["",h]),Ko(h,k,!!m||p[++x]))}return void 0===h?null:h}function iE(h,p,m){Ko(h,p,Us(m))}function ND(h,p,m,v,C,x,k,N){if(!(3&p.type))return;const B=h.data,U=B[N+1];kl(function Ab(h){return 1==(1&h)}(U)?rE(B,p,m,C,Xo(U),k):void 0)||(kl(x)||function As(h){return 2==(2&h)}(U)&&(x=rE(B,null,m,C,N,k)),function Vw(h,p,m,v,C){if(p)C?h.addClass(m,v):h.removeClass(m,v);else{let x=-1===v.indexOf("-")?void 0:qa.DashCase;null==C?h.removeStyle(m,v,x):("string"==typeof C&&C.endsWith("!important")&&(C=C.slice(0,-10),x|=qa.Important),h.setStyle(m,v,C,x))}}(v,k,Hd(oo(),m),C,x))}function rE(h,p,m,v,C,x){const k=null===p;let N;for(;C>0;){const B=h[C],U=Array.isArray(B),te=U?B[1]:B,he=null===te;let xe=m[C+1];xe===ri&&(xe=he?An:void 0);let Ze=he?nh(xe,v):te===v?xe:void 0;if(U&&!kl(Ze)&&(Ze=nh(B,v)),kl(Ze)&&(N=Ze,k))return N;const _t=h[C+1];C=k?ms(_t):Xo(_t)}if(null!==p){let B=x?p.residualClasses:p.residualStyles;null!=B&&(N=nh(B,v))}return N}function kl(h){return void 0!==h}function qb(h,p){return 0!=(h.flags&(p?16:32))}function oE(h,p=""){const m=xt(),v=pi(),C=h+22,x=v.firstCreatePass?pc(v,C,1,p,null):v.data[C],k=m[C]=lu(m[11],p);Ih(v,m,k,x),cs(x,!1)}function sE(h){return iC("",h,""),sE}function iC(h,p,m){const v=xt(),C=pm(v,h,p,m);return C!==ri&&M(v,oo(),C),iC}function aE(h,p,m,v,C){const x=xt(),k=function gm(h,p,m,v,C,x){const N=Zh(h,Ra(),m,C);return Pa(2),N?p+Be(m)+v+Be(C)+x:ri}(x,h,p,m,v,C);return k!==ri&&M(x,oo(),k),aE}function sC(h,p,m){const v=xt();return _s(v,al(),p)&&ks(pi(),pr(),v,h,p,v[11],m,!0),sC}const ym=void 0;var YD=["en",[["a","p"],["AM","PM"],ym],[["AM","PM"],ym,ym],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ym,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ym,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ym,"{1} 'at' {0}",ym],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WD(h){const m=Math.floor(Math.abs(h)),v=h.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===v?1:5}];let Yh={};function Kh(h){const p=function $b(h){return h.toLowerCase().replace(/_/g,"-")}(h);let m=KD(p);if(m)return m;const v=p.split("-")[0];if(m=KD(v),m)return m;if("en"===v)return YD;throw new je(701,!1)}function gE(h){return Kh(h)[Jn.PluralCase]}function KD(h){return h in Yh||(Yh[h]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[h]),Yh[h]}var Jn=(()=>((Jn=Jn||{})[Jn.LocaleId=0]="LocaleId",Jn[Jn.DayPeriodsFormat=1]="DayPeriodsFormat",Jn[Jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jn[Jn.DaysFormat=3]="DaysFormat",Jn[Jn.DaysStandalone=4]="DaysStandalone",Jn[Jn.MonthsFormat=5]="MonthsFormat",Jn[Jn.MonthsStandalone=6]="MonthsStandalone",Jn[Jn.Eras=7]="Eras",Jn[Jn.FirstDayOfWeek=8]="FirstDayOfWeek",Jn[Jn.WeekendRange=9]="WeekendRange",Jn[Jn.DateFormat=10]="DateFormat",Jn[Jn.TimeFormat=11]="TimeFormat",Jn[Jn.DateTimeFormat=12]="DateTimeFormat",Jn[Jn.NumberSymbols=13]="NumberSymbols",Jn[Jn.NumberFormats=14]="NumberFormats",Jn[Jn.CurrencyCode=15]="CurrencyCode",Jn[Jn.CurrencySymbol=16]="CurrencySymbol",Jn[Jn.CurrencyName=17]="CurrencyName",Jn[Jn.Currencies=18]="Currencies",Jn[Jn.Directionality=19]="Directionality",Jn[Jn.PluralCase=20]="PluralCase",Jn[Jn.ExtraData=21]="ExtraData",Jn))();const vm=["zero","one","two","few","many"],wm="en-US",lC={marker:"element"},Cy={marker:"ICU"};var Fr=(()=>((Fr=Fr||{})[Fr.SHIFT=2]="SHIFT",Fr[Fr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Fr[Fr.COMMENT=2]="COMMENT",Fr))();let mE=wm;function Ty(h){(function en(h,p){null==h&&Tt(p,h,null,"!=")})(h,"Expected localeId to be defined"),"string"==typeof h&&(mE=h.toLowerCase().replace(/_/g,"-"))}function Ey(h,p,m){const v=p.insertBeforeIndex,C=Array.isArray(v)?v[0]:v;return null===C?Dh(h,0,m):Pr(m[C])}function _E(h,p,m,v,C){const x=p.insertBeforeIndex;if(Array.isArray(x)){let k=v,N=null;if(3&p.type||(N=k,k=C),null!==k&&0==(2&p.flags))for(let B=1;B<x.length;B++)pa(h,k,m[x[B]],N,!1)}}function yE(h,p){if(h.push(p),h.length>1)for(let m=h.length-2;m>=0;m--){const v=h[m];Ea(v)||JD(v,p)&&null===uC(v)&&dC(v,p.index)}}function Ea(h){return!(64&h.type)}function JD(h,p){return Ea(p)||h.index>p.index}function uC(h){const p=h.insertBeforeIndex;return Array.isArray(p)?p[0]:p}function dC(h,p){const m=h.insertBeforeIndex;Array.isArray(m)?m[0]=p:(rd(Ey,_E),h.insertBeforeIndex=p)}function xy(h,p){const m=h.data[p];return null===m||"string"==typeof m?null:m.hasOwnProperty("currentCaseLViewIndex")?m:m.value}function QD(h,p,m){const v=Uh(h,m,64,null,null);return yE(p,v),v}function gd(h,p){const m=p[h.currentCaseLViewIndex];return null===m?m:m<0?~m:m}function XD(h){return h>>>17}function Cm(h){return(131070&h)>>>1}let Dy=0,Wb=0;function Yb(h,p,m,v){const C=m[11];let k,x=null;for(let N=0;N<p.length;N++){const B=p[N];if("string"==typeof B){const U=p[++N];null===m[U]&&(m[U]=lu(C,B))}else if("number"==typeof B)switch(1&B){case 0:const U=XD(B);let te,he;if(null===x&&(x=U,k=El(C,v)),U===x?(te=v,he=k):(te=null,he=Pr(m[U])),null!==he){const Nt=Cm(B);pa(C,he,m[Nt],te,!1);const Dn=xy(h,Nt);if(null!==Dn&&"object"==typeof Dn){const Yn=gd(Dn,m);null!==Yn&&Yb(h,Dn.create[Yn],m,m[Dn.anchorIdx])}}break;case 1:const Ze=p[++N],_t=p[++N];cm(C,Hd(B>>>1,m),null,null,Ze,_t,null)}else switch(B){case Cy:const U=p[++N],te=p[++N];null===m[te]&&ps(m[te]=rp(C,U),m);break;case lC:const he=p[++N],xe=p[++N];null===m[xe]&&ps(m[xe]=hc(C,he,null),m)}}}function bE(h,p,m,v,C){for(let x=0;x<m.length;x++){const k=m[x],N=m[++x];if(k&C){let B="";for(let U=x+1;U<=x+N;U++){const te=m[U];if("string"==typeof te)B+=te;else if("number"==typeof te)if(te<0)B+=Be(p[v-te]);else{const he=te>>>2;switch(3&te){case 1:const xe=m[++U],Ze=m[++U],_t=h.data[he];"string"==typeof _t?cm(p[11],p[he],null,_t,xe,B,Ze):ks(h,_t,p,xe,B,p[11],Ze,!1);break;case 0:const Nt=p[he];null!==Nt&&cu(p[11],Nt,B);break;case 2:tI(h,xy(h,he),p,B);break;case 3:eI(h,xy(h,he),v,p)}}}}else{const B=m[x+1];if(B>0&&3==(3&B)){const te=xy(h,B>>>2);p[te.currentCaseLViewIndex]<0&&eI(h,te,v,p)}}x+=N}}function eI(h,p,m,v){let C=v[p.currentCaseLViewIndex];if(null!==C){let x=Dy;C<0&&(C=v[p.currentCaseLViewIndex]=~C,x=-1),bE(h,v,p.update[C],m,x)}}function tI(h,p,m,v){const C=function iI(h,p){let m=h.cases.indexOf(p);if(-1===m)switch(h.type){case 1:{const v=function bm(h,p){const m=gE(p)(parseInt(h,10)),v=vm[m];return void 0!==v?v:"other"}(p,function cC(){return mE}());m=h.cases.indexOf(v),-1===m&&"other"!==v&&(m=h.cases.indexOf("other"));break}case 0:m=h.cases.indexOf("other")}return-1===m?null:m}(p,v);if(gd(p,m)!==C&&(nI(h,p,m),m[p.currentCaseLViewIndex]=null===C?null:~C,null!==C)){const k=m[p.anchorIdx];k&&Yb(h,p.create[C],m,k)}}function nI(h,p,m){let v=gd(p,m);if(null!==v){const C=p.remove[v];for(let x=0;x<C.length;x++){const k=C[x];if(k>0){const N=Hd(k,m);null!==N&&jg(m[11],N)}else nI(h,xy(h,~k),m)}}}function Tm(){const h=[];let m,v,p=-1;function x(N,B){p=0;const U=gd(N,B);v=null!==U?N.remove[U]:An}function k(){if(p<v.length){const N=v[p++];return N>0?m[N]:(h.push(p,v),x(m[1].data[~N],m),k())}return 0===h.length?null:(v=h.pop(),p=h.pop(),k())}return function C(N,B){for(m=B;h.length;)h.pop();return x(N.value,B),k}}const fC=/\ufffd(\d+):?\d*\ufffd/gi,CE=/\ufffd(\d+)\ufffd/,is=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,jO=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zO=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,GO=/\uE500/g;function Jb(h,p,m,v,C,x,k){const N=_a(h,v,1,null);let B=N<<Fr.SHIFT,U=Wl();p===U&&(U=null),null===U&&(B|=Fr.APPEND_EAGERLY),k&&(B|=Fr.COMMENT,function Vg(h){void 0===np&&(np=h())}(Tm)),C.push(B,null===x?"":x);const te=Uh(h,N,k?32:1,null===x?"":x,null);yE(m,te);const he=te.index;return cs(te,!1),null!==U&&p!==U&&function Sy(h,p){let m=h.insertBeforeIndex;null===m?(rd(Ey,_E),m=h.insertBeforeIndex=[null,p]):(function Ae(h,p,m){h!=p&&Tt(m,h,p,"==")}(Array.isArray(m),!0,"Expecting array here"),m.push(p))}(U,he),te}function ZO(h,p,m,v,C,x,k){const N=k.match(fC),B=Jb(h,p,m,x,v,N?null:k,!1);N&&Ap(C,k,B.index,null,0,null)}function Ap(h,p,m,v,C,x){const k=h.length,N=k+1;h.push(null,null);const B=k+2,U=p.split(fC);let te=0;for(let he=0;he<U.length;he++){const xe=U[he];if(1&he){const Ze=C+parseInt(xe,10);h.push(-1-Ze),te|=Iy(Ze)}else""!==xe&&h.push(xe)}return h.push(m<<2|(v?1:0)),v&&h.push(v,x),h[k]=te,h[N]=h.length-B,te}function Iy(h){return 1<<Math.min(h,31)}function gC(h){let p,x,m="",v=0,C=!1;for(;null!==(p=jO.exec(h));)C?p[0]===`\ufffd/*${x}\ufffd`&&(v=p.index,C=!1):(m+=h.substring(v,p.index+p[0].length),x=p[1],C=!0);return m+=h.slice(v),m}function xE(h,p,m,v,C,x){let k=0;const N={type:C.type,currentCaseLViewIndex:_a(h,p,1,null),anchorIdx:x,cases:[],create:[],remove:[],update:[]};(function WO(h,p,m){h.push(Iy(p.mainBinding),2,-1-p.mainBinding,m<<2|2)})(m,C,x),function Ip(h,p,m){const v=h.data[p];null===v?h.data[p]=m:v.value=m}(h,x,N);const B=C.values;for(let U=0;U<B.length;U++){const te=B[U],he=[];for(let xe=0;xe<te.length;xe++){const Ze=te[xe];if("string"!=typeof Ze){const _t=he.push(Ze)-1;te[xe]=`\x3c!--\ufffd${_t}\ufffd--\x3e`}}k=sI(h,N,p,m,v,C.cases[U],te.join(""),he)|k}k&&function cI(h,p,m){h.push(p,1,m<<2|3)}(m,k,x)}function $O(h){const p=[],m=[];let v=1,C=0;const x=mC(h=h.replace(is,function(k,N,B){return v="select"===B?0:1,C=parseInt(N.slice(1),10),""}));for(let k=0;k<x.length;){let N=x[k++].trim();1===v&&(N=N.replace(/\s*(?:=)?(\w+)\s*/,"$1")),N.length&&p.push(N);const B=mC(x[k++]);p.length>m.length&&m.push(B)}return{type:v,mainBinding:C,cases:p,values:m}}function mC(h){if(!h)return[];let p=0;const m=[],v=[],C=/[{}]/g;let x;for(C.lastIndex=0;x=C.exec(h);){const N=x.index;if("}"==x[0]){if(m.pop(),0==m.length){const B=h.substring(p,N);is.test(B)?v.push($O(B)):v.push(B),p=N+1}}else{if(0==m.length){const B=h.substring(p,N);v.push(B),p=N+1}m.push("{")}}const k=h.substring(p);return v.push(k),v}function sI(h,p,m,v,C,x,k,N){const B=[],U=[],te=[];p.cases.push(x),p.create.push(B),p.remove.push(U),p.update.push(te);const xe=R(function g_(){return void 0!==zr?zr:typeof document<"u"?document:void 0}()).getInertBodyElement(k),Ze=vw(xe)||xe;return Ze?_C(h,p,m,v,B,U,te,Ze,C,N,0):0}function _C(h,p,m,v,C,x,k,N,B,U,te){let he=0,xe=N.firstChild;for(;xe;){const Ze=_a(h,m,1,null);switch(xe.nodeType){case Node.ELEMENT_NODE:const _t=xe,Nt=_t.tagName.toLowerCase();if(Yf.hasOwnProperty(Nt)){SE(C,lC,Nt,B,Ze),h.data[Ze]=Nt;const At=_t.attributes;for(let Gn=0;Gn<At.length;Gn++){const Fi=At.item(Gn),Lr=Fi.name.toLowerCase();Fi.value.match(fC)?xg.hasOwnProperty(Lr)&&Ap(k,Fi.value,Ze,Fi.name,0,Eg[Lr]?vt:Kf[Lr]?hn:null):My(C,Ze,Fi)}he=_C(h,p,m,v,C,x,k,xe,Ze,U,te+1)|he,aI(x,Ze,te)}break;case Node.TEXT_NODE:const un=xe.textContent||"",Dn=un.match(fC);SE(C,null,Dn?"":un,B,Ze),aI(x,Ze,te),Dn&&(he=Ap(k,un,Ze,null,0,null)|he);break;case Node.COMMENT_NODE:const Yn=CE.exec(xe.textContent||"");if(Yn){const Gn=U[parseInt(Yn[1],10)];SE(C,Cy,"",B,Ze),xE(h,m,v,B,Gn,Ze),lI(x,Ze,te)}}xe=xe.nextSibling}return he}function aI(h,p,m){0===m&&h.push(p)}function lI(h,p,m){0===m&&(h.push(~p),h.push(p))}function SE(h,p,m,v,C){null!==p&&h.push(p),h.push(m,C,function Mp(h,p,m){return h|p<<17|m<<1}(0,v,C))}function My(h,p,m){h.push(p<<1|1,m.name,m.value)}function vC(h,p,m=-1){const v=pi(),C=xt(),x=22+h,k=Bs(v.consts,p),N=Wl();v.firstCreatePass&&function qO(h,p,m,v,C,x){const k=Wl(),N=[],B=[],U=[[]];C=function EE(h,p){if(function pC(h){return-1===h}(p))return gC(h);{const m=h.indexOf(`:${p}\ufffd`)+2+p.toString().length,v=h.search(new RegExp(`\ufffd\\/\\*\\d+:${p}\ufffd`));return gC(h.substring(m,v))}}(C,x);const te=function rI(h){return h.replace(GO," ")}(C).split(zO);for(let he=0;he<te.length;he++){let xe=te[he];if(0==(1&he)){const Ze=mC(xe);for(let _t=0;_t<Ze.length;_t++){let Nt=Ze[_t];if(0==(1&_t)){const un=Nt;""!==un&&ZO(h,k,U[0],N,B,m,un)}else{const un=Nt;if("object"!=typeof un)throw new Error(`Unable to parse ICU expression in "${C}" message.`);xE(h,m,B,p,un,Jb(h,k,U[0],m,N,"",!0).index)}}}else{const Ze=47===xe.charCodeAt(0),Nt=(xe.charCodeAt(Ze?1:0),22+Number.parseInt(xe.substring(Ze?2:1)));if(Ze)U.shift(),cs(Wl(),!1);else{const un=QD(h,U[0],Nt);U.unshift([]),cs(un,!0)}}}h.data[v]={create:N,update:B}}(v,null===N?0:N.index,C,x,k,m);const B=v.data[x],te=xh(v,N===C[6]?null:N,C);(function VO(h,p,m,v){const C=h[11];for(let x=0;x<p.length;x++){const k=p[x++],N=p[x],B=(k&Fr.COMMENT)===Fr.COMMENT,U=(k&Fr.APPEND_EAGERLY)===Fr.APPEND_EAGERLY,te=k>>>Fr.SHIFT;let he=h[te];null===he&&(he=h[te]=B?C.createComment(N):lu(C,N)),U&&null!==m&&pa(C,m,he,v,!1)}})(C,B.create,te,N&&8&N.type?C[N.index]:null),Fu(!0)}function AE(h,p,m){vC(h,p,m),function ME(){Fu(!1)}()}function Ay(h){return function FO(h){h&&(Dy|=1<<Math.min(Wb,31)),Wb++}(_s(xt(),al(),h)),Ay}function ky(h){!function LO(h,p,m){if(Wb>0){const v=h.data[m];bE(h,p,Array.isArray(v)?v:v.update,Ra()-Wb-1,Dy)}Dy=0,Wb=0}(pi(),xt(),h+22)}function Qb(h,p,m,v,C){if(h=ce(h),Array.isArray(h))for(let x=0;x<h.length;x++)Qb(h[x],p,m,v,C);else{const x=pi(),k=xt();let N=ac(h)?h:ce(h.provide),B=_h(h);const U=rr(),te=1048575&U.providerIndexes,he=U.directiveStart,xe=U.providerIndexes>>20;if(ac(h)||!h.multi){const Ze=new ul(B,C,Lh),_t=PE(N,p,C?te:te+xe,he);-1===_t?(Kd(wt(U,k),x,N),Xb(x,h,p.length),p.push(N),U.directiveStart++,U.directiveEnd++,C&&(U.providerIndexes+=1048576),m.push(Ze),k.push(Ze)):(m[_t]=Ze,k[_t]=Ze)}else{const Ze=PE(N,p,te+xe,he),_t=PE(N,p,te,te+xe),Nt=Ze>=0&&m[Ze],un=_t>=0&&m[_t];if(C&&!un||!C&&!Nt){Kd(wt(U,k),x,N);const Dn=function QO(h,p,m,v,C){const x=new ul(h,m,Lh);return x.multi=[],x.index=p,x.componentProviders=0,RE(x,C,v&&!m),x}(C?JO:fI,m.length,C,v,B);!C&&un&&(m[_t].providerFactory=Dn),Xb(x,h,p.length,0),p.push(N),U.directiveStart++,U.directiveEnd++,C&&(U.providerIndexes+=1048576),m.push(Dn),k.push(Dn)}else Xb(x,h,Ze>-1?Ze:_t,RE(m[C?_t:Ze],B,!C&&v));!C&&v&&un&&m[_t].componentProviders++}}}function Xb(h,p,m,v){const C=ac(p),x=function ph(h){return!!h.useClass}(p);if(C||x){const B=(x?ce(p.useClass):p).prototype.ngOnDestroy;if(B){const U=h.destroyHooks||(h.destroyHooks=[]);if(!C&&p.multi){const te=U.indexOf(m);-1===te?U.push(m,[v,B]):U[te+1].push(v,B)}else U.push(m,B)}}}function RE(h,p,m){return m&&h.componentProviders++,h.multi.push(p)-1}function PE(h,p,m,v){for(let C=m;C<v;C++)if(p[C]===h)return C;return-1}function fI(h,p,m,v){return NE(this.multi,[])}function JO(h,p,m,v){const C=this.multi;let x;if(this.providerFactory){const k=this.providerFactory.componentProviders,N=Yr(m,m[1],this.providerFactory.index,v);x=N.slice(0,k),NE(C,x);for(let B=k;B<N.length;B++)x.push(N[B])}else x=[],NE(C,x);return x}function NE(h,p){for(let m=0;m<h.length;m++)p.push((0,h[m])());return p}function FE(h,p=[]){return m=>{m.providersResolver=(v,C)=>function OE(h,p,m){const v=pi();if(v.firstCreatePass){const C=$o(h);Qb(m,v.data,v.blueprint,C,!0),Qb(p,v.data,v.blueprint,C,!1)}}(v,C?C(h):h,p)}}class Jh{}class Oy{}function LE(h,p){return new pI(h,p??null)}class pI extends Jh{constructor(p,m){super(),this._parent=m,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ge(this);const v=lt(p);this._bootstrapComponents=zs(v.bootstrap),this._r3Injector=bb(p,m,[{provide:Jh,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],Se(p),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(p)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class VE extends Oy{constructor(p){super(),this.moduleType=p}create(p){return new pI(this.moduleType,p)}}class eR extends Jh{constructor(p,m,v){super(),this.componentFactoryResolver=new ge(this),this.instance=null;const C=new mh([...p,{provide:Jh,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],m||gh(),v,new Set(["environment"]));this.injector=C,C.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function BE(h,p,m=null){return new eR(h,p,m).injector}function TC(h,p,m){const v=Co()+h,C=xt();return C[v]===ri?Qa(C,v,m?p.call(m):p()):oy(C,v)}function qE(h,p,m,v){return function SC(h,p,m,v,C,x){const k=p+m;return _s(h,k,C)?Qa(h,k+1,x?v.call(x,C):v(C)):r0(h,k+1)}(xt(),Co(),h,p,m,v)}function Sm(h,p,m,v,C){return function bI(h,p,m,v,C,x,k){const N=p+m;return Zh(h,N,C,x)?Qa(h,N+2,k?v.call(k,C,x):v(C,x)):r0(h,N+2)}(xt(),Co(),h,p,m,v,C)}function EC(h,p,m,v,C,x){return function DC(h,p,m,v,C,x,k,N){const B=p+m;return Hb(h,B,C,x,k)?Qa(h,B+3,N?v.call(N,C,x,k):v(C,x,k)):r0(h,B+3)}(xt(),Co(),h,p,m,v,C,x)}function yI(h,p,m,v,C,x,k){return function wI(h,p,m,v,C,x,k,N,B){const U=p+m;return Al(h,U,C,x,k,N)?Qa(h,U+4,B?v.call(B,C,x,k,N):v(C,x,k,N)):r0(h,U+4)}(xt(),Co(),h,p,m,v,C,x,k)}function vI(h,p,m,v,C,x,k,N){const B=Co()+h,U=xt(),te=Al(U,B,m,v,C,x);return _s(U,B+4,k)||te?Qa(U,B+5,N?p.call(N,m,v,C,x,k):p(m,v,C,x,k)):oy(U,B+5)}function ZE(h,p,m,v,C,x,k,N,B){const U=Co()+h,te=xt(),he=Al(te,U,m,v,C,x);return Zh(te,U+4,k,N)||he?Qa(te,U+6,B?p.call(B,m,v,C,x,k,N):p(m,v,C,x,k,N)):oy(te,U+6)}function $E(h,p,m,v,C,x,k,N,B,U){const te=Co()+h,he=xt();let xe=Al(he,te,m,v,C,x);return Hb(he,te+4,k,N,B)||xe?Qa(he,te+7,U?p.call(U,m,v,C,x,k,N,B):p(m,v,C,x,k,N,B)):oy(he,te+7)}function xC(h,p,m,v){return function IC(h,p,m,v,C,x){let k=p+m,N=!1;for(let B=0;B<C.length;B++)_s(h,k++,C[B])&&(N=!0);return N?Qa(h,k,v.apply(x,C)):r0(h,k)}(xt(),Co(),h,p,m,v)}function r0(h,p){const m=h[p];return m===ri?void 0:m}function Op(h){return p=>{setTimeout(h,void 0,p)}}const _d=class EI extends s.x{constructor(p=!1){super(),this.__isAsync=p}emit(p){super.next(p)}subscribe(p,m,v){let C=p,x=m||(()=>null),k=v;if(p&&"object"==typeof p){const B=p;C=B.next?.bind(B),x=B.error?.bind(B),k=B.complete?.bind(B)}this.__isAsync&&(x=Op(x),C&&(C=Op(C)),k&&(k=Op(k)));const N=super.subscribe({next:C,error:x,complete:k});return p instanceof V.w0&&p.add(N),N}};function oR(){return this._results[dm()]()}class o0{constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const m=dm(),v=o0.prototype;v[m]||(v[m]=oR)}get changes(){return this._changes||(this._changes=new _d)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,m){return this._results.reduce(p,m)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,m){const v=this;v.dirty=!1;const C=Eo(p);(this._changesDetected=!function Yo(h,p,m){if(h.length!==p.length)return!1;for(let v=0;v<h.length;v++){let C=h[v],x=p[v];if(m&&(C=m(C),x=m(x)),x!==C)return!1}return!0}(v._results,C,m))&&(v._results=C,v.length=C.length,v.last=C[this.length-1],v.first=C[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dm=(()=>{class h{}return h.__NG_ELEMENT_ID__=sR,h})();const JE=Dm,QE=class extends JE{constructor(p,m,v){super(),this._declarationLView=p,this._declarationTContainer=m,this.elementRef=v}createEmbeddedView(p,m){const v=this._declarationTContainer.tViews,C=Dl(this._declarationLView,v,p,16,null,v.declTNode,null,null,null,null,m||null);C[17]=this._declarationLView[this._declarationTContainer.index];const k=this._declarationLView[19];return null!==k&&(C[19]=k.createEmbeddedView(v)),Dr(v,C,p),new z(C)}};function sR(){return MC(rr(),xt())}function MC(h,p){return 4&h.type?new QE(p,h,td(h,p)):null}let Fy=(()=>{class h{}return h.__NG_ELEMENT_ID__=XE,h})();function XE(){return tx(rr(),xt())}const aR=Fy,ex=class extends aR{constructor(p,m,v){super(),this._lContainer=p,this._hostTNode=m,this._hostLView=v}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new sa(this._hostTNode,this._hostLView)}get parentInjector(){const p=zn(this._hostTNode,this._hostLView);if(ia(p)){const m=Xi(p,this._hostLView),v=Uu(p);return new sa(m[1].data[v+8],m)}return new sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const m=xI(this._lContainer);return null!==m&&m[p]||null}get length(){return this._lContainer.length-10}createEmbeddedView(p,m,v){let C,x;"number"==typeof v?C=v:null!=v&&(C=v.index,x=v.injector);const k=p.createEmbeddedView(m||{},x);return this.insert(k,C),k}createComponent(p,m,v,C,x){const k=p&&!function Na(h){return"function"==typeof h}(p);let N;if(k)N=m;else{const he=m||{};N=he.index,v=he.injector,C=he.projectableNodes,x=he.environmentInjector||he.ngModuleRef}const B=k?p:new at(oe(p)),U=v||this.parentInjector;if(!x&&null==B.ngModule){const xe=(k?U:this.parentInjector).get(xr,null);xe&&(x=xe)}const te=B.create(U,C,void 0,x);return this.insert(te.hostView,N),te}insert(p,m){const v=p._lView,C=v[1];if(function ql(h){return yo(h[3])}(v)){const te=this.indexOf(p);if(-1!==te)this.detach(te);else{const he=v[3],xe=new ex(he,he[6],he[3]);xe.detach(xe.indexOf(p))}}const x=this._adjustIndex(m),k=this._lContainer;!function Tl(h,p,m,v){const C=10+v,x=m.length;v>0&&(m[C-1][4]=p),v<x-10?(p[4]=m[C],eh(m,10+v,p)):(m.push(p),p[4]=null),p[3]=m;const k=p[17];null!==k&&m!==k&&function L_(h,p){const m=h[9];p[16]!==p[3][3][16]&&(h[2]=!0),null===m?h[9]=[p]:m.push(p)}(k,p);const N=p[19];null!==N&&N.insertView(h),p[2]|=64}(C,v,k,x);const N=er(x,k),B=v[11],U=El(B,k[7]);return null!==U&&function sb(h,p,m,v,C,x){v[0]=C,v[6]=p,Ah(h,v,m,1,C,x)}(C,k[6],B,v,U,N),p.attachToViewContainerRef(),eh(AC(k),x,p),p}move(p,m){return this.insert(p,m)}indexOf(p){const m=xI(this._lContainer);return null!==m?m.indexOf(p):-1}remove(p){const m=this._adjustIndex(p,-1),v=V_(this._lContainer,m);v&&(Ql(AC(this._lContainer),m),cb(v[1],v))}detach(p){const m=this._adjustIndex(p,-1),v=V_(this._lContainer,m);return v&&null!=Ql(AC(this._lContainer),m)?new z(v):null}_adjustIndex(p,m=0){return p??this.length+m}};function xI(h){return h[8]}function AC(h){return h[8]||(h[8]=[])}function tx(h,p){let m;const v=p[h.index];if(yo(v))m=v;else{let C;if(8&h.type)C=Pr(v);else{const x=p[11];C=x.createComment("");const k=Es(h,p);pa(x,El(x,k),C,function Gs(h,p){return h.nextSibling(p)}(x,k),!1)}p[h.index]=m=fo(v,p,C,h),vc(p,m)}return new ex(m,h,p)}class nx{constructor(p){this.queryList=p,this.matches=null}clone(){return new nx(this.queryList)}setDirty(){this.queryList.setDirty()}}class ix{constructor(p=[]){this.queries=p}createEmbeddedView(p){const m=p.queries;if(null!==m){const v=null!==p.contentQueries?p.contentQueries[0]:m.length,C=[];for(let x=0;x<v;x++){const k=m.getByIndex(x);C.push(this.queries[k.indexInDeclarationView].clone())}return new ix(C)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let m=0;m<this.queries.length;m++)null!==kI(p,m).matches&&this.queries[m].setDirty()}}class II{constructor(p,m,v=null){this.predicate=p,this.flags=m,this.read=v}}class s0{constructor(p=[]){this.queries=p}elementStart(p,m){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(p,m)}elementEnd(p){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(p)}embeddedTView(p){let m=null;for(let v=0;v<this.length;v++){const C=null!==m?m.length:0,x=this.getByIndex(v).embeddedTView(p,C);x&&(x.indexInDeclarationView=v,null!==m?m.push(x):m=[x])}return null!==m?new s0(m):null}template(p,m){for(let v=0;v<this.queries.length;v++)this.queries[v].template(p,m)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class a0{constructor(p,m=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(p,m){this.isApplyingToNode(m)&&this.matchTNode(p,m)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,m){this.elementStart(p,m)}embeddedTView(p,m){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,m),new a0(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const m=this._declarationNodeIndex;let v=p.parent;for(;null!==v&&8&v.type&&v.index!==m;)v=v.parent;return m===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(p,m){const v=this.metadata.predicate;if(Array.isArray(v))for(let C=0;C<v.length;C++){const x=v[C];this.matchTNodeWithReadOption(p,m,rx(m,x)),this.matchTNodeWithReadOption(p,m,oa(m,p,x,!1,!1))}else v===Dm?4&m.type&&this.matchTNodeWithReadOption(p,m,-1):this.matchTNodeWithReadOption(p,m,oa(m,p,v,!1,!1))}matchTNodeWithReadOption(p,m,v){if(null!==v){const C=this.metadata.read;if(null!==C)if(C===iu||C===Fy||C===Dm&&4&m.type)this.addMatch(m.index,-2);else{const x=oa(m,p,C,!1,!1);null!==x&&this.addMatch(m.index,x)}else this.addMatch(m.index,v)}}addMatch(p,m){null===this.matches?this.matches=[p,m]:this.matches.push(p,m)}}function rx(h,p){const m=h.localNames;if(null!==m)for(let v=0;v<m.length;v+=2)if(m[v]===p)return m[v+1];return null}function ox(h,p,m,v){return-1===m?function lR(h,p){return 11&h.type?td(h,p):4&h.type?MC(h,p):null}(p,h):-2===m?function cR(h,p,m){return m===iu?td(p,h):m===Dm?MC(p,h):m===Fy?tx(p,h):void 0}(h,p,v):Yr(h,h[1],m,p)}function kC(h,p,m,v){const C=p[19].queries[v];if(null===C.matches){const x=h.data,k=m.matches,N=[];for(let B=0;B<k.length;B+=2){const U=k[B];N.push(U<0?null:ox(p,x[U],k[B+1],m.metadata.read))}C.matches=N}return C.matches}function OC(h,p,m,v){const C=h.queries.getByIndex(m),x=C.matches;if(null!==x){const k=kC(h,p,C,m);for(let N=0;N<x.length;N+=2){const B=x[N];if(B>0)v.push(k[N/2]);else{const U=x[N+1],te=p[-B];for(let he=10;he<te.length;he++){const xe=te[he];xe[17]===xe[3]&&OC(xe[1],xe,U,v)}if(null!==te[9]){const he=te[9];for(let xe=0;xe<he.length;xe++){const Ze=he[xe];OC(Ze[1],Ze,U,v)}}}}}return v}function RC(h){const p=xt(),m=pi(),v=Lu();Vu(v+1);const C=kI(m,v);if(h.dirty&&Pc(p)===(2==(2&C.metadata.flags))){if(null===C.matches)h.reset([]);else{const x=C.crossesNgTemplate?OC(m,p,v,[]):kC(m,p,C,v);h.reset(x,Gv),h.notifyOnChanges()}return!0}return!1}function sx(h,p,m){const v=pi();v.firstCreatePass&&(AI(v,new II(h,p,m),-1),2==(2&p)&&(v.staticViewQueries=!0)),NC(v,xt(),p)}function MI(h,p,m,v){const C=pi();if(C.firstCreatePass){const x=rr();AI(C,new II(p,m,v),x.index),function ax(h,p){const m=h.contentQueries||(h.contentQueries=[]);p!==(m.length?m[m.length-1]:-1)&&m.push(h.queries.length-1,p)}(C,h),2==(2&m)&&(C.staticContentQueries=!0)}NC(C,xt(),m)}function PC(){return function uR(h,p){return h[19].queries[p].queryList}(xt(),Lu())}function NC(h,p,m){const v=new o0(4==(4&m));Lb(h,p,v,v.destroy),null===p[19]&&(p[19]=new ix),p[19].queries.push(new nx(v))}function AI(h,p,m){null===h.queries&&(h.queries=new s0),h.queries.track(new a0(p,m))}function kI(h,p){return h.queries.getByIndex(p)}function FC(h,p){return MC(h,p)}function Pp(h){const p=oe(h)||ue(h)||De(h);return null!==p&&p.standalone}function qC(...h){}const qI=new Gi("Application Initializer");let ZC=(()=>{class h{constructor(m){this.appInits=m,this.resolve=qC,this.reject=qC,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,C)=>{this.resolve=v,this.reject=C})}runInitializers(){if(this.initialized)return;const m=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let C=0;C<this.appInits.length;C++){const x=this.appInits[C]();if(Pi(x))m.push(x);else if(UT(x)){const k=new Promise((N,B)=>{x.subscribe({complete:N,error:B})});m.push(k)}}Promise.all(m).then(()=>{v()}).catch(C=>{this.reject(C)}),0===m.length&&v(),this.initialized=!0}}return h.\u0275fac=function(m){return new(m||h)(Ur(qI,8))},h.\u0275prov=$t({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const gx=new Gi("AppId",{providedIn:"root",factory:function $C(){return`${WC()}${WC()}${WC()}`}});function WC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mx=new Gi("Platform Initializer"),YC=new Gi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ni=new Gi("appBootstrapListener"),ZI=new Gi("AnimationModuleType");let m0=(()=>{class h{log(m){console.log(m)}warn(m){console.warn(m)}}return h.\u0275fac=function(m){return new(m||h)},h.\u0275prov=$t({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})();const ur=new Gi("LocaleId",{providedIn:"root",factory:()=>sh(ur,nt.Optional|nt.SkipSelf)||function xR(){return typeof $localize<"u"&&$localize.locale||wm}()}),$s=new Gi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _0{constructor(p,m){this.ngModuleFactory=p,this.componentFactories=m}}let WI=(()=>{class h{compileModuleSync(m){return new VE(m)}compileModuleAsync(m){return Promise.resolve(this.compileModuleSync(m))}compileModuleAndAllComponentsSync(m){const v=this.compileModuleSync(m),x=zs(lt(m).declarations).reduce((k,N)=>{const B=oe(N);return B&&k.push(new at(B)),k},[]);return new _0(v,x)}compileModuleAndAllComponentsAsync(m){return Promise.resolve(this.compileModuleAndAllComponentsSync(m))}clearCache(){}clearCacheFor(m){}getModuleId(m){}}return h.\u0275fac=function(m){return new(m||h)},h.\u0275prov=$t({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const SR=(()=>Promise.resolve(0))();function po(h){typeof Zone>"u"?SR.then(()=>{h&&h.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",h)}class Ol{constructor({enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _d(!1),this.onMicrotaskEmpty=new _d(!1),this.onStable=new _d(!1),this.onError=new _d(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const C=this;if(C._nesting=0,C._outer=C._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const x=Zone.AsyncStackTaggingZoneSpec;C._inner=C._inner.fork(new x("Angular"))}Zone.TaskTrackingZoneSpec&&(C._inner=C._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(C._inner=C._inner.fork(Zone.longStackTraceZoneSpec)),C.shouldCoalesceEventChangeDetection=!v&&m,C.shouldCoalesceRunChangeDetection=v,C.lastRequestAnimationFrameId=-1,C.nativeRequestAnimationFrame=function QI(){let h=Rt.requestAnimationFrame,p=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&h&&p){const m=h[Zone.__symbol__("OriginalDelegate")];m&&(h=m);const v=p[Zone.__symbol__("OriginalDelegate")];v&&(p=v)}return{nativeRequestAnimationFrame:h,nativeCancelAnimationFrame:p}}().nativeRequestAnimationFrame,function MR(h){const p=()=>{!function IR(h){h.isCheckStableRunning||-1!==h.lastRequestAnimationFrameId||(h.lastRequestAnimationFrameId=h.nativeRequestAnimationFrame.call(Rt,()=>{h.fakeTopEventTask||(h.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{h.lastRequestAnimationFrameId=-1,yx(h),h.isCheckStableRunning=!0,KC(h),h.isCheckStableRunning=!1},void 0,()=>{},()=>{})),h.fakeTopEventTask.invoke()}),yx(h))}(h)};h._inner=h._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,v,C,x,k,N)=>{try{return XI(h),m.invokeTask(C,x,k,N)}finally{(h.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||h.shouldCoalesceRunChangeDetection)&&p(),AR(h)}},onInvoke:(m,v,C,x,k,N,B)=>{try{return XI(h),m.invoke(C,x,k,N,B)}finally{h.shouldCoalesceRunChangeDetection&&p(),AR(h)}},onHasTask:(m,v,C,x)=>{m.hasTask(C,x),v===C&&("microTask"==x.change?(h._hasPendingMicrotasks=x.microTask,yx(h),KC(h)):"macroTask"==x.change&&(h.hasPendingMacrotasks=x.macroTask))},onHandleError:(m,v,C,x)=>(m.handleError(C,x),h.runOutsideAngular(()=>h.onError.emit(x)),!1)})}(C)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ol.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Ol.isInAngularZone())throw new je(909,!1)}run(p,m,v){return this._inner.run(p,m,v)}runTask(p,m,v,C){const x=this._inner,k=x.scheduleEventTask("NgZoneEvent: "+C,p,DR,qC,qC);try{return x.runTask(k,m,v)}finally{x.cancelTask(k)}}runGuarded(p,m,v){return this._inner.runGuarded(p,m,v)}runOutsideAngular(p){return this._outer.run(p)}}const DR={};function KC(h){if(0==h._nesting&&!h.hasPendingMicrotasks&&!h.isStable)try{h._nesting++,h.onMicrotaskEmpty.emit(null)}finally{if(h._nesting--,!h.hasPendingMicrotasks)try{h.runOutsideAngular(()=>h.onStable.emit(null))}finally{h.isStable=!0}}}function yx(h){h.hasPendingMicrotasks=!!(h._hasPendingMicrotasks||(h.shouldCoalesceEventChangeDetection||h.shouldCoalesceRunChangeDetection)&&-1!==h.lastRequestAnimationFrameId)}function XI(h){h._nesting++,h.isStable&&(h.isStable=!1,h.onUnstable.emit(null))}function AR(h){h._nesting--,KC(h)}class kR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _d,this.onMicrotaskEmpty=new _d,this.onStable=new _d,this.onError=new _d}run(p,m,v){return p.apply(m,v)}runGuarded(p,m,v){return p.apply(m,v)}runOutsideAngular(p){return p()}runTask(p,m,v,C){return p.apply(m,v)}}const eM=new Gi(""),vx=new Gi("");let tf,ef=(()=>{class h{constructor(m,v,C){this._ngZone=m,this.registry=v,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tf||(function bd(h){tf=h}(C),C.addToWindow(v)),this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ol.assertNotInAngularZone(),po(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())po(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb(this._didWork)}this._didWork=!1});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(m)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,v,C){let x=-1;v&&v>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==x),m(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:m,timeoutId:x,updateCb:C})}whenStable(m,v,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,v,C),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(m){this.registry.registerApplication(m,this)}unregisterApplication(m){this.registry.unregisterApplication(m)}findProviders(m,v,C){return[]}}return h.\u0275fac=function(m){return new(m||h)(Ur(Ol),Ur(OR),Ur(vx))},h.\u0275prov=$t({token:h,factory:h.\u0275fac}),h})(),OR=(()=>{class h{constructor(){this._applications=new Map}registerApplication(m,v){this._applications.set(m,v)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,v=!0){return tf?.findTestabilityInTree(this,m,v)??null}}return h.\u0275fac=function(m){return new(m||h)},h.\u0275prov=$t({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})(),vu=null;const tM=new Gi("AllowMultipleToken"),bx=new Gi("PlatformDestroyListeners");class Mm{constructor(p,m){this.name=p,this.token=m}}function rM(h,p,m=[]){const v=`Platform: ${p}`,C=new Gi(v);return(x=[])=>{let k=v0();if(!k||k.injector.get(tM,!1)){const N=[...m,...x,{provide:C,useValue:!0}];h?h(N):function JC(h){if(vu&&!vu.get(tM,!1))throw new je(400,!1);vu=h;const p=h.get(Tx);(function Cx(h){const p=h.get(mx,null);p&&p.forEach(m=>m())})(h)}(function oM(h=[],p){return Rh.create({name:p,providers:[{provide:T_,useValue:"platform"},{provide:bx,useValue:new Set([()=>vu=null])},...h]})}(N,v))}return function PR(h){const p=v0();if(!p)throw new je(401,!1);return p}()}}function v0(){return vu?.get(Tx)??null}let Tx=(()=>{class h{constructor(m){this._injector=m,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(m,v){const C=function aM(h,p){let m;return m="noop"===h?new kR:("zone.js"===h?void 0:h)||new Ol(p),m}(v?.ngZone,function Np(h){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!h||!h.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!h||!h.ngZoneRunCoalescing)||!1}}(v)),x=[{provide:Ol,useValue:C}];return C.run(()=>{const k=Rh.create({providers:x,parent:this.injector,name:m.moduleType.name}),N=m.create(k),B=N.injector.get(cc,null);if(!B)throw new je(402,!1);return C.runOutsideAngular(()=>{const U=C.onError.subscribe({next:te=>{B.handleError(te)}});N.onDestroy(()=>{XC(this._modules,N),U.unsubscribe()})}),function Ex(h,p,m){try{const v=m();return Pi(v)?v.catch(C=>{throw p.runOutsideAngular(()=>h.handleError(C)),C}):v}catch(v){throw p.runOutsideAngular(()=>h.handleError(v)),v}}(B,C,()=>{const U=N.injector.get(ZC);return U.runInitializers(),U.donePromise.then(()=>(Ty(N.injector.get(ur,wm)||wm),this._moduleDoBootstrap(N),N))})})}bootstrapModule(m,v=[]){const C=QC({},v);return function nM(h,p,m){const v=new VE(m);return Promise.resolve(v)}(0,0,m).then(x=>this.bootstrapModuleFactory(x,C))}_moduleDoBootstrap(m){const v=m.injector.get(By);if(m._bootstrapComponents.length>0)m._bootstrapComponents.forEach(C=>v.bootstrap(C));else{if(!m.instance.ngDoBootstrap)throw new je(403,!1);m.instance.ngDoBootstrap(v)}this._modules.push(m)}onDestroy(m){this._destroyListeners.push(m)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const m=this._injector.get(bx,null);m&&(m.forEach(v=>v()),m.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return h.\u0275fac=function(m){return new(m||h)(Ur(Rh))},h.\u0275prov=$t({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})();function QC(h,p){return Array.isArray(p)?p.reduce(QC,h):{...h,...p}}let By=(()=>{class h{constructor(m,v,C){this._zone=m,this._injector=v,this._exceptionHandler=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new Y.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),k=new Y.y(N=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Ol.assertNotInAngularZone(),po(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Ol.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{B.unsubscribe(),U.unsubscribe()}});this.isStable=(0,_e.T)(x,k.pipe((0,Ve.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(m,v){const C=m instanceof Jo;if(!this._injector.get(ZC).done)throw!C&&Pp(m),new je(405,false);let k;k=C?m:this._injector.get(ed).resolveComponentFactory(m),this.componentTypes.push(k.componentType);const N=function RR(h){return h.isBoundToModule}(k)?void 0:this._injector.get(Jh),U=k.create(Rh.NULL,[],v||k.selector,N),te=U.location.nativeElement,he=U.injector.get(eM,null);return he?.registerApplication(te),U.onDestroy(()=>{this.detachView(U.hostView),XC(this.components,U),he?.unregisterApplication(te)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let m of this._views)m.detectChanges()}catch(m){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(m))}finally{this._runningTick=!1}}attachView(m){const v=m;this._views.push(v),v.attachToAppRef(this)}detachView(m){const v=m;XC(this._views,v),v.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m),this._injector.get(Ni,[]).concat(this._bootstrapListeners).forEach(C=>C(m))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(m=>m()),this._views.slice().forEach(m=>m.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(m){return this._destroyListeners.push(m),()=>XC(this._destroyListeners,m)}destroy(){if(this._destroyed)throw new je(406,!1);const m=this._injector;m.destroy&&!m.destroyed&&m.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return h.\u0275fac=function(m){return new(m||h)(Ur(Ol),Ur(xr),Ur(cc))},h.\u0275prov=$t({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function XC(h,p){const m=h.indexOf(p);m>-1&&h.splice(m,1)}let xx=!0,Hy=!1;function NR(){return Hy=!0,xx}function t1(){if(Hy)throw new Error("Cannot enable prod mode after platform setup.");xx=!1}let Lp=(()=>{class h{}return h.__NG_ELEMENT_ID__=FR,h})();function FR(h){return function lM(h,p,m){if(vo(h)&&!m){const v=wo(h.index,p);return new z(v,v)}return 47&h.type?new z(p[16],p):null}(rr(),xt(),16==(16&h))}class C0{constructor(){}supports(p){return hm(p)}create(p){return new fM(p)}}const zR=(h,p)=>p;class fM{constructor(p){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=p||zR}forEachItem(p){let m;for(m=this._itHead;null!==m;m=m._next)p(m)}forEachOperation(p){let m=this._itHead,v=this._removalsHead,C=0,x=null;for(;m||v;){const k=!v||m&&m.currentIndex<pM(v,C,x)?m:v,N=pM(k,C,x),B=k.currentIndex;if(k===v)C--,v=v._nextRemoved;else if(m=m._next,null==k.previousIndex)C++;else{x||(x=[]);const U=N-C,te=B-C;if(U!=te){for(let xe=0;xe<U;xe++){const Ze=xe<x.length?x[xe]:x[xe]=0,_t=Ze+xe;te<=_t&&_t<U&&(x[xe]=Ze+1)}x[k.previousIndex]=te-U}}N!==B&&p(k,N,B)}}forEachPreviousItem(p){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)p(m)}forEachAddedItem(p){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)p(m)}forEachMovedItem(p){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)p(m)}forEachRemovedItem(p){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)p(m)}forEachIdentityChange(p){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)p(m)}diff(p){if(null==p&&(p=[]),!hm(p))throw new je(900,!1);return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let C,x,k,m=this._itHead,v=!1;if(Array.isArray(p)){this.length=p.length;for(let N=0;N<this.length;N++)x=p[N],k=this._trackByFn(N,x),null!==m&&Object.is(m.trackById,k)?(v&&(m=this._verifyReinsertion(m,x,k,N)),Object.is(m.item,x)||this._addIdentityChange(m,x)):(m=this._mismatch(m,x,k,N),v=!0),m=m._next}else C=0,function ry(h,p){if(Array.isArray(h))for(let m=0;m<h.length;m++)p(h[m]);else{const m=h[dm()]();let v;for(;!(v=m.next()).done;)p(v.value)}}(p,N=>{k=this._trackByFn(C,N),null!==m&&Object.is(m.trackById,k)?(v&&(m=this._verifyReinsertion(m,N,k,C)),Object.is(m.item,N)||this._addIdentityChange(m,N)):(m=this._mismatch(m,N,k,C),v=!0),m=m._next,C++}),this.length=C;return this._truncate(m),this.collection=p,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let p;for(p=this._previousItHead=this._itHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._additionsHead;null!==p;p=p._nextAdded)p.previousIndex=p.currentIndex;for(this._additionsHead=this._additionsTail=null,p=this._movesHead;null!==p;p=p._nextMoved)p.previousIndex=p.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(p,m,v,C){let x;return null===p?x=this._itTail:(x=p._prev,this._remove(p)),null!==(p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(p.item,m)||this._addIdentityChange(p,m),this._reinsertAfter(p,x,C)):null!==(p=null===this._linkedRecords?null:this._linkedRecords.get(v,C))?(Object.is(p.item,m)||this._addIdentityChange(p,m),this._moveAfter(p,x,C)):p=this._addAfter(new Bp(m,v),x,C),p}_verifyReinsertion(p,m,v,C){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==x?p=this._reinsertAfter(x,p._prev,C):p.currentIndex!=C&&(p.currentIndex=C,this._addToMoves(p,C)),p}_truncate(p){for(;null!==p;){const m=p._next;this._addToRemovals(this._unlink(p)),p=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(p,m,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(p);const C=p._prevRemoved,x=p._nextRemoved;return null===C?this._removalsHead=x:C._nextRemoved=x,null===x?this._removalsTail=C:x._prevRemoved=C,this._insertAfter(p,m,v),this._addToMoves(p,v),p}_moveAfter(p,m,v){return this._unlink(p),this._insertAfter(p,m,v),this._addToMoves(p,v),p}_addAfter(p,m,v){return this._insertAfter(p,m,v),this._additionsTail=null===this._additionsTail?this._additionsHead=p:this._additionsTail._nextAdded=p,p}_insertAfter(p,m,v){const C=null===m?this._itHead:m._next;return p._next=C,p._prev=m,null===C?this._itTail=p:C._prev=p,null===m?this._itHead=p:m._next=p,null===this._linkedRecords&&(this._linkedRecords=new Hp),this._linkedRecords.put(p),p.currentIndex=v,p}_remove(p){return this._addToRemovals(this._unlink(p))}_unlink(p){null!==this._linkedRecords&&this._linkedRecords.remove(p);const m=p._prev,v=p._next;return null===m?this._itHead=v:m._next=v,null===v?this._itTail=m:v._prev=m,p}_addToMoves(p,m){return p.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=p:this._movesTail._nextMoved=p),p}_addToRemovals(p){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hp),this._unlinkedRecords.put(p),p.currentIndex=null,p._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=p,p._prevRemoved=null):(p._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=p),p}_addIdentityChange(p,m){return p.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=p:this._identityChangesTail._nextIdentityChange=p,p}}class Bp{constructor(p,m){this.item=p,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GR{constructor(){this._head=null,this._tail=null}add(p){null===this._head?(this._head=this._tail=p,p._nextDup=null,p._prevDup=null):(this._tail._nextDup=p,p._prevDup=this._tail,p._nextDup=null,this._tail=p)}get(p,m){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===m||m<=v.currentIndex)&&Object.is(v.trackById,p))return v;return null}remove(p){const m=p._prevDup,v=p._nextDup;return null===m?this._head=v:m._nextDup=v,null===v?this._tail=m:v._prevDup=m,null===this._head}}class Hp{constructor(){this.map=new Map}put(p){const m=p.trackById;let v=this.map.get(m);v||(v=new GR,this.map.set(m,v)),v.add(p)}get(p,m){const C=this.map.get(p);return C?C.get(p,m):null}remove(p){const m=p.trackById;return this.map.get(m).remove(p)&&this.map.delete(m),p}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pM(h,p,m){const v=h.previousIndex;if(null===v)return v;let C=0;return m&&v<m.length&&(C=m[v]),v+p+C}class gM{constructor(){}supports(p){return p instanceof Map||Ja(p)}create(){return new qR}}class qR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(p){let m;for(m=this._mapHead;null!==m;m=m._next)p(m)}forEachPreviousItem(p){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)p(m)}forEachChangedItem(p){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)p(m)}forEachAddedItem(p){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)p(m)}forEachRemovedItem(p){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)p(m)}diff(p){if(p){if(!(p instanceof Map||Ja(p)))throw new je(900,!1)}else p=new Map;return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(p,(v,C)=>{if(m&&m.key===C)this._maybeAddToChanges(m,v),this._appendAfter=m,m=m._next;else{const x=this._getOrCreateRecordForKey(C,v);m=this._insertBeforeOrAppend(m,x)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let v=m;null!==v;v=v._nextRemoved)v===this._mapHead&&(this._mapHead=null),this._records.delete(v.key),v._nextRemoved=v._next,v.previousValue=v.currentValue,v.currentValue=null,v._prev=null,v._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(p,m){if(p){const v=p._prev;return m._next=p,m._prev=v,p._prev=m,v&&(v._next=m),p===this._mapHead&&(this._mapHead=m),this._appendAfter=p,p}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(p,m){if(this._records.has(p)){const C=this._records.get(p);this._maybeAddToChanges(C,m);const x=C._prev,k=C._next;return x&&(x._next=k),k&&(k._prev=x),C._next=null,C._prev=null,C}const v=new ZR(p);return this._records.set(p,v),v.currentValue=m,this._addToAdditions(v),v}_reset(){if(this.isDirty){let p;for(this._previousMapHead=this._mapHead,p=this._previousMapHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._changesHead;null!==p;p=p._nextChanged)p.previousValue=p.currentValue;for(p=this._additionsHead;null!=p;p=p._nextAdded)p.previousValue=p.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(p,m){Object.is(m,p.currentValue)||(p.previousValue=p.currentValue,p.currentValue=m,this._addToChanges(p))}_addToAdditions(p){null===this._additionsHead?this._additionsHead=this._additionsTail=p:(this._additionsTail._nextAdded=p,this._additionsTail=p)}_addToChanges(p){null===this._changesHead?this._changesHead=this._changesTail=p:(this._changesTail._nextChanged=p,this._changesTail=p)}_forEach(p,m){p instanceof Map?p.forEach(m):Object.keys(p).forEach(v=>m(p[v],v))}}class ZR{constructor(p){this.key=p,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mM(){return new T0([new C0])}let T0=(()=>{class h{constructor(m){this.factories=m}static create(m,v){if(null!=v){const C=v.factories.slice();m=m.concat(C)}return new h(m)}static extend(m){return{provide:h,useFactory:v=>h.create(m,v||mM()),deps:[[h,new Ss,new Wc]]}}find(m){const v=this.factories.find(C=>C.supports(m));if(null!=v)return v;throw new je(901,!1)}}return h.\u0275prov=$t({token:h,providedIn:"root",factory:mM}),h})();function Ix(){return new a1([new gM])}let a1=(()=>{class h{constructor(m){this.factories=m}static create(m,v){if(v){const C=v.factories.slice();m=m.concat(C)}return new h(m)}static extend(m){return{provide:h,useFactory:v=>h.create(m,v||Ix()),deps:[[h,new Ss,new Wc]]}}find(m){const v=this.factories.find(C=>C.supports(m));if(v)return v;throw new je(901,!1)}}return h.\u0275prov=$t({token:h,providedIn:"root",factory:Ix}),h})();const WR=rM(null,"core",[]);let YR=(()=>{class h{constructor(m){}}return h.\u0275fac=function(m){return new(m||h)(Ur(By))},h.\u0275mod=Gt({type:h}),h.\u0275inj=dt({}),h})();function KR(h){return"boolean"==typeof h?h:null!=h&&"false"!==h}},3942:(an,Qe,q)=>{"use strict";q.d(Qe,{Z:()=>je});var s=q(2090),V=q(4859),Y=q(9681),_e=q(1877);class Ve{constructor(Be,Ne){this._delegate=Be,this.firebase=Ne,(0,Y._addComponent)(Be,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Be,Ne=Y._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Be);return!pt.isInitialized()&&"EXPLICIT"===(null===(St=pt.getComponent())||void 0===St?void 0:St.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Ne})}_removeServiceInstance(Be,Ne=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Ne)}_addComponent(Be){(0,Y._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,Y._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function fe(){const ut=function Se(ut){const Be={},Ne={__esModule:!0,initializeApp:function Ke(pe,Ie={}){const Ae=Y.initializeApp(pe,Ie);if((0,s.r3)(Be,Ae.name))return Be[Ae.name];const be=new ut(Ae,Ne);return Be[Ae.name]=be,be},app:pt,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function $e(pe){const Ie=pe.name,Ae=Ie.replace("-compat","");if(Y._registerComponent(pe)&&"PUBLIC"===pe.type){const be=(Ce=pt())=>{if("function"!=typeof Ce[Ae])throw ve.create("invalid-app-argument",{appName:Ie});return Ce[Ae]()};void 0!==pe.serviceProps&&(0,s.ZB)(be,pe.serviceProps),Ne[Ae]=be,ut.prototype[Ae]=function(...Ce){return this._getService.bind(this,Ie).apply(this,pe.multipleInstances?Ce:[])}}return"PUBLIC"===pe.type?Ne[Ae]:null},removeApp:function St(pe){delete Be[pe]},useAsService:function Xe(pe,Ie){return"serverAuth"===Ie?null:Ie},modularAPIs:Y}};function pt(pe){if(!(0,s.r3)(Be,pe=pe||Y._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:pe});return Be[pe]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function He(){return Object.keys(Be).map(pe=>Be[pe])}}),pt.App=ut,Ne}(Ve);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function Be(Ne){(0,s.ZB)(ut,Ne)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),ut}(),ne=new _e.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=re;!function Oe(ut){(0,Y.registerVersion)("@firebase/app-compat","0.1.30",ut)}()},9681:(an,Qe,q)=>{"use strict";q.r(Qe),q.d(Qe,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>ai,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>Vt,_addOrOverwriteComponent:()=>$t,_apps:()=>It,_clearComponents:()=>Qt,_components:()=>Zt,_getProvider:()=>dt,_registerComponent:()=>Wt,_removeServiceInstance:()=>nn,deleteApp:()=>nt,getApp:()=>En,getApps:()=>wi,initializeApp:()=>vn,onLog:()=>Et,registerVersion:()=>mt,setLogLevel:()=>Ut});var s=q(5861),V=q(4859),Y=q(1877),_e=q(2090),Ve=q(8766);class Me{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function ve(ee){return"VERSION"===ee.getComponent()?.type}(de)){const qe=de.getImmediate();return`${qe.library}/${qe.version}`}return null}).filter(de=>de).join(" ")}}const Se="@firebase/app",re=new Y.Yd("@firebase/app"),en="[DEFAULT]",Tt={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},It=new Map,Zt=new Map;function Vt(ee,Q){try{ee.container.addComponent(Q)}catch(de){re.debug(`Component ${Q.name} failed to register with FirebaseApp ${ee.name}`,de)}}function $t(ee,Q){ee.container.addOrOverwriteComponent(Q)}function Wt(ee){const Q=ee.name;if(Zt.has(Q))return re.debug(`There were multiple attempts to register component ${Q}.`),!1;Zt.set(Q,ee);for(const de of It.values())Vt(de,ee);return!0}function dt(ee,Q){const de=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return de&&de.triggerHeartbeat(),ee.container.getProvider(Q)}function nn(ee,Q,de=en){dt(ee,Q).clearInstance(de)}function Qt(){Zt.clear()}const Jt=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Cn{constructor(Q,de,qe){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=qe,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw Jt.create("app-deleted",{appName:this._name})}}const ai="9.9.1";function vn(ee,Q={}){"object"!=typeof Q&&(Q={name:Q});const de=Object.assign({name:en,automaticDataCollectionEnabled:!1},Q),qe=de.name;if("string"!=typeof qe||!qe)throw Jt.create("bad-app-name",{appName:String(qe)});const bt=It.get(qe);if(bt){if((0,_e.vZ)(ee,bt.options)&&(0,_e.vZ)(de,bt.config))return bt;throw Jt.create("duplicate-app",{appName:qe})}const Gt=new V.H0(qe);for(const Un of Zt.values())Gt.addComponent(Un);const mn=new Cn(ee,de,Gt);return It.set(qe,mn),mn}function En(ee=en){const Q=It.get(ee);if(!Q)throw Jt.create("no-app",{appName:ee});return Q}function wi(){return Array.from(It.values())}function nt(ee){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(ee){const Q=ee.name;It.has(Q)&&(It.delete(Q),yield Promise.all(ee.container.getProviders().map(de=>de.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function mt(ee,Q,de){var qe;let bt=null!==(qe=Tt[ee])&&void 0!==qe?qe:ee;de&&(bt+=`-${de}`);const Gt=bt.match(/\s|\//),mn=Q.match(/\s|\//);if(Gt||mn){const Un=[`Unable to register library "${bt}" with version "${Q}":`];return Gt&&Un.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),Gt&&mn&&Un.push("and"),mn&&Un.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void re.warn(Un.join(" "))}Wt(new V.wA(`${bt}-version`,()=>({library:bt,version:Q}),"VERSION"))}function Et(ee,Q){if(null!==ee&&"function"!=typeof ee)throw Jt.create("invalid-log-argument");(0,Y.Am)(ee,Q)}function Ut(ee){(0,Y.Ub)(ee)}const $n="firebase-heartbeat-store";let Xn=null;function Bn(){return Xn||(Xn=(0,Ve.X3)("firebase-heartbeat-database",1,{upgrade:(ee,Q)=>{0===Q&&ee.createObjectStore($n)}}).catch(ee=>{throw Jt.create("storage-open",{originalErrorMessage:ee.message})})),Xn}function Rt(){return(Rt=(0,s.Z)(function*(ee){var Q;try{return(yield Bn()).transaction($n).objectStore($n).get(yi(ee))}catch(de){throw Jt.create("storage-get",{originalErrorMessage:null===(Q=de)||void 0===Q?void 0:Q.message})}})).apply(this,arguments)}function ei(ee,Q){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(ee,Q){var de;try{const bt=(yield Bn()).transaction($n,"readwrite");return yield bt.objectStore($n).put(Q,yi(ee)),bt.done}catch(qe){throw Jt.create("storage-set",{originalErrorMessage:null===(de=qe)||void 0===de?void 0:de.message})}})).apply(this,arguments)}function yi(ee){return`${ee.name}!${ee.options.appId}`}class Qi{constructor(Q){this.container=Q,this._heartbeatsCache=null;const de=this.container.getProvider("app").getImmediate();this._storage=new me(de),this._heartbeatsCachePromise=this._storage.read().then(qe=>(this._heartbeatsCache=qe,qe))}triggerHeartbeat(){var Q=this;return(0,s.Z)(function*(){const qe=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=In();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==bt&&!Q._heartbeatsCache.heartbeats.some(Gt=>Gt.date===bt))return Q._heartbeatsCache.heartbeats.push({date:bt,agent:qe}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Gt=>{const mn=new Date(Gt.date).valueOf();return Date.now()-mn<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,s.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const de=In(),{heartbeatsToSend:qe,unsentEntries:bt}=function Zi(ee,Q=1024){const de=[];let qe=ee.slice();for(const bt of ee){const Gt=de.find(mn=>mn.agent===bt.agent);if(Gt){if(Gt.dates.push(bt.date),G(de)>Q){Gt.dates.pop();break}}else if(de.push({agent:bt.agent,dates:[bt.date]}),G(de)>Q){de.pop();break}qe=qe.slice(1)}return{heartbeatsToSend:de,unsentEntries:qe}}(Q._heartbeatsCache.heartbeats),Gt=(0,_e.L)(JSON.stringify({version:2,heartbeats:qe}));return Q._heartbeatsCache.lastSentHeartbeatDate=de,bt.length>0?(Q._heartbeatsCache.heartbeats=bt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Gt})()}}function In(){return(new Date).toISOString().substring(0,10)}class me{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,s.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function Ft(ee){return Rt.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var de=this;return(0,s.Z)(function*(){var qe;if(yield de._canUseIndexedDBPromise){const Gt=yield de.read();return ei(de.app,{lastSentHeartbeatDate:null!==(qe=Q.lastSentHeartbeatDate)&&void 0!==qe?qe:Gt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var de=this;return(0,s.Z)(function*(){var qe;if(yield de._canUseIndexedDBPromise){const Gt=yield de.read();return ei(de.app,{lastSentHeartbeatDate:null!==(qe=Q.lastSentHeartbeatDate)&&void 0!==qe?qe:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...Q.heartbeats]})}})()}}function G(ee){return(0,_e.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function K(ee){Wt(new V.wA("platform-logger",Q=>new Me(Q),"PRIVATE")),Wt(new V.wA("heartbeat",Q=>new Qi(Q),"PRIVATE")),mt(Se,"0.7.29",ee),mt(Se,"0.7.29","esm2017"),mt("fire-js","")}("")},4859:(an,Qe,q)=>{"use strict";q.d(Qe,{H0:()=>Se,wA:()=>Y,zt:()=>Ve});var s=q(5861),V=q(2090);class Y{constructor(re,ne,ce){this.name=re,this.instanceFactory=ne,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const _e="[DEFAULT]";class Ve{constructor(re,ne){this.name=re,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ne=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ne)){const ce=new V.BH;if(this.instancesDeferred.set(ne,ce),this.isInitialized(ne)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:ne});we&&ce.resolve(we)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(re){var ne;const ce=this.normalizeInstanceIdentifier(re?.identifier),we=null!==(ne=re?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Oe){if(we)return null;throw Oe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function ve(fe){return"EAGER"===fe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[ne,ce]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(ne);try{const Oe=this.getOrInitializeService({instanceIdentifier:we});ce.resolve(Oe)}catch{}}}}clearInstance(re=_e){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,s.Z)(function*(){const ne=Array.from(re.instances.values());yield Promise.all([...ne.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...ne.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=_e){return this.instances.has(re)}getOptions(re=_e){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ne={}}=re,ce=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:ce,options:ne});for(const[Oe,je]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(Oe)&&je.resolve(we);return we}onInit(re,ne){var ce;const we=this.normalizeInstanceIdentifier(ne),Oe=null!==(ce=this.onInitCallbacks.get(we))&&void 0!==ce?ce:new Set;Oe.add(re),this.onInitCallbacks.set(we,Oe);const je=this.instances.get(we);return je&&re(je,we),()=>{Oe.delete(re)}}invokeOnInitCallbacks(re,ne){const ce=this.onInitCallbacks.get(ne);if(ce)for(const we of ce)try{we(re,ne)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ne={}}){let ce=this.instances.get(re);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=re,fe===_e?void 0:fe),options:ne}),this.instances.set(re,ce),this.instancesOptions.set(re,ne),this.invokeOnInitCallbacks(ce,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ce)}catch{}var fe;return ce||null}normalizeInstanceIdentifier(re=_e){return this.component?this.component.multipleInstances?re:_e:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ne=this.getProvider(re.name);if(ne.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ne.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ne=new Ve(re,this);return this.providers.set(re,ne),ne}getProviders(){return Array.from(this.providers.values())}}},2833:(an,Qe,q)=>{"use strict";var s=q(5861),V=q(9681),Y=q(4859),_e=q(2090),Ve=q(8766);const Me="@firebase/installations",ve="0.5.12",fe=`w:${ve}`,re="FIS_v2",ut=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(Ee){return Ee instanceof _e.ZR&&Ee.code.includes("request-failed")}function Ne({projectId:Ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Ee}/installations`}function St(Ee){return{token:Ee.token,requestStatus:2,expiresIn:Ie(Ee.expiresIn),creationTime:Date.now()}}function pt(Ee,tt){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(function*(Ee,tt){const rn=(yield tt.json()).error;return ut.create("request-failed",{requestName:Ee,serverCode:rn.code,serverMessage:rn.message,serverStatus:rn.status})})).apply(this,arguments)}function He({apiKey:Ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ee})}function $e(Ee,{refreshToken:tt}){const yt=He(Ee);return yt.append("Authorization",function Ae(Ee){return`${re} ${Ee}`}(tt)),yt}function Xe(Ee){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(Ee){const tt=yield Ee();return tt.status>=500&&tt.status<600?Ee():tt})).apply(this,arguments)}function Ie(Ee){return Number(Ee.replace("s","000"))}function be(Ee,tt){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*({appConfig:Ee,heartbeatServiceProvider:tt},{fid:yt}){const rn=Ne(Ee),xi=He(Ee),li=tt.getImmediate({optional:!0});if(li){const ui=yield li.getHeartbeatsHeader();ui&&xi.append("x-firebase-client",ui)}const Or={method:"POST",headers:xi,body:JSON.stringify({fid:yt,authVersion:re,appId:Ee.appId,sdkVersion:fe})},Po=yield Xe(()=>fetch(rn,Or));if(Po.ok){const ui=yield Po.json();return{fid:ui.fid||yt,registrationStatus:2,refreshToken:ui.refreshToken,authToken:St(ui.authToken)}}throw yield pt("Create Installation",Po)})).apply(this,arguments)}function Ue(Ee){return new Promise(tt=>{setTimeout(tt,Ee)})}const gt=/^[cdef][\w-]{21}$/;function Kt(){try{const Ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ee),Ee[0]=112+Ee[0]%16;const yt=function pn(Ee){return function Pe(Ee){return btoa(String.fromCharCode(...Ee)).replace(/\+/g,"-").replace(/\//g,"_")}(Ee).substr(0,22)}(Ee);return gt.test(yt)?yt:""}catch{return""}}function en(Ee){return`${Ee.appName}!${Ee.appId}`}const Tt=new Map;function It(Ee,tt){const yt=en(Ee);$t(yt,tt),function Wt(Ee,tt){const yt=function nn(){return!dt&&"BroadcastChannel"in self&&(dt=new BroadcastChannel("[Firebase] FID Change"),dt.onmessage=Ee=>{$t(Ee.data.key,Ee.data.fid)}),dt}();yt&&yt.postMessage({key:Ee,fid:tt}),function Qt(){0===Tt.size&&dt&&(dt.close(),dt=null)}()}(yt,tt)}function $t(Ee,tt){const yt=Tt.get(Ee);if(yt)for(const rn of yt)rn(tt)}let dt=null;const Cn="firebase-installations-store";let ai=null;function vn(){return ai||(ai=(0,Ve.X3)("firebase-installations-database",1,{upgrade:(Ee,tt)=>{0===tt&&Ee.createObjectStore(Cn)}})),ai}function En(Ee,tt){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(Ee,tt){const yt=en(Ee),xi=(yield vn()).transaction(Cn,"readwrite"),li=xi.objectStore(Cn),Mn=yield li.get(yt);return yield li.put(tt,yt),yield xi.done,(!Mn||Mn.fid!==tt.fid)&&It(Ee,tt.fid),tt})).apply(this,arguments)}function nt(Ee){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(Ee){const tt=en(Ee),rn=(yield vn()).transaction(Cn,"readwrite");yield rn.objectStore(Cn).delete(tt),yield rn.done})).apply(this,arguments)}function mt(Ee,tt){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(Ee,tt){const yt=en(Ee),xi=(yield vn()).transaction(Cn,"readwrite"),li=xi.objectStore(Cn),Mn=yield li.get(yt),Or=tt(Mn);return void 0===Or?yield li.delete(yt):yield li.put(Or,yt),yield xi.done,Or&&(!Mn||Mn.fid!==Or.fid)&&It(Ee,Or.fid),Or})).apply(this,arguments)}function Ut(Ee){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(Ee){let tt;const yt=yield mt(Ee.appConfig,rn=>{const xi=xn(rn),li=$n(Ee,xi);return tt=li.registrationPromise,li.installationEntry});return""===yt.fid?{installationEntry:yield tt}:{installationEntry:yt,registrationPromise:tt}})).apply(this,arguments)}function xn(Ee){return Bi(Ee||{fid:Kt(),registrationStatus:0})}function $n(Ee,tt){if(0===tt.registrationStatus){if(!navigator.onLine)return{installationEntry:tt,registrationPromise:Promise.reject(ut.create("app-offline"))};const yt={fid:tt.fid,registrationStatus:1,registrationTime:Date.now()},rn=function Xn(Ee,tt){return Bn.apply(this,arguments)}(Ee,yt);return{installationEntry:yt,registrationPromise:rn}}return 1===tt.registrationStatus?{installationEntry:tt,registrationPromise:Ft(Ee)}:{installationEntry:tt}}function Bn(){return(Bn=(0,s.Z)(function*(Ee,tt){try{const yt=yield be(Ee,tt);return En(Ee.appConfig,yt)}catch(yt){throw Be(yt)&&409===yt.customData.serverCode?yield nt(Ee.appConfig):yield En(Ee.appConfig,{fid:tt.fid,registrationStatus:0}),yt}})).apply(this,arguments)}function Ft(Ee){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(Ee){let tt=yield ei(Ee.appConfig);for(;1===tt.registrationStatus;)yield Ue(100),tt=yield ei(Ee.appConfig);if(0===tt.registrationStatus){const{installationEntry:yt,registrationPromise:rn}=yield Ut(Ee);return rn||yt}return tt})).apply(this,arguments)}function ei(Ee){return mt(Ee,tt=>{if(!tt)throw ut.create("installation-not-found");return Bi(tt)})}function Bi(Ee){return function yi(Ee){return 1===Ee.registrationStatus&&Ee.registrationTime+1e4<Date.now()}(Ee)?{fid:Ee.fid,registrationStatus:0}:Ee}function An(Ee,tt){return hi.apply(this,arguments)}function hi(){return(hi=(0,s.Z)(function*({appConfig:Ee,heartbeatServiceProvider:tt},yt){const rn=Qi(Ee,yt),xi=$e(Ee,yt),li=tt.getImmediate({optional:!0});if(li){const ui=yield li.getHeartbeatsHeader();ui&&xi.append("x-firebase-client",ui)}const Or={method:"POST",headers:xi,body:JSON.stringify({installation:{sdkVersion:fe,appId:Ee.appId}})},Po=yield Xe(()=>fetch(rn,Or));if(Po.ok)return St(yield Po.json());throw yield pt("Generate Auth Token",Po)})).apply(this,arguments)}function Qi(Ee,{fid:tt}){return`${Ne(Ee)}/${tt}/authTokens:generate`}function In(Ee){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(Ee,tt=!1){let yt;const rn=yield mt(Ee.appConfig,li=>{if(!de(li))throw ut.create("not-registered");const Mn=li.authToken;if(!tt&&qe(Mn))return li;if(1===Mn.requestStatus)return yt=me(Ee,tt),li;{if(!navigator.onLine)throw ut.create("app-offline");const Or=Gt(li);return yt=ee(Ee,Or),Or}});return yt?yield yt:rn.authToken})).apply(this,arguments)}function me(Ee,tt){return G.apply(this,arguments)}function G(){return(G=(0,s.Z)(function*(Ee,tt){let yt=yield K(Ee.appConfig);for(;1===yt.authToken.requestStatus;)yield Ue(100),yt=yield K(Ee.appConfig);const rn=yt.authToken;return 0===rn.requestStatus?In(Ee,tt):rn})).apply(this,arguments)}function K(Ee){return mt(Ee,tt=>{if(!de(tt))throw ut.create("not-registered");return function mn(Ee){return 1===Ee.requestStatus&&Ee.requestTime+1e4<Date.now()}(tt.authToken)?Object.assign(Object.assign({},tt),{authToken:{requestStatus:0}}):tt})}function ee(Ee,tt){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(Ee,tt){try{const yt=yield An(Ee,tt),rn=Object.assign(Object.assign({},tt),{authToken:yt});return yield En(Ee.appConfig,rn),yt}catch(yt){if(!Be(yt)||401!==yt.customData.serverCode&&404!==yt.customData.serverCode){const rn=Object.assign(Object.assign({},tt),{authToken:{requestStatus:0}});yield En(Ee.appConfig,rn)}else yield nt(Ee.appConfig);throw yt}})).apply(this,arguments)}function de(Ee){return void 0!==Ee&&2===Ee.registrationStatus}function qe(Ee){return 2===Ee.requestStatus&&!function bt(Ee){const tt=Date.now();return tt<Ee.creationTime||Ee.creationTime+Ee.expiresIn<tt+36e5}(Ee)}function Gt(Ee){const tt={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ee),{authToken:tt})}function Re(){return(Re=(0,s.Z)(function*(Ee){const tt=Ee,{installationEntry:yt,registrationPromise:rn}=yield Ut(tt);return rn?rn.catch(console.error):In(tt).catch(console.error),yt.fid})).apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(Ee,tt=!1){const yt=Ee;return yield ue(yt),(yield In(yt,tt)).token})).apply(this,arguments)}function ue(Ee){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(Ee){const{registrationPromise:tt}=yield Ut(Ee);tt&&(yield tt)})).apply(this,arguments)}function Di(Ee){return ut.create("missing-app-config-values",{valueName:Ee})}const Te="installations",zt=Ee=>{const tt=Ee.getProvider("app").getImmediate(),yt=function Tn(Ee){if(!Ee||!Ee.options)throw Di("App Configuration");if(!Ee.name)throw Di("App Name");const tt=["projectId","apiKey","appId"];for(const yt of tt)if(!Ee.options[yt])throw Di(yt);return{appName:Ee.name,projectId:Ee.options.projectId,apiKey:Ee.options.apiKey,appId:Ee.options.appId}}(tt);return{app:tt,appConfig:yt,heartbeatServiceProvider:(0,V._getProvider)(tt,"heartbeat"),_delete:()=>Promise.resolve()}},Dt=Ee=>{const tt=Ee.getProvider("app").getImmediate(),yt=(0,V._getProvider)(tt,Te).getImmediate();return{getId:()=>function Un(Ee){return Re.apply(this,arguments)}(yt),getToken:xi=>function ae(Ee){return oe.apply(this,arguments)}(yt,xi)}};(function kn(){(0,V._registerComponent)(new Y.wA(Te,zt,"PUBLIC")),(0,V._registerComponent)(new Y.wA("installations-internal",Dt,"PRIVATE"))})(),(0,V.registerVersion)(Me,ve),(0,V.registerVersion)(Me,ve,"esm2017")},1877:(an,Qe,q)=>{"use strict";q.d(Qe,{Am:()=>fe,Ub:()=>Se,Yd:()=>ve,in:()=>V});const s=[];var V=(()=>{return(re=V||(V={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",V;var re})();const Y={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},_e=V.INFO,Ve={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Me=(re,ne,...ce)=>{if(ne<re.logLevel)return;const we=(new Date).toISOString(),Oe=Ve[ne];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Oe](`[${we}]  ${re.name}:`,...ce)};class ve{constructor(ne){this.name=ne,this._logLevel=_e,this._logHandler=Me,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in V))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?Y[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...ne),this._logHandler(this,V.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...ne),this._logHandler(this,V.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,V.INFO,...ne),this._logHandler(this,V.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,V.WARN,...ne),this._logHandler(this,V.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...ne),this._logHandler(this,V.ERROR,...ne)}}function Se(re){s.forEach(ne=>{ne.setLogLevel(re)})}function fe(re,ne){for(const ce of s){let we=null;ne&&ne.level&&(we=Y[ne.level]),ce.userLogHandler=null===re?null:(Oe,je,...ut)=>{const Be=ut.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");je>=(we??Oe.logLevel)&&re({level:V[je].toLowerCase(),message:Be,args:ut,type:Oe.name})}}}},8766:(an,Qe,q)=>{"use strict";q.d(Qe,{Lj:()=>Ke,X3:()=>pt});var s=q(5861);let Y,_e;const ve=new WeakMap,Se=new WeakMap,fe=new WeakMap,re=new WeakMap,ne=new WeakMap;let Oe={get(Ie,Ae,be){if(Ie instanceof IDBTransaction){if("done"===Ae)return Se.get(Ie);if("objectStoreNames"===Ae)return Ie.objectStoreNames||fe.get(Ie);if("store"===Ae)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Ne(Ie[Ae])},set:(Ie,Ae,be)=>(Ie[Ae]=be,!0),has:(Ie,Ae)=>Ie instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in Ie};function Be(Ie){return"function"==typeof Ie?function ut(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ie)?function(...Ae){return Ie.apply(St(this),Ae),Ne(ve.get(this))}:function(...Ae){return Ne(Ie.apply(St(this),Ae))}:function(Ae,...be){const Ce=Ie.call(St(this),Ae,...be);return fe.set(Ce,Ae.sort?Ae.sort():[Ae]),Ne(Ce)}}(Ie):(Ie instanceof IDBTransaction&&function we(Ie){if(Se.has(Ie))return;const Ae=new Promise((be,Ce)=>{const Ue=()=>{Ie.removeEventListener("complete",Pe),Ie.removeEventListener("error",gt),Ie.removeEventListener("abort",gt)},Pe=()=>{be(),Ue()},gt=()=>{Ce(Ie.error||new DOMException("AbortError","AbortError")),Ue()};Ie.addEventListener("complete",Pe),Ie.addEventListener("error",gt),Ie.addEventListener("abort",gt)});Se.set(Ie,Ae)}(Ie),((Ie,Ae)=>Ae.some(be=>Ie instanceof be))(Ie,function Ve(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ie,Oe):Ie)}function Ne(Ie){if(Ie instanceof IDBRequest)return function ce(Ie){const Ae=new Promise((be,Ce)=>{const Ue=()=>{Ie.removeEventListener("success",Pe),Ie.removeEventListener("error",gt)},Pe=()=>{be(Ne(Ie.result)),Ue()},gt=()=>{Ce(Ie.error),Ue()};Ie.addEventListener("success",Pe),Ie.addEventListener("error",gt)});return Ae.then(be=>{be instanceof IDBCursor&&ve.set(be,Ie)}).catch(()=>{}),ne.set(Ae,Ie),Ae}(Ie);if(re.has(Ie))return re.get(Ie);const Ae=Be(Ie);return Ae!==Ie&&(re.set(Ie,Ae),ne.set(Ae,Ie)),Ae}const St=Ie=>ne.get(Ie);function pt(Ie,Ae,{blocked:be,upgrade:Ce,blocking:Ue,terminated:Pe}={}){const gt=indexedDB.open(Ie,Ae),ct=Ne(gt);return Ce&&gt.addEventListener("upgradeneeded",Kt=>{Ce(Ne(gt.result),Kt.oldVersion,Kt.newVersion,Ne(gt.transaction))}),be&&gt.addEventListener("blocked",()=>be()),ct.then(Kt=>{Pe&&Kt.addEventListener("close",()=>Pe()),Ue&&Kt.addEventListener("versionchange",()=>Ue())}).catch(()=>{}),ct}function Ke(Ie,{blocked:Ae}={}){const be=indexedDB.deleteDatabase(Ie);return Ae&&be.addEventListener("blocked",()=>Ae()),Ne(be).then(()=>{})}const He=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],Xe=new Map;function pe(Ie,Ae){if(!(Ie instanceof IDBDatabase)||Ae in Ie||"string"!=typeof Ae)return;if(Xe.get(Ae))return Xe.get(Ae);const be=Ae.replace(/FromIndex$/,""),Ce=Ae!==be,Ue=$e.includes(be);if(!(be in(Ce?IDBIndex:IDBObjectStore).prototype)||!Ue&&!He.includes(be))return;const Pe=function(){var gt=(0,s.Z)(function*(ct,...Kt){const pn=this.transaction(ct,Ue?"readwrite":"readonly");let en=pn.store;return Ce&&(en=en.index(Kt.shift())),(yield Promise.all([en[be](...Kt),Ue&&pn.done]))[0]});return function(Kt){return gt.apply(this,arguments)}}();return Xe.set(Ae,Pe),Pe}!function je(Ie){Oe=Ie(Oe)}(Ie=>({...Ie,get:(Ae,be,Ce)=>pe(Ae,be)||Ie.get(Ae,be,Ce),has:(Ae,be)=>!!pe(Ae,be)||Ie.has(Ae,be)}))},5861:(an,Qe,q)=>{"use strict";function s(Y,_e,Ve,Me,ve,Se,fe){try{var re=Y[Se](fe),ne=re.value}catch(ce){return void Ve(ce)}re.done?_e(ne):Promise.resolve(ne).then(Me,ve)}function V(Y){return function(){var _e=this,Ve=arguments;return new Promise(function(Me,ve){var Se=Y.apply(_e,Ve);function fe(ne){s(Se,Me,ve,fe,re,"next",ne)}function re(ne){s(Se,Me,ve,fe,re,"throw",ne)}fe(void 0)})}}q.d(Qe,{Z:()=>V})}},an=>{an(an.s=5910)}]);